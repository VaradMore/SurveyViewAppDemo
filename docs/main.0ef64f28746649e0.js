(self.webpackChunkget_started_angular=self.webpackChunkget_started_angular||[]).push([[179],{902:(Cs,oe,V)=>{"use strict";function m(e){return"function"==typeof e}function L(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const K=L(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,s)=>`${s+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function j(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class F{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const d of t)d.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(m(r))try{r()}catch(d){n=d instanceof K?d.errors:[d]}const{_teardowns:s}=this;if(s){this._teardowns=null;for(const d of s)try{M(d)}catch(x){n=null!=n?n:[],x instanceof K?n=[...n,...x.errors]:n.push(x)}}if(n)throw new K(n)}}add(n){var t;if(n&&n!==this)if(this.closed)M(n);else{if(n instanceof F){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._teardowns=null!==(t=this._teardowns)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&j(t,n)}remove(n){const{_teardowns:t}=this;t&&j(t,n),n instanceof F&&n._removeParent(this)}}F.EMPTY=(()=>{const e=new F;return e.closed=!0,e})();const S=F.EMPTY;function w(e){return e instanceof F||e&&"closed"in e&&m(e.remove)&&m(e.add)&&m(e.unsubscribe)}function M(e){m(e)?e():e.unsubscribe()}const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},D={setTimeout(...e){const{delegate:n}=D;return((null==n?void 0:n.setTimeout)||setTimeout)(...e)},clearTimeout(e){const{delegate:n}=D;return((null==n?void 0:n.clearTimeout)||clearTimeout)(e)},delegate:void 0};function P(e){D.setTimeout(()=>{const{onUnhandledError:n}=h;if(!n)throw e;n(e)})}function y(){}const v=u("C",void 0,void 0);function u(e,n,t){return{kind:e,value:n,error:t}}let l=null;function a(e){if(h.useDeprecatedSynchronousErrorHandling){const n=!l;if(n&&(l={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=l;if(l=null,t)throw r}}else e()}class o extends F{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,w(n)&&n.add(this)):this.destination=f}static create(n,t,r){return new p(n,t,r)}next(n){this.isStopped?O(function g(e){return u("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?O(function E(e){return u("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?O(v,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class p extends o{constructor(n,t,r){let s;if(super(),m(n))s=n;else if(n){let d;({next:s,error:t,complete:r}=n),this&&h.useDeprecatedNextContext?(d=Object.create(n),d.unsubscribe=()=>this.unsubscribe()):d=n,s=null==s?void 0:s.bind(d),t=null==t?void 0:t.bind(d),r=null==r?void 0:r.bind(d)}this.destination={next:s?A(s):y,error:A(null!=t?t:B),complete:r?A(r):y}}}function A(e,n){return(...t)=>{try{e(...t)}catch(r){h.useDeprecatedSynchronousErrorHandling?function i(e){h.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=e)}(r):P(r)}}}function B(e){throw e}function O(e,n){const{onStoppedNotification:t}=h;t&&D.setTimeout(()=>t(e,n))}const f={closed:!0,next:y,error:B,complete:y},b="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(e){return e}let I=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,s){const d=function se(e){return e&&e instanceof o||function J(e){return e&&m(e.next)&&m(e.error)&&m(e.complete)}(e)&&w(e)}(t)?t:new p(t,r,s);return a(()=>{const{operator:x,source:R}=this;d.add(x?x.call(d,R):R?this._subscribe(d):this._trySubscribe(d))}),d}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=H(r))((s,d)=>{let x;x=this.subscribe(R=>{try{t(R)}catch(N){d(N),null==x||x.unsubscribe()}},d,s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[b](){return this}pipe(...t){return function T(e){return 0===e.length?C:1===e.length?e[0]:function(t){return e.reduce((r,s)=>s(r),t)}}(t)(this)}toPromise(t){return new(t=H(t))((r,s)=>{let d;this.subscribe(x=>d=x,x=>s(x),()=>r(d))})}}return e.create=n=>new e(n),e})();function H(e){var n;return null!==(n=null!=e?e:h.Promise)&&void 0!==n?n:Promise}const he=L(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ie=(()=>{class e extends I{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new ye(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new he}next(t){a(()=>{if(this._throwIfClosed(),!this.isStopped){const r=this.observers.slice();for(const s of r)s.next(t)}})}error(t){a(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){a(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:s,observers:d}=this;return r||s?S:(d.push(t),new F(()=>j(d,t)))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:s,isStopped:d}=this;r?t.error(s):d&&t.complete()}asObservable(){const t=new I;return t.source=this,t}}return e.create=(n,t)=>new ye(n,t),e})();class ye extends ie{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:S}}function ue(e){return n=>{if(function Ie(e){return m(null==e?void 0:e.lift)}(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}class fe extends o{constructor(n,t,r,s,d){super(n),this.onFinalize=d,this._next=t?function(x){try{t(x)}catch(R){n.error(R)}}:super._next,this._error=s?function(x){try{s(x)}catch(R){n.error(R)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(x){n.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}function Te(e,n){return ue((t,r)=>{let s=0;t.subscribe(new fe(r,d=>{r.next(e.call(n,d,s++))}))})}function xn(e){return this instanceof xn?(this.v=e,this):new xn(e)}function Ds(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,r=t.apply(e,n||[]),d=[];return s={},x("next"),x("throw"),x("return"),s[Symbol.asyncIterator]=function(){return this},s;function x(ee){r[ee]&&(s[ee]=function(re){return new Promise(function(le,ge){d.push([ee,re,le,ge])>1||R(ee,re)})})}function R(ee,re){try{!function N(ee){ee.value instanceof xn?Promise.resolve(ee.value.v).then(_,k):Z(d[0][2],ee)}(r[ee](re))}catch(le){Z(d[0][3],le)}}function _(ee){R("next",ee)}function k(ee){R("throw",ee)}function Z(ee,re){ee(re),d.shift(),d.length&&R(d[0][0],d[0][1])}}function za(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function vi(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(d){t[d]=e[d]&&function(x){return new Promise(function(R,N){!function s(d,x,R,N){Promise.resolve(N).then(function(_){d({value:_,done:R})},x)}(R,N,(x=e[d](x)).done,x.value)})}}}const Ci=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function bi(e){return m(null==e?void 0:e.then)}function Fo(e){return m(e[b])}function Bo(e){return Symbol.asyncIterator&&m(null==e?void 0:e[Symbol.asyncIterator])}function _r(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pi=function Is(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Ei(e){return m(null==e?void 0:e[Pi])}function No(e){return Ds(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:s}=yield xn(t.read());if(s)return yield xn(void 0);yield yield xn(r)}}finally{t.releaseLock()}})}function jo(e){return m(null==e?void 0:e.getReader)}function ur(e){if(e instanceof I)return e;if(null!=e){if(Fo(e))return function xs(e){return new I(n=>{const t=e[b]();if(m(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Ci(e))return function Di(e){return new I(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(bi(e))return function Os(e){return new I(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,P)})}(e);if(Bo(e))return io(e);if(Ei(e))return function Vs(e){return new I(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(jo(e))return function Ho(e){return io(No(e))}(e)}throw _r(e)}function io(e){return new I(n=>{(function Wn(e,n){var t,r,s,d;return function mi(e,n,t,r){return new(t||(t=Promise))(function(d,x){function R(k){try{_(r.next(k))}catch(Z){x(Z)}}function N(k){try{_(r.throw(k))}catch(Z){x(Z)}}function _(k){k.done?d(k.value):function s(d){return d instanceof t?d:new t(function(x){x(d)})}(k.value).then(R,N)}_((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=za(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(x){s={error:x}}finally{try{r&&!r.done&&(d=t.return)&&(yield d.call(t))}finally{if(s)throw s.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function Yn(e,n,t,r=0,s=!1){const d=n.schedule(function(){t(),s?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(d),!s)return d}function so(e,n,t=1/0){return m(n)?so((r,s)=>Te((d,x)=>n(r,d,s,x))(ur(e(r,s))),t):("number"==typeof n&&(t=n),ue((r,s)=>function Qo(e,n,t,r,s,d,x,R){const N=[];let _=0,k=0,Z=!1;const ee=()=>{Z&&!N.length&&!_&&n.complete()},re=ge=>_<r?le(ge):N.push(ge),le=ge=>{d&&n.next(ge),_++;let De=!1;ur(t(ge,k++)).subscribe(new fe(n,Pe=>{null==s||s(Pe),d?re(Pe):n.next(Pe)},()=>{De=!0},void 0,()=>{if(De)try{for(_--;N.length&&_<r;){const Pe=N.shift();x?Yn(n,x,()=>le(Pe)):le(Pe)}ee()}catch(Pe){n.error(Pe)}}))};return e.subscribe(new fe(n,re,()=>{Z=!0,ee()})),()=>{null==R||R()}}(r,s,e,t)))}const _o=new I(e=>e.complete());function Wo(e){return e[e.length-1]}function ao(e){return function ws(e){return e&&m(e.schedule)}(Wo(e))?e.pop():void 0}function On(e,n=0){return ue((t,r)=>{t.subscribe(new fe(r,s=>Yn(r,e,()=>r.next(s),n),()=>Yn(r,e,()=>r.complete(),n),s=>Yn(r,e,()=>r.error(s),n)))})}function lo(e,n=0){return ue((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function cr(e,n){if(!e)throw new Error("Iterable cannot be null");return new I(t=>{Yn(t,n,()=>{const r=e[Symbol.asyncIterator]();Yn(t,n,()=>{r.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function Dr(e,n){return n?function zr(e,n){if(null!=e){if(Fo(e))return function ko(e,n){return ur(e).pipe(lo(n),On(n))}(e,n);if(Ci(e))return function Ur(e,n){return new I(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(bi(e))return function Ss(e,n){return ur(e).pipe(lo(n),On(n))}(e,n);if(Bo(e))return cr(e,n);if(Ei(e))return function xi(e,n){return new I(t=>{let r;return Yn(t,n,()=>{r=e[Pi](),Yn(t,n,()=>{let s,d;try{({value:s,done:d}=r.next())}catch(x){return void t.error(x)}d?t.complete():t.next(s)},0,!0)}),()=>m(null==r?void 0:r.return)&&r.return()})}(e,n);if(jo(e))return function Er(e,n){return cr(No(e),n)}(e,n)}throw _r(e)}(e,n):ur(e)}function uo(e,n,...t){return!0===n?(e(),null):!1===n?null:n(...t).pipe(function Wr(e){return e<=0?()=>_o:ue((n,t)=>{let r=0;n.subscribe(new fe(t,s=>{++r<=e&&(t.next(s),e<=r&&t.complete())}))})}(1)).subscribe(()=>e())}function Et(e){for(let n in e)if(e[n]===Et)return n;throw Error("Could not find renamed property on target object.")}function co(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function yt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(yt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function fo(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Rs=Et({__forward_ref__:Et});function wt(e){return e.__forward_ref__=wt,e.toString=function(){return yt(this())},e}function at(e){return Ga(e)?e():e}function Ga(e){return"function"==typeof e&&e.hasOwnProperty(Rs)&&e.__forward_ref__===wt}class ht extends Error{constructor(n,t){super(function As(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Xe(e){return"string"==typeof e?e:null==e?"":String(e)}function Kt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Xe(e)}function qo(e,n){const t=n?` in ${n}`:"";throw new ht(-201,`No provider for ${Kt(e)} found${t}`)}function Mn(e,n){null==e&&function It(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function pt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Cn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ls(e){return Xa(e,Oi)||Xa(e,tl)}function Xa(e,n){return e.hasOwnProperty(n)?e[n]:null}function el(e){return e&&(e.hasOwnProperty(Fs)||e.hasOwnProperty(Ju))?e[Fs]:null}const Oi=Et({\u0275prov:Et}),Fs=Et({\u0275inj:Et}),tl=Et({ngInjectableDef:Et}),Ju=Et({ngInjectorDef:Et});var nt=(()=>((nt=nt||{})[nt.Default=0]="Default",nt[nt.Host=1]="Host",nt[nt.Self=2]="Self",nt[nt.SkipSelf=4]="SkipSelf",nt[nt.Optional=8]="Optional",nt))();let Bs;function dr(e){const n=Bs;return Bs=e,n}function Ns(e,n,t){const r=Ls(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&nt.Optional?null:void 0!==n?n:void qo(yt(e),"Injector")}function Tr(e){return{toString:e}.toString()}var Hn=(()=>((Hn=Hn||{})[Hn.OnPush=0]="OnPush",Hn[Hn.Default=1]="Default",Hn))(),er=(()=>{return(e=er||(er={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",er;var e})();const Yu="undefined"!=typeof globalThis&&globalThis,js="undefined"!=typeof window&&window,Xu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt=Yu||"undefined"!=typeof global&&global||js||Xu,kr={},Mt=[],Ko=Et({\u0275cmp:Et}),Hs=Et({\u0275dir:Et}),Vi=Et({\u0275pipe:Et}),Qs=Et({\u0275mod:Et}),W=Et({\u0275fac:Et}),_e=Et({__NG_ELEMENT_ID__:Et});let Mi=0;function me(e){return Tr(()=>{const t={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||Mt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||er.Emulated,id:"c",styles:e.styles||Mt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,d=e.features,x=e.pipes;return r.id+=Mi++,r.inputs=nc(e.inputs,t),r.outputs=nc(e.outputs),d&&d.forEach(R=>R(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Re):null,r.pipeDefs=x?()=>("function"==typeof x?x():x).map(Qe):null,r})}function Re(e){return jt(e)||function $r(e){return e[Hs]||null}(e)}function Qe(e){return function qr(e){return e[Vi]||null}(e)}const Go={};function pn(e){return Tr(()=>{const n={type:e.type,bootstrap:e.bootstrap||Mt,declarations:e.declarations||Mt,imports:e.imports||Mt,exports:e.exports||Mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Go[e.id]=e.type),n})}function nc(e,n){if(null==e)return kr;const t={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],d=s;Array.isArray(s)&&(d=s[1],s=s[0]),t[s]=r,n&&(n[s]=d)}return t}const Ze=me;function je(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function jt(e){return e[Ko]||null}function wn(e,n){const t=e[Qs]||null;if(!t&&!0===n)throw new Error(`Type ${yt(e)} does not have '\u0275mod' property.`);return t}function tr(e){return Array.isArray(e)&&"object"==typeof e[1]}function _n(e){return Array.isArray(e)&&!0===e[1]}function Si(e){return 0!=(8&e.flags)}function Yo(e){return 2==(2&e.flags)}function Xo(e){return 1==(1&e.flags)}function fn(e){return null!==e.template}function ic(e){return 0!=(512&e[2])}function ei(e,n){return e.hasOwnProperty(W)?e[W]:null}class zP{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pn(){return rh}function rh(e){return e.type.prototype.ngOnChanges&&(e.setInput=kP),WP}function WP(){const e=ih(this),n=null==e?void 0:e.current;if(n){const t=e.previous;if(t===kr)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function kP(e,n,t,r){const s=ih(e)||function $P(e,n){return e[oh]=n}(e,{previous:kr,current:null}),d=s.current||(s.current={}),x=s.previous,R=this.declaredInputs[t],N=x[R];d[R]=new zP(N&&N.currentValue,n,x===kr),e[r]=n}Pn.ngInherit=!0;const oh="__ngSimpleChanges__";function ih(e){return e[oh]||null}let cc;function dc(){return void 0!==cc?cc:"undefined"!=typeof document?document:void 0}function $t(e){return!!e.listen}const sh={createRenderer:(e,n)=>dc()};function Xt(e){for(;Array.isArray(e);)e=e[0];return e}function il(e,n){return Xt(n[e])}function kn(e,n){return Xt(n[e.index])}function fc(e,n){return e.data[n]}function Ai(e,n){return e[n]}function $n(e,n){const t=n[e];return tr(t)?t:t[0]}function ah(e){return 4==(4&e[2])}function pc(e){return 128==(128&e[2])}function vo(e,n){return null==n?null:e[n]}function lh(e){e[18]=0}function hc(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const it={lFrame:yh(null),bindingsEnabled:!0};function ch(){return it.bindingsEnabled}function Ce(){return it.lFrame.lView}function vt(){return it.lFrame.tView}function xe(e){return it.lFrame.contextLView=e,e[8]}function rn(){let e=dh();for(;null!==e&&64===e.type;)e=e.parent;return e}function dh(){return it.lFrame.currentTNode}function Mr(e,n){const t=it.lFrame;t.currentTNode=e,t.isParent=n}function gc(){return it.lFrame.isParent}function mc(){it.lFrame.isParent=!1}function Sn(){const e=it.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Li(){return it.lFrame.bindingIndex++}function Jr(e){const n=it.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function uE(e,n){const t=it.lFrame;t.bindingIndex=t.bindingRootIndex=e,yc(n)}function yc(e){it.lFrame.currentDirectiveIndex=e}function hh(){return it.lFrame.currentQueryIndex}function Cc(e){it.lFrame.currentQueryIndex=e}function dE(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function gh(e,n,t){if(t&nt.SkipSelf){let s=n,d=e;for(;!(s=s.parent,null!==s||t&nt.Host||(s=dE(d),null===s||(d=d[15],10&s.type))););if(null===s)return!1;n=s,e=d}const r=it.lFrame=mh();return r.currentTNode=n,r.lView=e,!0}function al(e){const n=mh(),t=e[1];it.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function mh(){const e=it.lFrame,n=null===e?null:e.child;return null===n?yh(e):n}function yh(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function vh(){const e=it.lFrame;return it.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ch=vh;function ll(){const e=vh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Rn(){return it.lFrame.selectedIndex}function Co(e){it.lFrame.selectedIndex=e}function zt(){const e=it.lFrame;return fc(e.tView,e.selectedIndex)}function bt(){it.lFrame.currentNamespace="svg"}function ul(){!function gE(){it.lFrame.currentNamespace=null}()}function cl(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const d=e.data[t].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:R,ngAfterViewInit:N,ngAfterViewChecked:_,ngOnDestroy:k}=d;x&&(e.contentHooks||(e.contentHooks=[])).push(-t,x),R&&((e.contentHooks||(e.contentHooks=[])).push(t,R),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,R)),N&&(e.viewHooks||(e.viewHooks=[])).push(-t,N),_&&((e.viewHooks||(e.viewHooks=[])).push(t,_),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,_)),null!=k&&(e.destroyHooks||(e.destroyHooks=[])).push(t,k)}}function dl(e,n,t){bh(e,n,3,t)}function fl(e,n,t,r){(3&e[2])===t&&bh(e,n,t,r)}function bc(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function bh(e,n,t,r){const d=null!=r?r:-1,x=n.length-1;let R=0;for(let N=void 0!==r?65535&e[18]:0;N<x;N++)if("number"==typeof n[N+1]){if(R=n[N],null!=r&&R>=r)break}else n[N]<0&&(e[18]+=65536),(R<d||-1==d)&&(vE(e,t,n,N),e[18]=(4294901760&e[18])+N+2),N++}function vE(e,n,t,r){const s=t[r]<0,d=t[r+1],R=e[s?-t[r]:t[r]];if(s){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{d.call(R)}finally{}}}else try{d.call(R)}finally{}}class Ws{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function pl(e,n,t){const r=$t(e);let s=0;for(;s<t.length;){const d=t[s];if("number"==typeof d){if(0!==d)break;s++;const x=t[s++],R=t[s++],N=t[s++];r?e.setAttribute(n,R,N,x):n.setAttributeNS(x,R,N)}else{const x=d,R=t[++s];Ec(x)?r&&e.setProperty(n,x,R):r?e.setAttribute(n,x,R):n.setAttribute(x,R),s++}}return s}function Ph(e){return 3===e||4===e||6===e}function Ec(e){return 64===e.charCodeAt(0)}function hl(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const s=n[r];"number"==typeof s?t=s:0===t||Eh(e,t,s,null,-1===t||2===t?n[++r]:null)}}return e}function Eh(e,n,t,r,s){let d=0,x=e.length;if(-1===n)x=-1;else for(;d<e.length;){const R=e[d++];if("number"==typeof R){if(R===n){x=-1;break}if(R>n){x=d-1;break}}}for(;d<e.length;){const R=e[d];if("number"==typeof R)break;if(R===t){if(null===r)return void(null!==s&&(e[d+1]=s));if(r===e[d+1])return void(e[d+2]=s)}d++,null!==r&&d++,null!==s&&d++}-1!==x&&(e.splice(x,0,n),d=x+1),e.splice(d++,0,t),null!==r&&e.splice(d++,0,r),null!==s&&e.splice(d++,0,s)}function Dh(e){return-1!==e}function Fi(e){return 32767&e}function Bi(e,n){let t=function DE(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let Dc=!0;function gl(e){const n=Dc;return Dc=e,n}let TE=0;function $s(e,n){const t=Ic(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Tc(r.data,e),Tc(n,null),Tc(r.blueprint,null));const s=ml(e,n),d=e.injectorIndex;if(Dh(s)){const x=Fi(s),R=Bi(s,n),N=R[1].data;for(let _=0;_<8;_++)n[d+_]=R[x+_]|N[x+_]}return n[d+8]=s,d}function Tc(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Ic(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function ml(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,s=n;for(;null!==s;){const d=s[1],x=d.type;if(r=2===x?d.declTNode:1===x?s[6]:null,null===r)return-1;if(t++,s=s[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function yl(e,n,t){!function IE(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_e)&&(r=t[_e]),null==r&&(r=t[_e]=TE++);const s=255&r;n.data[e+(s>>5)]|=1<<s}(e,n,t)}function xh(e,n,t){if(t&nt.Optional)return e;qo(n,"NodeInjector")}function Oh(e,n,t,r){if(t&nt.Optional&&void 0===r&&(r=null),0==(t&(nt.Self|nt.Host))){const s=e[9],d=dr(void 0);try{return s?s.get(n,r,t&nt.Optional):Ns(n,r,t&nt.Optional)}finally{dr(d)}}return xh(r,n,t)}function Vh(e,n,t,r=nt.Default,s){if(null!==e){const d=function ME(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(_e)?e[_e]:void 0;return"number"==typeof n?n>=0?255&n:OE:n}(t);if("function"==typeof d){if(!gh(n,e,r))return r&nt.Host?xh(s,t,r):Oh(n,t,r,s);try{const x=d(r);if(null!=x||r&nt.Optional)return x;qo(t)}finally{Ch()}}else if("number"==typeof d){let x=null,R=Ic(e,n),N=-1,_=r&nt.Host?n[16][6]:null;for((-1===R||r&nt.SkipSelf)&&(N=-1===R?ml(e,n):n[R+8],-1!==N&&Sh(r,!1)?(x=n[1],R=Fi(N),n=Bi(N,n)):R=-1);-1!==R;){const k=n[1];if(wh(d,R,k.data)){const Z=VE(R,n,t,x,r,_);if(Z!==Mh)return Z}N=n[R+8],-1!==N&&Sh(r,n[1].data[R+8]===_)&&wh(d,R,n)?(x=k,R=Fi(N),n=Bi(N,n)):R=-1}}}return Oh(n,t,r,s)}const Mh={};function OE(){return new Ni(rn(),Ce())}function VE(e,n,t,r,s,d){const x=n[1],R=x.data[e+8],k=vl(R,x,t,null==r?Yo(R)&&Dc:r!=x&&0!=(3&R.type),s&nt.Host&&d===R);return null!==k?qs(n,x,k,R):Mh}function vl(e,n,t,r,s){const d=e.providerIndexes,x=n.data,R=1048575&d,N=e.directiveStart,k=d>>20,ee=s?R+k:e.directiveEnd;for(let re=r?R:R+k;re<ee;re++){const le=x[re];if(re<N&&t===le||re>=N&&le.type===t)return re}if(s){const re=x[N];if(re&&fn(re)&&re.type===t)return N}return null}function qs(e,n,t,r){let s=e[t];const d=n.data;if(function CE(e){return e instanceof Ws}(s)){const x=s;x.resolving&&function Ja(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new ht(-200,`Circular dependency in DI detected for ${e}${t}`)}(Kt(d[t]));const R=gl(x.canSeeViewProviders);x.resolving=!0;const N=x.injectImpl?dr(x.injectImpl):null;gh(e,r,nt.Default);try{s=e[t]=x.factory(void 0,d,e,r),n.firstCreatePass&&t>=r.directiveStart&&function yE(e,n,t){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:d}=n.type.prototype;if(r){const x=rh(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,x),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,x)}s&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,s),d&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,d),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,d))}(t,d[t],n)}finally{null!==N&&dr(N),gl(R),x.resolving=!1,Ch()}}return s}function wh(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Sh(e,n){return!(e&nt.Self||e&nt.Host&&n)}class Ni{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Vh(this._tNode,this._lView,n,r,t)}}function Ve(e){return Tr(()=>{const n=e.prototype.constructor,t=n[W]||xc(n),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const d=s[W]||xc(s);if(d&&d!==t)return d;s=Object.getPrototypeOf(s)}return d=>new d})}function xc(e){return Ga(e)?()=>{const n=xc(at(e));return n&&n()}:ei(e)}const Hi="__parameters__";function _i(e,n,t){return Tr(()=>{const r=function Vc(e){return function(...t){if(e){const r=e(...t);for(const s in r)this[s]=r[s]}}}(n);function s(...d){if(this instanceof s)return r.apply(this,d),this;const x=new s(...d);return R.annotation=x,R;function R(N,_,k){const Z=N.hasOwnProperty(Hi)?N[Hi]:Object.defineProperty(N,Hi,{value:[]})[Hi];for(;Z.length<=k;)Z.push(null);return(Z[k]=Z[k]||[]).push(x),N}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}class gt{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function rr(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),rr(r,n)):n!==e&&n.push(r)}return n}function wr(e,n){e.forEach(t=>Array.isArray(t)?wr(t,n):n(t))}function Ah(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Cl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Js(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function qn(e,n,t){let r=Ui(e,n);return r>=0?e[1|r]=t:(r=~r,function AE(e,n,t,r){let s=e.length;if(s==n)e.push(t,r);else if(1===s)e.push(r,e[0]),e[0]=t;else{for(s--,e.push(e[s-1],e[s]);s>n;)e[s]=e[s-2],s--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function wc(e,n){const t=Ui(e,n);if(t>=0)return e[1|t]}function Ui(e,n){return function Bh(e,n,t){let r=0,s=e.length>>t;for(;s!==r;){const d=r+(s-r>>1),x=e[d<<t];if(n===x)return d<<t;x>n?s=d:r=d+1}return~(s<<t)}(e,n,1)}const Zs={},Rc="__NG_DI_FLAG__",Pl="ngTempTokenPath",QE=/\n/gm,jh="__source",UE=Et({provide:String,useValue:Et});let Ys;function Hh(e){const n=Ys;return Ys=e,n}function zE(e,n=nt.Default){if(void 0===Ys)throw new ht(203,"");return null===Ys?Ns(e,void 0,n):Ys.get(e,n&nt.Optional?null:void 0,n)}function et(e,n=nt.Default){return(function Zu(){return Bs}()||zE)(at(e),n)}const WE=et;function Ac(e){const n=[];for(let t=0;t<e.length;t++){const r=at(e[t]);if(Array.isArray(r)){if(0===r.length)throw new ht(900,"");let s,d=nt.Default;for(let x=0;x<r.length;x++){const R=r[x],N=kE(R);"number"==typeof N?-1===N?s=R.token:d|=N:s=R}n.push(et(s,d))}else n.push(et(r))}return n}function Xs(e,n){return e[Rc]=n,e.prototype[Rc]=n,e}function kE(e){return e[Rc]}const El=Xs(_i("Optional"),8),Dl=Xs(_i("SkipSelf"),4);var Kn=(()=>((Kn=Kn||{})[Kn.Important=1]="Important",Kn[Kn.DashCase=2]="DashCase",Kn))();const qh="__ngContext__";function En(e,n){e[qh]=n}function Nc(e){const n=function ta(e){return e[qh]||null}(e);return n?Array.isArray(n)?n:n.lView:null}function Hc(e,n){return undefined(e,n)}function na(e){const n=e[3];return _n(n)?n[3]:n}function Qc(e){return eg(e[13])}function _c(e){return eg(e[4])}function eg(e){for(;null!==e&&!_n(e);)e=e[4];return e}function Wi(e,n,t,r,s){if(null!=r){let d,x=!1;_n(r)?d=r:tr(r)&&(x=!0,r=r[0]);const R=Xt(r);0===e&&null!==t?null==s?sg(n,t,R):ti(n,t,R,s||null,!0):1===e&&null!==t?ti(n,t,R,s||null,!0):2===e?function Kc(e,n,t){const r=Il(e,n);r&&function ED(e,n,t,r){$t(e)?e.removeChild(n,t,r):n.removeChild(t)}(e,r,n,t)}(n,R,x):3===e&&n.destroyNode(R),null!=d&&function ID(e,n,t,r,s){const d=t[7];d!==Xt(t)&&Wi(n,e,r,d,s);for(let R=10;R<t.length;R++){const N=t[R];ra(N[1],N,e,n,r,d)}}(n,e,d,t,s)}}function zc(e,n,t){if($t(e))return e.createElement(n,t);{const r=null!==t?function JP(e){const n=e.toLowerCase();return"svg"===n?"http://www.w3.org/2000/svg":"math"===n?"http://www.w3.org/1998/MathML/":null}(t):null;return null===r?e.createElement(n):e.createElementNS(r,n)}}function ng(e,n){const t=e[9],r=t.indexOf(n),s=n[3];1024&n[2]&&(n[2]&=-1025,hc(s,-1)),t.splice(r,1)}function Wc(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const s=r[17];null!==s&&s!==e&&ng(s,r),n>0&&(e[t-1][4]=r[4]);const d=Cl(e,10+n);!function hD(e,n){ra(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const x=d[19];null!==x&&x.detachView(d[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function rg(e,n){if(!(256&n[2])){const t=n[11];$t(t)&&t.destroyNode&&ra(e,n,t,3,null,null),function yD(e){let n=e[13];if(!n)return kc(e[1],e);for(;n;){let t=null;if(tr(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)tr(n)&&kc(n[1],n),n=n[3];null===n&&(n=e),tr(n)&&kc(n[1],n),t=n&&n[4]}n=t}}(n)}}function kc(e,n){if(!(256&n[2])){n[2]&=-129,n[2]|=256,function PD(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const s=n[t[r]];if(!(s instanceof Ws)){const d=t[r+1];if(Array.isArray(d))for(let x=0;x<d.length;x+=2){const R=s[d[x]],N=d[x+1];try{N.call(R)}finally{}}else try{d.call(s)}finally{}}}}(e,n),function bD(e,n){const t=e.cleanup,r=n[7];let s=-1;if(null!==t)for(let d=0;d<t.length-1;d+=2)if("string"==typeof t[d]){const x=t[d+1],R="function"==typeof x?x(n):Xt(n[x]),N=r[s=t[d+2]],_=t[d+3];"boolean"==typeof _?R.removeEventListener(t[d],N,_):_>=0?r[s=_]():r[s=-_].unsubscribe(),d+=2}else{const x=r[s=t[d+1]];t[d].call(x)}if(null!==r){for(let d=s+1;d<r.length;d++)r[d]();n[7]=null}}(e,n),1===n[1].type&&$t(n[11])&&n[11].destroy();const t=n[17];if(null!==t&&_n(n[3])){t!==n[3]&&ng(t,n);const r=n[19];null!==r&&r.detachView(e)}}}function og(e,n,t){return function ig(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const s=e.data[r.directiveStart].encapsulation;if(s===er.None||s===er.Emulated)return null}return kn(r,t)}(e,n.parent,t)}function ti(e,n,t,r,s){$t(e)?e.insertBefore(n,t,r,s):n.insertBefore(t,r,s)}function sg(e,n,t){$t(e)?e.appendChild(n,t):n.appendChild(t)}function ag(e,n,t,r,s){null!==r?ti(e,n,t,r,s):sg(e,n,t)}function Il(e,n){return $t(e)?e.parentNode(n):n.parentNode}function lg(e,n,t){return cg(e,n,t)}let Vl,Ml,cg=function ug(e,n,t){return 40&e.type?kn(e,t):null};function xl(e,n,t,r){const s=og(e,r,n),d=n[11],R=lg(r.parent||n[6],r,n);if(null!=s)if(Array.isArray(t))for(let N=0;N<t.length;N++)ag(d,s,t[N],R,!1);else ag(d,s,t,R,!1)}function Ol(e,n){if(null!==n){const t=n.type;if(3&t)return kn(n,e);if(4&t)return qc(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Ol(e,r);{const s=e[n.index];return _n(s)?qc(-1,s):Xt(s)}}if(32&t)return Hc(n,e)()||Xt(e[n.index]);{const r=fg(e,n);return null!==r?Array.isArray(r)?r[0]:Ol(na(e[16]),r):Ol(e,n.next)}}return null}function fg(e,n){return null!==n?e[16][6].projection[n.projection]:null}function qc(e,n){const t=10+e+1;if(t<n.length){const r=n[t],s=r[1].firstChild;if(null!==s)return Ol(r,s)}return n[7]}function Gc(e,n,t,r,s,d,x){for(;null!=t;){const R=r[t.index],N=t.type;if(x&&0===n&&(R&&En(Xt(R),r),t.flags|=4),64!=(64&t.flags))if(8&N)Gc(e,n,t.child,r,s,d,!1),Wi(n,e,s,R,d);else if(32&N){const _=Hc(t,r);let k;for(;k=_();)Wi(n,e,s,k,d);Wi(n,e,s,R,d)}else 16&N?pg(e,n,r,t,s,d):Wi(n,e,s,R,d);t=x?t.projectionNext:t.next}}function ra(e,n,t,r,s,d){Gc(t,r,e.firstChild,n,s,d,!1)}function pg(e,n,t,r,s,d){const x=t[16],N=x[6].projection[r.projection];if(Array.isArray(N))for(let _=0;_<N.length;_++)Wi(n,e,s,N[_],d);else Gc(e,n,N,x[3],s,d,!0)}function hg(e,n,t){$t(e)?e.setAttribute(n,"style",t):n.style.cssText=t}function Jc(e,n,t){$t(e)?""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t):n.className=t}function ni(e){var n;return(null===(n=function Zc(){if(void 0===Vl&&(Vl=null,xt.trustedTypes))try{Vl=xt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Vl}())||void 0===n?void 0:n.createHTML(e))||e}function Yc(){if(void 0===Ml&&(Ml=null,xt.trustedTypes))try{Ml=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(e){}return Ml}function gg(e){var n;return(null===(n=Yc())||void 0===n?void 0:n.createHTML(e))||e}function yg(e){var n;return(null===(n=Yc())||void 0===n?void 0:n.createScriptURL(e))||e}class ri{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class wD extends ri{getTypeName(){return"HTML"}}class SD extends ri{getTypeName(){return"Style"}}class RD extends ri{getTypeName(){return"Script"}}class AD extends ri{getTypeName(){return"URL"}}class LD extends ri{getTypeName(){return"ResourceURL"}}function Gn(e){return e instanceof ri?e.changingThisBreaksApplicationSecurity:e}function Sr(e,n){const t=vg(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}function vg(e){return e instanceof ri&&e.getTypeName()||null}class QD{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(ni(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class _D{constructor(n){if(this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const r=this.inertDocument.createElement("body");t.appendChild(r)}}getInertBodyElement(n){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=ni(n),t;const r=this.inertDocument.createElement("body");return r.innerHTML=ni(n),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(r),r}stripCustomNsAttrs(n){const t=n.attributes;for(let s=t.length-1;0<s;s--){const x=t.item(s).name;("xmlns:ns1"===x||0===x.indexOf("ns1:"))&&n.removeAttribute(x)}let r=n.firstChild;for(;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}const zD=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,WD=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oa(e){return(e=String(e)).match(zD)||e.match(WD)?e:"unsafe:"+e}function Rr(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function ia(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const Pg=Rr("area,br,col,hr,img,wbr"),Eg=Rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Dg=Rr("rp,rt"),Xc=ia(Pg,ia(Eg,Rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ia(Dg,Rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ia(Dg,Eg)),ed=Rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),td=Rr("srcset"),Tg=ia(ed,td,Rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kD=Rr("script,style,template");class $D{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=this.checkClobberedElement(t,t.nextSibling);if(s){t=s;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(n){const t=n.nodeName.toLowerCase();if(!Xc.hasOwnProperty(t))return this.sanitizedSomething=!0,!kD.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let s=0;s<r.length;s++){const d=r.item(s),x=d.name,R=x.toLowerCase();if(!Tg.hasOwnProperty(R)){this.sanitizedSomething=!0;continue}let N=d.value;ed[R]&&(N=oa(N)),td[R]&&(e=N,N=(e=String(e)).split(",").map(n=>oa(n.trim())).join(", ")),this.buf.push(" ",x,'="',Ig(N),'"')}var e;return this.buf.push(">"),!0}endElement(n){const t=n.nodeName.toLowerCase();Xc.hasOwnProperty(t)&&!Pg.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(Ig(n))}checkClobberedElement(n,t){if(t&&(n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`);return t}}const qD=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KD=/([^\#-~ |!])/g;function Ig(e){return e.replace(/&/g,"&amp;").replace(qD,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(KD,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wl;function xg(e,n){let t=null;try{wl=wl||function Cg(e){const n=new _D(e);return function UD(){try{return!!(new window.DOMParser).parseFromString(ni(""),"text/html")}catch(e){return!1}}()?new QD(n):n}(e);let r=n?String(n):"";t=wl.getInertBodyElement(r);let s=5,d=r;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,r=d,d=t.innerHTML,t=wl.getInertBodyElement(r)}while(r!==d);return ni((new $D).sanitizeChildren(nd(t)||t))}finally{if(t){const r=nd(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function nd(e){return"content"in e&&function GD(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Ft=(()=>((Ft=Ft||{})[Ft.NONE=0]="NONE",Ft[Ft.HTML=1]="HTML",Ft[Ft.STYLE=2]="STYLE",Ft[Ft.SCRIPT=3]="SCRIPT",Ft[Ft.URL=4]="URL",Ft[Ft.RESOURCE_URL=5]="RESOURCE_URL",Ft))();function Po(e){const n=sa();return n?gg(n.sanitize(Ft.HTML,e)||""):Sr(e,"HTML")?gg(Gn(e)):xg(dc(),Xe(e))}function Ar(e){const n=sa();return n?n.sanitize(Ft.URL,e)||"":Sr(e,"URL")?Gn(e):oa(Xe(e))}function rd(e){const n=sa();if(n)return yg(n.sanitize(Ft.RESOURCE_URL,e)||"");if(Sr(e,"ResourceURL"))return yg(Gn(e));throw new ht(904,"")}function sa(){const e=Ce();return e&&e[12]}function id(e){return e.ngOriginalError}function iT(e,...n){e.error(...n)}class aa{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n),r=function oT(e){return e&&e.ngErrorLogger||iT}(n);r(this._console,"ERROR",n),t&&r(this._console,"ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&id(n);for(;t&&id(t);)t=id(t);return t||null}}const fT=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function Lr(e){return e instanceof Function?e():e}function Vg(e,n,t){let r=e.length;for(;;){const s=e.indexOf(n,t);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const d=n.length;if(s+d===r||e.charCodeAt(s+d)<=32)return s}t=s+1}}const Mg="ng-template";function mT(e,n,t){let r=0;for(;r<e.length;){let s=e[r++];if(t&&"class"===s){if(s=e[r],-1!==Vg(s.toLowerCase(),n,0))return!0}else if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===n)return!0;return!1}}return!1}function wg(e){return 4===e.type&&e.value!==Mg}function yT(e,n,t){return n===(4!==e.type||t?e.value:Mg)}function vT(e,n,t){let r=4;const s=e.attrs||[],d=function PT(e){for(let n=0;n<e.length;n++)if(Ph(e[n]))return n;return e.length}(s);let x=!1;for(let R=0;R<n.length;R++){const N=n[R];if("number"!=typeof N){if(!x)if(4&r){if(r=2|1&r,""!==N&&!yT(e,N,t)||""===N&&1===n.length){if(fr(r))return!1;x=!0}}else{const _=8&r?N:n[++R];if(8&r&&null!==e.attrs){if(!mT(e.attrs,_,t)){if(fr(r))return!1;x=!0}continue}const Z=CT(8&r?"class":N,s,wg(e),t);if(-1===Z){if(fr(r))return!1;x=!0;continue}if(""!==_){let ee;ee=Z>d?"":s[Z+1].toLowerCase();const re=8&r?ee:null;if(re&&-1!==Vg(re,_,0)||2&r&&_!==ee){if(fr(r))return!1;x=!0}}}}else{if(!x&&!fr(r)&&!fr(N))return!1;if(x&&fr(N))continue;x=!1,r=N|1&r}}return fr(r)||x}function fr(e){return 0==(1&e)}function CT(e,n,t,r){if(null===n)return-1;let s=0;if(r||!t){let d=!1;for(;s<n.length;){const x=n[s];if(x===e)return s;if(3===x||6===x)d=!0;else{if(1===x||2===x){let R=n[++s];for(;"string"==typeof R;)R=n[++s];continue}if(4===x)break;if(0===x){s+=4;continue}}s+=d?1:2}return-1}return function ET(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function Sg(e,n,t=!1){for(let r=0;r<n.length;r++)if(vT(e,n[r],t))return!0;return!1}function DT(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let s=0;s<e.length;s++)if(e[s]!==r[s])continue e;return!0}}return!1}function Rg(e,n){return e?":not("+n.trim()+")":n}function TT(e){let n=e[0],t=1,r=2,s="",d=!1;for(;t<e.length;){let x=e[t];if("string"==typeof x)if(2&r){const R=e[++t];s+="["+x+(R.length>0?'="'+R+'"':"")+"]"}else 8&r?s+="."+x:4&r&&(s+=" "+x);else""!==s&&!fr(x)&&(n+=Rg(d,s),s=""),r=x,d=d||!fr(r);t++}return""!==s&&(n+=Rg(d,s)),n}const st={};function U(e){Ag(vt(),Ce(),Rn()+e,!1)}function Ag(e,n,t,r){if(!r)if(3==(3&n[2])){const d=e.preOrderCheckHooks;null!==d&&dl(n,d,t)}else{const d=e.preOrderHooks;null!==d&&fl(n,d,0,t)}Co(t)}function Sl(e,n){return e<<17|n<<2}function pr(e){return e>>17&32767}function sd(e){return 2|e}function Zr(e){return(131068&e)>>2}function ad(e,n){return-131069&e|n<<2}function ld(e){return 1|e}function Wg(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r],d=t[r+1];if(-1!==d){const x=e.data[d];Cc(s),x.contentQueries(2,n[d],d)}}}function la(e,n,t,r,s,d,x,R,N,_){const k=n.blueprint.slice();return k[0]=s,k[2]=140|r,lh(k),k[3]=k[15]=e,k[8]=t,k[10]=x||e&&e[10],k[11]=R||e&&e[11],k[12]=N||e&&e[12]||null,k[9]=_||e&&e[9]||null,k[6]=d,k[16]=2==n.type?e[16]:k,k}function $i(e,n,t,r,s){let d=e.data[n];if(null===d)d=function yd(e,n,t,r,s){const d=dh(),x=gc(),N=e.data[n]=function UT(e,n,t,r,s,d){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?d:d&&d.parent,t,n,r,s);return null===e.firstChild&&(e.firstChild=N),null!==d&&(x?null==d.child&&null!==N.parent&&(d.child=N):null===d.next&&(d.next=N)),N}(e,n,t,r,s),function lE(){return it.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=t,d.value=r,d.attrs=s;const x=function zs(){const e=it.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===x?-1:x.injectorIndex}return Mr(d,!0),d}function qi(e,n,t,r){if(0===t)return-1;const s=n.length;for(let d=0;d<t;d++)n.push(r),e.blueprint.push(r),e.data.push(null);return s}function ua(e,n,t){al(n);try{const r=e.viewQuery;null!==r&&xd(1,r,t);const s=e.template;null!==s&&kg(e,n,s,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Wg(e,n),e.staticViewQueries&&xd(2,e.viewQuery,t);const d=e.components;null!==d&&function HT(e,n){for(let t=0;t<n.length;t++)a0(e,n[t])}(n,d)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,ll()}}function Ki(e,n,t,r){const s=n[2];if(256!=(256&s)){al(n);try{lh(n),function fh(e){return it.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&kg(e,n,t,2,r);const x=3==(3&s);if(x){const _=e.preOrderCheckHooks;null!==_&&dl(n,_,null)}else{const _=e.preOrderHooks;null!==_&&fl(n,_,0,null),bc(n,0)}if(function o0(e){for(let n=Qc(e);null!==n;n=_c(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const s=t[r],d=s[3];0==(1024&s[2])&&hc(d,1),s[2]|=1024}}}(n),function r0(e){for(let n=Qc(e);null!==n;n=_c(n))for(let t=10;t<n.length;t++){const r=n[t],s=r[1];pc(r)&&Ki(s,r,s.template,r[8])}}(n),null!==e.contentQueries&&Wg(e,n),x){const _=e.contentCheckHooks;null!==_&&dl(n,_)}else{const _=e.contentHooks;null!==_&&fl(n,_,1),bc(n,1)}!function NT(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const s=t[r];if(s<0)Co(~s);else{const d=s,x=t[++r],R=t[++r];uE(x,d),R(2,n[d])}}}finally{Co(-1)}}(e,n);const R=e.components;null!==R&&function jT(e,n){for(let t=0;t<n.length;t++)s0(e,n[t])}(n,R);const N=e.viewQuery;if(null!==N&&xd(2,N,r),x){const _=e.viewCheckHooks;null!==_&&dl(n,_)}else{const _=e.viewHooks;null!==_&&fl(n,_,2),bc(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-73,1024&n[2]&&(n[2]&=-1025,hc(n[3],-1))}finally{ll()}}}function QT(e,n,t,r){const s=n[10],x=ah(n);try{!x&&s.begin&&s.begin(),x&&ua(e,n,r),Ki(e,n,t,r)}finally{!x&&s.end&&s.end()}}function kg(e,n,t,r,s){const d=Rn(),x=2&r;try{Co(-1),x&&n.length>20&&Ag(e,n,20,!1),t(r,s)}finally{Co(d)}}function $g(e,n,t){if(Si(n)){const s=n.directiveEnd;for(let d=n.directiveStart;d<s;d++){const x=e.data[d];x.contentQueries&&x.contentQueries(1,t[d],d)}}}function vd(e,n,t){!ch()||(function GT(e,n,t,r){const s=t.directiveStart,d=t.directiveEnd;e.firstCreatePass||$s(t,n),En(r,n);const x=t.initialInputs;for(let R=s;R<d;R++){const N=e.data[R],_=fn(N);_&&e0(n,t,N);const k=qs(n,e,R,t);En(k,n),null!==x&&t0(0,R-s,k,N,0,x),_&&($n(t.index,n)[8]=k)}}(e,n,t,kn(t,n)),128==(128&t.flags)&&function JT(e,n,t){const r=t.directiveStart,s=t.directiveEnd,x=t.index,R=function cE(){return it.lFrame.currentDirectiveIndex}();try{Co(x);for(let N=r;N<s;N++){const _=e.data[N],k=n[N];yc(N),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&em(_,k)}}finally{Co(-1),yc(R)}}(e,n,t))}function Cd(e,n,t=kn){const r=n.localNames;if(null!==r){let s=n.index+1;for(let d=0;d<r.length;d+=2){const x=r[d+1],R=-1===x?t(n,e):e[x];e[s++]=R}}}function qg(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Ll(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function Ll(e,n,t,r,s,d,x,R,N,_){const k=20+r,Z=k+s,ee=function _T(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:st);return t}(k,Z),re="function"==typeof _?_():_;return ee[1]={type:e,blueprint:ee,template:t,queries:null,viewQuery:R,declTNode:n,data:ee.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:N,consts:re,incompleteFirstPass:!1}}function Jg(e,n,t,r){const s=sm(n);null===t?s.push(r):(s.push(t),e.firstCreatePass&&am(e).push(r,s.length-1))}function Zg(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const s=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,s):t[r]=[n,s]}return t}function Jn(e,n,t,r,s,d,x,R){const N=kn(n,t);let k,_=n.inputs;!R&&null!=_&&(k=_[r])?(cm(e,t,k,r,s),Yo(n)&&function kT(e,n){const t=$n(n,e);16&t[2]||(t[2]|=64)}(t,n.index)):3&n.type&&(r=function WT(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=x?x(s,n.value||"",r):s,$t(d)?d.setProperty(N,r,s):Ec(r)||(N.setProperty?N.setProperty(r,s):N[r]=s))}function bd(e,n,t,r){let s=!1;if(ch()){const d=function ZT(e,n,t){const r=e.directiveRegistry;let s=null;if(r)for(let d=0;d<r.length;d++){const x=r[d];Sg(t,x.selectors,!1)&&(s||(s=[]),yl($s(t,n),e,x.type),fn(x)?(tm(e,t),s.unshift(x)):s.push(x))}return s}(e,n,t),x=null===r?null:{"":-1};if(null!==d){s=!0,nm(t,e.data.length,d.length);for(let k=0;k<d.length;k++){const Z=d[k];Z.providersResolver&&Z.providersResolver(Z)}let R=!1,N=!1,_=qi(e,n,d.length,null);for(let k=0;k<d.length;k++){const Z=d[k];t.mergedAttrs=hl(t.mergedAttrs,Z.hostAttrs),rm(e,t,n,_,Z),XT(_,Z,x),null!==Z.contentQueries&&(t.flags|=8),(null!==Z.hostBindings||null!==Z.hostAttrs||0!==Z.hostVars)&&(t.flags|=128);const ee=Z.type.prototype;!R&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),R=!0),!N&&(ee.ngOnChanges||ee.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),N=!0),_++}!function zT(e,n){const r=n.directiveEnd,s=e.data,d=n.attrs,x=[];let R=null,N=null;for(let _=n.directiveStart;_<r;_++){const k=s[_],Z=k.inputs,ee=null===d||wg(n)?null:n0(Z,d);x.push(ee),R=Zg(Z,_,R),N=Zg(k.outputs,_,N)}null!==R&&(R.hasOwnProperty("class")&&(n.flags|=16),R.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=x,n.inputs=R,n.outputs=N}(e,t)}x&&function YT(e,n,t){if(n){const r=e.localNames=[];for(let s=0;s<n.length;s+=2){const d=t[n[s+1]];if(null==d)throw new ht(-301,!1);r.push(n[s],d)}}}(t,r,x)}return t.mergedAttrs=hl(t.mergedAttrs,t.attrs),s}function Xg(e,n,t,r,s,d){const x=d.hostBindings;if(x){let R=e.hostBindingOpCodes;null===R&&(R=e.hostBindingOpCodes=[]);const N=~n.index;(function KT(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(R)!=N&&R.push(N),R.push(r,s,x)}}function em(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function tm(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function XT(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;fn(n)&&(t[""]=e)}}function nm(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function rm(e,n,t,r,s){e.data[r]=s;const d=s.factory||(s.factory=ei(s.type)),x=new Ws(d,fn(s),null);e.blueprint[r]=x,t[r]=x,Xg(e,n,0,r,qi(e,t,s.hostVars,st),s)}function e0(e,n,t){const r=kn(n,e),s=qg(t),d=e[10],x=Fl(e,la(e,s,null,t.onPush?64:16,r,n,d,d.createRenderer(r,t),null,null));e[n.index]=x}function Fr(e,n,t,r,s,d){const x=kn(e,n);!function Pd(e,n,t,r,s,d,x){if(null==d)$t(e)?e.removeAttribute(n,s,t):n.removeAttribute(s);else{const R=null==x?Xe(d):x(d,r||"",s);$t(e)?e.setAttribute(n,s,R,t):t?n.setAttributeNS(t,s,R):n.setAttribute(s,R)}}(n[11],x,d,e.value,t,r,s)}function t0(e,n,t,r,s,d){const x=d[n];if(null!==x){const R=r.setInput;for(let N=0;N<x.length;){const _=x[N++],k=x[N++],Z=x[N++];null!==R?r.setInput(t,Z,_,k):t[k]=Z}}}function n0(e,n){let t=null,r=0;for(;r<n.length;){const s=n[r];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===t&&(t=[]),t.push(s,e[s],n[r+1])),r+=2}else r+=2;else r+=4}return t}function om(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function s0(e,n){const t=$n(n,e);if(pc(t)){const r=t[1];80&t[2]?Ki(r,t,r.template,t[8]):t[5]>0&&Ed(t)}}function Ed(e){for(let r=Qc(e);null!==r;r=_c(r))for(let s=10;s<r.length;s++){const d=r[s];if(1024&d[2]){const x=d[1];Ki(x,d,x.template,d[8])}else d[5]>0&&Ed(d)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const s=$n(t[r],e);pc(s)&&s[5]>0&&Ed(s)}}function a0(e,n){const t=$n(n,e),r=t[1];(function l0(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),ua(r,t,t[8])}function Fl(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function Dd(e){for(;e;){e[2]|=64;const n=na(e);if(ic(e)&&!n)return e;e=n}return null}function im(e){!function Td(e){for(let n=0;n<e.components.length;n++){const t=e.components[n],r=Nc(t),s=r[1];QT(s,r,s.template,t)}}(e[8])}function xd(e,n,t){Cc(0),n(e,t)}const c0=(()=>Promise.resolve(null))();function sm(e){return e[7]||(e[7]=[])}function am(e){return e.cleanup||(e.cleanup=[])}function um(e,n){const t=e[9],r=t?t.get(aa,null):null;r&&r.handleError(n)}function cm(e,n,t,r,s){for(let d=0;d<t.length;){const x=t[d++],R=t[d++],N=n[x],_=e.data[x];null!==_.setInput?_.setInput(N,s,r,R):N[R]=s}}function Yr(e,n,t){const r=il(n,e);!function tg(e,n,t){$t(e)?e.setValue(n,t):n.textContent=t}(e[11],r,t)}function Bl(e,n,t){let r=t?e.styles:null,s=t?e.classes:null,d=0;if(null!==n)for(let x=0;x<n.length;x++){const R=n[x];"number"==typeof R?d=R:1==d?s=fo(s,R):2==d&&(r=fo(r,R+": "+n[++x]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=s:e.classesWithoutHost=s}const Od=new gt("INJECTOR",-1);class dm{get(n,t=Zs){if(t===Zs){const r=new Error(`NullInjectorError: No provider for ${yt(n)}!`);throw r.name="NullInjectorError",r}return t}}const Vd=new gt("Set Injector scope."),ca={},p0={};let Md;function fm(){return void 0===Md&&(Md=new dm),Md}function pm(e,n=null,t=null,r){const s=hm(e,n,t,r);return s._resolveInjectorDefTypes(),s}function hm(e,n=null,t=null,r){return new h0(e,t,n||fm(),r)}class h0{constructor(n,t,r,s=null){this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];t&&wr(t,R=>this.processProvider(R,n,t)),wr([n],R=>this.processInjectorType(R,[],d)),this.records.set(Od,Gi(void 0,this));const x=this.records.get(Vd);this.scope=null!=x?x.value:null,this.source=s||("object"==typeof n?null:yt(n))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(n=>n.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(n,t=Zs,r=nt.Default){this.assertNotDestroyed();const s=Hh(this),d=dr(void 0);try{if(!(r&nt.SkipSelf)){let R=this.records.get(n);if(void 0===R){const N=function E0(e){return"function"==typeof e||"object"==typeof e&&e instanceof gt}(n)&&Ls(n);R=N&&this.injectableDefInScope(N)?Gi(wd(n),ca):null,this.records.set(n,R)}if(null!=R)return this.hydrate(n,R)}return(r&nt.Self?fm():this.parent).get(n,t=r&nt.Optional&&t===Zs?null:t)}catch(x){if("NullInjectorError"===x.name){if((x[Pl]=x[Pl]||[]).unshift(yt(n)),s)throw x;return function $E(e,n,t,r){const s=e[Pl];throw n[jh]&&s.unshift(n[jh]),e.message=function qE(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=yt(n);if(Array.isArray(n))s=n.map(yt).join(" -> ");else if("object"==typeof n){let d=[];for(let x in n)if(n.hasOwnProperty(x)){let R=n[x];d.push(x+":"+("string"==typeof R?JSON.stringify(R):yt(R)))}s=`{${d.join(", ")}}`}return`${t}${r?"("+r+")":""}[${s}]: ${e.replace(QE,"\n  ")}`}("\n"+e.message,s,t,r),e.ngTokenPath=s,e[Pl]=null,e}(x,n,"R3InjectorError",this.source)}throw x}finally{dr(d),Hh(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(n=>this.get(n))}toString(){const n=[];return this.records.forEach((r,s)=>n.push(yt(s))),`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ht(205,!1)}processInjectorType(n,t,r){if(!(n=at(n)))return!1;let s=el(n);const d=null==s&&n.ngModule||void 0,x=void 0===d?n:d,R=-1!==r.indexOf(x);if(void 0!==d&&(s=el(d)),null==s)return!1;if(null!=s.imports&&!R){let k;r.push(x);try{wr(s.imports,Z=>{this.processInjectorType(Z,t,r)&&(void 0===k&&(k=[]),k.push(Z))})}finally{}if(void 0!==k)for(let Z=0;Z<k.length;Z++){const{ngModule:ee,providers:re}=k[Z];wr(re,le=>this.processProvider(le,ee,re||Mt))}}this.injectorDefTypes.add(x);const N=ei(x)||(()=>new x);this.records.set(x,Gi(N,ca));const _=s.providers;if(null!=_&&!R){const k=n;wr(_,Z=>this.processProvider(Z,k,_))}return void 0!==d&&void 0!==n.providers}processProvider(n,t,r){let s=Ji(n=at(n))?n:at(n&&n.provide);const d=function m0(e,n,t){return mm(e)?Gi(void 0,e.useValue):Gi(gm(e),ca)}(n);if(Ji(n)||!0!==n.multi)this.records.get(s);else{let x=this.records.get(s);x||(x=Gi(void 0,ca,!0),x.factory=()=>Ac(x.multi),this.records.set(s,x)),s=n,x.multi.push(n)}this.records.set(s,d)}hydrate(n,t){return t.value===ca&&(t.value=p0,t.value=t.factory()),"object"==typeof t.value&&t.value&&function P0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=at(n.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function wd(e){const n=Ls(e),t=null!==n?n.factory:ei(e);if(null!==t)return t;if(e instanceof gt)throw new ht(204,!1);if(e instanceof Function)return function g0(e){const n=e.length;if(n>0)throw Js(n,"?"),new ht(204,!1);const t=function Ku(e){const n=e&&(e[Oi]||e[tl]);if(n){const t=function Gu(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new ht(204,!1)}function gm(e,n,t){let r;if(Ji(e)){const s=at(e);return ei(s)||wd(s)}if(mm(e))r=()=>at(e.useValue);else if(function v0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ac(e.deps||[]));else if(function y0(e){return!(!e||!e.useExisting)}(e))r=()=>et(at(e.useExisting));else{const s=at(e&&(e.useClass||e.provide));if(!function b0(e){return!!e.deps}(e))return ei(s)||wd(s);r=()=>new s(...Ac(e.deps))}return r}function Gi(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function mm(e){return null!==e&&"object"==typeof e&&UE in e}function Ji(e){return"function"==typeof e}let Ln=(()=>{class e{static create(t,r){var s;if(Array.isArray(t))return pm({name:""},r,t,"");{const d=null!==(s=t.name)&&void 0!==s?s:"";return pm({name:d},t.parent,t.providers,d)}}}return e.THROW_IF_NOT_FOUND=Zs,e.NULL=new dm,e.\u0275prov=pt({token:e,providedIn:"any",factory:()=>et(Od)}),e.__NG_ELEMENT_ID__=-1,e})();function w0(e,n){cl(Nc(e)[1],rn())}function be(e){let n=function Vm(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let s;if(fn(e))s=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new ht(903,"");s=n.\u0275dir}if(s){if(t){r.push(s);const x=e;x.inputs=Ad(e.inputs),x.declaredInputs=Ad(e.declaredInputs),x.outputs=Ad(e.outputs);const R=s.hostBindings;R&&L0(e,R);const N=s.viewQuery,_=s.contentQueries;if(N&&R0(e,N),_&&A0(e,_),co(e.inputs,s.inputs),co(e.declaredInputs,s.declaredInputs),co(e.outputs,s.outputs),fn(s)&&s.data.animation){const k=e.data;k.animation=(k.animation||[]).concat(s.data.animation)}}const d=s.features;if(d)for(let x=0;x<d.length;x++){const R=d[x];R&&R.ngInherit&&R(e),R===be&&(t=!1)}}n=Object.getPrototypeOf(n)}!function S0(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=n+=s.hostVars,s.hostAttrs=hl(s.hostAttrs,t=hl(t,s.hostAttrs))}}(r)}function Ad(e){return e===kr?{}:e===Mt?[]:e}function R0(e,n){const t=e.viewQuery;e.viewQuery=t?(r,s)=>{n(r,s),t(r,s)}:n}function A0(e,n){const t=e.contentQueries;e.contentQueries=t?(r,s,d)=>{n(r,s,d),t(r,s,d)}:n}function L0(e,n){const t=e.hostBindings;e.hostBindings=t?(r,s)=>{n(r,s),t(r,s)}:n}let Nl=null;function Zi(){if(!Nl){const e=xt.Symbol;if(e&&e.iterator)Nl=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nl=r)}}}return Nl}function da(e){return!!function Ld(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Zi()in e)}function Br(e,n,t){return e[n]=t}function fa(e,n){return e[n]}function Dn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function oi(e,n,t,r){const s=Dn(e,n,t);return Dn(e,n+1,r)||s}function Me(e,n,t,r){const s=Ce();return Dn(s,Li(),n)&&(vt(),Fr(zt(),s,e,n,t,r)),Me}function G(e,n,t,r,s,d,x,R){const N=Ce(),_=vt(),k=e+20,Z=_.firstCreatePass?function _0(e,n,t,r,s,d,x,R,N){const _=n.consts,k=$i(n,e,4,x||null,vo(_,R));bd(n,t,k,vo(_,N)),cl(n,k);const Z=k.tViews=Ll(2,k,r,s,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,_);return null!==n.queries&&(n.queries.template(n,k),Z.queries=n.queries.embeddedTView(k)),k}(k,_,N,n,t,r,s,d,x):_.data[k];Mr(Z,!1);const ee=N[11].createComment("");xl(_,N,ee,Z),En(ee,N),Fl(N,N[k]=om(ee,N,ee,Z)),Xo(Z)&&vd(_,N,Z),null!=x&&Cd(N,Z,R)}function sn(e){return Ai(function aE(){return it.lFrame.contextLView}(),20+e)}function ve(e,n=nt.Default){const t=Ce();return null===t?et(e,n):Vh(rn(),t,at(e),n)}function Q(e,n,t){const r=Ce();return Dn(r,Li(),n)&&Jn(vt(),zt(),r,e,n,r[11],t,!1),Q}function Hd(e,n,t,r,s){const x=s?"class":"style";cm(e,t,n.inputs[x],x,r)}function te(e,n,t,r){const s=Ce(),d=vt(),x=20+e,R=s[11],N=s[x]=zc(R,n,function mE(){return it.lFrame.currentNamespace}()),_=d.firstCreatePass?function uI(e,n,t,r,s,d,x){const R=n.consts,_=$i(n,e,2,s,vo(R,d));return bd(n,t,_,vo(R,x)),null!==_.attrs&&Bl(_,_.attrs,!1),null!==_.mergedAttrs&&Bl(_,_.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,_),_}(x,d,s,0,n,t,r):d.data[x];Mr(_,!0);const k=_.mergedAttrs;null!==k&&pl(R,N,k);const Z=_.classes;null!==Z&&Jc(R,N,Z);const ee=_.styles;return null!==ee&&hg(R,N,ee),64!=(64&_.flags)&&xl(d,s,N,_),0===function nE(){return it.lFrame.elementDepthCount}()&&En(N,s),function rE(){it.lFrame.elementDepthCount++}(),Xo(_)&&(vd(d,s,_),$g(d,_,s)),null!==r&&Cd(s,_),te}function ne(){let e=rn();gc()?mc():(e=e.parent,Mr(e,!1));const n=e;!function oE(){it.lFrame.elementDepthCount--}();const t=vt();return t.firstCreatePass&&(cl(t,e),Si(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function PE(e){return 0!=(16&e.flags)}(n)&&Hd(t,n,Ce(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function EE(e){return 0!=(32&e.flags)}(n)&&Hd(t,n,Ce(),n.stylesWithoutHost,!1),ne}function ae(e,n,t,r){return te(e,n,t,r),ne(),ae}function Be(e,n,t){const r=Ce(),s=vt(),d=e+20,x=s.firstCreatePass?function cI(e,n,t,r,s){const d=n.consts,x=vo(d,r),R=$i(n,e,8,"ng-container",x);return null!==x&&Bl(R,x,!0),bd(n,t,R,vo(d,s)),null!==n.queries&&n.queries.elementStart(n,R),R}(d,s,r,n,t):s.data[d];Mr(x,!0);const R=r[d]=r[11].createComment("");return xl(s,r,R,x),En(R,r),Xo(x)&&(vd(s,r,x),$g(s,x,r)),null!=t&&Cd(r,x),Be}function Ne(){let e=rn();const n=vt();return gc()?mc():(e=e.parent,Mr(e,!1)),n.firstCreatePass&&(cl(n,e),Si(e)&&n.queries.elementEnd(e)),Ne}function Gt(e,n,t){return Be(e,n,t),Ne(),Gt}function Ge(){return Ce()}function Ql(e){return!!e&&"function"==typeof e.then}const Gm=function Km(e){return!!e&&"function"==typeof e.subscribe};function Oe(e,n,t,r){const s=Ce(),d=vt(),x=rn();return function Zm(e,n,t,r,s,d,x,R){const N=Xo(r),k=e.firstCreatePass&&am(e),Z=n[8],ee=sm(n);let re=!0;if(3&r.type||R){const De=kn(r,n),Pe=R?R(De):De,pe=ee.length,$e=R?ut=>R(Xt(ut[r.index])):r.index;if($t(t)){let ut=null;if(!R&&N&&(ut=function dI(e,n,t,r){const s=e.cleanup;if(null!=s)for(let d=0;d<s.length-1;d+=2){const x=s[d];if(x===t&&s[d+1]===r){const R=n[7],N=s[d+2];return R.length>N?R[N]:null}"string"==typeof x&&(d+=2)}return null}(e,n,s,r.index)),null!==ut)(ut.__ngLastListenerFn__||ut).__ngNextListenerFn__=d,ut.__ngLastListenerFn__=d,re=!1;else{d=Qd(r,n,Z,d,!1);const Pt=t.listen(Pe,s,d);ee.push(d,Pt),k&&k.push(s,$e,pe,pe+1)}}else d=Qd(r,n,Z,d,!0),Pe.addEventListener(s,d,x),ee.push(d),k&&k.push(s,$e,pe,x)}else d=Qd(r,n,Z,d,!1);const le=r.outputs;let ge;if(re&&null!==le&&(ge=le[s])){const De=ge.length;if(De)for(let Pe=0;Pe<De;Pe+=2){const Zn=n[ge[Pe]][ge[Pe+1]].subscribe(d),hi=ee.length;ee.push(d,Zn),k&&k.push(s,r.index,hi,-(hi+1))}}}(d,s,s[11],x,e,n,!!t,r),Oe}function Ym(e,n,t,r){try{return!1!==t(r)}catch(s){return um(e,s),!1}}function Qd(e,n,t,r,s){return function d(x){if(x===Function)return r;const R=2&e.flags?$n(e.index,n):n;0==(32&n[2])&&Dd(R);let N=Ym(n,0,r,x),_=d.__ngNextListenerFn__;for(;_;)N=Ym(n,0,_,x)&&N,_=_.__ngNextListenerFn__;return s&&!1===N&&(x.preventDefault(),x.returnValue=!1),N}}function $(e=1){return function fE(e){return(it.lFrame.contextLView=function pE(e,n){for(;e>0;)n=n[15],e--;return n}(e,it.lFrame.contextLView))[8]}(e)}function fI(e,n){let t=null;const r=function bT(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let s=0;s<n.length;s++){const d=n[s];if("*"!==d){if(null===r?Sg(e,d,!0):DT(r,d))return s}else t=s}return t}function _l(e){const n=Ce()[16][6];if(!n.projection){const r=n.projection=Js(e?e.length:1,null),s=r.slice();let d=n.child;for(;null!==d;){const x=e?fI(d,e):0;null!==x&&(s[x]?s[x].projectionNext=d:r[x]=d,s[x]=d),d=d.next}}}function Ul(e,n=0,t){const r=Ce(),s=vt(),d=$i(s,20+e,16,null,t||null);null===d.projection&&(d.projection=n),mc(),64!=(64&d.flags)&&function TD(e,n,t){pg(n[11],0,n,t,og(e,t,n),lg(t.parent||n[6],t,n))}(s,r,d)}function ly(e,n,t,r,s){const d=e[t+1],x=null===n;let R=r?pr(d):Zr(d),N=!1;for(;0!==R&&(!1===N||x);){const k=e[R+1];gI(e[R],n)&&(N=!0,e[R+1]=r?ld(k):sd(k)),R=r?pr(k):Zr(k)}N&&(e[t+1]=r?sd(d):ld(d))}function gI(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ui(e,n)>=0}const an={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function uy(e){return e.substring(an.key,an.keyEnd)}function mI(e){return e.substring(an.value,an.valueEnd)}function cy(e,n){const t=an.textEnd;return t===n?-1:(n=an.keyEnd=function CI(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,an.key=n,t),ls(e,n,t))}function dy(e,n){const t=an.textEnd;let r=an.key=ls(e,n,t);return t===r?-1:(r=an.keyEnd=function bI(e,n,t){let r;for(;n<t&&(45===(r=e.charCodeAt(n))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)n++;return n}(e,r,t),r=py(e,r,t),r=an.value=ls(e,r,t),r=an.valueEnd=function PI(e,n,t){let r=-1,s=-1,d=-1,x=n,R=x;for(;x<t;){const N=e.charCodeAt(x++);if(59===N)return R;34===N||39===N?R=x=hy(e,N,x,t):n===x-4&&85===d&&82===s&&76===r&&40===N?R=x=hy(e,41,x,t):N>32&&(R=x),d=s,s=r,r=-33&N}return R}(e,r,t),py(e,r,t))}function fy(e){an.key=0,an.keyEnd=0,an.value=0,an.valueEnd=0,an.textEnd=e.length}function ls(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function py(e,n,t,r){return(n=ls(e,n,t))<t&&n++,n}function hy(e,n,t,r){let s=-1,d=t;for(;d<r;){const x=e.charCodeAt(d++);if(x==n&&92!==s)return d;s=92==x&&92===s?0:x}throw new Error}function Jt(e,n,t){return gr(e,n,t,!1),Jt}function zl(e,n){return gr(e,n,null,!0),zl}function Vt(e){mr(yy,EI,e,!1)}function EI(e,n){for(let t=function vI(e){return fy(e),dy(e,ls(e,0,an.textEnd))}(n);t>=0;t=dy(n,t))yy(e,uy(n),mI(n))}function Y(e){mr(qn,Nr,e,!0)}function Nr(e,n){for(let t=function yI(e){return fy(e),cy(e,ls(e,0,an.textEnd))}(n);t>=0;t=cy(n,t))qn(e,uy(n),!0)}function gr(e,n,t,r){const s=Ce(),d=vt(),x=Jr(2);d.firstUpdatePass&&my(d,e,x,r),n!==st&&Dn(s,x,n)&&vy(d,d.data[Rn()],s,s[11],e,s[x+1]=function MI(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=yt(Gn(e)))),e}(n,t),r,x)}function mr(e,n,t,r){const s=vt(),d=Jr(2);s.firstUpdatePass&&my(s,null,d,r);const x=Ce();if(t!==st&&Dn(x,d,t)){const R=s.data[Rn()];if(by(R,r)&&!gy(s,d)){let N=r?R.classesWithoutHost:R.stylesWithoutHost;null!==N&&(t=fo(N,t||"")),Hd(s,R,x,t,r)}else!function VI(e,n,t,r,s,d,x,R){s===st&&(s=Mt);let N=0,_=0,k=0<s.length?s[0]:null,Z=0<d.length?d[0]:null;for(;null!==k||null!==Z;){const ee=N<s.length?s[N+1]:void 0,re=_<d.length?d[_+1]:void 0;let ge,le=null;k===Z?(N+=2,_+=2,ee!==re&&(le=Z,ge=re)):null===Z||null!==k&&k<Z?(N+=2,le=k):(_+=2,le=Z,ge=re),null!==le&&vy(e,n,t,r,le,ge,x,R),k=N<s.length?s[N]:null,Z=_<d.length?d[_]:null}}(s,R,x,x[11],x[d+1],x[d+1]=function OI(e,n,t){if(null==t||""===t)return Mt;const r=[],s=Gn(t);if(Array.isArray(s))for(let d=0;d<s.length;d++)e(r,s[d],!0);else if("object"==typeof s)for(const d in s)s.hasOwnProperty(d)&&e(r,d,s[d]);else"string"==typeof s&&n(r,s);return r}(e,n,t),r,d)}}function gy(e,n){return n>=e.expandoStartIndex}function my(e,n,t,r){const s=e.data;if(null===s[t+1]){const d=s[Rn()],x=gy(e,t);by(d,r)&&null===n&&!x&&(n=!1),n=function DI(e,n,t,r){const s=function vc(e){const n=it.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=r?n.residualClasses:n.residualStyles;if(null===s)0===(r?n.classBindings:n.styleBindings)&&(t=pa(t=Ud(null,e,n,t,r),n.attrs,r),d=null);else{const x=n.directiveStylingLast;if(-1===x||e[x]!==s)if(t=Ud(s,e,n,t,r),null===d){let N=function TI(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Zr(r))return e[pr(r)]}(e,n,r);void 0!==N&&Array.isArray(N)&&(N=Ud(null,e,n,N[1],r),N=pa(N,n.attrs,r),function II(e,n,t,r){e[pr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,N))}else d=function xI(e,n,t){let r;const s=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<s;d++)r=pa(r,e[d].hostAttrs,t);return pa(r,n.attrs,t)}(e,n,r)}return void 0!==d&&(r?n.residualClasses=d:n.residualStyles=d),t}(s,d,n,r),function pI(e,n,t,r,s,d){let x=d?n.classBindings:n.styleBindings,R=pr(x),N=Zr(x);e[r]=t;let k,_=!1;if(Array.isArray(t)){const Z=t;k=Z[1],(null===k||Ui(Z,k)>0)&&(_=!0)}else k=t;if(s)if(0!==N){const ee=pr(e[R+1]);e[r+1]=Sl(ee,R),0!==ee&&(e[ee+1]=ad(e[ee+1],r)),e[R+1]=function OT(e,n){return 131071&e|n<<17}(e[R+1],r)}else e[r+1]=Sl(R,0),0!==R&&(e[R+1]=ad(e[R+1],r)),R=r;else e[r+1]=Sl(N,0),0===R?R=r:e[N+1]=ad(e[N+1],r),N=r;_&&(e[r+1]=sd(e[r+1])),ly(e,k,r,!0),ly(e,k,r,!1),function hI(e,n,t,r,s){const d=s?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Ui(d,n)>=0&&(t[r+1]=ld(t[r+1]))}(n,k,e,r,d),x=Sl(R,N),d?n.classBindings=x:n.styleBindings=x}(s,d,n,t,x,r)}}function Ud(e,n,t,r,s){let d=null;const x=t.directiveEnd;let R=t.directiveStylingLast;for(-1===R?R=t.directiveStart:R++;R<x&&(d=n[R],r=pa(r,d.hostAttrs,s),d!==e);)R++;return null!==e&&(t.directiveStylingLast=R),r}function pa(e,n,t){const r=t?1:2;let s=-1;if(null!==n)for(let d=0;d<n.length;d++){const x=n[d];"number"==typeof x?s=x:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),qn(e,x,!!t||n[++d]))}return void 0===e?null:e}function yy(e,n,t){qn(e,n,Gn(t))}function vy(e,n,t,r,s,d,x,R){if(!(3&n.type))return;const N=e.data,_=N[R+1];Wl(function Bg(e){return 1==(1&e)}(_)?Cy(N,n,t,s,Zr(_),x):void 0)||(Wl(d)||function Fg(e){return 2==(2&e)}(_)&&(d=Cy(N,null,t,s,R,x)),function xD(e,n,t,r,s){const d=$t(e);if(n)s?d?e.addClass(t,r):t.classList.add(r):d?e.removeClass(t,r):t.classList.remove(r);else{let x=-1===r.indexOf("-")?void 0:Kn.DashCase;if(null==s)d?e.removeStyle(t,r,x):t.style.removeProperty(r);else{const R="string"==typeof s&&s.endsWith("!important");R&&(s=s.slice(0,-10),x|=Kn.Important),d?e.setStyle(t,r,s,x):t.style.setProperty(r,s,R?"important":"")}}}(r,x,il(Rn(),t),s,d))}function Cy(e,n,t,r,s,d){const x=null===n;let R;for(;s>0;){const N=e[s],_=Array.isArray(N),k=_?N[1]:N,Z=null===k;let ee=t[s+1];ee===st&&(ee=Z?Mt:void 0);let re=Z?wc(ee,r):k===r?ee:void 0;if(_&&!Wl(re)&&(re=wc(N,r)),Wl(re)&&(R=re,x))return R;const le=e[s+1];s=x?pr(le):Zr(le)}if(null!==n){let N=d?n.residualClasses:n.residualStyles;null!=N&&(R=wc(N,r))}return R}function Wl(e){return void 0!==e}function by(e,n){return 0!=(e.flags&(n?16:32))}function ze(e,n=""){const t=Ce(),r=vt(),s=e+20,d=r.firstCreatePass?$i(r,s,1,n,null):r.data[s],x=t[s]=function Uc(e,n){return $t(e)?e.createText(n):e.createTextNode(n)}(t[11],n);xl(r,t,x,d),Mr(d,!1)}function qe(e){return To("",e,""),qe}function To(e,n,t){const r=Ce(),s=function Xi(e,n,t,r){return Dn(e,Li(),t)?n+Xe(t)+r:st}(r,e,n,t);return s!==st&&Yr(r,Rn(),s),To}function zd(e,n,t){const r=Ce();return Dn(r,Li(),n)&&Jn(vt(),zt(),r,e,n,r[11],t,!0),zd}const kl="en-US";let _y=kl;function $d(e,n,t,r,s){if(e=at(e),Array.isArray(e))for(let d=0;d<e.length;d++)$d(e[d],n,t,r,s);else{const d=vt(),x=Ce();let R=Ji(e)?e:at(e.provide),N=gm(e);const _=rn(),k=1048575&_.providerIndexes,Z=_.directiveStart,ee=_.providerIndexes>>20;if(Ji(e)||!e.multi){const re=new Ws(N,s,ve),le=Kd(R,n,s?k:k+ee,Z);-1===le?(yl($s(_,x),d,R),qd(d,e,n.length),n.push(R),_.directiveStart++,_.directiveEnd++,s&&(_.providerIndexes+=1048576),t.push(re),x.push(re)):(t[le]=re,x[le]=re)}else{const re=Kd(R,n,k+ee,Z),le=Kd(R,n,k,k+ee),ge=re>=0&&t[re],De=le>=0&&t[le];if(s&&!De||!s&&!ge){yl($s(_,x),d,R);const Pe=function Kx(e,n,t,r,s){const d=new Ws(e,t,ve);return d.multi=[],d.index=n,d.componentProviders=0,dv(d,s,r&&!t),d}(s?qx:$x,t.length,s,r,N);!s&&De&&(t[le].providerFactory=Pe),qd(d,e,n.length,0),n.push(R),_.directiveStart++,_.directiveEnd++,s&&(_.providerIndexes+=1048576),t.push(Pe),x.push(Pe)}else qd(d,e,re>-1?re:le,dv(t[s?le:re],N,!s&&r));!s&&r&&De&&t[le].componentProviders++}}}function qd(e,n,t,r){const s=Ji(n),d=function C0(e){return!!e.useClass}(n);if(s||d){const N=(d?at(n.useClass):n).prototype.ngOnDestroy;if(N){const _=e.destroyHooks||(e.destroyHooks=[]);if(!s&&n.multi){const k=_.indexOf(t);-1===k?_.push(t,[r,N]):_[k+1].push(r,N)}else _.push(t,N)}}}function dv(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Kd(e,n,t,r){for(let s=t;s<r;s++)if(n[s]===e)return s;return-1}function $x(e,n,t,r){return Gd(this.multi,[])}function qx(e,n,t,r){const s=this.multi;let d;if(this.providerFactory){const x=this.providerFactory.componentProviders,R=qs(t,t[1],this.providerFactory.index,r);d=R.slice(0,x),Gd(s,d);for(let N=x;N<R.length;N++)d.push(R[N])}else d=[],Gd(s,d);return d}function Gd(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Qt(e,n=[]){return t=>{t.providersResolver=(r,s)=>function kx(e,n,t){const r=vt();if(r.firstCreatePass){const s=fn(e);$d(t,r.data,r.blueprint,s,!0),$d(n,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,n)}}class fv{}class Zx{resolveComponentFactory(n){throw function Jx(e){const n=Error(`No component factory found for ${yt(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let ds=(()=>{class e{}return e.NULL=new Zx,e})();function Yx(){return fs(rn(),Ce())}function fs(e,n){return new gn(kn(e,n))}let gn=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=Yx,e})();function Xx(e){return e instanceof gn?e.nativeElement:e}class hv{}let si=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function tO(){const e=Ce(),t=$n(rn().index,e);return function eO(e){return e[11]}(tr(t)?t:e)}(),e})(),nO=(()=>{class e{}return e.\u0275prov=pt({token:e,providedIn:"root",factory:()=>null}),e})();class Jl{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const rO=new Jl("13.3.12"),Jd={};function Zl(e,n,t,r,s=!1){for(;null!==t;){const d=n[t.index];if(null!==d&&r.push(Xt(d)),_n(d))for(let R=10;R<d.length;R++){const N=d[R],_=N[1].firstChild;null!==_&&Zl(N[1],N,_,r)}const x=t.type;if(8&x)Zl(e,n,t.child,r);else if(32&x){const R=Hc(t,n);let N;for(;N=R();)r.push(N)}else if(16&x){const R=fg(n,t);if(Array.isArray(R))r.push(...R);else{const N=na(n[16]);Zl(N[1],N,R,r,!0)}}t=s?t.projectionNext:t.next}return r}class va{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return Zl(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(_n(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Wc(n,r),Cl(t,r))}this._attachedToViewContainer=!1}rg(this._lView[1],this._lView)}onDestroy(n){Jg(this._lView[1],this._lView,null,n)}markForCheck(){Dd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Id(e,n,t){const r=n[10];r.begin&&r.begin();try{Ki(e,n,e.template,t)}catch(s){throw um(n,s),s}finally{r.end&&r.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ht(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mD(e,n){ra(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new ht(902,"");this._appRef=n}}class oO extends va{constructor(n){super(n),this._view=n}detectChanges(){im(this._view)}checkNoChanges(){}get context(){return null}}class gv extends ds{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=jt(n);return new Zd(t,this.ngModule)}}function mv(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class Zd extends fv{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function IT(e){return e.map(TT).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return mv(this.componentDef.inputs)}get outputs(){return mv(this.componentDef.outputs)}create(n,t,r,s){const d=(s=s||this.ngModule)?function sO(e,n){return{get:(t,r,s)=>{const d=e.get(t,Jd,s);return d!==Jd||r===Jd?d:n.get(t,r,s)}}}(n,s.injector):n,x=d.get(hv,sh),R=d.get(nO,null),N=x.createRenderer(null,this.componentDef),_=this.componentDef.selectors[0][0]||"div",k=r?function Gg(e,n,t){if($t(e))return e.selectRootElement(n,t===er.ShadowDom);let r="string"==typeof n?e.querySelector(n):n;return r.textContent="",r}(N,r,this.componentDef.encapsulation):zc(x.createRenderer(null,this.componentDef),_,function iO(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(_)),Z=this.componentDef.onPush?576:528,ee=function Om(e,n){return{components:[],scheduler:e||fT,clean:c0,playerHandler:n||null,flags:0}}(),re=Ll(0,null,null,1,0,null,null,null,null,null),le=la(null,re,ee,Z,null,null,x,N,R,d);let ge,De;al(le);try{const Pe=function Im(e,n,t,r,s,d){const x=t[1];t[20]=e;const N=$i(x,20,2,"#host",null),_=N.mergedAttrs=n.hostAttrs;null!==_&&(Bl(N,_,!0),null!==e&&(pl(s,e,_),null!==N.classes&&Jc(s,e,N.classes),null!==N.styles&&hg(s,e,N.styles)));const k=r.createRenderer(e,n),Z=la(t,qg(n),null,n.onPush?64:16,t[20],N,r,k,d||null,null);return x.firstCreatePass&&(yl($s(N,t),x,n.type),tm(x,N),nm(N,t.length,1)),Fl(t,Z),t[20]=Z}(k,this.componentDef,le,x,N);if(k)if(r)pl(N,k,["ng-version",rO.full]);else{const{attrs:pe,classes:$e}=function xT(e){const n=[],t=[];let r=1,s=2;for(;r<e.length;){let d=e[r];if("string"==typeof d)2===s?""!==d&&n.push(d,e[++r]):8===s&&t.push(d);else{if(!fr(s))break;s=d}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);pe&&pl(N,k,pe),$e&&$e.length>0&&Jc(N,k,$e.join(" "))}if(De=fc(re,20),void 0!==t){const pe=De.projection=[];for(let $e=0;$e<this.ngContentSelectors.length;$e++){const ut=t[$e];pe.push(null!=ut?Array.from(ut):null)}}ge=function xm(e,n,t,r,s){const d=t[1],x=function qT(e,n,t){const r=rn();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),rm(e,r,n,qi(e,n,1,null),t));const s=qs(n,e,r.directiveStart,r);En(s,n);const d=kn(r,n);return d&&En(d,n),s}(d,t,n);if(r.components.push(x),e[8]=x,s&&s.forEach(N=>N(x,n)),n.contentQueries){const N=rn();n.contentQueries(1,x,N.directiveStart)}const R=rn();return!d.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Co(R.index),Xg(t[1],R,0,R.directiveStart,R.directiveEnd,n),em(n,x)),x}(Pe,this.componentDef,le,ee,[w0]),ua(re,le,null)}finally{ll()}return new lO(this.componentType,ge,fs(De,le),le,De)}}class lO extends class Gx{}{constructor(n,t,r,s,d){super(),this.location=r,this._rootLView=s,this._tNode=d,this.instance=t,this.hostView=this.changeDetectorRef=new oO(s),this.componentType=n}get injector(){return new Ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}class ps{}const hs=new Map;class Cv extends ps{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new gv(this);const r=wn(n);this._bootstrapComponents=Lr(r.bootstrap),this._r3Injector=hm(n,t,[{provide:ps,useValue:this},{provide:ds,useValue:this.componentFactoryResolver}],yt(n)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(n)}get(n,t=Ln.THROW_IF_NOT_FOUND,r=nt.Default){return n===Ln||n===ps||n===Od?this:this._r3Injector.get(n,t,r)}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Yd extends class cO{}{constructor(n){super(),this.moduleType=n,null!==wn(n)&&function dO(e){const n=new Set;!function t(r){const s=wn(r,!0),d=s.id;null!==d&&(function yv(e,n,t){if(n&&n!==t)throw new Error(`Duplicate module registered for ${e} - ${yt(n)} vs ${yt(n.name)}`)}(d,hs.get(d),r),hs.set(d,r));const x=Lr(s.imports);for(const R of x)n.has(R)||(n.add(R),t(R))}(e)}(n)}create(n){return new Cv(this.moduleType,n)}}function Xd(e,n,t){const r=Sn()+e,s=Ce();return s[r]===st?Br(s,r,t?n.call(t):n()):fa(s,r)}function tt(e,n,t,r){return Pv(Ce(),Sn(),e,n,t,r)}function We(e,n,t,r,s){return function Ev(e,n,t,r,s,d,x){const R=n+t;return oi(e,R,s,d)?Br(e,R+2,x?r.call(x,s,d):r(s,d)):ba(e,R+2)}(Ce(),Sn(),e,n,t,r,s)}function Ca(e,n,t,r,s,d){return function Dv(e,n,t,r,s,d,x,R){const N=n+t;return function jl(e,n,t,r,s){const d=oi(e,n,t,r);return Dn(e,n+2,s)||d}(e,N,s,d,x)?Br(e,N+3,R?r.call(R,s,d,x):r(s,d,x)):ba(e,N+3)}(Ce(),Sn(),e,n,t,r,s,d)}function bv(e,n,t,r,s,d,x,R){const N=Sn()+e,_=Ce(),k=function or(e,n,t,r,s,d){const x=oi(e,n,t,r);return oi(e,n+2,s,d)||x}(_,N,t,r,s,d);return Dn(_,N+4,x)||k?Br(_,N+5,R?n.call(R,t,r,s,d,x):n(t,r,s,d,x)):fa(_,N+5)}function ba(e,n){const t=e[n];return t===st?void 0:t}function Pv(e,n,t,r,s,d){const x=n+t;return Dn(e,x,s)?Br(e,x+1,d?r.call(d,s):r(s)):ba(e,x+1)}function Xr(e,n){const t=vt();let r;const s=e+20;t.firstCreatePass?(r=function yO(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[s]=r,r.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(s,r.onDestroy)):r=t.data[s];const d=r.factory||(r.factory=ei(r.type)),x=dr(ve);try{const R=gl(!1),N=d();return gl(R),function U0(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Ce(),s,N),N}finally{dr(x)}}function eo(e,n,t){const r=e+20,s=Ce(),d=Ai(s,r);return function Pa(e,n){return e[1].data[n].pure}(s,r)?Pv(s,Sn(),n,d.transform,t,d):d.transform(t)}function ef(e){return n=>{setTimeout(e,void 0,n)}}const Tn=class EO extends ie{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){var s,d,x;let R=n,N=t||(()=>null),_=r;if(n&&"object"==typeof n){const Z=n;R=null===(s=Z.next)||void 0===s?void 0:s.bind(Z),N=null===(d=Z.error)||void 0===d?void 0:d.bind(Z),_=null===(x=Z.complete)||void 0===x?void 0:x.bind(Z)}this.__isAsync&&(N=ef(N),R&&(R=ef(R)),_&&(_=ef(_)));const k=super.subscribe({next:R,error:N,complete:_});return n instanceof F&&n.add(k),k}};function DO(){return this._results[Zi()]()}class tf{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Zi(),r=tf.prototype;r[t]||(r[t]=DO)}get changes(){return this._changes||(this._changes=new Tn)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const s=rr(n);(this._changesDetected=!function SE(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],d=n[r];if(t&&(s=t(s),d=t(d)),d!==s)return!1}return!0}(r._results,s,t))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let yr=(()=>{class e{}return e.__NG_ELEMENT_ID__=xO,e})();const TO=yr,IO=class extends TO{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n){const t=this._declarationTContainer.tViews,r=la(this._declarationLView,t,n,16,null,t.declTNode,null,null,null,null);r[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(r[19]=d.createEmbeddedView(t)),ua(t,r,n),new va(r)}};function xO(){return Yl(rn(),Ce())}function Yl(e,n){return 4&e.type?new IO(n,e,fs(e,n)):null}let ln=(()=>{class e{}return e.__NG_ELEMENT_ID__=OO,e})();function OO(){return Vv(rn(),Ce())}const VO=ln,xv=class extends VO{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Ni(this._hostTNode,this._hostLView)}get parentInjector(){const n=ml(this._hostTNode,this._hostLView);if(Dh(n)){const t=Bi(n,this._hostLView),r=Fi(n);return new Ni(t[1].data[r+8],t)}return new Ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=Ov(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){const s=n.createEmbeddedView(t||{});return this.insert(s,r),s}createComponent(n,t,r,s,d){const x=n&&!function Gs(e){return"function"==typeof e}(n);let R;if(x)R=t;else{const Z=t||{};R=Z.index,r=Z.injector,s=Z.projectableNodes,d=Z.ngModuleRef}const N=x?n:new Zd(jt(n)),_=r||this.parentInjector;if(!d&&null==N.ngModule){const ee=(x?_:this.parentInjector).get(ps,null);ee&&(d=ee)}const k=N.create(_,s,void 0,d);return this.insert(k.hostView,R),k}insert(n,t){const r=n._lView,s=r[1];if(function tE(e){return _n(e[3])}(r)){const k=this.indexOf(n);if(-1!==k)this.detach(k);else{const Z=r[3],ee=new xv(Z,Z[6],Z[3]);ee.detach(ee.indexOf(n))}}const d=this._adjustIndex(t),x=this._lContainer;!function vD(e,n,t,r){const s=10+r,d=t.length;r>0&&(t[s-1][4]=n),r<d-10?(n[4]=t[s],Ah(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const x=n[17];null!==x&&t!==x&&function CD(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(x,n);const R=n[19];null!==R&&R.insertView(e),n[2]|=128}(s,r,x,d);const R=qc(d,x),N=r[11],_=Il(N,x[7]);return null!==_&&function gD(e,n,t,r,s,d){r[0]=s,r[6]=n,ra(e,r,t,1,s,d)}(s,x[6],N,r,_,R),n.attachToViewContainerRef(),Ah(nf(x),d,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=Ov(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Wc(this._lContainer,t);r&&(Cl(nf(this._lContainer),t),rg(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=Wc(this._lContainer,t);return r&&null!=Cl(nf(this._lContainer),t)?new va(r):null}_adjustIndex(n,t=0){return null==n?this.length+t:n}};function Ov(e){return e[8]}function nf(e){return e[8]||(e[8]=[])}function Vv(e,n){let t;const r=n[e.index];if(_n(r))t=r;else{let s;if(8&e.type)s=Xt(r);else{const d=n[11];s=d.createComment("");const x=kn(e,n);ti(d,Il(d,x),s,function DD(e,n){return $t(e)?e.nextSibling(n):n.nextSibling}(d,x),!1)}n[e.index]=t=om(r,n,s,e),Fl(n,t)}return new xv(t,e,n)}class rf{constructor(n){this.queryList=n,this.matches=null}clone(){return new rf(this.queryList)}setDirty(){this.queryList.setDirty()}}class of{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,s=[];for(let d=0;d<r;d++){const x=t.getByIndex(d);s.push(this.queries[x.indexInDeclarationView].clone())}return new of(s)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Av(n,t).matches&&this.queries[t].setDirty()}}class Mv{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class sf{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const s=null!==t?t.length:0,d=this.getByIndex(r).embeddedTView(n,s);d&&(d.indexInDeclarationView=r,null!==t?t.push(d):t=[d])}return null!==t?new sf(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class af{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new af(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const d=r[s];this.matchTNodeWithReadOption(n,t,SO(t,d)),this.matchTNodeWithReadOption(n,t,vl(t,n,d,!1,!1))}else r===yr?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,vl(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===gn||s===ln||s===yr&&4&t.type)this.addMatch(t.index,-2);else{const d=vl(t,n,s,!1,!1);null!==d&&this.addMatch(t.index,d)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function SO(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function AO(e,n,t,r){return-1===t?function RO(e,n){return 11&e.type?fs(e,n):4&e.type?Yl(e,n):null}(n,e):-2===t?function LO(e,n,t){return t===gn?fs(n,e):t===yr?Yl(n,e):t===ln?Vv(n,e):void 0}(e,n,r):qs(e,e[1],t,n)}function wv(e,n,t,r){const s=n[19].queries[r];if(null===s.matches){const d=e.data,x=t.matches,R=[];for(let N=0;N<x.length;N+=2){const _=x[N];R.push(_<0?null:AO(n,d[_],x[N+1],t.metadata.read))}s.matches=R}return s.matches}function lf(e,n,t,r){const s=e.queries.getByIndex(t),d=s.matches;if(null!==d){const x=wv(e,n,s,t);for(let R=0;R<d.length;R+=2){const N=d[R];if(N>0)r.push(x[R/2]);else{const _=d[R+1],k=n[-N];for(let Z=10;Z<k.length;Z++){const ee=k[Z];ee[17]===ee[3]&&lf(ee[1],ee,_,r)}if(null!==k[9]){const Z=k[9];for(let ee=0;ee<Z.length;ee++){const re=Z[ee];lf(re[1],re,_,r)}}}}}return r}function mn(e){const n=Ce(),t=vt(),r=hh();Cc(r+1);const s=Av(t,r);if(e.dirty&&ah(n)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const d=s.crossesNgTemplate?lf(t,n,r,[]):wv(t,n,s,r);e.reset(d,Xx),e.notifyOnChanges()}return!0}return!1}function yn(e,n,t){const r=vt();r.firstCreatePass&&(function Rv(e,n,t){null===e.queries&&(e.queries=new sf),e.queries.track(new af(n,t))}(r,new Mv(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),function Sv(e,n,t){const r=new tf(4==(4&t));Jg(e,n,r,r.destroy),null===n[19]&&(n[19]=new of),n[19].queries.push(new rf(r))}(r,Ce(),n)}function vn(){return function BO(e,n){return e[19].queries[n].queryList}(Ce(),hh())}function Av(e,n){return e.queries.getByIndex(n)}function ot(e,n){return Yl(e,n)}function tu(...e){}const Jv=new gt("Application Initializer");let hf=(()=>{class e{constructor(t){this.appInits=t,this.resolve=tu,this.reject=tu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const d=this.appInits[s]();if(Ql(d))t.push(d);else if(Gm(d)){const x=new Promise((R,N)=>{d.subscribe({complete:R,error:N})});t.push(x)}}Promise.all(t).then(()=>{r()}).catch(s=>{this.reject(s)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(et(Jv,8))},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Da=new gt("AppId",{providedIn:"root",factory:function Zv(){return`${gf()}${gf()}${gf()}`}});function gf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yv=new gt("Platform Initializer"),mf=new gt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),eV=new gt("appBootstrapListener"),Io=new gt("LocaleId",{providedIn:"root",factory:()=>WE(Io,nt.Optional|nt.SkipSelf)||function tV(){return"undefined"!=typeof $localize&&$localize.locale||kl}()}),iV=(()=>Promise.resolve(0))();function yf(e){"undefined"==typeof Zone?iV.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Nn{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tn(!1),this.onMicrotaskEmpty=new Tn(!1),this.onStable=new Tn(!1),this.onError=new Tn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&t,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function sV(){let e=xt.requestAnimationFrame,n=xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function uV(e){const n=()=>{!function lV(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cf(e),e.isCheckStableRunning=!0,vf(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cf(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,s,d,x,R)=>{try{return Xv(e),t.invokeTask(s,d,x,R)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&n(),eC(e)}},onInvoke:(t,r,s,d,x,R,N)=>{try{return Xv(e),t.invoke(s,d,x,R,N)}finally{e.shouldCoalesceRunChangeDetection&&n(),eC(e)}},onHasTask:(t,r,s,d)=>{t.hasTask(s,d),r===s&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,Cf(e),vf(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(t,r,s,d)=>(t.handleError(s,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(s)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,s){const d=this._inner,x=d.scheduleEventTask("NgZoneEvent: "+s,n,aV,tu,tu);try{return d.runTask(x,t,r)}finally{d.cancelTask(x)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const aV={};function vf(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cf(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Xv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eC(e){e._nesting--,vf(e)}class cV{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tn,this.onMicrotaskEmpty=new Tn,this.onStable=new Tn,this.onError=new Tn}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,s){return n.apply(t,r)}}let bf=(()=>{class e{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nn.assertNotInAngularZone(),yf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yf(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,s){let d=-1;r&&r>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==d),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:d,updateCb:s})}whenStable(t,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,r,s){return[]}}return e.\u0275fac=function(t){return new(t||e)(et(Nn))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),dV=(()=>{class e{constructor(){this._applications=new Map,Pf.addToWindow(this)}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Pf.findTestabilityInTree(this,t,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();class fV{addToWindow(n){}findTestabilityInTree(n,t,r){return null}}let Pf=new fV,ai=null;const tC=new gt("AllowMultipleToken"),nC=new gt("PlatformOnDestroy");function rC(e,n,t=[]){const r=`Platform: ${n}`,s=new gt(r);return(d=[])=>{let x=Ef();if(!x||x.injector.get(tC,!1)){const R=[...t,...d,{provide:s,useValue:!0}];e?e(R):function mV(e){if(ai&&!ai.get(tC,!1))throw new ht(400,"");ai=e;const n=e.get(oC),t=e.get(Yv,null);t&&t.forEach(r=>r())}(function vV(e=[],n){return Ln.create({name:n,providers:[{provide:Vd,useValue:"platform"},{provide:nC,useValue:()=>ai=null},...e]})}(R,r))}return function yV(e){const n=Ef();if(!n)throw new ht(401,"");return n}()}}function Ef(){var e;return null!==(e=null==ai?void 0:ai.get(oC))&&void 0!==e?e:null}let oC=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const R=function CV(e,n){let t;return t="noop"===e?new cV:("zone.js"===e?void 0:e)||new Nn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==n?void 0:n.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==n?void 0:n.ngZoneRunCoalescing)}),t}(r?r.ngZone:void 0,{ngZoneEventCoalescing:r&&r.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:r&&r.ngZoneRunCoalescing||!1}),N=[{provide:Nn,useValue:R}];return R.run(()=>{const _=Ln.create({providers:N,parent:this.injector,name:t.moduleType.name}),k=t.create(_),Z=k.injector.get(aa,null);if(!Z)throw new ht(402,"");return R.runOutsideAngular(()=>{const ee=R.onError.subscribe({next:re=>{Z.handleError(re)}});k.onDestroy(()=>{Tf(this._modules,k),ee.unsubscribe()})}),function bV(e,n,t){try{const r=t();return Ql(r)?r.catch(s=>{throw n.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(Z,R,()=>{const ee=k.injector.get(hf);return ee.runInitializers(),ee.donePromise.then(()=>(function ex(e){Mn(e,"Expected localeId to be defined"),"string"==typeof e&&(_y=e.toLowerCase().replace(/_/g,"-"))}(k.injector.get(Io,kl)||kl),this._moduleDoBootstrap(k),k))})})}bootstrapModule(t,r=[]){const s=iC({},r);return function hV(e,n,t){const r=new Yd(t);return Promise.resolve(r)}(0,0,t).then(d=>this.bootstrapModuleFactory(d,s))}_moduleDoBootstrap(t){const r=t.injector.get(Df);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(s=>r.bootstrap(s));else{if(!t.instance.ngDoBootstrap)throw new ht(403,"");t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ht(404,"");this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(nC,null);null==t||t(),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(et(Ln))},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function iC(e,n){return Array.isArray(n)?n.reduce(iC,e):Object.assign(Object.assign({},e),n)}let Df=(()=>{class e{constructor(t,r,s,d){this._zone=t,this._injector=r,this._exceptionHandler=s,this._initStatus=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const x=new I(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),R=new I(N=>{let _;this._zone.runOutsideAngular(()=>{_=this._zone.onStable.subscribe(()=>{Nn.assertNotInAngularZone(),yf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Nn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{_.unsubscribe(),k.unsubscribe()}});this.isStable=function Ka(...e){const n=ao(e),t=function Ii(e,n){return"number"==typeof Wo(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?ur(r[0]):function Ms(e=1/0){return so(C,e)}(t)(Dr(r,n)):_o}(x,R.pipe(function $o(e={}){const{connector:n=(()=>new ie),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return d=>{let x=null,R=null,N=null,_=0,k=!1,Z=!1;const ee=()=>{null==R||R.unsubscribe(),R=null},re=()=>{ee(),x=N=null,k=Z=!1},le=()=>{const ge=x;re(),null==ge||ge.unsubscribe()};return ue((ge,De)=>{_++,!Z&&!k&&ee();const Pe=N=null!=N?N:n();De.add(()=>{_--,0===_&&!Z&&!k&&(R=uo(le,s))}),Pe.subscribe(De),x||(x=new p({next:pe=>Pe.next(pe),error:pe=>{Z=!0,ee(),R=uo(re,t,pe),Pe.error(pe)},complete:()=>{k=!0,ee(),R=uo(re,r),Pe.complete()}}),Dr(ge).subscribe(x))})(d)}}()))}bootstrap(t,r){if(!this._initStatus.done)throw new ht(405,"");let s;s=t instanceof fv?t:this._injector.get(ds).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const d=function gV(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ps),R=s.create(Ln.NULL,[],r||s.selector,d),N=R.location.nativeElement,_=R.injector.get(bf,null),k=_&&R.injector.get(dV);return _&&k&&k.registerApplication(N,_),R.onDestroy(()=>{this.detachView(R.hostView),Tf(this.components,R),k&&k.unregisterApplication(N)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new ht(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Tf(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(eV,[]).concat(this._bootstrapListeners).forEach(s=>s(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(et(Nn),et(Ln),et(aa),et(hf))},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Tf(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let aC=!0,jr=(()=>{class e{}return e.__NG_ELEMENT_ID__=DV,e})();function DV(e){return function TV(e,n,t){if(Yo(e)&&!t){const r=$n(e.index,n);return new va(r,r)}return 47&e.type?new va(n[16],n):null}(rn(),Ce(),16==(16&e))}class fC{constructor(){}supports(n){return da(n)}create(n){return new wV(n)}}const MV=(e,n)=>n;class wV{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MV}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,s=0,d=null;for(;t||r;){const x=!r||t&&t.currentIndex<hC(r,s,d)?t:r,R=hC(x,s,d),N=x.currentIndex;if(x===r)s--,r=r._nextRemoved;else if(t=t._next,null==x.previousIndex)s++;else{d||(d=[]);const _=R-s,k=N-s;if(_!=k){for(let ee=0;ee<_;ee++){const re=ee<d.length?d[ee]:d[ee]=0,le=re+ee;k<=le&&le<_&&(d[ee]=re+1)}d[x.previousIndex]=k-_}}R!==N&&n(x,R,N)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!da(n))throw new ht(900,"");return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let s,d,x,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let R=0;R<this.length;R++)d=n[R],x=this._trackByFn(R,d),null!==t&&Object.is(t.trackById,x)?(r&&(t=this._verifyReinsertion(t,d,x,R)),Object.is(t.item,d)||this._addIdentityChange(t,d)):(t=this._mismatch(t,d,x,R),r=!0),t=t._next}else s=0,function Q0(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Zi()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,R=>{x=this._trackByFn(s,R),null!==t&&Object.is(t.trackById,x)?(r&&(t=this._verifyReinsertion(t,R,x,s)),Object.is(t.item,R)||this._addIdentityChange(t,R)):(t=this._mismatch(t,R,x,s),r=!0),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,s){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,d,s)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,d,s)):n=this._addAfter(new SV(t,r),d,s),n}_verifyReinsertion(n,t,r,s){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==d?n=this._reinsertAfter(d,n._prev,s):n.currentIndex!=s&&(n.currentIndex=s,this._addToMoves(n,s)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const s=n._prevRemoved,d=n._nextRemoved;return null===s?this._removalsHead=d:s._nextRemoved=d,null===d?this._removalsTail=s:d._prevRemoved=s,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const s=null===t?this._itHead:t._next;return n._next=s,n._prev=t,null===s?this._itTail=n:s._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new pC),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new pC),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class SV{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RV{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class pC{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new RV,this.map.set(t,r)),r.add(n)}get(n,t){const s=this.map.get(n);return s?s.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function hC(e,n,t){const r=e.previousIndex;if(null===r)return r;let s=0;return t&&r<t.length&&(s=t[r]),r+n+s}function mC(){return new ou([new fC])}let ou=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const s=r.factories.slice();t=t.concat(s)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||mC()),deps:[[e,new Dl,new El]]}}find(t){const r=this.factories.find(s=>s.supports(t));if(null!=r)return r;throw new ht(901,"")}}return e.\u0275prov=pt({token:e,providedIn:"root",factory:mC}),e})();const NV=rC(null,"core",[]);let jV=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(et(Df))},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({}),e})(),iu=null;function ui(){return iu}const Un=new gt("DocumentToken");function VC(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[s,d]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===n)return decodeURIComponent(d)}return null}class MM{constructor(n,t,r,s){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _t=(()=>{class e{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,d,x)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new MM(s.item,this._ngForOf,-1,-1),null===x?void 0:x);else if(null==x)r.remove(null===d?void 0:d);else if(null!==d){const R=r.get(d);r.move(R,x),MC(R,s)}});for(let s=0,d=r.length;s<d;s++){const R=r.get(s).context;R.index=s,R.count=d,R.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{MC(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(yr),ve(ou))},e.\u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();function MC(e,n){e.context.$implicit=n.item}let ke=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new wM,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(yr))},e.\u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class wM{constructor(){this.$implicit=null,this.ngIf=null}}function wC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${yt(n)}'.`)}class jf{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let Oa=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ze({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Hf=(()=>{class e{constructor(t,r,s){this.ngSwitch=s,s._addCase(),this._view=new jf(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(yr),ve(Oa,9))},e.\u0275dir=Ze({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),xo=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(ve(ln))},e.\u0275dir=Ze({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Pn]}),e})(),AC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({}),e})();class BC{}class Uf extends class iw extends class _V{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function QV(e){iu||(iu=e)}(new Uf)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function sw(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}();return null==t?null:function aw(e){gu=gu||document.createElement("a"),gu.setAttribute("href",e);const n=gu.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return VC(document.cookie,n)}}let gu,Va=null;const NC=new gt("TRANSITION_ID"),uw=[{provide:Jv,useFactory:function lw(e,n,t){return()=>{t.get(hf).donePromise.then(()=>{const r=ui(),s=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let d=0;d<s.length;d++)r.remove(s[d])})}},deps:[NC,Un,Ln],multi:!0}];class zf{static init(){!function pV(e){Pf=e}(new zf)}addToWindow(n){xt.getAngularTestability=(r,s=!0)=>{const d=n.findTestabilityInTree(r,s);if(null==d)throw new Error("Could not find testability for element.");return d},xt.getAllAngularTestabilities=()=>n.getAllTestabilities(),xt.getAllAngularRootElements=()=>n.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(r=>{const s=xt.getAllAngularTestabilities();let d=s.length,x=!1;const R=function(N){x=x||N,d--,0==d&&r(x)};s.forEach(function(N){N.whenStable(R)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const s=n.getTestability(t);return null!=s?s:r?ui().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let cw=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const mu=new gt("EventManagerPlugins");let yu=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let d=0;d<s.length;d++){const x=s[d];if(x.supports(t))return this._eventNameToPlugin.set(t,x),x}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(et(mu),et(Nn))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();class jC{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const s=ui().getGlobalEventTarget(this._doc,n);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let HC=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),Ma=(()=>{class e extends HC{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(d=>{const x=this._doc.createElement("style");x.textContent=d,s.push(r.appendChild(x))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(QC),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(QC))}}return e.\u0275fac=function(t){return new(t||e)(et(Un))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();function QC(e){ui().remove(e)}const Wf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kf=/%COMP%/g;function vu(e,n,t){for(let r=0;r<n.length;r++){let s=n[r];Array.isArray(s)?vu(e,s,t):(s=s.replace(kf,e),t.push(s))}return t}function zC(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let $f=(()=>{class e{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new qf(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case er.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new mw(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case er.ShadowDom:return new yw(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=vu(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(et(yu),et(Ma),et(Da))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();class qf{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(Wf[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,s){if(s){t=s+":"+t;const d=Wf[s];d?n.setAttributeNS(d,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const s=Wf[r];s?n.removeAttributeNS(s,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,s){s&(Kn.DashCase|Kn.Important)?n.style.setProperty(t,r,s&Kn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Kn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,zC(r)):this.eventManager.addEventListener(n,t,zC(r))}}class mw extends qf{constructor(n,t,r,s){super(n),this.component=r;const d=vu(s+"-"+r.id,r.styles,[]);t.addStyles(d),this.contentAttr=function pw(e){return"_ngcontent-%COMP%".replace(kf,e)}(s+"-"+r.id),this.hostAttr=function hw(e){return"_nghost-%COMP%".replace(kf,e)}(s+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class yw extends qf{constructor(n,t,r,s){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=vu(s.id,s.styles,[]);for(let x=0;x<d.length;x++){const R=document.createElement("style");R.textContent=d[x],this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let vw=(()=>{class e extends jC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return e.\u0275fac=function(t){return new(t||e)(et(Un))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const kC=["alt","control","meta","shift"],bw={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$C={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Pw={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Ew=(()=>{class e extends jC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,s){const d=e.parseEventName(r),x=e.eventCallback(d.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ui().onAndCancel(t,d.domEventName,x))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const d=e._normalizeKey(r.pop());let x="";if(kC.forEach(N=>{const _=r.indexOf(N);_>-1&&(r.splice(_,1),x+=N+".")}),x+=d,0!=r.length||0===d.length)return null;const R={};return R.domEventName=s,R.fullKey=x,R}static getEventFullKey(t){let r="",s=function Dw(e){let n=e.key;if(null==n){if(n=e.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===e.location&&$C.hasOwnProperty(n)&&(n=$C[n]))}return bw[n]||n}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),kC.forEach(d=>{d!=s&&Pw[d](t)&&(r+=d+".")}),r+=s,r}static eventCallback(t,r,s){return d=>{e.getEventFullKey(d)===t&&s.runGuarded(()=>r(d))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(et(Un))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const Ow=rC(NV,"browser",[{provide:mf,useValue:"browser"},{provide:Yv,useValue:function Tw(){Uf.makeCurrent(),zf.init()},multi:!0},{provide:Un,useFactory:function xw(){return function ZP(e){cc=e}(document),document},deps:[]}]),Vw=[{provide:Vd,useValue:"root"},{provide:aa,useFactory:function Iw(){return new aa},deps:[]},{provide:mu,useClass:vw,multi:!0,deps:[Un,Nn,mf]},{provide:mu,useClass:Ew,multi:!0,deps:[Un]},{provide:$f,useClass:$f,deps:[yu,Ma,Da]},{provide:hv,useExisting:$f},{provide:HC,useExisting:Ma},{provide:Ma,useClass:Ma,deps:[Un]},{provide:bf,useClass:bf,deps:[Nn]},{provide:yu,useClass:yu,deps:[mu,Nn]},{provide:BC,useClass:cw,deps:[]}];let Mw=(()=>{class e{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Da,useValue:t.appId},{provide:NC,useExisting:Da},uw]}}}return e.\u0275fac=function(t){return new(t||e)(et(e,12))},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({providers:Vw,imports:[AC,jV]}),e})();"undefined"!=typeof window&&window;let Cu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:function(t){let r=null;return r=t?new(t||e):et(GC),r},providedIn:"root"}),e})(),GC=(()=>{class e extends Cu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case Ft.NONE:return r;case Ft.HTML:return Sr(r,"HTML")?Gn(r):xg(this._doc,String(r)).toString();case Ft.STYLE:return Sr(r,"Style")?Gn(r):r;case Ft.SCRIPT:if(Sr(r,"Script"))return Gn(r);throw new Error("unsafe value used in a script context");case Ft.URL:return vg(r),Sr(r,"URL")?Gn(r):oa(String(r));case Ft.RESOURCE_URL:if(Sr(r,"ResourceURL"))return Gn(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return function FD(e){return new wD(e)}(t)}bypassSecurityTrustStyle(t){return function BD(e){return new SD(e)}(t)}bypassSecurityTrustScript(t){return function ND(e){return new RD(e)}(t)}bypassSecurityTrustUrl(t){return function jD(e){return new AD(e)}(t)}bypassSecurityTrustResourceUrl(t){return function HD(e){return new LD(e)}(t)}}return e.\u0275fac=function(t){return new(t||e)(et(Un))},e.\u0275prov=pt({token:e,factory:function(t){let r=null;return r=t?new t:function Hw(e){return new GC(e.get(Un))}(et(Ln)),r},providedIn:"root"}),e})();var Tt=V(940);class Gf{attach(n){return this._attachedHost=n,n.attach(this)}detach(){let n=this._attachedHost;null!=n&&(this._attachedHost=null,n.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(n){this._attachedHost=n}}class JC extends Gf{constructor(n,t,r,s){super(),this.component=n,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=s}}class Qw extends Gf{constructor(n,t,r){super(),this.templateRef=n,this.viewContainerRef=t,this.context=r}get origin(){return this.templateRef.elementRef}attach(n,t=this.context){return this.context=t,super.attach(n)}detach(){return this.context=void 0,super.detach()}}class _w extends Gf{constructor(n){super(),this.element=n instanceof gn?n.nativeElement:n}}class zw extends class Uw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(n){return n instanceof JC?(this._attachedPortal=n,this.attachComponentPortal(n)):n instanceof Qw?(this._attachedPortal=n,this.attachTemplatePortal(n)):this.attachDomPortal&&n instanceof _w?(this._attachedPortal=n,this.attachDomPortal(n)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(n){this._disposeFn=n}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(n,t,r,s,d){super(),this.outletElement=n,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=s,this.attachDomPortal=x=>{const R=x.element,N=this._document.createComment("dom-portal");R.parentNode.insertBefore(N,R),this.outletElement.appendChild(R),this._attachedPortal=x,super.setDisposeFn(()=>{N.parentNode&&N.parentNode.replaceChild(R,N)})},this._document=d}attachComponentPortal(n){const r=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component);let s;return n.viewContainerRef?(s=n.viewContainerRef.createComponent(r,n.viewContainerRef.length,n.injector||n.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=r.create(n.injector||this._defaultInjector||Ln.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=n,s}attachTemplatePortal(n){let t=n.viewContainerRef,r=t.createEmbeddedView(n.templateRef,n.context);return r.rootNodes.forEach(s=>this.outletElement.appendChild(s)),r.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(r);-1!==s&&t.remove(s)}),this._attachedPortal=n,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(n){return n.hostView.rootNodes[0]}}const{isArray:Ww}=Array,{getPrototypeOf:kw,prototype:$w,keys:qw}=Object;const{isArray:Jw}=Array;function Xw(e,n){return e.reduce((t,r,s)=>(t[r]=n[s],t),{})}function eS(...e){const n=function Ti(e){return m(Wo(e))?e.pop():void 0}(e),{args:t,keys:r}=function Kw(e){if(1===e.length){const n=e[0];if(Ww(n))return{args:n,keys:null};if(function Gw(e){return e&&"object"==typeof e&&kw(e)===$w}(n)){const t=qw(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e),s=new I(d=>{const{length:x}=t;if(!x)return void d.complete();const R=new Array(x);let N=x,_=x;for(let k=0;k<x;k++){let Z=!1;ur(t[k]).subscribe(new fe(d,ee=>{Z||(Z=!0,_--),R[k]=ee},()=>N--,void 0,()=>{(!N||!Z)&&(_||d.next(r?Xw(r,R):R),d.complete())}))}});return n?s.pipe(function Yw(e){return Te(n=>function Zw(e,n){return Jw(n)?e(...n):e(n)}(e,n))}(n)):s}let ZC=(()=>{class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return e.\u0275fac=function(t){return new(t||e)(ve(si),ve(gn))},e.\u0275dir=Ze({type:e}),e})(),ci=(()=>{class e extends ZC{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275dir=Ze({type:e,features:[be]}),e})();const Hr=new gt("NgValueAccessor"),tS={provide:Hr,useExisting:wt(()=>bu),multi:!0};let bu=(()=>{class e extends ci{writeValue(t){this.setProperty("checked",t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275dir=Ze({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&Oe("change",function(d){return r.onChange(d.target.checked)})("blur",function(){return r.onTouched()})},features:[Qt([tS]),be]}),e})();const nS={provide:Hr,useExisting:wt(()=>Vo),multi:!0},oS=new gt("CompositionEventMode");let Vo=(()=>{class e extends ZC{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rS(){const e=ui()?ui().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(si),ve(gn),ve(oS,8))},e.\u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&Oe("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[Qt([nS]),be]}),e})();const In=new gt("NgValidators"),wo=new gt("NgAsyncValidators");function tb(e){return function Mo(e){return null==e||0===e.length}(e.value)?{required:!0}:null}function Pu(e){return null}function ab(e){return null!=e}function lb(e){const n=Ql(e)?Dr(e):e;return Gm(n),n}function ub(e){let n={};return e.forEach(t=>{n=null!=t?Object.assign(Object.assign({},n),t):n}),0===Object.keys(n).length?null:n}function cb(e,n){return n.map(t=>t(e))}function db(e){return e.map(n=>function sS(e){return!e.validate}(n)?n:t=>n.validate(t))}function Jf(e){return null!=e?function fb(e){if(!e)return null;const n=e.filter(ab);return 0==n.length?null:function(t){return ub(cb(t,n))}}(db(e)):null}function Zf(e){return null!=e?function pb(e){if(!e)return null;const n=e.filter(ab);return 0==n.length?null:function(t){return eS(cb(t,n).map(lb)).pipe(Te(ub))}}(db(e)):null}function hb(e,n){return null===e?[n]:Array.isArray(e)?[...e,n]:[e,n]}function Yf(e){return e?Array.isArray(e)?e:[e]:[]}function Eu(e,n){return Array.isArray(e)?e.includes(n):e===n}function yb(e,n){const t=Yf(n);return Yf(e).forEach(s=>{Eu(t,s)||t.push(s)}),t}function vb(e,n){return Yf(n).filter(t=>!Eu(e,t))}class Cb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Jf(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Zf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,t){return!!this.control&&this.control.hasError(n,t)}getError(n,t){return this.control?this.control.getError(n,t):null}}class So extends Cb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class jn extends Cb{get formDirective(){return null}get path(){return null}}class bb{constructor(n){this._cd=n}is(n){var t,r,s;return"submitted"===n?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[n])}}let no=(()=>{class e extends bb{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(So,2))},e.\u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&zl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[be]}),e})(),Pb=(()=>{class e extends bb{constructor(t){super(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(jn,10))},e.\u0275dir=Ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&zl("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[be]}),e})();function wa(e,n){tp(e,n),n.valueAccessor.writeValue(e.value),function hS(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Db(e,n)})}(e,n),function mS(e,n){const t=(r,s)=>{n.valueAccessor.writeValue(r),s&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}(e,n),function gS(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Db(e,n),"submit"!==e.updateOn&&e.markAsTouched()})}(e,n),function pS(e,n){if(n.valueAccessor.setDisabledState){const t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}(e,n)}function xu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function tp(e,n){const t=function gb(e){return e._rawValidators}(e);null!==n.validator?e.setValidators(hb(t,n.validator)):"function"==typeof t&&e.setValidators([t]);const r=function mb(e){return e._rawAsyncValidators}(e);null!==n.asyncValidator?e.setAsyncValidators(hb(r,n.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const s=()=>e.updateValueAndValidity();xu(n._rawValidators,s),xu(n._rawAsyncValidators,s)}function Db(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function op(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const Sa="VALID",Vu="INVALID",ms="PENDING",Ra="DISABLED";function sp(e){return(Mu(e)?e.validators:e)||null}function Ob(e){return Array.isArray(e)?Jf(e):e||null}function ap(e,n){return(Mu(n)?n.asyncValidators:e)||null}function Vb(e){return Array.isArray(e)?Zf(e):e||null}function Mu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}const lp=e=>e instanceof cp;function wb(e){return(e=>e instanceof Ab)(e)?e.value:e.getRawValue()}function Sb(e,n){const t=lp(e),r=e.controls;if(!(t?Object.keys(r):r).length)throw new ht(1e3,"");if(!r[n])throw new ht(1001,"")}function Rb(e,n){lp(e),e._forEachChild((r,s)=>{if(void 0===n[s])throw new ht(1002,"")})}class up{constructor(n,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=n,this._rawAsyncValidators=t,this._composedValidatorFn=Ob(this._rawValidators),this._composedAsyncValidatorFn=Vb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get valid(){return this.status===Sa}get invalid(){return this.status===Vu}get pending(){return this.status==ms}get disabled(){return this.status===Ra}get enabled(){return this.status!==Ra}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._rawValidators=n,this._composedValidatorFn=Ob(n)}setAsyncValidators(n){this._rawAsyncValidators=n,this._composedAsyncValidatorFn=Vb(n)}addValidators(n){this.setValidators(yb(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(yb(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(vb(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(vb(n,this._rawAsyncValidators))}hasValidator(n){return Eu(this._rawValidators,n)}hasAsyncValidator(n){return Eu(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){this.touched=!0,this._parent&&!n.onlySelf&&this._parent.markAsTouched(n)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(n=>n.markAllAsTouched())}markAsUntouched(n={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}markAsDirty(n={}){this.pristine=!1,this._parent&&!n.onlySelf&&this._parent.markAsDirty(n)}markAsPristine(n={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}markAsPending(n={}){this.status=ms,!1!==n.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!n.onlySelf&&this._parent.markAsPending(n)}disable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Ra,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this._updateValue(),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){const t=this._parentMarkedDirty(n.onlySelf);this.status=Sa,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},n),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(n){this._parent=n}updateValueAndValidity(n={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Sa||this.status===ms)&&this._runAsyncValidator(n.emitEvent)),!1!==n.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(n)}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ra:Sa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n){if(this.asyncValidator){this.status=ms,this._hasOwnPendingAsyncValidator=!0;const t=lb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:n})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(!1!==t.emitEvent)}get(n){return function bS(e,n,t){if(null==n||(Array.isArray(n)||(n=n.split(t)),Array.isArray(n)&&0===n.length))return null;let r=e;return n.forEach(s=>{r=lp(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(e=>e instanceof ES)(r)&&r.at(s)||null}),r}(this,n,".")}getError(n,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(n)}_initObservables(){this.valueChanges=new Tn,this.statusChanges=new Tn}_calculateStatus(){return this._allControlsDisabled()?Ra:this.errors?Vu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ms)?ms:this._anyControlsHaveStatus(Vu)?Vu:Sa}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n={}){this.pristine=!this._anyControlsDirty(),this._parent&&!n.onlySelf&&this._parent._updatePristine(n)}_updateTouched(n={}){this.touched=this._anyControlsTouched(),this._parent&&!n.onlySelf&&this._parent._updateTouched(n)}_isBoxedValue(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){Mu(n)&&null!=n.updateOn&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){return!n&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ab extends up{constructor(n=null,t,r){super(sp(t),ap(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mu(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(n)?n.value:n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){op(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){op(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(n){this._isBoxedValue(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}}class cp extends up{constructor(n,t,r){super(sp(t),ap(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){Rb(this,n),Object.keys(n).forEach(r=>{Sb(this,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(Object.keys(n).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,s)=>{r.reset(n[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=wb(t),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&n(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(n,t,r)=>((t.enabled||this.disabled)&&(n[r]=t.value),n))}_reduceChildren(n,t){let r=n;return this._forEachChild((s,d)=>{r=t(r,s,d)}),r}_allControlsDisabled(){for(const n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class ES extends up{constructor(n,t,r){super(sp(t),ap(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(n){return this.controls[n]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),t&&(this.controls.splice(n,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){Rb(this,n),n.forEach((r,s)=>{Sb(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){null!=n&&(n.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,s)=>{r.reset(n[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>wb(n))}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_syncPendingControls(){let n=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(const n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}}const DS={provide:jn,useExisting:wt(()=>wu)},Aa=(()=>Promise.resolve(null))();let wu=(()=>{class e extends jn{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new Tn,this.form=new cp({},Jf(t),Zf(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Aa.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),wa(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Aa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Aa.then(()=>{const r=this._findContainer(t.path),s=new cp({});(function Tb(e,n){tp(e,n)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Aa.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Aa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function xb(e,n){e._syncPendingControls(),n.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return e.\u0275fac=function(t){return new(t||e)(ve(In,10),ve(wo,10))},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&Oe("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([DS]),be]}),e})();const IS={provide:So,useExisting:wt(()=>Qr)},Bb=(()=>Promise.resolve(null))();let Qr=(()=>{class e extends So{constructor(t,r,s,d,x){super(),this._changeDetectorRef=x,this.control=new Ab,this._registered=!1,this.update=new Tn,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function rp(e,n){if(!n)return null;let t,r,s;return Array.isArray(n),n.forEach(d=>{d.constructor===Vo?t=d:function CS(e){return Object.getPrototypeOf(e.constructor)===ci}(d)?r=d:s=d}),s||r||t||null}(0,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function np(e,n){if(!e.hasOwnProperty("model"))return!1;const t=e.model;return!!t.isFirstChange()||!Object.is(n,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Bb.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;Bb.then(()=>{var d;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(d=this._changeDetectorRef)||void 0===d||d.markForCheck()})}_getPath(t){return this._parent?function Tu(e,n){return[...n.path,e]}(t,this._parent):[t]}}return e.\u0275fac=function(t){return new(t||e)(ve(jn,9),ve(In,10),ve(wo,10),ve(Hr,10),ve(jr,8))},e.\u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qt([IS]),be,Pn]}),e})(),Nb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const OS={provide:Hr,useExisting:wt(()=>Su),multi:!0};let Hb=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({}),e})(),VS=(()=>{class e{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t)return void this._accessors.splice(r,1)}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return!!t[0].control&&t[0]._parent===r._control._parent&&t[1].name===r.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:Hb}),e})(),Su=(()=>{class e extends ci{constructor(t,r,s,d){super(t,r),this._registry=s,this._injector=d,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(So),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return e.\u0275fac=function(t){return new(t||e)(ve(si),ve(gn),ve(VS),ve(Ln))},e.\u0275dir=Ze({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,r){1&t&&Oe("change",function(){return r.onChange()})("blur",function(){return r.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Qt([OS]),be]}),e})();const FS={provide:Hr,useExisting:wt(()=>Ru),multi:!0};function kb(e,n){return null==e?`${n}`:(n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let Ru=(()=>{class e extends ci{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=kb(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function BS(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275dir=Ze({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&Oe("change",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([FS]),be]}),e})(),Au=(()=>{class e{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(kb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(ve(gn),ve(si),ve(Ru,9))},e.\u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const NS={provide:Hr,useExisting:wt(()=>hp),multi:!0};function $b(e,n){return null==e?`${n}`:("string"==typeof n&&(n=`'${n}'`),n&&"object"==typeof n&&(n="Object"),`${e}: ${n}`.slice(0,50))}let hp=(()=>{class e extends ci{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(d=>this._getOptionId(d));r=(d,x)=>{d._setSelected(s.indexOf(x.toString())>-1)}}else r=(s,d)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],d=r.selectedOptions;if(void 0!==d){const x=d;for(let R=0;R<x.length;R++){const _=this._getOptionValue(x[R].value);s.push(_)}}else{const x=r.options;for(let R=0;R<x.length;R++){const N=x[R];if(N.selected){const _=this._getOptionValue(N.value);s.push(_)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function jS(e){return e.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275dir=Ze({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&Oe("change",function(d){return r.onChange(d.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([NS]),be]}),e})(),Lu=(()=>{class e{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue($b(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($b(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(ve(gn),ve(si),ve(hp,9))},e.\u0275dir=Ze({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),di=(()=>{class e{constructor(){this._validator=Pu}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Pu,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ze({type:e,features:[Pn]}),e})();const US={provide:In,useExisting:wt(()=>Fu),multi:!0};let Fu=(()=>{class e extends di{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function HS(e){return null!=e&&!1!==e&&"false"!=`${e}`}(t),this.createValidator=t=>tb}enabled(t){return t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275dir=Ze({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&Me("required",r._enabled?"":null)},inputs:{required:"required"},features:[Qt([US]),be]}),e})(),KS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({imports:[[Hb]]}),e})(),GS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({imports:[KS]}),e})();const JS=["template"],ZS=["actionContent"];function YS(e,n){1&e&&(Be(0),ae(1,"div",5),Ne())}function XS(e,n){}const fi=function(e){return{model:e}},e1=function(e,n){return{name:e,data:n,default:"sv-action-bar-item"}};function t1(e,n){if(1&e&&(te(0,"div",1)(1,"div",2),G(2,YS,2,0,"ng-container",3),G(3,XS,0,0,"ng-template",4),ne()()),2&e){const t=$();Y(t.model.getActionRootCss()),Q("id",t.model.id),U(2),Q("ngIf",t.model.needSeparator),U(1),Q("component",We(7,e1,t.model.component,tt(5,fi,t.model)))}}const nP=["container"];function n1(e,n){if(1&e&&(Be(0),ae(1,"sv-ng-action",5),Ne()),2&e){const t=n.$implicit;U(1),Q("model",t)}}function r1(e,n){if(1&e){const t=Ge();te(0,"div",2,3),Oe("click",function(s){return xe(t),$(2).onClick(s)}),G(2,n1,2,1,"ng-container",4),ne()}if(2&e){const t=$(2);Y(t.model.getRootCss()),U(2),Q("ngForOf",t.model.renderedActions)}}function o1(e,n){1&e&&G(0,r1,3,3,"div",1),2&e&&Q("ngIf",$().model.hasActions)}function i1(e,n){}const Ye=function(e,n){return{name:e,data:n}};function s1(e,n){if(1&e&&(Be(0),G(1,i1,0,0,"ng-template",8),Ne()),2&e){const t=$();U(1),Q("component",We(3,Ye,t.model.popupHeaderTemplate,tt(1,fi,t.model)))}}function a1(e,n){if(1&e&&(te(0,"div",10),ze(1),ne()),2&e){const t=$();U(1),qe(t.model.title)}}function l1(e,n){}function u1(e,n){if(1&e&&(te(0,"div",11),ae(1,"sv-ng-action-bar",12),ne()),2&e){const t=$();U(1),Q("model",t.model.footerToolbar)}}const c1=function(e,n,t,r,s){return{left:e,top:n,height:t,minWidth:r,width:s}};function d1(e,n){1&e&&Gt(0)}function f1(e,n){if(1&e&&(te(0,"h1"),G(1,d1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function p1(e,n){1&e&&Gt(0)}function h1(e,n){if(1&e&&(te(0,"h2"),G(1,p1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function g1(e,n){1&e&&Gt(0)}function m1(e,n){if(1&e&&(te(0,"h3"),G(1,g1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function y1(e,n){1&e&&Gt(0)}function v1(e,n){if(1&e&&(te(0,"h4"),G(1,y1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function C1(e,n){1&e&&Gt(0)}function b1(e,n){if(1&e&&(te(0,"h5"),G(1,C1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function P1(e,n){1&e&&Gt(0)}function E1(e,n){if(1&e&&(te(0,"h6"),G(1,P1,1,0,"ng-container",4),ne()),2&e){$();const t=sn(8),r=$();Y(r.element.cssTitle),Me("id",r.element.ariaTitleId)("tabindex",r.element.titleTabIndex)("aria-expanded",r.element.titleAriaExpanded)("role",r.element.titleAriaRole)("aria-label",r.ariaLabel),U(1),Q("ngTemplateOutlet",t)}}function D1(e,n){1&e&&Ul(0)}function T1(e,n){1&e&&(Be(0,1),G(1,f1,2,8,"h1",2),G(2,h1,2,8,"h2",2),G(3,m1,2,8,"h3",2),G(4,v1,2,8,"h4",2),G(5,b1,2,8,"h5",2),G(6,E1,2,8,"h6",2),Ne(),G(7,D1,1,0,"ng-template",null,3,ot)),2&e&&(Q("ngSwitch",$().tagName),U(1),Q("ngSwitchCase","h1"),U(1),Q("ngSwitchCase","h2"),U(1),Q("ngSwitchCase","h3"),U(1),Q("ngSwitchCase","h4"),U(1),Q("ngSwitchCase","h5"),U(1),Q("ngSwitchCase","h6"))}const gp=["*"];function I1(e,n){}function x1(e,n){1&e&&Gt(0)}function O1(e,n){if(1&e&&(Be(0),G(1,x1,1,0,"ng-container",3),Ne()),2&e){$();const t=sn(3);U(1),Q("ngTemplateOutlet",t)}}function V1(e,n){1&e&&Gt(0)}function M1(e,n){if(1&e&&(Be(0),te(1,"div",4)(2,"span",5),G(3,V1,1,0,"ng-container",3),ne(),ae(4,"sv-ng-action-bar",6),ne(),Ne()),2&e){$();const t=sn(3),r=$();U(3),Q("ngTemplateOutlet",t),U(1),Q("model",r.element.getTitleToolbar())}}function w1(e,n){1&e&&ae(0,"sv-ng-string",6),2&e&&Q("model",$(3).element.locTitle)}function S1(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(4);Y(t.element.cssClasses.requiredText),Me("aria-hidden",!0),U(1),qe(t.element.requiredText)}}function R1(e,n){if(1&e&&(te(0,"span",10),ze(1),ne()),2&e){const t=$(4);Y(t.element.cssTitleNumber),Me("aria-hidden",!0),U(1),qe(t.element.no)}}function A1(e,n){1&e&&(te(0,"span"),ze(1,"\xa0"),ne())}function L1(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(4);Y(t.element.cssClasses.requiredText),Me("aria-hidden",!0),U(1),qe(t.element.requiredText)}}function F1(e,n){1&e&&(te(0,"span"),ze(1,"\xa0"),ne())}function B1(e,n){1&e&&(te(0,"span"),ze(1,"\xa0"),ne())}function N1(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(4);Y(t.element.cssClasses.requiredText),Me("aria-hidden",!0),U(1),qe(t.element.requiredText)}}function j1(e,n){if(1&e&&(Be(0),G(1,S1,2,4,"span",8),G(2,R1,2,4,"span",9),G(3,A1,2,0,"span",1),G(4,L1,2,4,"span",8),G(5,F1,2,0,"span",1),ae(6,"sv-ng-string",6),G(7,B1,2,0,"span",1),G(8,N1,2,4,"span",8),Ne()),2&e){const t=$(3);U(1),Q("ngIf",t.element.isRequireTextOnStart),U(1),Q("ngIf",t.element.no),U(1),Q("ngIf",t.element.no),U(1),Q("ngIf",t.element.isRequireTextBeforeTitle),U(1),Q("ngIf",t.element.isRequireTextBeforeTitle),U(1),Q("model",t.element.locTitle),U(1),Q("ngIf",t.element.isRequireTextAfterTitle),U(1),Q("ngIf",t.element.isRequireTextAfterTitle)}}function H1(e,n){if(1&e&&(G(0,w1,1,1,"sv-ng-string",7),G(1,j1,9,8,"ng-container",1)),2&e){const t=$(2);Q("ngIf",t.element.isTitleRenderedAsString),U(1),Q("ngIf",!t.element.isTitleRenderedAsString)}}function Q1(e,n){if(1&e&&(G(0,O1,2,1,"ng-container",1),G(1,M1,5,2,"ng-container",1),G(2,H1,2,2,"ng-template",null,2,ot)),2&e){const t=$();Q("ngIf",!t.element.hasTitleActions),U(1),Q("ngIf",t.element.hasTitleActions)}}function _1(e,n){if(1&e&&(te(0,"sv-ng-dynamic-head",2),ae(1,"sv-ng-element-title-actions",3),ne()),2&e){const t=$(2);Q("tagName",t.element.titleTagName)("element",t.element),U(1),Q("element",t.element)}}function U1(e,n){1&e&&G(0,_1,2,3,"sv-ng-dynamic-head",1),2&e&&Q("ngIf",$().element.hasTitle)}const z1=["sv-ng-survey-header",""];function W1(e,n){}const mp=function(e){return{data:e}};function k1(e,n){if(1&e&&(te(0,"div"),G(1,W1,0,0,"ng-template",2),ne()),2&e){const t=$();Y(t.survey.logoClassNames),U(1),Q("component",We(5,Ye,t.survey.getElementWrapperComponentName(t.survey,"logo-image"),tt(3,mp,t.survey.getElementWrapperComponentData(t.survey,"logo-image"))))}}function $1(e,n){if(1&e&&ae(0,"h5",5),2&e){const t=$(2);Y(t.survey.css.description),Q("model",t.survey.locDescription)}}function q1(e,n){if(1&e&&(te(0,"div"),ae(1,"sv-ng-element-title",3),G(2,$1,1,3,"h5",4),ne()),2&e){const t=$();Y(t.survey.css.headerText),Jt("max-width",t.survey.titleMaxWidth),U(1),Q("element",t.survey),U(1),Q("ngIf",t.survey.renderedHasDescription)}}function K1(e,n){}function G1(e,n){if(1&e&&(te(0,"div"),G(1,K1,0,0,"ng-template",2),ne()),2&e){const t=$();Y(t.survey.logoClassNames),U(1),Q("component",We(5,Ye,t.survey.getElementWrapperComponentName(t.survey,"logo-image"),tt(3,mp,t.survey.getElementWrapperComponentData(t.survey,"logo-image"))))}}function J1(e,n){}function Z1(e,n){if(1&e){const t=Ge();te(0,"div",2),Oe("focusin",function(){return xe(t),$(2).model.focusIn()}),G(1,J1,0,0,"ng-template",3),ne()}if(2&e){const t=$(2);Vt(t.rootStyle),Y(t.model.cssClasses.questionWrapper),U(1),Q("component",We(5,Ye,t.componentName,t.componentData))}}function Y1(e,n){1&e&&G(0,Z1,2,8,"div",1),2&e&&Q("ngIf",!!$().model)}function X1(e,n){1&e&&ae(0,"sv-ng-element",6),2&e&&Q("model",$().$implicit)}function eR(e,n){}const tR=function(e){return{element:e}};function nR(e,n){if(1&e&&G(0,eR,0,0,"ng-template",7),2&e){const t=$().$implicit;Q("component",We(3,Ye,t.skeletonComponentName,tt(1,tR,t)))}}function rR(e,n){if(1&e&&(Be(0),G(1,X1,1,1,"sv-ng-element",4),G(2,nR,1,6,null,5),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("ngIf",r.row.isNeedRender),U(1),Q("ngIf",!r.row.isNeedRender&&t.skeletonComponentName)}}function oR(e,n){if(1&e&&(te(0,"div",null,2),G(2,rR,3,2,"ng-container",3),ne()),2&e){const t=$(2);Y(t.row.getRowCss()),U(2),Q("ngForOf",t.row.visibleElements)("ngForTrackBy",t.trackElementBy)}}function iR(e,n){1&e&&G(0,oR,3,4,"div",1),2&e&&Q("ngIf",$().row.visible)}const sR=["pageContainer"];function aR(e,n){if(1&e&&(te(0,"div"),ae(1,"sv-ng-string",6),ne()),2&e){const t=$(3);Y(t.model.cssClasses.page.description),U(1),Q("model",t.model.locDescription)}}function lR(e,n){1&e&&ae(0,"sv-ng-row",8),2&e&&Q("row",$().$implicit)}const Ro=function(e){return{componentData:e}};function uR(e,n){if(1&e&&(Be(0),G(1,lR,1,1,"ng-template",7),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(3,Ye,r.model.survey.getRowWrapperComponentName(t),tt(1,Ro,r.model.survey.getRowWrapperComponentData(t))))}}function cR(e,n){if(1&e&&(Be(0),te(1,"div",null,2),ae(3,"sv-ng-element-title",3),G(4,aR,2,3,"div",4),G(5,uR,2,6,"ng-container",5),ne(),Ne()),2&e){const t=$(2);U(1),Y(t.model.cssRoot),U(2),Q("element",t.model),U(1),Q("ngIf",t.model._showDescription),U(1),Q("ngForOf",t.model.rows)}}function dR(e,n){if(1&e&&G(0,cR,6,5,"ng-container",1),2&e){const t=$();Q("ngIf",!!t.survey&&!!t.model&&t.model.isVisible&&!!t.model.survey)}}const fR=function(e){return{visibility:e}};function pR(e,n){if(1&e&&(Be(0),te(1,"div",2)(2,"span"),ze(3),ne(),ae(4,"sv-action-bar",3),ne(),Ne()),2&e){const t=$(2);U(1),Vt(tt(6,fR,t.notifier.active?"visible":"hidden")),Y(t.notifier.css),U(2),qe(t.notifier.message),U(1),Q("model",t.notifier.actionBar)}}function hR(e,n){1&e&&G(0,pR,5,8,"ng-container",1),2&e&&Q("ngIf",$().notifier.isDisplayed)}const gR=["surveyContainer"];function mR(e,n){if(1&e&&ae(0,"div"),2&e){const t=$(3);Vt(t.model.backgroundImageStyle),Y(t.model.css.rootBackgroundImage)}}function yR(e,n){if(1&e&&ae(0,"div",11),2&e){const t=$(3);Y(t.model.css.header),Q("survey",t.model)}}function vR(e,n){}function CR(e,n){}function bR(e,n){}function PR(e,n){if(1&e&&(Be(0),ae(1,"sv-ng-page",13),Ne()),2&e){const t=$(4);U(1),Q("model",t.model.activePage)("survey",t.model)}}function ER(e,n){}function DR(e,n){}const TR=function(e){return{survey:e,container:"left"}},ys=function(e){return{name:"sv-components-container",data:e}},IR=function(e){return{survey:e,container:"contentTop"}},xR=function(e){return{survey:e,container:"contentBottom"}},OR=function(e){return{survey:e,container:"right"}};function VR(e,n){if(1&e&&(te(0,"div"),G(1,CR,0,0,"ng-template",6),te(2,"div",12),G(3,bR,0,0,"ng-template",6),G(4,PR,2,2,"ng-container",9),G(5,ER,0,0,"ng-template",6),ne(),G(6,DR,0,0,"ng-template",6),ne()),2&e){const t=$(3);Y(t.model.bodyContainerCss),U(1),Q("component",tt(14,ys,tt(12,TR,t.model))),U(1),Y(t.model.bodyCss),Jt("max-width",t.model.renderedWidth),Q("id",t.model.activePage?t.model.activePage.id:""),U(1),Q("component",tt(18,ys,tt(16,IR,t.model))),U(1),Q("ngIf",t.model.activePage),U(1),Q("component",tt(22,ys,tt(20,xR,t.model))),U(1),Q("component",tt(26,ys,tt(24,OR,t.model)))}}function MR(e,n){}function wR(e,n){if(1&e&&ae(0,"div",14),2&e){const t=$(3);Y(t.model.completedCss),Q("innerHtml",t.model.processedCompletedHtml,Po)}}function SR(e,n){if(1&e&&ae(0,"div",14),2&e){const t=$(3);Y(t.model.css.body),Q("innerHtml",t.model.processedCompletedBeforeHtml,Po)}}function RR(e,n){if(1&e&&ae(0,"div",14),2&e){const t=$(3);Y(t.model.css.body),Q("innerHtml",t.model.processedLoadingHtml,Po)}}function AR(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$(3);Y(t.model.css.bodyEmpty),U(1),qe(t.model.emptySurveyText)}}function LR(e,n){1&e&&ae(0,"sv-brand-info")}const FR=function(e){return{survey:e,container:"header",needRenderWrapper:!1}},BR=function(e){return{survey:e,container:"footer",needRenderWrapper:!1}};function NR(e,n){if(1&e&&(te(0,"div",null,2),G(2,mR,1,4,"div",1),te(3,"form",3),ae(4,"div",4),te(5,"div"),G(6,yR,1,3,"div",5),G(7,vR,0,0,"ng-template",6),G(8,VR,7,28,"div",7),G(9,MR,0,0,"ng-template",6),G(10,wR,1,3,"div",8),G(11,SR,1,3,"div",8),G(12,RR,1,3,"div",8),G(13,AR,2,3,"div",7),ne()(),G(14,LR,1,0,"sv-brand-info",9),ae(15,"sv-notifier",10),ne()),2&e){const t=$(2);Vt(t.model.themeVariables),Y(t.model.getRootCss()),U(2),Q("ngIf",!!t.model.renderBackgroundImage),U(2),Q("hidden",t.model.hasLogo),U(1),Y(t.model.css.container),U(1),Q("ngIf",t.model.renderedHasHeader),U(1),Q("component",tt(20,ys,tt(18,FR,t.model))),U(1),Q("ngIf",t.model.isShowingPage),U(1),Q("component",tt(24,ys,tt(22,BR,t.model))),U(1),Q("ngIf","completed"===t.model.state&&t.model.showCompletedPage),U(1),Q("ngIf","completedbefore"===t.model.state),U(1),Q("ngIf","loading"===t.model.state),U(1),Q("ngIf","empty"===t.model.state),U(1),Q("ngIf",t.model.showBrandInfo),U(1),Q("notifier",t.model.notifier)}}function jR(e,n){1&e&&G(0,NR,16,26,"div",1),2&e&&Q("ngIf",!!$().model)}const HR=["sv-ng-svg-icon",""],zR=["contentElement"],WR=["errorsContainer"],kR=["sv-ng-errors",""];function $R(e,n){if(1&e&&(te(0,"div"),ae(1,"span",1)(2,"span",2),ne()),2&e){const t=n.$implicit,r=$();U(1),Y(r.element.cssClasses?r.element.cssClasses.error.icon:"panel-error-icon"),U(1),Y(r.element.cssClasses?r.element.cssClasses.error.item:"panel-error-item"),Q("model",t.locText)}}const qR=["sv-ng-element-header",""];function KR(e,n){if(1&e&&ae(0,"div",3),2&e){const t=$();Y(t.element.cssDescription),Jt("display",t.element.hasDescription?"":"none"),Q("model",t.element.locDescription)}}function GR(e,n){if(1&e&&(Be(0),ae(1,"sv-ng-action-bar",4),Ne()),2&e){const t=$();U(1),Q("model",t.element.additionalTitleToolbar)}}function JR(e,n){if(1&e){const t=Ge();te(0,"textarea",2),Oe("change",function(s){return xe(t),$().question.onCommentChange(s)})("input",function(s){return xe(t),$().question.onCommentInput(s)}),ne()}if(2&e){const t=$();Y(t.question.cssClasses.other),Jt("resize",t.question.resizeStyle),Q("id",t.question.commentId)("value",t.comment)("disabled",t.question.isInputReadOnly),Me("maxlength",t.question.getOthersMaxLength())("aria-required",t.question.ariaRequired)("aria-label",t.question.ariaLabel)("placeholder",t.question.commentPlaceholder)}}function ZR(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$();U(1),qe(t.question.comment)}}const YR=["elementContainer"];function XR(e,n){1&e&&ae(0,"div",11),2&e&&Q("element",$(3).model)}function eA(e,n){1&e&&ae(0,"div",12),2&e&&Q("element",$(3).model)}function tA(e,n){1&e&&ae(0,"div",11),2&e&&Q("element",$(3).model)}function nA(e,n){}function rA(e,n){if(1&e&&(te(0,"div"),ae(1,"div",13)(2,"sv-ng-comment",14),ne()),2&e){const t=$(3);Y(t.model.getCommentAreaCss(!1)),U(1),Q("model",t.model.locCommentText),U(1),Q("question",t.model)}}function oA(e,n){1&e&&ae(0,"div",11),2&e&&Q("element",$(3).model)}function iA(e,n){1&e&&ae(0,"div",15),2&e&&Q("element",$(3).model)("location","tooltip")}function sA(e,n){if(1&e&&ae(0,"div",13),2&e){const t=$(3);Y(t.model.cssDescription),Q("model",t.model.locDescription)}}function aA(e,n){1&e&&ae(0,"div",12),2&e&&Q("element",$(3).model)}function lA(e,n){1&e&&ae(0,"div",11),2&e&&Q("element",$(3).model)}const uA=function(e,n){return{name:e,data:n,default:"skeleton-question"}};function cA(e,n){if(1&e&&(te(0,"div",2,3),G(2,XR,1,1,"div",4),G(3,eA,1,1,"div",5),te(4,"div",6),G(5,tA,1,1,"div",4),G(6,nA,0,0,"ng-template",7),G(7,rA,3,4,"div",8),G(8,oA,1,1,"div",4),G(9,iA,1,2,"div",9),G(10,sA,1,3,"div",10),ne(),G(11,aA,1,1,"div",5),G(12,lA,1,1,"div",4),ne()),2&e){const t=$(2);Vt(t.model.getRootStyle()),Y(t.model.getRootCss()),Q("id",t.model.id),Me("data-name",t.model.name)("role",t.model.ariaRole)("aria-required",t.model.ariaRequired)("aria-invalid",t.model.ariaInvalid)("aria-labelledby",t.model.ariaLabelledBy)("aria-expanded",t.model.ariaExpanded),U(2),Q("ngIf",t.model.showErrorsAboveQuestion&&t.model.hasVisibleErrors),U(1),Q("ngIf",t.model.hasTitleOnLeftTop),U(1),Y(t.model.cssContent),Q("visible",!t.model.isCollapsed),U(1),Q("ngIf",t.model.showErrorOnTop&&t.model.hasVisibleErrors),U(1),Q("component",We(24,uA,t.getQuestionContentWrapperComponentName(),t.getQuestionContentWrapperComponentData())),U(1),Q("ngIf",t.model.hasComment),U(1),Q("ngIf",t.model.showErrorOnBottom&&t.model.hasVisibleErrors),U(1),Q("ngIf",t.model.isErrorsModeTooltip&&t.model.hasVisibleErrors),U(1),Q("ngIf",t.model.hasDescriptionUnderInput),U(1),Q("ngIf",t.model.hasTitleOnBottom),U(1),Q("ngIf",t.model.showErrorsBelowQuestion&&t.model.hasVisibleErrors)}}function dA(e,n){1&e&&G(0,cA,13,27,"div",1),2&e&&Q("ngIf",!!$().model)}function fA(e,n){if(1&e&&(te(0,"span",2),ze(1),ne()),2&e){const t=$();U(1),qe(t.model.renderedHtml)}}function pA(e,n){1&e&&(ae(0,"span",3),Xr(1,"safeHtml")),2&e&&Q("innerHtml",eo(1,1,$().model.renderedHtml),Po)}const hA=function(e,n){return{left:e,top:n}},gA=["containerRef"],mA=["inputElement"];function yA(e,n){if(1&e&&(te(0,"div")(1,"span"),ze(2),ne()()),2&e){const t=$(2);Y(t.model.cssClasses.hintPrefix),U(2),qe(t.dropdownModel.hintStringPrefix)}}function vA(e,n){if(1&e&&(te(0,"div")(1,"span",11),ze(2),ne(),te(3,"span"),ze(4),ne()()),2&e){const t=$(2);Y(t.model.cssClasses.hintSuffix),U(2),qe(t.dropdownModel.inputStringRendered),U(2),qe(t.dropdownModel.hintStringSuffix)}}function CA(e,n){}const rP=function(e,n){return{model:e,question:n}};function bA(e,n){if(1&e&&(Be(0),G(1,CA,0,0,"ng-template",12),Ne()),2&e){const t=$(2);U(1),Q("component",We(4,Ye,t.model.inputFieldComponentName,We(1,rP,t.dropdownModel.getSelectedAction(),t.model)))}}function PA(e,n){1&e&&ae(0,"sv-ng-string",13),2&e&&Q("model",$(2).model.selectedItemLocText)}function EA(e,n){if(1&e){const t=Ge();te(0,"div",14),Oe("click",function(s){return xe(t),$(2).clear(s)}),bt(),ae(1,"svg",15),ne()}if(2&e){const t=$(2);Y(t.model.cssClasses.cleanButton),Q("visible",!t.model.isEmpty()),U(1),Q("iconName",t.model.cssClasses.cleanButtonIconId)("partCss",t.model.cssClasses.cleanButtonSvg)("title",t.model.clearCaption)("size","auto")}}function DA(e,n){if(1&e){const t=Ge();te(0,"div",5),Oe("blur",function(s){return xe(t),$().blur(s)})("keydown",function(s){return xe(t),$().keyhandler(s)}),G(1,yA,3,3,"div",4),te(2,"div"),G(3,vA,5,4,"div",4),G(4,bA,2,7,"ng-container",6),G(5,PA,1,1,"sv-ng-string",7),te(6,"input",8,9),Oe("ngModelChange",function(s){return xe(t),$().dropdownModel.inputStringRendered=s})("change",function(s){return xe(t),$().inputChange(s)})("blur",function(s){return xe(t),$().blur(s)})("focus",function(s){return xe(t),$().focus(s)}),ne()(),G(8,EA,2,7,"div",10),ne()}if(2&e){const t=$();Y(t.model.getControlClass()),Me("tabindex",t.dropdownModel.inputReadOnly?null:0)("disabled",!!t.model.isInputReadOnly||null)("id",t.model.inputId)("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy)("role",t.model.ariaRole)("aria-controls",t.dropdownModel.listElementId)("aria-expanded",t.model.ariaExpanded)("aria-activedescendant",t.dropdownModel.ariaActivedescendant),U(1),Q("ngIf",t.dropdownModel.showHintPrefix),U(1),Y(t.model.cssClasses.controlValue),U(1),Q("ngIf",t.dropdownModel.showHintString),U(1),Q("ngIf",t.dropdownModel.showInputFieldComponent),U(1),Q("ngIf",t.model.showSelectedItemLocText),U(1),Y(t.model.cssClasses.filterStringInput),Q("ngModel",t.dropdownModel.inputStringRendered),Me("role",t.dropdownModel.filterStringEnabled?t.model.ariaRole:null)("id",t.model.getInputId())("inputmode",t.dropdownModel.inputMode)("tabindex",t.dropdownModel.inputReadOnly?null:-1)("disabled",!!t.model.isInputReadOnly||null)("aria-label",t.model.placeholder)("aria-controls",t.dropdownModel.listElementId)("aria-expanded",t.model.ariaExpanded)("aria-activedescendant",t.dropdownModel.ariaActivedescendant)("placeholder",t.dropdownModel.placeholderRendered)("readonly",!t.dropdownModel.searchEnabled||null),U(2),Q("ngIf",t.model.allowClear&&t.model.cssClasses.cleanButtonIconId)}}function TA(e,n){1&e&&ae(0,"sv-ng-popup",16),2&e&&Q("popupModel",$().dropdownModel.popupModel)}function IA(e,n){1&e&&ae(0,"sv-ng-string",13),2&e&&Q("model",$(2).model.selectedItemLocText)}function xA(e,n){if(1&e&&(te(0,"div",17),G(1,IA,1,1,"sv-ng-string",7),te(2,"div"),ze(3),ne()()),2&e){const t=$();Y(t.model.getControlClass()),Me("id",t.model.inputId),U(1),Q("ngIf",t.model.selectedItemLocText),U(2),qe(t.model.readOnlyText)}}function OA(e,n){if(1&e&&(te(0,"div"),bt(),ae(1,"svg",18),ne()),2&e){const t=$();Y(t.model.cssClasses.chevronButton),U(1),Q("iconName",t.model.cssClasses.chevronButtonIconId)("partCss",t.model.cssClasses.chevronButtonSvg)("size",24)}}function VA(e,n){if(1&e&&(te(0,"div")(1,"span"),ze(2),ne()()),2&e){const t=$(2);Y(t.question.cssClasses.hintPrefix),U(2),qe(t.model.hintStringPrefix)}}function MA(e,n){if(1&e&&(te(0,"div")(1,"span",3),ze(2),ne(),te(3,"span"),ze(4),ne()()),2&e){const t=$(2);Y(t.question.cssClasses.hintSuffix),U(2),qe(t.model.inputStringRendered),U(2),qe(t.model.hintStringSuffix)}}function wA(e,n){if(1&e){const t=Ge();te(0,"div"),G(1,VA,3,3,"div",1),te(2,"div"),G(3,MA,5,4,"div",1),te(4,"input",2),Oe("ngModelChange",function(s){return xe(t),$().model.inputStringRendered=s})("keydown",function(s){return xe(t),$().model.inputKeyHandler(s)})("blur",function(s){return xe(t),$().model.onBlur(s)})("focus",function(s){return xe(t),$().model.onFocus(s)}),ne()()()}if(2&e){const t=$();Y(t.question.cssClasses.hint),U(1),Q("ngIf",t.model.showHintPrefix),U(1),Y(t.question.cssClasses.hintSuffixWrapper),U(1),Q("ngIf",t.model.showHintString),U(1),Y(t.question.cssClasses.filterStringInput),Q("ngModel",t.model.inputStringRendered),Me("id",t.question.getInputId())("inputmode",t.model.inputMode)("role",t.model.filterStringEnabled?t.question.ariaRole:null)("readonly",!t.model.searchEnabled||null)("disabled",!!t.question.isInputReadOnly||null)("size",t.model.inputStringRendered?null:1)("aria-label",t.question.placeholder)("aria-controls",t.model.listElementId)("aria-expanded",t.question.ariaExpanded)("aria-activedescendant",t.model.ariaActivedescendant)("placeholder",t.model.filterStringPlaceholder)}}function SA(e,n){if(1&e&&ae(0,"sv-ng-tagbox-item",10),2&e){const t=n.$implicit,r=$(3);Q("item",t)("question",r.model)}}function RA(e,n){if(1&e&&(Be(0),G(1,SA,1,2,"sv-ng-tagbox-item",9),Ne()),2&e){const t=$(2);U(1),Q("ngForOf",t.model.selectedChoices)}}function AA(e,n){}function LA(e,n){if(1&e){const t=Ge();te(0,"div",11),Oe("click",function(s){return xe(t),$(2).clear(s)}),bt(),ae(1,"svg",12),ne()}if(2&e){const t=$(2);Y(t.model.cssClasses.cleanButton),Q("visible",!t.model.isEmpty()),U(1),Q("iconName",t.model.cssClasses.cleanButtonIconId)("partCss",t.model.cssClasses.cleanButtonSvg)("title",t.model.clearCaption)("size","auto")}}const FA=function(e){return{name:"sv-tagbox-filter",data:e}};function BA(e,n){if(1&e){const t=Ge();te(0,"div",5),Oe("blur",function(s){return xe(t),$().blur(s)})("keydown",function(s){return xe(t),$().keyhandler(s)}),te(1,"div"),G(2,RA,2,1,"ng-container",6),G(3,AA,0,0,"ng-template",7),ne(),G(4,LA,2,7,"div",8),ne()}if(2&e){const t=$();Y(t.model.getControlClass()),Me("tabindex",t.dropdownModel.inputReadOnly?null:0)("disabled",!!t.model.isInputReadOnly||null)("id",t.model.inputId)("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy)("role",t.model.ariaRole)("aria-controls",t.dropdownModel.listElementId)("aria-expanded",t.model.ariaExpanded)("aria-activedescendant",t.dropdownModel.ariaActivedescendant),U(1),Y(t.model.cssClasses.controlValue),U(1),Q("ngIf",!t.model.isEmpty()),U(1),Q("component",tt(21,FA,We(18,rP,t.dropdownModel,t.model))),U(1),Q("ngIf",t.model.allowClear&&t.model.cssClasses.cleanButtonIconId)}}function NA(e,n){1&e&&ae(0,"sv-ng-popup",13),2&e&&Q("popupModel",$().model.popupModel)}function jA(e,n){if(1&e&&(te(0,"div",14)(1,"div"),ze(2),ne()()),2&e){const t=$();Y(t.model.getControlClass()),Me("id",t.model.inputId),U(2),qe(t.model.readOnlyText)}}function HA(e,n){if(1&e&&(te(0,"div"),bt(),ae(1,"svg",15),ne()),2&e){const t=$();Y(t.model.cssClasses.chevronButton),U(1),Q("iconName",t.model.cssClasses.chevronButtonIconId)("partCss",t.model.cssClasses.chevronButtonSvg)("size",24)}}function QA(e,n){}function _A(e,n){if(1&e&&(te(0,"option",1),ze(1),ne(),G(2,QA,0,0,"ng-template")),2&e){const t=$();Q("value",t.item.value)("disabled",!t.item.isEnabled),U(1),qe(t.item.text)}}function UA(e,n){if(1&e){const t=Ge();te(0,"textarea",2),Oe("change",function(s){return xe(t),$().onOtherValueChange(s)})("input",function(s){return xe(t),$().onOtherValueInput(s)}),ne()}if(2&e){const t=$();Y(t.question.cssClasses.other),Jt("resize",t.question.resizeStyle),Q("id",t.otherId)("value",t.otherValue)("disabled",t.question.isInputReadOnly),Me("maxlength",t.question.getOthersMaxLength())("aria-required",t.question.ariaRequired)("aria-label",t.question.ariaLabel)("placeholder",t.otherPlaceholder)}}function zA(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$();U(1),qe(t.otherValue)}}function WA(e,n){if(1&e&&(te(0,"option",7),ze(1),ne()),2&e){const t=$(2);U(1),qe(t.model.placeholder)}}function kA(e,n){}const $A=function(e){return{item:e}},qA=function(e){return{name:"sv-dropdown-option-item",data:e}};function KA(e,n){1&e&&G(0,kA,0,0,"ng-template",8),2&e&&Q("component",tt(3,qA,tt(1,$A,n.$implicit)))}function GA(e,n){if(1&e){const t=Ge();te(0,"select",4),Oe("ngModelChange",function(s){return xe(t),$().editableValue=s})("click",function(s){return xe(t),$().click(s)})("keyup",function(s){return xe(t),$().keyup(s)}),G(1,WA,2,1,"option",5),G(2,KA,1,5,null,6),ne()}if(2&e){const t=$();Y(t.model.getControlClass()),Q("ngModel",t.editableValue)("disabled",t.model.isInputReadOnly)("required",t.model.isRequired),Me("id",t.model.inputId)("autocomplete",t.model.autocomplete)("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy),U(1),Q("ngIf",t.model.allowClear),U(1),Q("ngForOf",t.model.visibleChoices)}}function JA(e,n){if(1&e&&(te(0,"div",9),ze(1),ne()),2&e){const t=$();Y(t.model.getControlClass()),Me("id",t.model.inputId),U(1),qe(t.model.readOnlyText)}}function ZA(e,n){if(1&e&&(te(0,"div"),bt(),ae(1,"svg",10),ne()),2&e){const t=$();Y(t.model.cssClasses.chevronButton),U(1),Q("iconName",t.model.cssClasses.chevronButtonIconId)("partCss",t.model.cssClasses.chevronButtonSvg)("size",24)}}function YA(e,n){if(1&e&&ae(0,"div",11),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Jt("display",t.model.isFlowLayout?"inline":""),Q("question",t.model)}}function XA(e,n){if(1&e&&(ae(0,"img"),Xr(1,"safeUrl")),2&e){const t=$();Y(t.survey.css.logoImage),Jt("width",t.survey.renderedStyleLogoWidth)("height",t.survey.renderedStyleLogoHeight)("object-fit",t.survey.logoFit),Me("src",eo(1,12,t.survey.locLogo.renderedHtml),Ar)("width",t.survey.renderedLogoWidth)("height",t.survey.renderedLogoHeight)("alt",t.survey.locTitle.renderedHtml)}}function eL(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$();Y(t.remainingCharacterCounter),U(1),qe(t.counter.remainingCharacterCounter)}}function tL(e,n){1&e&&Gt(0,3),2&e&&($(),Q("ngTemplateOutlet",sn(4)))}function nL(e,n){1&e&&ae(0,"option",6),2&e&&Q("value",n.$implicit)}function rL(e,n){if(1&e&&(te(0,"div"),Gt(1,3),te(2,"datalist",4),G(3,nL,1,1,"option",5),ne()()),2&e){const t=$(),r=sn(4);U(1),Q("ngTemplateOutlet",r),U(1),Q("id",t.model.dataListId),U(1),Q("ngForOf",t.model.dataList)}}function oL(e,n){if(1&e&&(te(0,"div",null,7),ze(2),ne()),2&e){const t=$();U(2),qe(t.model.value)}}function iL(e,n){if(1&e&&ae(0,"sv-ng-character-counter",10),2&e){const t=$(2);Q("counter",t.model.characterCounter)("remainingCharacterCounter",t.model.cssClasses.remainingCharacterCounter)}}function sL(e,n){if(1&e){const t=Ge();te(0,"input",8,7),Oe("change",function(s){return xe(t),$().model.onChange(s)})("keyup",function(s){return xe(t),$().model.onKeyUp(s)})("keydown",function(s){return xe(t),$().model.onKeyDown(s)})("blur",function(s){return xe(t),$().model.onBlur(s)})("focus",function(s){return xe(t),$().model.onFocus(s)})("compositionupdate",function(s){return xe(t),$().model.onCompositionUpdate(s)}),ne(),G(2,iL,1,2,"sv-ng-character-counter",9)}if(2&e){const t=$();Vt(t.model.inputStyle),Y(t.model.getControlClass()),Q("value",t.value)("disabled",t.model.isInputReadOnly)("type",t.model.inputType)("id",t.model.inputId),Me("list",t.model.dataListId)("placeholder",t.model.renderedPlaceholder||"")("size",t.model.renderedInputSize)("maxlength",t.model.getMaxLength())("min",t.model.renderedMin)("max",t.model.renderedMax)("step",t.model.renderedStep)("max",t.model.renderedMax)("aria-required",t.model.a11y_input_ariaRequired)("aria-label",t.model.a11y_input_ariaLabel)("aria-labelledby",t.model.a11y_input_ariaLabelledBy)("aria-invalid",t.model.a11y_input_ariaInvalid)("aria-describedby",t.model.a11y_input_ariaDescribedBy)("autocomplete",t.model.autocomplete),U(2),Q("ngIf",t.model.getMaxLength())}}function aL(e,n){1&e&&ae(0,"legend",6)}function lL(e,n){}function uL(e,n){if(1&e&&(Be(0),G(1,lL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function cL(e,n){if(1&e&&(Be(0),G(1,uL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.headItems)("ngForTrackBy",t.trackItemBy)}}function dL(e,n){}function fL(e,n){if(1&e&&(Be(0),G(1,dL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function pL(e,n){if(1&e&&(Be(0),G(1,fL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.bodyItems)("ngForTrackBy",t.trackItemBy)}}function hL(e,n){}function gL(e,n){if(1&e&&(Be(0),G(1,hL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function mL(e,n){if(1&e&&(te(0,"div"),G(1,gL,2,4,"ng-container",7),ne()),2&e){const t=$();Y(t.model.cssClasses.rootRow),U(1),Q("ngForOf",t.model.dataChoices)("ngForTrackBy",t.trackItemBy)}}function yL(e,n){}function vL(e,n){if(1&e&&(Be(0),G(1,yL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function CL(e,n){if(1&e&&(te(0,"div",0),G(1,vL,2,4,"ng-container",7),ne()),2&e){const t=n.$implicit,r=$(2);Y(r.model.getColumnClass()),U(1),Q("ngForOf",t)("ngForTrackBy",r.trackItemBy)}}function bL(e,n){if(1&e&&(Be(0),te(1,"div"),G(2,CL,2,4,"div",9),ne(),Ne()),2&e){const t=$();U(1),Y(t.model.cssClasses.rootMultiColumn),U(1),Q("ngForOf",t.model.columns)("ngForTrackBy",t.trackColumnBy)}}function PL(e,n){}function EL(e,n){if(1&e&&(Be(0),G(1,PL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function DL(e,n){if(1&e&&(Be(0),G(1,EL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.footItems)("ngForTrackBy",t.trackItemBy)}}function TL(e,n){if(1&e&&ae(0,"div",10),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Q("question",t.model)}}function IL(e,n){if(1&e){const t=Ge();te(0,"div")(1,"input",11),Oe("click",function(){return xe(t),$().model.clearValue()}),ne()()}if(2&e){const t=$();U(1),Y(t.model.cssClasses.clearButton),Q("value",t.model.clearButtonCaption)}}function xL(e,n){1&e&&ae(0,"legend",6)}function OL(e,n){}function VL(e,n){if(1&e&&(Be(0),G(1,OL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function ML(e,n){if(1&e&&(Be(0),G(1,VL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.headItems)("ngForTrackBy",t.trackItemBy)}}function wL(e,n){}function SL(e,n){if(1&e&&(Be(0),G(1,wL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function RL(e,n){if(1&e&&(Be(0),G(1,SL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.bodyItems)("ngForTrackBy",t.trackItemBy)}}function AL(e,n){}function LL(e,n){if(1&e&&(Be(0),G(1,AL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function FL(e,n){if(1&e&&(te(0,"div"),G(1,LL,2,4,"ng-container",7),ne()),2&e){const t=$();Y(t.model.cssClasses.rootRow),U(1),Q("ngForOf",t.model.dataChoices)("ngForTrackBy",t.trackItemBy)}}function BL(e,n){}function NL(e,n){if(1&e&&(Be(0),G(1,BL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function jL(e,n){if(1&e&&(te(0,"div",0),G(1,NL,2,4,"ng-container",7),ne()),2&e){const t=n.$implicit,r=$(2);Y(r.model.getColumnClass()),U(1),Q("ngForOf",t)("ngForTrackBy",r.trackItemBy)}}function HL(e,n){if(1&e&&(Be(0),te(1,"div"),G(2,jL,2,4,"div",9),ne(),Ne()),2&e){const t=$();U(1),Y(t.model.cssClasses.rootMultiColumn),U(1),Q("ngForOf",t.model.columns)("ngForTrackBy",t.trackColumnBy)}}function QL(e,n){}function _L(e,n){if(1&e&&(Be(0),G(1,QL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function UL(e,n){if(1&e&&(Be(0),G(1,_L,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.footItems)("ngForTrackBy",t.trackItemBy)}}function zL(e,n){if(1&e&&ae(0,"div",10),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Q("question",t.model)}}function WL(e,n){if(1&e){const t=Ge();te(0,"div")(1,"input",11),Oe("click",function(){return xe(t),$().model.clearValue()}),ne()()}if(2&e){const t=$();U(1),Y(t.model.cssClasses.clearButton),Q("value",t.model.clearButtonCaption)}}function kL(e,n){1&e&&ae(0,"legend",6)}function $L(e,n){}function qL(e,n){if(1&e&&(Be(0),G(1,$L,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function KL(e,n){if(1&e&&(Be(0),G(1,qL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.headItems)("ngForTrackBy",t.trackItemBy)}}function GL(e,n){}function JL(e,n){if(1&e&&(Be(0),G(1,GL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function ZL(e,n){if(1&e&&(Be(0),G(1,JL,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.bodyItems)("ngForTrackBy",t.trackItemBy)}}function YL(e,n){}function XL(e,n){if(1&e&&(Be(0),G(1,YL,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function eF(e,n){if(1&e&&(te(0,"div"),G(1,XL,2,4,"ng-container",7),ne()),2&e){const t=$();Y(t.model.cssClasses.rootRow),U(1),Q("ngForOf",t.model.dataChoices)("ngForTrackBy",t.trackItemBy)}}function tF(e,n){}function nF(e,n){if(1&e&&(Be(0),G(1,tF,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function rF(e,n){if(1&e&&(te(0,"div",0),G(1,nF,2,4,"ng-container",7),ne()),2&e){const t=n.$implicit,r=$(2);Y(r.model.getColumnClass()),U(1),Q("ngForOf",t)("ngForTrackBy",r.trackItemBy)}}function oF(e,n){if(1&e&&(Be(0),te(1,"div"),G(2,rF,2,4,"div",9),ne(),Ne()),2&e){const t=$();U(1),Y(t.model.cssClasses.rootMultiColumn),U(1),Q("ngForOf",t.model.columns)("ngForTrackBy",t.trackColumnBy)}}function iF(e,n){}function sF(e,n){if(1&e&&(Be(0),G(1,iF,0,0,"ng-template",8),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function aF(e,n){if(1&e&&(Be(0),G(1,sF,2,4,"ng-container",7),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.footItems)("ngForTrackBy",t.trackItemBy)}}function lF(e,n){if(1&e&&ae(0,"div",10),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Q("question",t.model)}}function uF(e,n){if(1&e){const t=Ge();te(0,"div")(1,"input",11),Oe("click",function(){return xe(t),$().model.clearValue()}),ne()()}if(2&e){const t=$();U(1),Y(t.model.cssClasses.clearButton),Q("value",t.model.clearButtonCaption)}}function cF(e,n){if(1&e){const t=Ge();te(0,"input",1),Oe("change",function(s){return xe(t),$().onSelectAllChange(s)}),ne()}if(2&e){const t=$();Y(t.question.cssClasses.itemControl),Q("name",t.question.name)("id",t.question.getItemId(t.model))("disabled",!t.question.getItemEnabled(t.model))("checked",t.question.isAllSelected)("value",""),Me("aria-describedby",t.question.ariaDescribedBy)}}function dF(e,n){if(1&e){const t=Ge();te(0,"input",1),Oe("change",function(s){return xe(t),$().onChange(s)}),ne()}if(2&e){const t=$();Y(t.question.cssClasses.itemControl),Q("name",t.question.name)("id",t.question.getItemId(t.model))("disabled",!t.question.getItemEnabled(t.model))("checked",t.question.isItemSelected(t.model))("value",t.model.value),Me("aria-describedby",t.question.ariaDescribedBy)}}function fF(e,n){if(1&e&&ae(0,"div",3),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Q("question",t.model)}}function pF(e,n){if(1&e&&ae(0,"div",3),2&e){const t=$();Y(t.model.getCommentAreaCss(!0)),Q("question",t.model)}}function hF(e,n){if(1&e&&ae(0,"span",5),2&e){const t=$();Y(t.model.cssClasses.minText),Q("model",t.model.locMinRateDescription)}}function gF(e,n){}const mF=function(e,n,t){return{model:e,item:n,index:t}};function yF(e,n){if(1&e&&G(0,gF,0,0,"ng-template",6),2&e){const t=n.$implicit,r=n.index,s=$();Q("component",We(5,Ye,s.model.itemComponentName,Ca(1,mF,s.model,t,r)))}}function vF(e,n){if(1&e&&ae(0,"span",5),2&e){const t=$();Y(t.model.cssClasses.maxText),Q("model",t.model.locMaxRateDescription)}}function CF(e,n){if(1&e&&ae(0,"span",4),2&e){const t=$();Y(t.model.cssClasses.sliderText),Q("model",t.model.getCheckedLabel())}}function bF(e,n){if(1&e&&(bt(),ae(0,"svg",8)),2&e){const t=$(3);Y(t.question.cssClasses.checkedItemSvgIcon),Q("iconName",t.question.cssClasses.checkedItemSvgIconId)("size","auto")}}function PF(e,n){if(1&e&&(te(0,"span"),G(1,bF,1,4,"svg",7),ne()),2&e){const t=$(2);Y(t.question.cssClasses.checkedItemDecorator),U(1),Q("ngIf",t.question.cssClasses.checkedItemSvgIconId)}}function EF(e,n){if(1&e){const t=Ge();te(0,"img",9),Oe("load",function(s){xe(t);const d=$(2);return d.question.onContentLoaded(d.model,s)})("error",function(){return xe(t),$(2).model.onErrorHandler()}),ne()}if(2&e){const t=$(2);Y(t.question.cssClasses.image),Jt("object-fit",t.question.imageFit),Me("src",t.model.locImageLink.renderedHtml,Ar)("width",t.question.renderedImageWidth)("height",t.question.renderedImageHeight)("alt",t.model.locText.renderedHtml)}}function DF(e,n){if(1&e){const t=Ge();te(0,"video",10),Oe("loadedmetadata",function(s){xe(t);const d=$(2);return d.question.onContentLoaded(d.model,s)})("error",function(){return xe(t),$(2).model.onErrorHandler()}),ne()}if(2&e){const t=$(2);Y(t.question.cssClasses.image),Jt("object-fit",t.question.imageFit),Me("src",t.model.locImageLink.renderedHtml,Ar)("width",t.question.renderedImageWidth)("height",t.question.renderedImageHeight)}}function TF(e,n){if(1&e&&(bt(),ae(0,"svg",8)),2&e){const t=$(3);Y(t.question.cssClasses.itemNoImageSvgIcon),Q("iconName",t.question.cssClasses.itemNoImageSvgIconId)("size",48)}}function IF(e,n){if(1&e&&(te(0,"div"),G(1,TF,1,4,"svg",7),ne()),2&e){const t=$(2);Y(t.question.cssClasses.itemNoImage),Jt("width",t.question.renderedImageWidth+"px")("height",t.question.renderedImageHeight+"px")("object-fit",t.question.imageFit),U(1),Q("ngIf",t.question.cssClasses.itemNoImageSvgIconId)}}function xF(e,n){if(1&e&&ae(0,"span",11),2&e){const t=$(2);Y(t.question.cssClasses.itemText),Q("model",t.model.locText)}}function OF(e,n){if(1&e){const t=Ge();te(0,"div")(1,"label")(2,"input",1),Oe("change",function(s){return xe(t),$().onChange(s)}),ne(),te(3,"div")(4,"div"),G(5,PF,2,3,"span",2),G(6,EF,1,8,"img",3),G(7,DF,1,7,"video",4),G(8,IF,2,9,"div",5),ne(),G(9,xF,1,3,"span",6),ne()()()}if(2&e){const t=$();Y(t.question.getItemClass(t.model)),U(1),Y(t.question.cssClasses.label),U(1),Y(t.question.cssClasses.itemControl),Q("type",t.question.inputType)("id",t.question.getItemId(t.model))("checked",t.question.isItemSelected(t.model))("disabled",!t.question.getItemEnabled(t.model)),Me("name",t.question.questionName)("value",t.model.value)("aria-required",t.question.ariaRequired)("aria-label",t.question.ariaLabel)("aria-invalid",t.question.ariaInvalid)("aria-describedby",t.question.ariaDescribedBy),U(1),Y(t.question.cssClasses.itemDecorator),U(1),Y(t.question.cssClasses.imageContainer),U(1),Q("ngIf",t.question.cssClasses.checkedItemDecorator),U(1),Q("ngIf",t.model.locImageLink.renderedHtml&&!t.model.contentNotLoaded&&"image"===t.question.contentMode),U(1),Q("ngIf",t.model.locImageLink.renderedHtml&&!t.model.contentNotLoaded&&"video"===t.question.contentMode),U(1),Q("ngIf",!t.model.locImageLink.renderedHtml||t.model.contentNotLoaded),U(1),Q("ngIf",t.question.showLabel)}}function VF(e,n){}function MF(e,n){if(1&e&&(Be(0),G(1,VF,0,0,"ng-template",4),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function wF(e,n){if(1&e&&(Be(0),G(1,MF,2,4,"ng-container",3),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.visibleChoices)}}function SF(e,n){}function RF(e,n){if(1&e&&(Be(0),G(1,SF,0,0,"ng-template",4),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(1,Ye,r.getItemValueComponentName(t),r.getItemValueComponentData(t)))}}function AF(e,n){if(1&e&&(te(0,"div",6),G(1,RF,2,4,"ng-container",3),ne()),2&e){const t=n.$implicit;Y($(2).model.getColumnClass()),U(1),Q("ngForOf",t)}}function LF(e,n){if(1&e&&(Be(0),G(1,AF,2,3,"div",5),Ne()),2&e){const t=$();U(1),Q("ngForOf",t.model.columns)}}function NF(e,n){}const oP=function(e,n){return{survey:e,model:n}};function jF(e,n){if(1&e&&(Be(0),G(1,NF,0,0,"ng-template",5),Ne()),2&e){const t=n.$implicit,r=$(4);U(1),Q("component",We(4,Ye,t.component,We(1,oP,r.survey,t.data)))}}function HF(e,n){if(1&e&&(te(0,"div",3),G(1,jF,2,7,"ng-container",4),ne()),2&e){const t=$(3);U(1),Q("ngForOf",t.components)}}function QF(e,n){if(1&e&&(Be(0),G(1,HF,2,1,"div",2),Ne()),2&e){const t=$(2);U(1),Q("ngIf",t.components.length>0)}}function _F(e,n){}function UF(e,n){if(1&e&&(Be(0),G(1,_F,0,0,"ng-template",5),Ne()),2&e){const t=n.$implicit,r=$(3);U(1),Q("component",We(4,Ye,t.component,We(1,oP,r.survey,t.data)))}}function zF(e,n){if(1&e&&(Be(0),G(1,UF,2,7,"ng-container",4),Ne()),2&e){const t=$(2);U(1),Q("ngForOf",t.components)}}function WF(e,n){if(1&e&&(G(0,QF,2,1,"ng-container",1),G(1,zF,2,1,"ng-container",1)),2&e){const t=$();Q("ngIf",t.isNeedRenderWrapper),U(1),Q("ngIf",!t.isNeedRenderWrapper&&t.components.length>0)}}function kF(e,n){if(1&e&&(bt(),ae(0,"svg",4)),2&e){const t=$(2);Y(t.model.cssClasses.itemIcon),Q("iconName",t.model.iconName)("size",t.model.iconSize)("title",t.model.tooltip||t.model.title)}}function $F(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(2);Y(t.model.getActionBarItemTitleCss()),U(1),qe(t.model.title)}}function qF(e,n){}const iP=function(){return{processEsc:!1}};function KF(e,n){if(1&e){const t=Ge();te(0,"button",1),Oe("click",function(s){xe(t);const d=$();return d.model.action(d.model,d.model.getIsTrusted(s))}),G(1,kF,1,5,"svg",2),G(2,$F,2,3,"span",3),ne(),G(3,qF,0,0,"ng-template")}if(2&e){const t=$();Y(t.model.getActionBarItemCss()),Q("key2click",Xd(10,iP))("disabled",t.model.disabled),Me("title",t.model.tooltip||t.model.title)("aria-checked",t.model.ariaChecked)("aria-expanded",t.model.ariaExpanded)("role",t.model.ariaRole),U(1),Q("ngIf",t.model.iconName),U(1),Q("ngIf",t.model.hasTitle)}}function GF(e,n){if(1&e&&(bt(),ae(0,"svg",5)),2&e){const t=$(2);Y(t.model.cssClasses.itemIcon),Q("iconName",t.model.iconName)("size",t.model.iconSize)("title",t.model.tooltip||t.model.title)}}function JF(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(2);Y(t.model.getActionBarItemTitleCss()),U(1),qe(t.model.title)}}function ZF(e,n){if(1&e){const t=Ge();te(0,"button",1),Oe("click",function(s){xe(t);const d=$();return d.model.action(d.model,d.model.getIsTrusted(s))}),G(1,GF,1,5,"svg",2),G(2,JF,2,3,"span",3),ne(),ae(3,"sv-ng-popup",4)}if(2&e){const t=$();Y(t.model.getActionBarItemCss()),Q("key2click",Xd(10,iP))("title",t.model.tooltip||t.model.title)("disabled",t.model.disabled),Me("role",t.model.ariaRole),U(1),Q("ngIf",t.model.iconName),U(1),Q("ngIf",t.model.hasTitle),U(1),Q("popupModel",t.model.popupModel)("getTarget",t.getTarget)}}function YF(e,n){1&e&&Gt(0)}function XF(e,n){if(1&e&&(te(0,"label",6),G(1,YF,1,0,"ng-container",7),ne()),2&e){$();const t=sn(5),r=$();Y(r.question.getLabelClass(r.model)),Q("model",r.model)("question",r.question),Me("aria-label",r.question.getAriaItemLabel(r.model)),U(1),Q("ngTemplateOutlet",t)}}function e2(e,n){1&e&&Gt(0)}function t2(e,n){if(1&e){const t=Ge();te(0,"label",8),Oe("mousedown",function(){return xe(t),$(2).question.onMouseDown()}),G(1,e2,1,0,"ng-container",7),ne()}if(2&e){$();const t=sn(5),r=$();Y(r.question.getLabelClass(r.model)),Q("model",r.model)("question",r.question),Me("aria-label",r.question.getAriaItemLabel(r.model)),U(1),Q("ngTemplateOutlet",t)}}function n2(e,n){if(1&e&&(bt(),te(0,"svg"),ae(1,"use"),ne()),2&e){const t=$(4);Y(t.question.cssClasses.itemDecorator),U(1),Me("href",t.question.itemSvgIcon,null,"xlink")}}function r2(e,n){if(1&e&&(te(0,"span"),G(1,n2,2,3,"svg",9),ne()),2&e){const t=$(3);Y(t.question.cssClasses.materialDecorator),U(1),Q("ngIf",t.question.itemSvgIcon)}}function o2(e,n){if(1&e&&(te(0,"span"),ae(1,"sv-ng-string",10),ne()),2&e){const t=$(3);Y(t.question.getControlLabelClass(t.model)),U(1),Q("model",t.model.locText)}}function s2(e,n){if(1&e&&(G(0,r2,2,3,"span",9),G(1,o2,2,3,"span",9)),2&e){const t=$(2);Q("ngIf",t.question.cssClasses.materialDecorator),U(1),Q("ngIf",!t.model.hideCaption)}}function a2(e,n){if(1&e&&(te(0,"div",1),Be(1,2),G(2,XF,2,6,"label",3),G(3,t2,2,6,"label",4),Ne(),G(4,s2,2,2,"ng-template",null,5,ot),ne()),2&e){const t=$();Y(t.question.getItemClass(t.model)),U(1),Q("ngSwitch",t.inputType),U(1),Q("ngSwitchCase","checkbox"),U(1),Q("ngSwitchCase","radio")}}function l2(e,n){1&e&&ae(0,"div",1),2&e&&Q("id",$().element.id)}function u2(e,n){if(1&e&&(bt(),ae(0,"svg",2)),2&e){const t=$(2);Y(t.model.getProgressCss()),Jt("stroke-dasharray",t.circleLength)("stroke-dashoffset",t.progress),Q("size","auto")("iconName","icon-timercircle")}}function c2(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(2);Y(t.model.minorTextCss),U(1),qe(t.model.clockMinorText)}}function d2(e,n){if(1&e&&(te(0,"div"),G(1,u2,1,8,"svg",1),te(2,"div")(3,"span"),ze(4),ne(),G(5,c2,2,3,"span",0),ne()()),2&e){const t=$();Y(t.model.rootCss),U(1),Q("ngIf",t.model.showProgress),U(1),Y(t.model.textContainerCss),U(1),Y(t.model.majorTextCss),U(1),qe(t.model.clockMajorText),U(1),Q("ngIf",t.model.clockMinorText)}}function f2(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$();Y(t.model.survey.getCss().timerRoot),U(1),qe(t.model.text)}}function p2(e,n){if(1&e&&(Be(0),ae(1,"div"),Ne()),2&e){const t=$(2);U(1),Y(t.listModel.cssClasses.itemSeparator)}}function h2(e,n){if(1&e&&(bt(),ae(0,"svg",5)),2&e){const t=$(3);Y(t.listModel.cssClasses.itemIcon),Q("iconName",t.model.iconName)("size",t.model.iconSize)}}function g2(e,n){if(1&e&&(Be(0),G(1,h2,1,4,"svg",3),ae(2,"sv-ng-string",4),Ne()),2&e){const t=$(2);U(1),Q("ngIf",t.model.iconName),U(1),Q("model",t.model.locTitle)}}function m2(e,n){}function y2(e,n){if(1&e&&(Be(0),G(1,m2,0,0,"ng-template",6),Ne()),2&e){const t=$(2);U(1),Q("component",We(3,Ye,t.model.component,tt(1,fi,t.model)))}}function v2(e,n){if(1&e){const t=Ge();te(0,"li",1),Oe("click",function(s){return xe(t),$().click(s)})("pointerdown",function(s){return xe(t),$().pointerdown(s)}),G(1,p2,2,2,"ng-container",2),te(2,"div"),G(3,g2,3,2,"ng-container",2),G(4,y2,2,6,"ng-container",2),ne()()}if(2&e){const t=$();Y(t.class),Q("visible",t.listModel.isItemVisible(t.model)),Me("id",t.elementId)("aria-selected",t.ariaSelected?"true":"false"),U(1),Q("ngIf",t.model.needSeparator),U(1),Y(t.listModel.cssClasses.itemBody),Jt("padding-inline-start",t.paddingLeft),U(1),Q("ngIf",!t.model.component),U(1),Q("ngIf",t.model.component)}}const C2=["listContainerElement"];function b2(e,n){if(1&e){const t=Ge();te(0,"button",8),Oe("click",function(s){return xe(t),$(3).model.onClickSearchClearButton(s)}),bt(),ae(1,"svg",5),ne()}2&e&&(Y($(3).model.cssClasses.searchClearButtonIcon),U(1),Q("iconName","icon-searchclear")("size","auto"))}function P2(e,n){if(1&e){const t=Ge();te(0,"div")(1,"div"),bt(),ae(2,"svg",5),ne(),ul(),te(3,"input",6),Oe("ngModelChange",function(s){return xe(t),$(2).model.filterString=s})("keyup",function(s){return xe(t),$(2).onGoToItems(s)}),ne(),G(4,b2,2,4,"button",7),ne()}if(2&e){const t=$(2);Y(t.model.cssClasses.filter),U(1),Y(t.model.cssClasses.filterIcon),U(1),Q("iconName","icon-search")("size","auto"),U(1),Y(t.model.cssClasses.filterInput),Q("ngModel",t.model.filterString),Me("aria-label",t.model.filterStringPlaceholder||"")("placeholder",t.model.filterStringPlaceholder||""),U(1),Q("ngIf",t.model.showSearchClearButton&&!!t.model.filterString)}}function E2(e,n){if(1&e&&ae(0,"sv-ng-list-item",11),2&e){const t=n.$implicit;Q("listModel",$(3).model)("model",t)}}function D2(e,n){if(1&e){const t=Ge();te(0,"ul",9),Oe("mousedown",function(s){return xe(t),$(2).onMouseDown(s)})("keydown",function(s){return xe(t),$(2).onKeyDown(s)})("mousemove",function(s){return xe(t),$(2).onMouseMove(s)}),G(1,E2,1,2,"sv-ng-list-item",10),ne()}if(2&e){const t=$(2);Y(t.model.getListClass()),Q("visible",!t.model.isEmpty),Me("id",t.model.elementId),U(1),Q("ngForOf",t.model.renderedActions)("ngForTrackBy",t.trackItemBy)}}function T2(e,n){if(1&e&&(te(0,"div",null,1),G(2,P2,5,12,"div",2),te(3,"div",3)(4,"div"),ze(5),ne()(),G(6,D2,2,6,"ul",4),ne()),2&e){const t=$();Y(t.model.cssClasses.root),U(2),Q("ngIf",t.model.showFilter),U(1),Y(t.model.cssClasses.emptyContainer),Q("visible",t.model.isEmpty),U(1),Y(t.model.cssClasses.emptyText),Me("aria-label",t.model.emptyMessage||""),U(1),qe(t.model.emptyMessage),U(1),Q("ngIf",t.model.renderElements)}}function I2(e,n){if(1&e){const t=Ge();te(0,"label",1),Oe("mousedown",function(){return xe(t),$().model.onMouseDown()}),te(1,"input",2),Oe("click",function(s){return xe(t),$().onClick(s)}),ne(),ae(2,"span",3),ne()}if(2&e){const t=$();Y(t.model.getItemClassByText(t.item.itemValue,t.item.text)),U(1),Q("value",t.item.value)("disabled",t.model.isInputReadOnly)("checked",t.model.value===t.item.value),Me("name",t.model.name)("id",t.model.getInputId(t.index))("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy),U(1),Y(t.model.cssClasses.itemText),Q("model",t.item.locText)}}function x2(e,n){if(1&e){const t=Ge();te(0,"label",1),Oe("mouseover",function(){xe(t);const s=$();return s.model.onItemMouseIn(s.item)})("mouseout",function(){xe(t);const s=$();return s.model.onItemMouseOut(s.item)})("mousedown",function(){return xe(t),$().model.onMouseDown()}),te(1,"input",2),Oe("click",function(s){return xe(t),$().onClick(s)}),ne(),bt(),ae(2,"svg",3)(3,"svg",3),ne()}if(2&e){const t=$();Y(t.model.getItemClass(t.item.itemValue,t.item.highlight)),U(1),Q("value",t.item.value)("disabled",t.model.isInputReadOnly)("checked",t.model.value===t.item.value),Me("name",t.model.name)("id",t.model.getInputId(t.index))("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy),U(1),Y("sv-star"),Q("iconName",t.model.itemStarIcon)("size","auto")("title",t.item.text),U(1),Y("sv-star-2"),Q("iconName",t.model.itemStarIconAlt)("size","auto")("title",t.item.text)}}function O2(e,n){if(1&e){const t=Ge();te(0,"label",1),Oe("mouseover",function(){xe(t);const s=$();return s.model.onItemMouseIn(s.item)})("mouseout",function(){xe(t);const s=$();return s.model.onItemMouseOut(s.item)})("mousedown",function(){return xe(t),$().model.onMouseDown()}),te(1,"input",2),Oe("click",function(s){return xe(t),$().onClick(s)}),ne(),bt(),ae(2,"svg",3),ne()}if(2&e){const t=$();Vt(t.model.getItemStyle(t.item.itemValue,t.item.highlight)),Y(t.model.getItemClass(t.item.itemValue,t.item.highlight)),U(1),Q("value",t.item.value)("disabled",t.model.isInputReadOnly)("checked",t.model.value===t.item.value),Me("name",t.model.name)("id",t.model.getInputId(t.index))("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy),U(1),Q("iconName",t.model.getItemSmileyIconName(t.item.itemValue))("size","auto")("title",t.item.text)}}function V2(e,n){if(1&e&&(bt(),te(0,"svg"),ae(1,"use"),ne()),2&e){const t=$();Y(t.model.cssClasses.checkboxItemDecorator),U(1),Me("href",t.model.svgIcon,null,"xlink")}}function M2(e,n){if(1&e&&(te(0,"span",5),ae(1,"sv-ng-element-title-actions",6),ne()),2&e){const t=$();Y(t.model.cssClasses.checkboxControlLabel),Q("id",t.model.labelRenderedAriaID),U(1),Q("element",t.model)}}function w2(e,n){if(1&e&&ae(0,"div",7),2&e){const t=$();Y(t.model.cssDescription),Q("model",t.model.locDescription)}}function S2(e,n){1&e&&ae(0,"span"),2&e&&Y($().question.cssClasses.materialRadioDecorator)}function R2(e,n){if(1&e&&(te(0,"div")(1,"div",1)(2,"span"),ze(3),ne()(),te(4,"span"),ze(5),ne()()),2&e){const t=$();Y(t.model.getProgressCssClasses()),U(1),Y(t.model.css.progressBar),Jt("width",t.model.progressValue+"%"),U(1),Y(t.getProgressTextInBarCss(t.model.css)),U(1),To(" ",t.model.progressText," "),U(1),Y(t.getProgressTextUnderBarCss(t.model.css)),U(1),To(" ",t.model.progressText," ")}}const A2=["progressButtonsListContainer"];function L2(e,n){if(1&e){const t=Ge();te(0,"li",3),Oe("click",function(){const d=xe(t).index,x=$();return x.isListElementClickable(d)?x.clickListElement(d):null}),te(1,"div",4),ze(2),ne(),te(3,"div",4),ze(4),ne()()}if(2&e){const t=n.$implicit,r=n.index,s=$();Y(s.getListElementCss(r)),U(1),Y(s.model.css.progressButtonsPageTitle),Q("title",t.locNavigationTitle.renderedHtml||t.name),U(1),To(" ",t.locNavigationTitle.renderedHtml||t.name," "),U(1),Y(s.model.css.progressButtonsPageDescription),Q("title",t.locNavigationDescription.renderedHtml),U(1),To(" ",t.locNavigationDescription.renderedHtml," ")}}function F2(e,n){1&e&&ae(0,"sv-ng-list",3),2&e&&Q("model",$(2).tocModel.listModel)}function B2(e,n){if(1&e){const t=Ge();te(0,"div",4),Oe("click",function(){return xe(t),$(2).tocModel.togglePopup()}),bt(),ae(1,"svg",5),ul(),ae(2,"sv-ng-popup",6),ne()}if(2&e){const t=$(2);U(1),Q("iconName",t.tocModel.icon)("size",24),U(1),Q("popupModel",t.tocModel.popupModel)}}function N2(e,n){if(1&e&&(te(0,"div"),G(1,F2,1,1,"sv-ng-list",1),G(2,B2,3,3,"div",2),ne()),2&e){const t=$();Y(t.tocModel.containerCss),U(1),Q("ngIf",!t.tocModel.isMobile),U(1),Q("ngIf",t.tocModel.isMobile)}}const j2=["panelContainer"];function H2(e,n){1&e&&ae(0,"div",7),2&e&&Q("element",$(3).model)}function Q2(e,n){1&e&&ae(0,"div",8),2&e&&Q("element",$(3).model)}function _2(e,n){1&e&&ae(0,"div",7),2&e&&Q("element",$(3).model)}function U2(e,n){1&e&&ae(0,"sv-ng-row",12),2&e&&Q("row",$().$implicit)}function z2(e,n){if(1&e&&(Be(0),G(1,U2,1,1,"ng-template",11),Ne()),2&e){const t=n.$implicit,r=$(4);U(1),Q("component",We(3,Ye,r.model.survey.getRowWrapperComponentName(t),tt(1,Ro,r.model.survey.getRowWrapperComponentData(t))))}}function W2(e,n){if(1&e&&(te(0,"div"),G(1,z2,2,6,"ng-container",9),ae(2,"sv-ng-action-bar",10),ne()),2&e){const t=$(3);Y(t.model.cssClasses.panel.content),Jt("padding-left",t.model.innerPaddingLeft),Me("id",t.model.contentId),U(1),Q("ngForOf",t.model.rows)("ngForTrackBy",t.trackRowBy),U(1),Q("model",t.model.getFooterToolbar())}}function k2(e,n){if(1&e){const t=Ge();te(0,"div",2,3),Oe("focusin",function(){return xe(t),$(2).model.focusIn()}),G(2,H2,1,1,"div",4),G(3,Q2,1,1,"div",5),G(4,_2,1,1,"div",4),G(5,W2,3,8,"div",6),ne()}if(2&e){const t=$(2);Y(t.model.getContainerCss()),Me("id",t.model.id),U(2),Q("ngIf",t.model.showErrorsAbovePanel&&t.model.hasVisibleErrors),U(1),Q("ngIf",t.model.hasDescription||t.model.hasTitle),U(1),Q("ngIf",!t.model.showErrorsAbovePanel&&t.model.hasVisibleErrors),U(1),Q("ngIf",!t.model.isCollapsed)}}function $2(e,n){if(1&e&&G(0,k2,6,7,"div",1),2&e){const t=$();Q("ngIf",!!t.model&&t.model.isVisible)}}function q2(e,n){if(1&e){const t=Ge();te(0,"input",1),Oe("mousedown",function(){return xe(t),$().buttonMouseDown()})("click",function(){return xe(t),$().model.action()}),ne()}if(2&e){const t=$();Y(t.model.innerCss),Q("value",t.model.title)("disabled",t.model.disabled),Me("title",t.model.getTooltip())}}function K2(e,n){1&e&&ae(0,"td")}function G2(e,n){1&e&&ae(0,"sv-ng-string",6),2&e&&Q("model",$().$implicit.locText)}const Bu=function(e,n){return{minWidth:e,width:n}};function J2(e,n){if(1&e&&(te(0,"th"),G(1,G2,1,1,"ng-template",5),ne()),2&e){const t=n.$implicit,r=$(3);Vt(We(5,Bu,r.model.columnMinWidth,r.model.columnMinWidth)),Y(r.model.cssClasses.headerCell),U(1),Q("component",We(10,Ye,r.model.getColumnHeaderWrapperComponentName(t),tt(8,Ro,r.model.getColumnHeaderWrapperComponentData(t))))}}function Z2(e,n){if(1&e&&(te(0,"thead")(1,"tr"),G(2,K2,1,0,"td",2),G(3,J2,2,13,"th",4),ne()()),2&e){const t=$(2);U(2),Q("ngIf",t.model.hasRows),U(1),Q("ngForOf",t.model.visibleColumns)}}function Y2(e,n){1&e&&ae(0,"sv-ng-string",6),2&e&&Q("model",$(2).$implicit.locText)}function X2(e,n){if(1&e&&(te(0,"td"),G(1,Y2,1,1,"ng-template",5),ne()),2&e){const t=$().$implicit,r=$(2);Vt(We(5,Bu,r.model.rowTitleWidth,r.model.rowTitleWidth)),Y(r.model.cssClasses.rowTextCell),U(1),Q("component",We(10,Ye,r.model.getRowHeaderWrapperComponentName(t),tt(8,Ro,r.model.getRowHeaderWrapperComponentData(t))))}}function eB(e,n){if(1&e){const t=Ge();te(0,"td",9),Oe("click",function(){const d=xe(t).$implicit,x=$(2).$implicit;return $(2).onChange(x,d)}),ne()}if(2&e){const t=n.$implicit,r=$(2).$implicit,s=$(2);Y(s.model.getItemClass(r,t)),Q("model",s.model.getCellDisplayLocText(r.name,t))}}function tB(e,n){if(1&e&&(Be(0),G(1,eB,1,3,"td",8),Ne()),2&e){const t=$(3);U(1),Q("ngForOf",t.model.visibleColumns)}}function nB(e,n){if(1&e&&(bt(),te(0,"svg"),ae(1,"use"),ne()),2&e){const t=$(5);Y(t.model.cssClasses.itemDecorator),U(1),Me("href",t.model.itemSvgIcon,null,"xlink")}}function rB(e,n){if(1&e){const t=Ge();te(0,"td")(1,"label",10),Oe("mousedown",function(){return xe(t),$(4).model.onMouseDown()}),te(2,"input",11),Oe("change",function(){const d=xe(t).$implicit,x=$(2).$implicit;return $(2).onChange(x,d)}),ne(),te(3,"span"),G(4,nB,2,3,"svg",12),ne(),ae(5,"span",13),ne()()}if(2&e){const t=n.$implicit,r=n.index,s=$(2).$implicit,d=$(2);Y(d.model.cssClasses.cell),Me("data-responsive-title",t.locText.renderedHtml),U(1),Y(d.model.getItemClass(s,t)),U(1),Y(d.model.cssClasses.itemValue),Q("name",s.fullName)("value",t.value)("checked",s.value===t.value)("disabled",d.model.isInputReadOnly),Me("id",d.model.inputId+"_"+s.name+"_"+r)("aria-required",d.model.ariaRequired)("aria-label",t.locText.renderedHtml)("aria-invalid",d.model.ariaInvalid)("aria-describedby",d.model.ariaDescribedBy),U(1),Y(d.model.cssClasses.materialDecorator),U(1),Q("ngIf",d.model.itemSvgIcon),U(1),Y(d.model.cssClasses.cellResponsiveTitle),Q("visible",d.model.isMobile)("model",t.locText)}}function oB(e,n){if(1&e&&(Be(0),G(1,rB,6,23,"td",3),Ne()),2&e){const t=$(3);U(1),Q("ngForOf",t.model.visibleColumns)("ngForTrackBy",t.trackColumnByFn)}}function iB(e,n){if(1&e&&(te(0,"tr"),G(1,X2,2,13,"td",7),G(2,tB,2,1,"ng-container",2),G(3,oB,2,2,"ng-container",2),ne()),2&e){const t=n.$implicit,r=$(2);Y(t.rowClasses||void 0),U(1),Q("ngIf",r.model.hasRows),U(1),Q("ngIf",r.model.hasCellText),U(1),Q("ngIf",!r.model.hasCellText)}}function sB(e,n){if(1&e&&(te(0,"div",null,1)(2,"fieldset"),ae(3,"legend"),te(4,"table"),G(5,Z2,4,2,"thead",2),te(6,"tbody"),G(7,iB,4,5,"tr",3),ne()()()()),2&e){const t=$();Y(t.model.cssClasses.tableWrapper),U(3),Me("aria-label",t.model.locTitle.renderedHtml),U(1),Y(t.model.getTableCss()),U(1),Q("ngIf",t.model.showHeader),U(2),Q("ngForOf",t.model.visibleRows)("ngForTrackBy",t.trackRowByFn)}}function aB(e,n){if(1&e){const t=Ge();te(0,"input",8),Oe("change",function(s){return xe(t),$().model.doChange(s)}),ne()}if(2&e){const t=$();Y(t.model.cssClasses.fileInput),Me("id",t.model.inputId)("aria-required",t.model.ariaRequired)("aria-label",t.model.ariaLabel)("aria-invalid",t.model.ariaInvalid)("aria-describedby",t.model.ariaDescribedBy)("multiple",t.model.multipleRendered)("title",t.model.inputTitle)("accept",t.model.acceptedTypes)("capture",t.model.renderCapture)}}function lB(e,n){if(1&e&&ae(0,"input",9),2&e){const t=$();Y(t.model.getReadOnlyFileCss()),Me("id",t.model.inputId)("multiple",t.model.multipleRendered)("placeholder",t.model.title)}}function uB(e,n){if(1&e&&(bt(),ae(0,"svg",12)),2&e){const t=$(2);Q("title",t.model.chooseButtonCaption)("iconName",t.model.cssClasses.chooseFileIconId)("size","auto")}}function cB(e,n){if(1&e&&(te(0,"label",10)(1,"span"),ze(2),ne(),G(3,uB,1,3,"svg",11),ne()),2&e){const t=$();Y(t.model.getChooseFileCss()),Me("for",t.model.inputId)("aria-label",t.model.chooseButtonCaption),U(2),qe(t.model.chooseButtonCaption),U(1),Q("ngIf",t.model.cssClasses.chooseFileIconId)}}function dB(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$();Y(t.model.cssClasses.noFileChosen),U(1),qe(t.model.noFileChosenCaption)}}function fB(e,n){if(1&e&&(bt(),ae(0,"svg",15)),2&e){const t=$(2);Q("iconName",t.model.cssClasses.removeButtonIconId)("size","auto")("title",t.model.clearButtonCaption)}}function pB(e,n){if(1&e){const t=Ge();te(0,"button",13),Oe("click",function(s){return xe(t),$().model.doClean(s)}),te(1,"span"),ze(2),ne(),G(3,fB,1,3,"svg",14),ne()}if(2&e){const t=$();Y(t.model.cssClasses.removeButton),U(2),qe(t.model.clearButtonCaption),U(1),Q("ngIf",t.model.cssClasses.removeButtonIconId)}}function hB(e,n){if(1&e){const t=Ge();te(0,"div")(1,"a",21),Oe("click",function(s){xe(t);const d=$().$implicit;return $(2).model.doDownloadFile(s,d)}),Xr(2,"safeUrl"),ze(3),ne()()}if(2&e){const t=$().$implicit,r=$(2);Y(r.model.cssClasses.fileSign),U(1),Jt("width",r.model.imageWidth),Me("href",eo(2,8,t.content),Ar)("title",t.name)("download",t.name),U(2),qe(t.name)}}function gB(e,n){if(1&e&&(ae(0,"img",22),Xr(1,"safeUrl")),2&e){const t=$().$implicit,r=$(2);Jt("height",r.model.imageHeight)("width",r.model.imageWidth),Me("src",eo(1,5,t.content),Ar)}}function mB(e,n){if(1&e&&(bt(),ae(0,"svg",23)),2&e){const t=$(3);Q("iconName",t.model.cssClasses.defaultImageIconId)("partCss",t.model.cssClasses.defaultImage)("size","auto")}}function yB(e,n){if(1&e&&(bt(),ae(0,"svg",25)),2&e){const t=$(4);Q("title",t.model.removeFileCaption)("partCss",t.model.cssClasses.removeFileSvg)("iconName",t.model.cssClasses.removeFileSvgIconId)("size","auto")}}function vB(e,n){if(1&e){const t=Ge();te(0,"div",21),Oe("click",function(){xe(t);const s=$().$implicit;return $(2).model.doRemoveFile(s)}),te(1,"span"),ze(2),ne(),G(3,yB,1,4,"svg",24),ne()}if(2&e){const t=$(3);Y(t.model.cssClasses.removeFileButton),U(1),Y(t.model.cssClasses.removeFile),U(1),qe(t.model.removeFileCaption),U(1),Q("ngIf",t.model.cssClasses.removeFileSvgIconId)}}function CB(e,n){if(1&e){const t=Ge();te(0,"div")(1,"a",21),Oe("click",function(s){xe(t);const d=$().$implicit;return $(2).model.doDownloadFile(s,d)}),Xr(2,"safeUrl"),ze(3),ne()()}if(2&e){const t=$().$implicit,r=$(2);Y(r.model.cssClasses.fileSignBottom),U(1),Jt("width",r.model.imageWidth),Me("href",eo(2,8,t.content),Ar)("title",t.name)("download",t.name),U(2),qe(t.name)}}function bB(e,n){if(1&e&&(te(0,"span",17),G(1,hB,4,10,"div",5),te(2,"div"),G(3,gB,2,7,"img",18),G(4,mB,1,3,"svg",19),G(5,vB,4,6,"div",20),ne(),G(6,CB,4,10,"div",5),ne()),2&e){const t=n.$implicit,r=n.index,s=$(2);Y(s.model.cssClasses.preview),Q("visible",t&&s.model.isPreviewVisible(r)),U(1),Q("ngIf",t.name&&s.model.cssClasses.fileSign),U(1),Y(s.model.cssClasses.imageWrapper),U(1),Q("ngIf",s.model.canPreviewImage(t)),U(1),Q("ngIf",s.model.defaultImage(t)),U(1),Q("ngIf",t.name&&!s.model.isReadOnly),U(1),Q("ngIf",t.name&&s.model.cssClasses.fileSignBottom)}}function PB(e,n){if(1&e&&(te(0,"div"),G(1,bB,7,10,"span",16),ne()),2&e){const t=$();Y(t.model.cssClasses.fileList||void 0),U(1),Q("ngForOf",t.model.previewValue)("ngForTrackBy",t.trackFilesFn)}}function EB(e,n){if(1&e&&(bt(),ae(0,"svg",15)),2&e){const t=$(2);Q("iconName",t.model.cssClasses.removeButtonIconId)("size","auto")("title",t.model.clearButtonCaption)}}function DB(e,n){if(1&e){const t=Ge();te(0,"button",13),Oe("click",function(s){return xe(t),$().model.doClean(s)}),te(1,"span"),ze(2),ne(),G(3,EB,1,3,"svg",14),ne()}if(2&e){const t=$();Y(t.model.showRemoveButtonBottom),U(2),qe(t.model.clearButtonCaption),U(1),Q("ngIf",t.model.cssClasses.removeButtonIconId)}}function TB(e,n){1&e&&ae(0,"sv-action-bar",26),2&e&&Q("model",$().model.mobileFileNavigator)}function IB(e,n){if(1&e){const t=Ge();te(0,"textarea",3,4),Oe("input",function(s){return xe(t),$().model.onInput(s)})("keydown",function(s){return xe(t),$().model.onKeyDown(s)})("change",function(s){return xe(t),$().onChange(s)}),ne()}if(2&e){const t=$();Y(t.model.className),Jt("resize",t.model.resizeStyle),Q("readonly",t.model.isInputReadOnly)("id",t.model.inputId)("value",t.model.value||null),Me("disabled",t.model.renderedInputDisabled)("maxlength",t.model.getMaxLength())("cols",t.model.cols)("rows",t.model.rows)("placeholder",t.model.renderedPlaceholder)("aria-required",t.model.a11y_input_ariaRequired)("aria-label",t.model.a11y_input_ariaLabel)("aria-labelledby",t.model.a11y_input_ariaLabelledBy)("aria-invalid",t.model.a11y_input_ariaInvalid)("aria-describedby",t.model.a11y_input_ariaDescribedBy)}}function xB(e,n){if(1&e&&ae(0,"sv-ng-character-counter",5),2&e){const t=$();Q("counter",t.model.characterCounter)("remainingCharacterCounter",t.model.cssClasses.remainingCharacterCounter)}}function OB(e,n){if(1&e&&(te(0,"div",null,4),ze(2),ne()),2&e){const t=$();U(2),qe(t.model.value)}}function VB(e,n){1&e&&(te(0,"span"),ze(1,"\u2716"),ne())}function MB(e,n){1&e&&(bt(),ae(0,"svg",6)),2&e&&Q("iconName",$().model.cssClasses.clearButtonIconId)("size","auto")}const wB=["sv-ng-multipletext-item",""];function SB(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$();Y(t.question.cssClasses.requiredText),U(1),qe(t.model.editor.requiredText)}}function RB(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$();Y(t.question.cssClasses.requiredText),U(1),qe(t.model.editor.requiredText)}}function AB(e,n){1&e&&ae(0,"div",4),2&e&&Q("element",$().model.editor)}function LB(e,n){1&e&&ae(0,"div",4),2&e&&Q("element",$().model.editor)}function FB(e,n){1&e&&ae(0,"div",5),2&e&&Q("element",$().model.editor)("location","tooltip")}function BB(e,n){if(1&e&&(Be(0),ae(1,"td",3),Ne()),2&e){const t=n.$implicit,r=$(2);U(1),Y(r.model.cssClasses.cell),Q("question",r.model)("model",t)}}function NB(e,n){if(1&e&&(te(0,"tr"),G(1,BB,2,4,"ng-container",2),ne()),2&e){const t=n.$implicit,r=$();Y(r.model.cssClasses.row),U(1),Q("ngForOf",t)("ngForTrackBy",r.trackItemBy)}}function jB(e,n){}function HB(e,n){if(1&e&&(Be(0),G(1,jB,0,0,"ng-template",3),Ne()),2&e){const t=n.$implicit,r=n.index,s=$(2);U(1),Q("component",We(1,Ye,s.getItemValueComponentName(t),s.getItemValueComponentData(t,r)))}}function QB(e,n){if(1&e&&(te(0,"div",null,1),G(2,HB,2,4,"ng-container",2),ne()),2&e){const t=$();Y(t.model.rootClass),U(2),Q("ngForOf",t.model.rankingChoices)("ngForTrackBy",t.trackItemBy)}}function _B(e,n){}function UB(e,n){if(1&e&&(Be(0),G(1,_B,0,0,"ng-template",3),Ne()),2&e){const t=n.$implicit,r=n.index,s=$(2);U(1),Q("component",We(1,Ye,s.getItemValueComponentName(t),s.getItemValueComponentData(t,r,!0)))}}function zB(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$(2);Y(t.model.cssClasses.containerPlaceholder),U(1),qe(t.model.selectToRankEmptyRankedAreaText)}}function WB(e,n){}function kB(e,n){if(1&e&&(Be(0),G(1,WB,0,0,"ng-template",3),Ne()),2&e){const t=n.$implicit,r=n.index,s=$(2);U(1),Q("component",We(1,Ye,s.getItemValueComponentName(t),s.getItemValueComponentData(t,r)))}}function $B(e,n){if(1&e&&(te(0,"div"),ze(1),ne()),2&e){const t=$(2);Y(t.model.cssClasses.containerPlaceholder),U(1),qe(t.model.selectToRankEmptyUnrankedAreaText)}}function qB(e,n){if(1&e&&(te(0,"div",null,1)(2,"div",4),G(3,UB,2,4,"ng-container",2),G(4,zB,2,3,"div",0),ne(),ae(5,"div"),te(6,"div",5),G(7,kB,2,4,"ng-container",2),G(8,$B,2,3,"div",0),ne()()),2&e){const t=$();Y(t.model.rootClass),U(2),Y(t.model.getContainerClasses("from")),U(1),Q("ngForOf",t.model.unRankingChoices)("ngForTrackBy",t.trackItemBy),U(1),Q("ngIf",0===t.model.unRankingChoices.length),U(1),Y(t.model.cssClasses.containersDivider),U(1),Y(t.model.getContainerClasses("to")),U(1),Q("ngForOf",t.model.rankingChoices)("ngForTrackBy",t.trackItemBy),U(1),Q("ngIf",0===t.model.rankingChoices.length)}}function KB(e,n){if(1&e){const t=Ge();te(0,"span",2),Oe("blur",function(s){return xe(t),$().onInput(s)})("click",function(s){return xe(t),$().onClick(s)}),ne()}2&e&&Q("innerHtml",$().model.renderedHtml,Po)}function GB(e,n){if(1&e){const t=Ge();te(0,"span",3),Oe("blur",function(s){return xe(t),$().onInput(s)})("click",function(s){return xe(t),$().onClick(s)}),ze(1),ne()}if(2&e){const t=$();U(1),qe(t.model.renderedHtml)}}function JB(e,n){if(1&e){const t=Ge();te(0,"button",1),Oe("click",function(){return xe(t),$().addPanelClick()}),te(1,"span"),ze(2),ne()()}if(2&e){const t=$();Y(t.question.getAddButtonCss()),U(1),Y(t.question.cssClasses.buttonAddText),U(1),qe(t.question.panelAddText)}}const vs=function(e){return{question:e}};function ZB(e,n){if(1&e&&(te(0,"div"),ae(1,"span",7)(2,"sv-ng-paneldynamic-add-btn",8),ne()),2&e){const t=$();Y(t.model.cssClasses.noEntriesPlaceholder),U(1),Q("model",t.model.locNoEntriesText),U(1),Q("data",tt(4,vs,t.model))}}const yp=function(e){return{width:e}};function YB(e,n){if(1&e&&(te(0,"div"),ae(1,"div",9),ne()),2&e){const t=$();Y(t.model.cssClasses.progress),U(1),Vt(tt(6,yp,t.model.progress)),Y(t.model.cssClasses.progressBar)}}function XB(e,n){1&e&&Gt(0,10),2&e&&($(),Q("ngTemplateOutlet",sn(12)))}function eN(e,n){}const tN=function(e,n){return{panel:e,question:n}};function nN(e,n){if(1&e&&ae(0,"sv-ng-paneldynamic-remove-btn",8),2&e){const t=$(2).$implicit,r=$();Q("data",We(1,tN,t,r.model))}}function rN(e,n){if(1&e&&(Be(0),G(1,nN,1,4,"sv-ng-paneldynamic-remove-btn",4),Ne()),2&e){const t=$().$implicit,r=$();U(1),Q("ngIf",r.model.canRemovePanel&&"collapsed"!=t.state&&"right"==r.model.panelRemoveButtonLocation)}}function oN(e,n){1&e&&ae(0,"hr"),2&e&&Y($(2).model.cssClasses.separator)}function iN(e,n){if(1&e&&(Be(0),te(1,"div"),G(2,eN,0,0,"ng-template",11),G(3,rN,2,1,"ng-container",12),ne(),G(4,oN,1,2,"hr",1),Ne()),2&e){const t=n.$implicit,r=n.index,s=$();U(1),Y(s.model.getPanelWrapperCss()),U(1),Q("component",We(5,Ye,s.getPanelComponentName(t),s.getPanelComponentData(t))),U(1),Q("ngIf","right"===s.model.panelRemoveButtonLocation),U(1),Q("ngIf",s.model.showSeparator(r))}}function sN(e,n){1&e&&Gt(0,10),2&e&&($(),Q("ngTemplateOutlet",sn(12)))}function aN(e,n){if(1&e&&ae(0,"sv-ng-paneldynamic-add-btn",8),2&e){const t=$();Q("data",tt(1,vs,t.model))}}function lN(e,n){1&e&&Gt(0,10),2&e&&($(),Q("ngTemplateOutlet",sn(10)))}function uN(e,n){if(1&e&&(te(0,"div"),ae(1,"div",9),ne()),2&e){const t=$(3);Y(t.model.cssClasses.progress),U(1),Vt(tt(6,yp,t.model.progress)),Y(t.model.cssClasses.progressBar)}}function cN(e,n){if(1&e&&(te(0,"div"),ae(1,"sv-ng-action-bar",13),ne()),2&e){const t=$(3);Y(t.model.cssClasses.footerButtonsContainer),U(1),Q("model",t.model.footerToolbar)}}function dN(e,n){if(1&e&&(te(0,"div"),ae(1,"hr"),G(2,uN,2,8,"div",1),G(3,cN,2,3,"div",1),ne()),2&e){const t=$(2);Y(t.model.cssClasses.footer),U(1),Y(t.model.cssClasses.separator),U(1),Q("ngIf",t.model.isRangeShowing&&t.model.isProgressBottomShowing),U(1),Q("ngIf",t.model.footerToolbar.visibleActions.length)}}function fN(e,n){1&e&&G(0,dN,4,6,"div",1),2&e&&Q("ngIf",!!$().model.cssClasses.footer)}function pN(e,n){if(1&e&&(te(0,"div"),ae(1,"div",9),ne()),2&e){const t=$(2);Y(t.model.cssClasses.progress),U(1),Vt(tt(6,yp,t.model.progress)),Y(t.model.cssClasses.progressBar)}}function hN(e,n){if(1&e&&(te(0,"div")(1,"div",14)(2,"div"),ae(3,"sv-ng-paneldynamic-prev-btn",8),G(4,pN,2,8,"div",1),ae(5,"sv-ng-paneldynamic-next-btn",8),ne(),ae(6,"sv-ng-paneldynamic-add-btn",8)(7,"sv-ng-paneldynamic-progress-text",8),ne()()),2&e){const t=$();Y(t.progressCssClass),U(1),Y(t.progressCssClass),U(1),Y(t.model.cssClasses.progressContainer),U(1),Q("data",tt(11,vs,t.model)),U(1),Q("ngIf",t.model.isRangeShowing),U(1),Q("data",tt(13,vs,t.model)),U(1),Q("data",tt(15,vs,t.model)),U(1),Q("data",tt(17,vs,t.model))}}function gN(e,n){}function mN(e,n){if(1&e&&(Be(0),G(1,gN,0,0,"ng-template",2),Ne()),2&e){const t=$(2);U(1),Q("component",We(1,Ye,t.componentName,t.componentData))}}function yN(e,n){1&e&&Gt(0)}function vN(e,n){if(1&e&&(Be(0),G(1,yN,1,0,"ng-container",3),Ne()),2&e){const t=$(2);U(1),Q("ngTemplateOutlet",t.contentTempl)}}function CN(e,n){if(1&e&&(G(0,mN,2,4,"ng-container",1),G(1,vN,2,1,"ng-container",1)),2&e){const t=$();Q("ngIf",!!t.componentName),U(1),Q("ngIf",!t.componentName&&t.contentTempl)}}const bN=["content"];function PN(e,n){1&e&&(ae(0,"div",3),Xr(1,"safeHtml")),2&e&&Q("innerHTML",eo(1,1,$().customHtml),Po)}function EN(e,n){}const DN=function(e,n){return{model:e,css:n}};function TN(e,n){if(1&e&&(Be(0),G(1,EN,0,0,"ng-template",4),Ne()),2&e){const t=$();U(1),Q("component",We(4,Ye,t.componentName,We(1,DN,t.model,t.css)))}}function IN(e,n){if(1&e&&(bt(),te(0,"svg"),ae(1,"use"),ne()),2&e){const t=$(2);Y(t.question.cssClasses.dragElementDecorator),U(1),Me("href",t.question.iconDragElement,null,"xlink")}}function xN(e,n){1&e&&ae(0,"span",3)}function ON(e,n){if(1&e&&(G(0,IN,2,3,"svg",1),G(1,xN,1,0,"span",2)),2&e){const t=$();Q("ngIf",t.question.iconDragElement),U(1),Q("ngIf",!t.question.iconDragElement)}}const VN=["cellContainer"],MN=function(e,n){return{row:e,question:n}};function wN(e,n){if(1&e&&ae(0,"sv-ng-matrix-drag-drop-icon",7),2&e){const t=$(2);Q("model",tt(4,mp,We(1,MN,t.row,t.question)))}}function SN(e,n){1&e&&ae(0,"sv-action-bar",8),2&e&&Q("model",$(2).cell.item.getData())("handleClick",!1)}function RN(e,n){}function AN(e,n){if(1&e&&(Be(0),G(1,RN,0,0,"ng-template",9),Ne()),2&e){const t=$(2);U(1),Q("component",We(1,Ye,t.panelComponentName,t.panelComponentData))}}function LN(e,n){1&e&&ae(0,"div",13),2&e&&Q("element",$(3).cell.question)("location","top")}function FN(e,n){}function BN(e,n){if(1&e&&G(0,FN,0,0,"ng-template",9),2&e){const t=$(4);Q("component",We(3,Ye,t.getComponentName(t.cell.question),tt(1,fi,t.cell.question)))}}function NN(e,n){if(1&e&&(Be(0),G(1,BN,1,6,"ng-template",9),Ne()),2&e){const t=$(3);U(1),Q("component",We(3,Ye,t.question.getCellWrapperComponentName(t.cell.cell),tt(1,Ro,t.question.getCellWrapperComponentData(t.cell.cell))))}}function jN(e,n){}function HN(e,n){if(1&e&&G(0,jN,0,0,"ng-template",9),2&e){const t=$(3);Q("component",We(3,Ye,t.cell.question.getComponentName(),tt(1,fi,t.cell.question)))}}function QN(e,n){if(1&e&&ae(0,"sv-ng-selebase-item",14),2&e){const t=$(4);Q("showLabel",!1)("inputType",t.cell.isCheckbox?"checkbox":"radio")("question",t.cell.question)("model",t.cell.item)}}function _N(e,n){if(1&e&&(Be(0),G(1,QN,1,4,"ng-template",9),Ne()),2&e){const t=$(3);U(1),Q("component",We(3,Ye,t.question.getCellWrapperComponentName(t.cell.cell),tt(1,Ro,t.question.getCellWrapperComponentData(t.cell.cell))))}}function UN(e,n){if(1&e&&ae(0,"div",15),2&e){const t=$(3);Y(t.cell.question.getCommentAreaCss(!0)),Q("question",t.cell.question)}}function zN(e,n){1&e&&ae(0,"div",13),2&e&&Q("element",$(3).cell.question)("location","top")}function WN(e,n){1&e&&ae(0,"div",13),2&e&&Q("element",$(3).cell.question)("location","tooltip")}function kN(e,n){if(1&e&&(te(0,"div",10),G(1,LN,1,2,"div",11),G(2,NN,2,6,"ng-container",5),G(3,HN,1,6,null,5),G(4,_N,2,6,"ng-container",5),G(5,UN,1,3,"div",12),G(6,zN,1,2,"div",11),G(7,WN,1,2,"div",11),ne()),2&e){const t=$(2);Y(t.question.cssClasses.cellQuestionWrapper),Q("visible",t.cell.question.isVisible),U(1),Q("ngIf",t.cell.showErrorOnTop&&t.cell.question.hasVisibleErrors),U(1),Q("ngIf",!t.cell.isChoice&&t.cell.question.isDefaultRendering()),U(1),Q("ngIf",!t.cell.isChoice&&!t.cell.question.isDefaultRendering()),U(1),Q("ngIf",t.cell.isItemChoice),U(1),Q("ngIf",t.cell.isOtherChoice),U(1),Q("ngIf",t.cell.showErrorOnBottom&&t.cell.question.hasVisibleErrors),U(1),Q("ngIf",t.cell.question.isErrorsModeTooltip&&t.cell.question.hasVisibleErrors)}}function $N(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(4);Y(t.question.cssClasses.cellRequiredText),U(1),qe(t.cell.requiredText)}}function qN(e,n){if(1&e&&(ae(0,"sv-ng-string",7),G(1,$N,2,3,"span",16)),2&e){const t=$(3);Q("model",t.cell.locTitle),U(1),Q("ngIf",!!t.cell.requiredText)}}function KN(e,n){if(1&e&&(Be(0),G(1,qN,2,2,"ng-template",9),Ne()),2&e){const t=$(2);U(1),Q("component",We(3,Ye,t.question.getCellWrapperComponentName(t.cell),tt(1,Ro,t.question.getCellWrapperComponentData(t.cell))))}}function GN(e,n){if(1&e&&(te(0,"td",1,2),G(2,wN,1,6,"sv-ng-matrix-drag-drop-icon",3),G(3,SN,1,2,"sv-action-bar",4),G(4,AN,2,4,"ng-container",5),G(5,kN,8,10,"div",6),G(6,KN,2,6,"ng-container",5),ne()),2&e){const t=$();Vt(t.getCellStyle()),Y(t.cell.className),Q("title",t.cell.getTitle()),Me("data-responsive-title",t.getHeaders())("colspan",t.cell.colSpans),U(2),Q("ngIf",t.cell.isDragHandlerCell),U(1),Q("ngIf",t.cell.isActionsCell),U(1),Q("ngIf",t.cell.hasPanel),U(1),Q("ngIf",t.cell.hasQuestion),U(1),Q("ngIf",t.cell.hasTitle)}}function JN(e,n){if(1&e&&(te(0,"span"),ze(1),ne()),2&e){const t=$(2);Y(t.question.cssClasses.cellRequiredText),U(1),qe(t.column.requiredText)}}function ZN(e,n){1&e&&G(0,JN,2,3,"span",1),2&e&&Q("ngIf",$().column.isRenderedRequired)}function YN(e,n){if(1&e&&ae(0,"sv-ng-matrix-cell",3),2&e){const t=n.$implicit,r=$(2);Q("cell",t)("question",r.question)}}function XN(e,n){if(1&e){const t=Ge();te(0,"tr",1),Oe("pointerdown",function(s){xe(t);const d=$();return d.question.onPointerDown(s,d.row)}),G(1,YN,1,2,"sv-ng-matrix-cell",2),ne()}if(2&e){const t=$();Y(t.model.className),Me("data-sv-drop-target-matrix-row",t.row&&t.row.id),U(1),Q("ngForOf",t.model.cells)("ngForTrackBy",t.trackCellBy)}}function ej(e,n){if(1&e&&ae(0,"sv-ng-matrixheaderrequired",7),2&e){const t=$(3).$implicit,r=$(2);Q("column",t.column)("question",r.question)}}function tj(e,n){if(1&e&&(ae(0,"sv-ng-string",5),G(1,ej,1,2,"sv-ng-matrixheaderrequired",6)),2&e){const t=$(2).$implicit;Q("model",t.locTitle),U(1),Q("ngIf",!!t.column)}}function nj(e,n){if(1&e&&(te(0,"th"),G(1,tj,2,2,"ng-template",4),ne()),2&e){const t=$().$implicit,r=$(2);Vt(We(5,Bu,t.minWidth,t.width)),Y(t.className),U(1),Q("component",We(10,Ye,r.question.getColumnHeaderWrapperComponentName(t),tt(8,Ro,r.question.getColumnHeaderWrapperComponentData(t))))}}function rj(e,n){if(1&e&&ae(0,"td"),2&e){const t=$().$implicit;Vt(We(4,Bu,t.minWidth,t.width)),Y(t.className)}}function oj(e,n){if(1&e&&(Be(0),G(1,nj,2,13,"th",3),G(2,rj,1,7,"td",3),Ne()),2&e){const t=n.$implicit;U(1),Q("ngIf",t.hasTitle),U(1),Q("ngIf",!t.hasTitle)}}function ij(e,n){if(1&e&&(te(0,"thead")(1,"tr"),G(2,oj,3,2,"ng-container",2),ne()()),2&e){const t=$();U(2),Q("ngForOf",t.table.headerRow.cells)("ngForTrackBy",t.trackCellBy)}}function sj(e,n){if(1&e&&(Be(0),ae(1,"sv-ng-matrix-row",8),Ne()),2&e){const t=n.$implicit,r=$();U(1),Q("model",t)("question",r.question)}}function aj(e,n){if(1&e&&ae(0,"sv-ng-matrix-cell",10),2&e){const t=n.$implicit,r=$(2);Q("cell",t)("question",r.question)}}function lj(e,n){if(1&e&&(te(0,"tfoot")(1,"tr"),G(2,aj,1,2,"sv-ng-matrix-cell",9),ne()()),2&e){const t=$();U(2),Q("ngForOf",t.table.footerRow.cells)("ngForTrackBy",t.trackCellBy)}}const uj=function(e){return{overflowX:e}};function cj(e,n){if(1&e&&ae(0,"sv-ng-matrix-table",2),2&e){const t=$(2);Q("question",t.model)("table",t.model.renderedTable)}}function dj(e,n){if(1&e&&G(0,cj,1,2,"sv-ng-matrix-table",1),2&e){const t=$();Q("ngIf",null==t.model.renderedTable?null:t.model.renderedTable.showTable)}}function fj(e,n){1&e&&Gt(0)}function pj(e,n){if(1&e&&(te(0,"div"),G(1,fj,1,0,"ng-container",5),ne()),2&e){$();const t=sn(7);Y($().model.cssClasses.footer),U(1),Q("ngTemplateOutlet",t)}}function hj(e,n){if(1&e&&ae(0,"sv-ng-matrix-table",6),2&e){const t=$(2);Q("question",t.model)("table",t.model.renderedTable)}}function gj(e,n){1&e&&Gt(0)}function mj(e,n){if(1&e&&(te(0,"div"),ae(1,"div",7),G(2,gj,1,0,"ng-container",5),ne()),2&e){$();const t=sn(7),r=$();Y(r.model.cssClasses.emptyRowsSection),U(1),Y(r.model.cssClasses.emptyRowsText),Q("model",r.model.locEmptyRowsText),U(1),Q("ngTemplateOutlet",t)}}function yj(e,n){1&e&&Gt(0)}function vj(e,n){if(1&e&&(te(0,"div"),G(1,yj,1,0,"ng-container",5),ne()),2&e){$();const t=sn(7);Y($().model.cssClasses.footer),U(1),Q("ngTemplateOutlet",t)}}function Cj(e,n){if(1&e){const t=Ge();te(0,"button",8),Oe("click",function(){return xe(t),$(2).model.addRowUI()}),ae(1,"sv-ng-string",9)(2,"span"),ne()}if(2&e){const t=$(2);Y(t.model.getAddRowButtonCss(!0)),U(1),Q("model",t.model.locAddRowText),U(1),Y(t.model.cssClasses.iconAdd)}}function bj(e,n){if(1&e&&(te(0,"div",null,1),G(2,pj,2,3,"div",2),G(3,hj,1,2,"sv-ng-matrix-table",3),G(4,mj,3,6,"div",2),G(5,vj,2,3,"div",2),ne(),G(6,Cj,3,5,"ng-template",null,4,ot)),2&e){const t=$();U(2),Q("ngIf",t.model.renderedTable.showAddRowOnTop),U(1),Q("ngIf",null==t.model.renderedTable?null:t.model.renderedTable.showTable),U(1),Q("ngIf",!t.model.renderedTable.showTable),U(1),Q("ngIf",t.model.renderedTable.showAddRowOnBottom)}}const vp=function(e,n,t){return{objectFit:e,width:n,height:t}};function Pj(e,n){if(1&e){const t=Ge();te(0,"img",5),Oe("load",function(){return xe(t),$().model.onLoadHandler()})("error",function(){return xe(t),$().model.onErrorHandler()}),ne()}if(2&e){const t=$();Vt(Ca(9,vp,t.model.imageFit,t.model.renderedStyleWidth,t.model.renderedStyleHeight)),Y(t.model.getImageCss()),Q("visible",!!t.model.locImageLink.renderedHtml&&!t.model.contentNotLoaded),Me("src",t.model.locImageLink.renderedHtml,Ar)("alt",t.model.altText||t.model.title)("width",t.model.renderedWidth)("height",t.model.renderedHeight)}}function Ej(e,n){if(1&e){const t=Ge();te(0,"video",6),Oe("loadedmetadata",function(){return xe(t),$().model.onLoadHandler()})("error",function(){return xe(t),$().model.onErrorHandler()}),ne()}if(2&e){const t=$();Vt(Ca(8,vp,t.model.imageFit,t.model.renderedStyleWidth,t.model.renderedStyleHeight)),Y(t.model.getImageCss()),Q("visible",!!t.model.locImageLink.renderedHtml&&!t.model.contentNotLoaded),Me("src",t.model.locImageLink.renderedHtml,Ar)("width",t.model.renderedWidth)("height",t.model.renderedHeight)}}function Dj(e,n){if(1&e&&(ae(0,"iframe"),Xr(1,"safeResourceUrl")),2&e){const t=$();Vt(Ca(9,vp,t.model.imageFit,t.model.renderedStyleWidth,t.model.renderedStyleHeight)),Y(t.model.getImageCss()),Me("src",eo(1,7,t.model.locImageLink.renderedHtml),rd)("width",t.model.renderedWidth)("height",t.model.renderedHeight)}}function Tj(e,n){if(1&e&&(te(0,"div"),bt(),ae(1,"svg",7),ne()),2&e){const t=$();Y(t.model.cssClasses.noImage),U(1),Q("iconName",t.model.cssClasses.noImageSvgIconId)("size",48)}}function Ij(e,n){}let ar=(()=>{class e{constructor(t){this.viewContainerRef=t}ngOnInit(){var t;this.templateRef&&(this.embeddedView=null===(t=this.viewContainerRef)||void 0===t?void 0:t.createEmbeddedView(this.templateRef))}}return e.\u0275fac=function(t){return new(t||e)(ve(ln))},e.\u0275cmp=me({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(1&t&&yn(JS,7,yr),2&t){let s;mn(s=vn())&&(r.templateRef=s.first)}},decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),Ct=(()=>{class e extends ar{constructor(t,r){super(r),this.changeDetectorRef=t,this.isModelSubsribed=!1,this.isDestroyed=!1}get surveyModel(){return this.getModel().getSurvey()}ngDoCheck(){this.previousModel!==this.getModel()&&(this.unMakeBaseElementAngular(this.previousModel),this.makeBaseElementAngular(this.getModel()),this.onModelChanged(),this.previousModel=this.getModel()),this.setIsRendering(!0)}onModelChanged(){}setIsRendering(t){const r=this.getModel();r&&(r.isRendering=t)}getIsRendering(){const t=this.getModel();return!!t&&!!t.isRendering}ngOnDestroy(){this.isDestroyed=!0,this.unMakeBaseElementAngular(this.getModel())}makeBaseElementAngular(t){t&&!t.__ngImplemented&&(this.isModelSubsribed=!0,t.__ngImplemented=!0,t.iteratePropertiesHash((r,s)=>{var d=r[s];Array.isArray(d)&&(d.onArrayChanged=R=>{this.update(s)})}),t.setPropertyValueCoreHandler=(r,s,d)=>{r[s]!==d&&(r[s]=d,this.update(s))})}unMakeBaseElementAngular(t){t&&this.isModelSubsribed&&(this.isModelSubsribed=!1,t.__ngImplemented=!1,t.setPropertyValueCoreHandler=void 0,t.iteratePropertiesHash((r,s)=>{var d=r[s];Array.isArray(d)&&(d.onArrayChanged=()=>{})}))}update(t){this.getIsRendering()||(this.beforeUpdate(),t&&this.getPropertiesToUpdateSync().indexOf(t)>-1?(this.detectChanges(),this.afterUpdate()):queueMicrotask(()=>{this.isDestroyed||(this.setIsRendering(!0),this.detectChanges()),this.afterUpdate()}))}getChangeDetectorRef(){return this.embeddedView?this.embeddedView:this.changeDetectorRef}getPropertiesToUpdateSync(){return[]}detectChanges(){this.getChangeDetectorRef().detectChanges()}getShouldReattachChangeDetector(){return!0}beforeUpdate(){this.getShouldReattachChangeDetector()&&this.getChangeDetectorRef().detach(),this.setIsRendering(!0)}afterUpdate(){this.getShouldReattachChangeDetector()&&this.getChangeDetectorRef().reattach(),this.setIsRendering(!1)}ngAfterViewChecked(){this.setIsRendering(!1)}}return e.\u0275fac=function(t){return new(t||e)(ve(jr),ve(ln))},e.\u0275cmp=me({type:e,selectors:[["ng-component"]],features:[be],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})();class Se{constructor(){this.creatorHash={}}registerComponent(n,t){this.creatorHash[n]=t}getAllTypes(){var n=new Array;for(var t in this.creatorHash)n.push(t);return n.sort()}isComponentRegistered(n){return!!this.creatorHash[n]}create(n,t,r){var s=this.creatorHash[t];return s?n.createComponent(r.resolveComponentFactory(s)):null}}Se.Instance=new Se;let Rt=(()=>{class e{constructor(t,r,s){this.containerRef=t,this.templateRef=r,this.resolver=s}ngOnChanges(t){var r;const s=t.component;s.currentValue.name!==(null===(r=s.previousValue)||void 0===r?void 0:r.name)||void 0===s.currentValue.name&&void 0===s.previousValue&&!this.componentInstance?this.createComponent():this.updateComponentData()}createComponent(){if(this.containerRef.clear(),Se.Instance.isComponentRegistered(this.component.name)?this.componentInstance=Se.Instance.create(this.containerRef,this.component.name,this.resolver).instance:this.component.default&&(this.componentInstance=Se.Instance.create(this.containerRef,this.component.default,this.resolver).instance),!this.componentInstance)throw new Error(`Can't create component with name: ${this.component.name} and default: ${this.component.default}`);this.componentInstance.contentTempl=this.templateRef,this.updateComponentData()}updateComponentData(){const t=this.component.data;Object.keys(t).forEach(r=>{this.componentInstance[r]=t[r]})}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(yr),ve(ds))},e.\u0275dir=Ze({type:e,selectors:[["","component",""]],inputs:{component:"component"},features:[Pn]}),e})(),sP=(()=>{class e extends Ct{getModel(){return this.model}getPropertiesToUpdateSync(){return["mode"]}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-action"]],viewQuery:function(t,r){if(1&t&&yn(ZS,7,ln),2&t){let s;mn(s=vn())&&(r.actionContent=s.first)}},inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"id"],[1,"sv-action__content"],[4,"ngIf"],[3,"component"],[1,"sv-action-bar-separator"]],template:function(t,r){1&t&&G(0,t1,4,10,"ng-template",null,0,ot)},directives:[ke,Rt],styles:["[_nghost-%COMP%] { display: none; }"]}),e})();Se.Instance.registerComponent("sv-action",sP);let ro=(()=>{class e extends Ct{getModel(){return this.model}get allowOnClick(){return void 0===this.handleClick||this.handleClick}onClick(t){this.allowOnClick&&t.stopPropagation()}ngAfterViewInit(){this.model.hasActions&&this.model.initResponsivityManager(this.container.nativeElement)}ngOnDestroy(){super.ngOnDestroy(),this.model.resetResponsivityManager()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-action-bar"],["sv-ng-action-bar"]],viewQuery:function(t,r){if(1&t&&yn(nP,5),2&t){let s;mn(s=vn())&&(r.container=s.first)}},inputs:{model:"model",handleClick:"handleClick"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class","click",4,"ngIf"],[3,"click"],["container",""],[4,"ngFor","ngForOf"],[3,"model"]],template:function(t,r){1&t&&G(0,o1,1,1,"ng-template",null,0,ot)},directives:[sP,ke,_t],styles:["[_nghost-%COMP%] { display: none }"]}),e})();Se.Instance.registerComponent("sv-action-bar",ro);let br=(()=>{class e{constructor(t){this.el=t}ngOnChanges(t){t.visible.currentValue?this.show():this.hide()}hide(){this.el.nativeElement.style.display="none"}show(){this.el.nativeElement.style.display=""}}return e.\u0275fac=function(t){return new(t||e)(ve(gn))},e.\u0275dir=Ze({type:e,selectors:[["","visible",""]],inputs:{visible:"visible"},features:[Pn]}),e})(),aP=(()=>{class e extends Ct{constructor(t){super(t),this.prevIsVisible=!1,this.changeDetectorRef.detach()}getModel(){return this.model}get applyButtonText(){const t=this.model;return t?t.applyButtonText:null}apply(){const t=this.model;!t||t.apply()}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}afterUpdate(){super.afterUpdate(),!this.prevIsVisible&&this.model.isVisible&&this.model.updateOnShowing(),this.prevIsVisible!==this.model.isVisible&&(this.prevIsVisible=this.model.isVisible)}clickInside(t){t.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(ve(jr))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-popup-container"],["","sv-ng-popup-container",""]],inputs:{model:"model"},features:[be],decls:10,vars:18,consts:[["tabindex","-1",1,"sv-popup",3,"visible","click","keydown"],[1,"sv-popup__container",3,"click"],[1,"sv-popup__shadow"],[4,"ngIf"],[1,"sv-popup__body-content"],["class","sv-popup__body-header",4,"ngIf"],[1,"sv-popup__scrolling-content"],[1,"sv-popup__content"],[3,"component"],["class","sv-popup__body-footer",4,"ngIf"],[1,"sv-popup__body-header"],[1,"sv-popup__body-footer"],[3,"model"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("click",function(d){return r.model.clickOutside(d)})("keydown",function(d){return r.model.onKeyDown(d)}),te(1,"div",1),Oe("click",function(d){return r.clickInside(d)}),te(2,"div",2),G(3,s1,2,6,"ng-container",3),te(4,"div",4),G(5,a1,2,1,"div",5),te(6,"div",6)(7,"div",7),G(8,l1,0,0,"ng-template",8),ne()(),G(9,u1,2,1,"div",9),ne()()()()),2&t&&(Y(r.model.styleClass),Q("visible",r.model.isVisible),U(1),Vt(bv(9,c1,r.model.left,r.model.top,r.model.height,r.model.minWidth,r.model.width)),U(2),Q("ngIf",r.model.showHeader),U(2),Q("ngIf",r.model.title),U(3),Q("component",We(15,Ye,r.model.contentComponentName,r.model.contentComponentData)),U(1),Q("ngIf",r.model.showFooter))},directives:[ro,br,ke,Rt],encapsulation:2}),e})(),lP=(()=>{class e{constructor(t,r,s){this.injector=t,this.applicationRef=r,this.componentFactoryResolver=s}createComponent(t){const r=new zw(t.container,this.componentFactoryResolver,this.applicationRef,this.injector),s=new JC(aP),d=r.attach(s);return t.setComponentElement(t.container.children[0]),d.instance.model=t,d.changeDetectorRef.detectChanges(),r}}return e.\u0275fac=function(t){return new(t||e)(et(Ln),et(Df),et(ds))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),xj=(()=>{class e{constructor(t){this.popupService=t,this.functionDefined=!1}showDialog(t,r){return this.model=(0,Tt.createPopupModalViewModel)(t,r),this.model.model.onHide=()=>{this.portalHost.detach(),this.model.dispose()},this.portalHost=this.popupService.createComponent(this.model),this.model.model.isVisible=!0,this.model}ngOnInit(){Tt.settings.showModal||(this.functionDefined=!0,Tt.settings.showModal=(t,r,s,d,x,R,N="popup")=>{const _=(0,Tt.createDialogOptions)(t,r,s,d,void 0,void 0,x,R,N);return this.showDialog(_)},Tt.settings.showDialog=(t,r)=>this.showDialog(t,r))}ngOnDestroy(){this.functionDefined&&(Tt.settings.showModal=void 0,Tt.settings.showDialog=void 0)}}return e.\u0275fac=function(t){return new(t||e)(ve(lP))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-modal-container"]],decls:0,vars:0,template:function(t,r){},styles:["[_nghost-%COMP%]{display:none}"]}),e})(),Oj=(()=>{class e extends ar{get ariaLabel(){return this.element.titleAriaLabel}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-dynamic-head"]],inputs:{tagName:"tagName",element:"element"},features:[be],ngContentSelectors:gp,decls:2,vars:0,consts:[["template",""],[3,"ngSwitch"],[3,"class",4,"ngSwitchCase"],["titleContent",""],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&(_l(),G(0,T1,9,7,"ng-template",null,0,ot))},directives:[Oa,Hf,xo],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),Ut=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-string"],["","sv-ng-string",""]],inputs:{model:"model"},decls:1,vars:6,consts:[[3,"component"]],template:function(t,r){1&t&&G(0,I1,0,0,"ng-template",0),2&t&&Q("component",We(3,Ye,r.model.renderAs,tt(1,fi,r.model.renderAsData)))},directives:[Rt],encapsulation:2}),e})(),uP=(()=>{class e extends ar{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-element-title-actions"]],inputs:{element:"element"},features:[be],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["elementTitleContent",""],[4,"ngTemplateOutlet"],[1,"sv-title-actions"],[1,"sv-title-actions__title"],[3,"model"],[3,"model",4,"ngIf"],[3,"class",4,"ngIf"],["style","position: static",3,"class",4,"ngIf"],[2,"position","static"]],template:function(t,r){1&t&&G(0,Q1,4,2,"ng-template",null,0,ot)},directives:[ro,Ut,ke,xo],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),Cp=(()=>{class e extends ar{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-element-title"]],inputs:{element:"element"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"tagName","element",4,"ngIf"],[3,"tagName","element"],[3,"element"]],template:function(t,r){1&t&&G(0,U1,1,1,"ng-template",null,0,ot)},directives:[Oj,uP,ke],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),Vj=(()=>{class e{constructor(t,r){this.viewContainerRef=t,this.changeDetectorRef=r}ngAfterViewInit(){this.survey.afterRenderHeader(this.viewContainerRef.element.nativeElement),this.survey.locLogo.onChanged=()=>{this.changeDetectorRef.detectChanges()}}ngOnDestroy(){this.survey.locLogo.onChanged=()=>{}}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(jr))},e.\u0275cmp=me({type:e,selectors:[["","sv-ng-survey-header",""]],inputs:{survey:"survey"},attrs:z1,decls:4,vars:5,consts:[[3,"class",4,"ngIf"],[3,"class","maxWidth",4,"ngIf"],[3,"component"],[3,"element"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&(G(0,k1,2,8,"div",0),G(1,q1,3,6,"div",1),G(2,G1,2,8,"div",0),ae(3,"div")),2&t&&(Q("ngIf",r.survey.isLogoBefore),U(1),Q("ngIf",r.survey.renderedHasTitle),U(1),Q("ngIf",r.survey.isLogoAfter),U(1),Y(r.survey.css.headerClose))},directives:[Cp,Ut,ke,Rt],encapsulation:2}),e})(),Mj=(()=>{class e extends Ct{getModel(){return this.model}get elementComponentName(){return this.model.isPanel?"panel":"question"}get componentName(){const t=this.surveyModel;if(t){const r=t.getElementWrapperComponentName(this.model);if(r)return r}return this.elementComponentName}get rootStyle(){return this.model.cssClasses?this.model.rootStyle:{}}get componentData(){const t=this.surveyModel;let r;return t&&(r=t.getElementWrapperComponentData(this.model)),{componentName:this.elementComponentName,componentData:{model:this.model,data:r}}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-element"]],inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class","style","focusin",4,"ngIf"],[3,"focusin"],[3,"component"]],template:function(t,r){1&t&&G(0,Y1,1,1,"ng-template",null,0,ot)},directives:[ke,Rt],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),cP=(()=>{class e extends Ct{constructor(t,r,s){super(t,r),this.ngZone=s}getModel(){return this.row}trackElementBy(t,r){return r.name+t}ngAfterViewInit(){var t;const r=null===(t=this.container)||void 0===t?void 0:t.nativeElement;r&&!this.row.isNeedRender&&this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.row.startLazyRendering(r)},10)})}onModelChanged(){super.onModelChanged(),this.previousModel&&(this.row.isNeedRender=this.previousModel.isNeedRender,this.stopLazyRendering())}stopLazyRendering(){this.row.stopLazyRendering(),this.row.isNeedRender=!this.row.isLazyRendering()}ngOnDestroy(){super.ngOnDestroy(),this.stopLazyRendering()}}return e.\u0275fac=function(t){return new(t||e)(ve(jr),ve(ln),ve(Nn))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-row"]],viewQuery:function(t,r){if(1&t&&yn(nP,5,gn),2&t){let s;mn(s=vn())&&(r.container=s.first)}},inputs:{row:"row"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["container",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model",4,"ngIf"],[4,"ngIf"],[3,"model"],[3,"component"]],template:function(t,r){1&t&&G(0,iR,1,1,"ng-template",null,0,ot)},directives:[Mj,ke,_t,Rt],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),wj=(()=>{class e extends Ct{getModel(){return this.model}onModelChanged(){this.pageContainerRef&&this.pageContainerRef.nativeElement&&this.model.survey.afterRenderPage(this.pageContainerRef.nativeElement)}ngAfterViewInit(){var t,r;null===(t=this.model.survey)||void 0===t||t.afterRenderPage(null===(r=this.pageContainerRef)||void 0===r?void 0:r.nativeElement)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["page"],["sv-ng-page"]],viewQuery:function(t,r){if(1&t&&yn(sR,5,gn),2&t){let s;mn(s=vn())&&(r.pageContainerRef=s.first)}},inputs:{model:"model",survey:"survey"},features:[be],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["pageContainer",""],[3,"element"],[3,"class",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"model"],[3,"component"],[3,"row"]],template:function(t,r){1&t&&G(0,dR,1,1,"ng-template",null,0,ot)},directives:[Cp,Ut,cP,ke,_t,Rt],styles:["[_nghost-%COMP%]{display:none}"]}),e})(),dP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-brand-info"]],decls:10,vars:0,consts:[[1,"sv-brand-info"],["href","https://surveyjs.io/?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=landing_page",1,"sv-brand-info__logo"],["src","https://surveyjs.io/Content/Images/poweredby.svg"],[1,"sv-brand-info__text"],["href","https://surveyjs.io/create-survey?utm_source=built-in_links&utm_medium=online_survey_tool&utm_campaign=create_survey"],[1,"sv-brand-info__terms"],["href","https://surveyjs.io/TermsOfUse"]],template:function(t,r){1&t&&(te(0,"div",0)(1,"a",1),ae(2,"img",2),ne(),te(3,"div",3),ze(4,"Try and see how easy it is to "),te(5,"a",4),ze(6,"create a survey"),ne()(),te(7,"div",5)(8,"a",6),ze(9,"Terms of Use & Privacy Statement"),ne()()())},encapsulation:2}),e})();Se.Instance.registerComponent("sv-brand-info",dP);let Sj=(()=>{class e extends Ct{getStateElement(){return this.notifier}getModel(){return this.notifier}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-notifier"]],inputs:{notifier:"notifier"},features:[be],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["role","alert","aria-live","polite"],[3,"model"]],template:function(t,r){1&t&&G(0,hR,1,1,"ng-template",null,0,ot)},directives:[ro,ke],styles:["[_nghost-%COMP%] { display: none; }"]}),e})(),fP=(()=>{class e extends Ct{constructor(){super(...arguments),this.isSurveyUpdated=!1}getModel(){return this.model}onModelChanged(){this.previousModel&&(this.previousModel.destroyResizeObserver(),this.previousModel.renderCallback=void 0),this.model&&(this.model.renderCallback=()=>{this.detectChanges()}),this.isSurveyUpdated=!0}ngOnInit(){super.ngOnInit(),this.model&&this.model.needRenderIcons&&Tt.SvgRegistry.renderIcons()}ngOnDestroy(){super.ngOnDestroy(),this.model&&(this.model.renderCallback=void 0)}ngAfterViewInit(){this.isSurveyUpdated=!0}ngAfterViewChecked(){!!this.model&&this.isSurveyUpdated&&(this.model.afterRenderSurvey(this.rootEl.nativeElement),this.model.startTimerFromUI()),super.ngAfterViewChecked()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["survey-content"]],viewQuery:function(t,r){if(1&t&&yn(gR,5),2&t){let s;mn(s=vn())&&(r.rootEl=s.first)}},inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class","style",4,"ngIf"],["surveyContainer",""],["onsubmit","return false;"],[1,"sv_custom_header",3,"hidden"],["sv-ng-survey-header","",3,"class","survey",4,"ngIf"],[3,"component"],[3,"class",4,"ngIf"],[3,"class","innerHtml",4,"ngIf"],[4,"ngIf"],[3,"notifier"],["sv-ng-survey-header","",3,"survey"],[3,"id"],[3,"model","survey"],[3,"innerHtml"]],template:function(t,r){1&t&&G(0,jR,1,1,"ng-template",null,0,ot)},directives:[Vj,wj,dP,Sj,ke,Nb,Pb,wu,Rt],encapsulation:2}),e})();Se.Instance.registerComponent("survey",fP);let Rj=(()=>{class e extends Ct{constructor(t){super(t),t.detach()}getModel(){return this.model}getShouldReattachChangeDetector(){return!1}onModelChanged(){this.changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(ve(jr))},e.\u0275cmp=me({type:e,selectors:[["survey"]],inputs:{model:"model"},features:[be],decls:2,vars:1,consts:[[3,"model"]],template:function(t,r){1&t&&ae(0,"sv-ng-modal-container")(1,"survey-content",0),2&t&&(U(1),Q("model",r.model))},directives:[xj,fP],encapsulation:2}),e})(),cn=(()=>{class e{constructor(t){this.viewContaierRef=t}createSvg(){this.iconName&&Tt.createSvg(this.size,this.width,this.height,this.iconName,this.viewContaierRef.element.nativeElement,this.title)}get rootClass(){let t="sv-svg-icon";return!this.css&&this.partCss?t+=" "+this.partCss:this.css&&(t=this.css),t}get rootRole(){return"img"}get ariaLabel(){return this.title}ngOnChanges(){const t=this.viewContaierRef.element.nativeElement;t.innerHTML="",t.appendChild(document.createElementNS("http://www.w3.org/2000/svg","use")),this.createSvg()}}return e.\u0275fac=function(t){return new(t||e)(ve(ln))},e.\u0275cmp=me({type:e,selectors:[["","sv-ng-svg-icon",""]],hostVars:4,hostBindings:function(t,r){2&t&&(Me("role",r.rootRole)("aria-label",r.ariaLabel),Y(r.rootClass))},inputs:{size:"size",width:"width",height:"height",iconName:"iconName",partCss:"partCss",css:"css",title:"title"},features:[Pn],attrs:HR,decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),nn=(()=>{class e extends Ct{getModel(){return this.model}ngAfterViewInit(){var t;this.model&&this.model.afterRenderQuestionElement(null===(t=this.elementContentRef)||void 0===t?void 0:t.nativeElement)}ngOnDestroy(){var t;this.model&&this.model.beforeDestroyQuestionElement(null===(t=this.elementContentRef)||void 0===t?void 0:t.nativeElement),super.ngOnDestroy()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["ng-component"]],viewQuery:function(t,r){if(1&t&&yn(zR,5),2&t){let s;mn(s=vn())&&(r.elementContentRef=s.first)}},inputs:{model:"model"},features:[be],decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})();function bp(e){return e.customWidget?"survey-customwidget":e.isDefaultRendering()?e.getTemplate()+"-question":e.getComponentName()}let Nu=(()=>{class e{constructor(t){this.viewContainerRef=t}ngOnInit(){"tooltip"==this.location&&(this.tooltipManager=new Tt.TooltipManager(this.viewContainerRef.element.nativeElement))}ngOnDestroy(){this.tooltipManager&&this.tooltipManager.dispose()}get role(){return"alert"}get id(){return this.element.id+"_errors"}get ariaLive(){return"polite"}get class(){return this.element.cssError}}return e.\u0275fac=function(t){return new(t||e)(ve(ln))},e.\u0275cmp=me({type:e,selectors:[["","sv-ng-errors",""]],viewQuery:function(t,r){if(1&t&&yn(WR,7),2&t){let s;mn(s=vn())&&(r.errorsContainerRef=s.first)}},hostVars:5,hostBindings:function(t,r){2&t&&(zd("id",r.id),Me("role",r.role)("aria-live",r.ariaLive),Y(r.class))},inputs:{element:"element",location:"location"},attrs:kR,decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["aria-hidden","true"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&G(0,$R,3,5,"div",0),2&t&&Q("ngForOf",r.element.errors)},directives:[Ut,_t],encapsulation:2}),e})(),pP=(()=>{class e{constructor(){}get rootClass(){return this.element.cssHeader}click(){void 0!==this.element.clickTitleFunction&&this.element.clickTitleFunction()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["","sv-ng-element-header",""]],hostVars:2,hostBindings:function(t,r){1&t&&Oe("click",function(){return r.click()}),2&t&&Y(r.rootClass)},inputs:{element:"element"},attrs:qR,decls:3,vars:3,consts:[[3,"element"],["sv-ng-string","",3,"class","model","display",4,"ngIf"],[4,"ngIf"],["sv-ng-string","",3,"model"],[3,"model"]],template:function(t,r){1&t&&(ae(0,"sv-ng-element-title",0),G(1,KR,1,5,"div",1),G(2,GR,2,1,"ng-container",2)),2&t&&(Q("element",r.element),U(1),Q("ngIf",r.element.hasDescriptionUnderTitle),U(1),Q("ngIf",!!r.element.additionalTitleToolbar))},directives:[Cp,Ut,ro,ke],encapsulation:2}),e})(),Aj=(()=>{class e{constructor(){}get comment(){return this.question.comment?this.question.comment:""}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-comment"],["","sv-ng-comment",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"id","value","disabled","change","input"]],template:function(t,r){1&t&&(G(0,JR,1,11,"textarea",0),G(1,ZR,2,1,"div",1)),2&t&&(Q("ngIf",!r.question.isReadOnlyRenderDiv()),U(1),Q("ngIf",r.question.isReadOnlyRenderDiv()))},directives:[ke],encapsulation:2}),e})();Se.Instance.registerComponent("question",(()=>{class e extends ar{getModel(){return this.model}ngAfterViewInit(){var t,r;(null===(t=this.rootEl)||void 0===t?void 0:t.nativeElement)&&this.model.afterRender(null===(r=this.rootEl)||void 0===r?void 0:r.nativeElement)}ngOnDestroy(){this.model&&this.model.destroyResizeObserver()}getComponentName(){return bp(this.model)}getQuestionContentWrapperComponentName(){return this.model.survey.getQuestionContentWrapperComponentName(this.model)||this.getComponentName()}getQuestionContentWrapperComponentData(){return{componentName:this.getComponentName(),componentData:{model:this.model,data:this.model.survey.getElementWrapperComponentData(this.model)}}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-question"]],viewQuery:function(t,r){if(1&t&&yn(YR,5),2&t){let s;mn(s=vn())&&(r.rootEl=s.first)}},inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class","style","id",4,"ngIf"],[3,"id"],["elementContainer",""],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],["role","presentation",3,"visible"],[3,"component"],[3,"class",4,"ngIf"],["sv-ng-errors","",3,"element","location",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],["sv-ng-string","",3,"model"],[3,"question"],["sv-ng-errors","",3,"element","location"]],template:function(t,r){1&t&&G(0,dA,1,1,"ng-template",null,0,ot)},directives:[Nu,pP,Ut,Aj,ke,br,Rt],encapsulation:2}),e})());let Pp=(()=>{class e{constructor(t){this.domSanitizer=t}transform(t){return this.domSanitizer.bypassSecurityTrustHtml(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(Cu,16))},e.\u0275pipe=je({name:"safeHtml",type:e,pure:!0}),e})();Se.Instance.registerComponent(Tt.LocalizableString.defaultRenderer,(()=>{class e{constructor(t){this.changeDetectorRef=t}ngDoCheck(){this.model!==this.previousModel&&(this.previousModel&&this.clearOnChanged(this.previousModel),this.model&&(this.model.onChanged=()=>{this.changeDetectorRef.detectChanges()}),this.previousModel=this.model)}clearOnChanged(t){t.onChanged=()=>{}}ngOnDestroy(){this.model&&this.clearOnChanged(this.model)}}return e.\u0275fac=function(t){return new(t||e)(ve(jr))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-string-viewer"],["string-viewer"],["","sv-ng-string-viewer",""]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-viewer",4,"ngIf"],["class","sv-string-viewer",3,"innerHtml",4,"ngIf"],[1,"sv-string-viewer"],[1,"sv-string-viewer",3,"innerHtml"]],template:function(t,r){1&t&&(G(0,fA,2,1,"span",0),G(1,pA,2,3,"span",1)),2&t&&(Q("ngIf",!r.model.hasHtml),U(1),Q("ngIf",r.model.hasHtml))},directives:[ke],pipes:[Pp],styles:[""]}),e})()),Se.Instance.registerComponent("popup-pointer",(()=>{class e extends Ct{get popupModel(){return this.model}getModel(){return this.model}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-popup-pointer"],["","sv-ng-popup-pointer",""]],inputs:{model:"model"},features:[be],decls:1,vars:5,consts:[[1,"sv-popup__pointer"]],template:function(t,r){1&t&&ae(0,"span",0),2&t&&Vt(We(2,hA,r.popupModel.pointerTarget.left,r.popupModel.pointerTarget.top))},encapsulation:2}),e})());let ju=(()=>{class e extends Ct{constructor(t,r){super(r,t)}getModel(){return this.popupModel}onModelChanged(){var t;this.model=(0,Tt.createPopupViewModel)(this.popupModel,null===(t=this.viewContainerRef)||void 0===t?void 0:t.element.nativeElement)}ngAfterViewInit(){var t,r;if(null===(t=this.containerRef)||void 0===t?void 0:t.nativeElement){const s=this.containerRef.nativeElement;this.model.setComponentElement(s,this.getTarget?this.getTarget(s.parentElement):null===(r=null==s?void 0:s.parentElement)||void 0===r?void 0:r.parentElement)}}ngOnInit(){this.onModelChanged()}}return e.\u0275fac=function(t){return new(t||e)(ve(ln),ve(jr))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-popup"],["","sv-ng-popup",""]],viewQuery:function(t,r){if(1&t&&yn(gA,5),2&t){let s;mn(s=vn())&&(r.containerRef=s.first)}},inputs:{popupModel:"popupModel",getTarget:"getTarget"},features:[be],decls:3,vars:1,consts:[["containerRef",""],[3,"model"]],template:function(t,r){1&t&&(te(0,"div",null,0),ae(2,"sv-ng-popup-container",1),ne()),2&t&&(U(2),Q("model",r.model))},directives:[aP],encapsulation:2}),e})();Se.Instance.registerComponent("skeleton-question",(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["question-skeleton"]],inputs:{model:"model"},decls:5,vars:2,consts:[[1,"sv-skeleton--not-implemented"]],template:function(t,r){1&t&&(te(0,"div",0)(1,"div"),ze(2),ne(),te(3,"div"),ze(4),ne()()),2&t&&(U(2),qe(r.model.getType()+" question type renderer is not implemented yet."),U(2),qe(r.model.value))},styles:[".sv-skeleton--not-implemented[_ngcontent-%COMP%]{width:100%;min-width:300px;min-height:40px;border:1px solid red;text-align:center}"]}),e})());let hP=(()=>{class e extends Ct{get dropdownModel(){var t;return null===(t=this.model)||void 0===t?void 0:t.dropdownListModel}getModel(){return this.model.dropdownListModel}ngOnInit(){super.ngOnInit(),this.model.dropdownListModel||(this.model.dropdownListModel=new Tt.DropdownListModel(this.model))}click(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onClick(t)}clear(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onClear(t)}keyhandler(t){var r;null===(r=this.dropdownModel)||void 0===r||r.keyHandler(t)}blur(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onBlur(t),this.updateInputDomElement()}focus(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onFocus(t)}inputChange(t){this.detectChanges()}updateInputDomElement(){var t;if(null===(t=this.inputElementRef)||void 0===t?void 0:t.nativeElement){const r=this.inputElementRef.nativeElement;Tt.Helpers.isTwoValueEquals(this.model.inputStringRendered,r.value,!1,!0)||(r.value=this.model.inputStringRendered||"")}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-dropdown"],["","sv-ng-dropdown",""]],viewQuery:function(t,r){if(1&t&&yn(mA,5),2&t){let s;mn(s=vn())&&(r.inputElementRef=s.first)}},inputs:{model:"model"},features:[be],decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"model",4,"ngIf"],["type","text","autocomplete","off",3,"ngModel","ngModelChange","change","blur","focus"],["inputElement",""],[3,"class","visible","click",4,"ngIf"],[2,"visibility","hidden"],[3,"component"],[3,"model"],[3,"visible","click"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("click",function(d){return r.click(d)}),G(1,DA,9,34,"div",1),G(2,TA,1,1,"sv-ng-popup",2),G(3,xA,4,5,"div",3),G(4,OA,2,5,"div",4),ne()),2&t&&(Y(r.model.cssClasses.selectWrapper),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",r.model.isReadOnly),U(1),Q("ngIf",r.model.cssClasses.chevronButtonIconId))},directives:[Ut,cn,ju,ke,Rt,Vo,no,Qr,br],encapsulation:2}),e})();Se.Instance.registerComponent("sv-tagbox-filter",(()=>{class e extends Ct{getModel(){return this.model}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-tagbox-filter"]],inputs:{model:"model",question:"question"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["type","text","autocomplete","off",3,"ngModel","ngModelChange","keydown","blur","focus"],[2,"visibility","hidden"]],template:function(t,r){1&t&&G(0,wA,5,20,"ng-template",null,0,ot)},directives:[ke,Vo,no,Qr],styles:["[_nghost-%COMP%]{display:none}"]}),e})());let gP=(()=>{class e extends Ct{removeItem(t){this.question.dropdownListModel.deselectItem(this.item.value),t.stopPropagation()}getModel(){return this.item}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-tagbox-item"],["","sv-ng-tagbox-item",""]],inputs:{item:"item",question:"question"},features:[be],decls:4,vars:6,consts:[[1,"sv-tagbox__item"],["sv-ng-string","",1,"sv-tagbox__item-text",3,"model"],[3,"click"],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(t,r){1&t&&(te(0,"div",0),ae(1,"div",1),te(2,"div",2),Oe("click",function(d){return r.removeItem(d)}),bt(),ae(3,"svg",3),ne()()),2&t&&(U(1),Q("model",r.item.locText),U(1),Y(r.question.cssClasses.cleanItemButton),U(1),Q("iconName",r.question.cssClasses.cleanItemButtonIconId)("partCss",r.question.cssClasses.cleanItemButtonSvg)("size","auto"))},directives:[Ut,cn],encapsulation:2}),e})();Se.Instance.registerComponent("sv-tagbox-item",gP);let Hj=(()=>{class e{get dropdownModel(){var t;return null===(t=this.model)||void 0===t?void 0:t.dropdownListModel}getModel(){return this.model}ngOnInit(){this.model.dropdownListModel||(this.model.dropdownListModel=new Tt.DropdownMultiSelectListModel(this.model))}click(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onClick(t)}clear(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onClear(t)}keyhandler(t){var r;null===(r=this.dropdownModel)||void 0===r||r.keyHandler(t)}blur(t){var r;null===(r=this.dropdownModel)||void 0===r||r.onBlur(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-tagbox"],["","sv-ng-tagbox",""]],inputs:{model:"model"},decls:5,vars:6,consts:[[3,"click"],[3,"class","blur","keydown",4,"ngIf"],[3,"popupModel",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"blur","keydown"],[4,"ngIf"],[3,"component"],[3,"class","visible","click",4,"ngIf"],[3,"item","question",4,"ngFor","ngForOf"],[3,"item","question"],[3,"visible","click"],["sv-ng-svg-icon","",3,"iconName","partCss","title","size"],[3,"popupModel"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("click",function(d){return r.click(d)}),G(1,BA,5,23,"div",1),G(2,NA,1,1,"sv-ng-popup",2),G(3,jA,3,4,"div",3),G(4,HA,2,5,"div",4),ne()),2&t&&(Y(r.model.cssClasses.selectWrapper),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",r.model.isReadOnly),U(1),Q("ngIf",r.model.cssClasses.chevronButtonIconId))},directives:[gP,cn,ju,ke,_t,Rt,br],encapsulation:2}),e})();Se.Instance.registerComponent("sv-dropdown-option-item",(()=>{class e extends Ct{onModelChanged(){!this.item.locText||(this.item.locText.onChanged=()=>{this.detectChanges()})}getModel(){return this.item}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-dropdown-option-item"],["","sv-ng-dropdown-option-item",""]],inputs:{item:"item"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"value","disabled"]],template:function(t,r){1&t&&G(0,_A,3,3,"ng-template",null,0,ot)},directives:[Au,Lu],encapsulation:2}),e})());let pi=(()=>{class e{constructor(){}get otherValue(){return this.question.otherValue||""}onOtherValueChange(t){this.question.onOtherValueChange(t)}onOtherValueInput(t){this.question.onOtherValueInput(t)}get otherId(){return this.question.otherId}get otherPlaceholder(){return this.question.otherPlaceholder}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-comment-other"],["","sv-ng-comment-other",""]],inputs:{question:"question"},decls:2,vars:2,consts:[[3,"id","value","resize","disabled","class","change","input",4,"ngIf"],[4,"ngIf"],[3,"id","value","disabled","change","input"]],template:function(t,r){1&t&&(G(0,UA,1,11,"textarea",0),G(1,zA,2,1,"div",1)),2&t&&(Q("ngIf",!r.question.isReadOnlyRenderDiv()),U(1),Q("ngIf",r.question.isReadOnlyRenderDiv()))},directives:[ke],encapsulation:2}),e})();Se.Instance.registerComponent("dropdown-select-question",(()=>{class e{get editableValue(){return this.model.renderedValue||""}set editableValue(t){this.model.renderedValue=""===t?void 0:t}click(t){this.model.onClick(t)}keyup(t){this.model.onKeyUp(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-dropdown-select-question"]],inputs:{model:"model"},decls:6,vars:8,consts:[[3,"ngModel","disabled","class","required","ngModelChange","click","keyup",4,"ngIf"],["disabled","",3,"class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","display","question",4,"ngIf"],[3,"ngModel","disabled","required","ngModelChange","click","keyup"],["value","",4,"ngIf"],[4,"ngFor","ngForOf"],["value",""],[3,"component"],["disabled",""],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-comment-other","",3,"question"]],template:function(t,r){1&t&&(te(0,"div")(1,"div"),G(2,GA,3,13,"select",0),G(3,JA,2,4,"div",1),G(4,ZA,2,5,"div",2),ne(),G(5,YA,1,5,"div",3),ne()),2&t&&(Y(r.model.renderCssRoot),U(1),Y(r.model.cssClasses.selectWrapper),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",r.model.isReadOnly),U(1),Q("ngIf",r.model.cssClasses.chevronButtonIconId),U(1),Q("ngIf",r.model.isOtherSelected))},directives:[cn,pi,ke,Ru,no,Qr,Fu,Au,Lu,_t,Rt],encapsulation:2}),e})()),Tt.RendererFactory.Instance.registerRenderer("dropdown","select","dropdown-select-question");let mP=(()=>{class e{constructor(t){this.domSanitizer=t}transform(t){return this.domSanitizer.bypassSecurityTrustUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(Cu,16))},e.\u0275pipe=je({name:"safeUrl",type:e,pure:!0}),e})(),Uj=(()=>{class e{constructor(t){this.domSanitizer=t}transform(t){return this.domSanitizer.bypassSecurityTrustResourceUrl(t)}}return e.\u0275fac=function(t){return new(t||e)(ve(Cu,16))},e.\u0275pipe=je({name:"safeResourceUrl",type:e,pure:!0}),e})();Se.Instance.registerComponent("sv-logo-image",(()=>{class e extends ar{get survey(){return this.data}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-logo-image"]],inputs:{data:"data"},features:[be],decls:2,vars:0,consts:[["template",""]],template:function(t,r){1&t&&G(0,XA,2,14,"ng-template",null,0,ot)},pipes:[mP],styles:["[_nghost-%COMP%]{display:none}"]}),e})());let Ep=(()=>{class e extends Ct{getModel(){return this.counter}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-character-counter"]],inputs:{counter:"counter",remainingCharacterCounter:"remainingCharacterCounter"},features:[be],decls:2,vars:0,consts:[["template",""]],template:function(t,r){1&t&&G(0,eL,2,3,"ng-template",null,0,ot)},styles:["[_nghost-%COMP%] { display: none; }"]}),e})();Se.Instance.registerComponent("character-counter",Ep);let yP=(()=>{class e extends nn{get value(){var t;return null!==(t=this.model.value)&&void 0!==t?t:""}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-text-question"]],features:[be],decls:5,vars:3,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["input",""],[3,"ngTemplateOutlet"],[3,"id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["contentElement",""],[3,"value","disabled","type","id","change","keyup","keydown","blur","focus","compositionupdate"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[3,"counter","remainingCharacterCounter"]],template:function(t,r){1&t&&(G(0,tL,1,1,"ng-container",0),G(1,rL,4,3,"div",1),G(2,oL,3,1,"div",1),G(3,sL,3,23,"ng-template",null,2,ot)),2&t&&(Q("ngIf",!r.model.dataListId&&!r.model.isReadOnlyRenderDiv()),U(1),Q("ngIf",r.model.dataListId&&!r.model.isReadOnlyRenderDiv()),U(1),Q("ngIf",r.model.isReadOnlyRenderDiv()))},directives:[Ep,ke,xo,_t,Au,Lu],styles:[""]}),e})();Se.Instance.registerComponent("text-question",yP),Se.Instance.registerComponent("html-question",(()=>{class e extends nn{onModelChanged(){super.onModelChanged(),this.model.locHtml.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){this.model.locHtml.onChanged=()=>{},super.ngOnDestroy()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-html-question"]],features:[be],decls:3,vars:5,consts:[[3,"innerHTML"],["contentElement",""]],template:function(t,r){1&t&&(ae(0,"div",0,1),Xr(2,"safeHtml")),2&t&&(Y(r.model.renderCssRoot),Q("innerHTML",eo(2,3,r.model.locHtml.renderedHtml),Po))},pipes:[Pp],encapsulation:2}),e})());let Hu=(()=>{class e extends nn{constructor(){super(...arguments),this.inputType="checkbox",this.showLegend=!0}getDefaultComponentName(){return"sv-ng-selectbase-item"}trackItemBy(t,r){return r.value}trackColumnBy(t){return t}getItemValueComponentName(t){return this.model.getItemValueWrapperComponentName(t)||this.getDefaultComponentName()}getItemValueComponentData(t){return{componentName:this.model.getPropertyByName("itemComponent").isDefaultValue(this.model.itemComponent)?this.getDefaultComponentName():this.model.itemComponent,componentData:{question:this.model,model:t,inputType:this.inputType,data:this.model.getItemValueWrapperComponentData(t)}}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-selectbase"]],inputs:{model:"model"},features:[be],decls:10,vars:10,consts:[["role","presentation"],["contentElement",""],["role","presentation","class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["role","presentation",1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(t,r){1&t&&(te(0,"fieldset",0,1),G(2,aL,1,0,"legend",2),G(3,cL,2,2,"ng-container",3),G(4,pL,2,2,"ng-container",3),G(5,mL,2,4,"div",4),G(6,bL,3,4,"ng-container",3),G(7,DL,2,2,"ng-container",3),G(8,TL,1,3,"div",5),G(9,IL,2,3,"div",3),ne()),2&t&&(Y(r.model.getSelectBaseRootCss()),U(2),Q("ngIf",r.showLegend),U(1),Q("ngIf",r.model.hasHeadItems),U(1),Q("ngIf",!r.model.hasColumns&&!r.model.blockedRow),U(1),Q("ngIf",!r.model.hasColumns&&r.model.blockedRow),U(1),Q("ngIf",r.model.hasColumns),U(1),Q("ngIf",r.model.hasFootItems),U(1),Q("ngIf",r.model.isOtherSelected),U(1),Q("ngIf",r.model.showClearButtonInContent))},directives:[pi,ke,_t,Rt],encapsulation:2}),e})();Se.Instance.registerComponent("selectbase",Hu),Se.Instance.registerComponent("radiogroup-question",(()=>{class e extends Hu{ngOnInit(){this.inputType="radio",this.showLegend=!1,super.ngOnInit()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-radiogroup-question"]],features:[be],decls:10,vars:10,consts:[["role","presentation"],["contentElement",""],["role","presentation","class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["role","presentation",1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(t,r){1&t&&(te(0,"fieldset",0,1),G(2,xL,1,0,"legend",2),G(3,ML,2,2,"ng-container",3),G(4,RL,2,2,"ng-container",3),G(5,FL,2,4,"div",4),G(6,HL,3,4,"ng-container",3),G(7,UL,2,2,"ng-container",3),G(8,zL,1,3,"div",5),G(9,WL,2,3,"div",3),ne()),2&t&&(Y(r.model.getSelectBaseRootCss()),U(2),Q("ngIf",r.showLegend),U(1),Q("ngIf",r.model.hasHeadItems),U(1),Q("ngIf",!r.model.hasColumns&&!r.model.blockedRow),U(1),Q("ngIf",!r.model.hasColumns&&r.model.blockedRow),U(1),Q("ngIf",r.model.hasColumns),U(1),Q("ngIf",r.model.hasFootItems),U(1),Q("ngIf",r.model.isOtherSelected),U(1),Q("ngIf",r.model.showClearButtonInContent))},directives:[pi,ke,_t,Rt],encapsulation:2}),e})());let $j=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-radiogroup-item"],["","sv-ng-radiogroup-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:gp,decls:2,vars:10,consts:[["type","radio",3,"name","id","disabled","ngModel","value","ngModelChange"]],template:function(t,r){1&t&&(_l(),te(0,"input",0),Oe("ngModelChange",function(d){return r.question.renderedValue=d}),ne(),Ul(1)),2&t&&(Y(r.question.cssClasses.itemControl),Q("name",r.question.questionName)("id",r.question.getItemId(r.model))("disabled",!r.question.getItemEnabled(r.model))("ngModel",r.question.renderedValue)("value",r.model.value),Me("name",r.question.questionName)("aria-describedby",r.question.ariaDescribedBy)("value",r.model.value))},directives:[Su,Vo,no,Qr],styles:[""]}),e})();Se.Instance.registerComponent("checkbox-question",(()=>{class e extends Hu{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-checkbox-question"]],features:[be],decls:10,vars:10,consts:[["role","presentation"],["contentElement",""],["role","presentation","class","sv-hidden",4,"ngIf"],[4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["role","presentation",1,"sv-hidden"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-comment-other","",3,"question"],["type","button",3,"value","click"]],template:function(t,r){1&t&&(te(0,"fieldset",0,1),G(2,kL,1,0,"legend",2),G(3,KL,2,2,"ng-container",3),G(4,ZL,2,2,"ng-container",3),G(5,eF,2,4,"div",4),G(6,oF,3,4,"ng-container",3),G(7,aF,2,2,"ng-container",3),G(8,lF,1,3,"div",5),G(9,uF,2,3,"div",3),ne()),2&t&&(Y(r.model.getSelectBaseRootCss()),U(2),Q("ngIf",r.showLegend),U(1),Q("ngIf",r.model.hasHeadItems),U(1),Q("ngIf",!r.model.hasColumns&&!r.model.blockedRow),U(1),Q("ngIf",!r.model.hasColumns&&r.model.blockedRow),U(1),Q("ngIf",r.model.hasColumns),U(1),Q("ngIf",r.model.hasFootItems),U(1),Q("ngIf",r.model.isOtherSelected),U(1),Q("ngIf",r.model.showClearButtonInContent))},directives:[pi,ke,_t,Rt],encapsulation:2}),e})());let Kj=(()=>{class e{constructor(){}onChange(t){this.question.clickItemHandler(this.model,t.target.checked)}onSelectAllChange(t){this.question.toggleSelectAll()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-checkbox-item"],["","sv-ng-checkbox-item",""]],inputs:{question:"question",model:"model"},ngContentSelectors:gp,decls:3,vars:2,consts:[["role","option","type","checkbox",3,"name","id","class","disabled","checked","value","change",4,"ngIf"],["role","option","type","checkbox",3,"name","id","disabled","checked","value","change"]],template:function(t,r){1&t&&(_l(),G(0,cF,1,8,"input",0),G(1,dF,1,8,"input",0),Ul(2)),2&t&&(Q("ngIf",r.model==r.question.selectAllItem),U(1),Q("ngIf",r.model!=r.question.selectAllItem))},directives:[ke],styles:[""]}),e})();Se.Instance.registerComponent("dropdown-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-dropdown-question"]],features:[be],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(t,r){1&t&&(te(0,"div",null,0),ae(2,"sv-ng-dropdown",1),G(3,fF,1,3,"div",2),ne()),2&t&&(Y(r.model.renderCssRoot),U(2),Q("model",r.model),U(1),Q("ngIf",r.model.isOtherSelected))},directives:[hP,pi,ke],encapsulation:2}),e})()),Se.Instance.registerComponent("tagbox-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-tagbox-question"]],features:[be],decls:4,vars:4,consts:[["contentElement",""],[3,"model"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-comment-other","",3,"question"]],template:function(t,r){1&t&&(te(0,"div",null,0),ae(2,"sv-ng-tagbox",1),G(3,pF,1,3,"div",2),ne()),2&t&&(Y(r.model.renderCssRoot),U(2),Q("model",r.model),U(1),Q("ngIf",r.model.isOtherSelected))},directives:[Hj,pi,ke],encapsulation:2}),e})()),Se.Instance.registerComponent("rating-question",(()=>{class e extends nn{trackByFn(t){return t}onClick(t){t.stopPropagation(),this.model.setValueFromClick(t.target.value)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-rating-question"]],features:[be],decls:7,vars:6,consts:[["contentElement",""],["role","radiogroup"],["role","presentation",1,"sv-hidden"],["sv-ng-string","",3,"class","model",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-string","",3,"model"],[3,"component"]],template:function(t,r){1&t&&(te(0,"div",null,0)(2,"fieldset",1),ae(3,"legend",2),G(4,hF,1,3,"span",3),G(5,yF,1,8,null,4),G(6,vF,1,3,"span",3),ne()()),2&t&&(Y(r.model.ratingRootCss),U(4),Q("ngIf",r.model.hasMinLabel),U(1),Q("ngForOf",r.model.renderedRateItems)("ngForTrackBy",r.trackByFn),U(1),Q("ngIf",r.model.hasMaxLabel))},directives:[Ut,ke,_t,Rt],encapsulation:2}),e})()),Se.Instance.registerComponent("boolean-question",(()=>{class e extends nn{onChange(t){this.model.booleanValue=t.target.value}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-boolean-question"]],features:[be],decls:11,vars:31,consts:[[3,"keydown"],["contentElement",""],["type","checkbox",3,"disabled","indeterminate","value","ngModel","ngModelChange"],[3,"click"],["sv-ng-string","",3,"model"],["sv-ng-string","",3,"class","model",4,"ngIf"]],template:function(t,r){1&t&&(te(0,"div",0,1),Oe("keydown",function(d){return r.model.onKeyDownCore(d)}),te(2,"label")(3,"input",2),Oe("ngModelChange",function(d){return r.model.booleanValue=d}),ne(),te(4,"div",3),Oe("click",function(d){return r.model.onLabelClick(d,!1)}),ae(5,"span",4),ne(),te(6,"div",3),Oe("click",function(d){return r.model.onSwitchClickModel(d)}),te(7,"span"),G(8,CF,1,3,"span",5),ne()(),te(9,"div",3),Oe("click",function(d){return r.model.onLabelClick(d,!0)}),ae(10,"span",4),ne()()()),2&t&&(Y(r.model.cssClasses.root),U(2),Y(r.model.getItemCss()),U(1),Y(r.model.cssClasses.control),Q("disabled",r.model.isInputReadOnly)("indeterminate",r.model.isIndeterminate)("value",r.model.booleanValue)("ngModel",r.model.booleanValue),Me("name",r.model.name)("id",r.model.inputId)("aria-required",r.model.ariaRequired)("aria-label",r.model.ariaLabel)("aria-invalid",r.model.ariaInvalid)("aria-describedby",r.model.ariaDescribedBy),U(1),Y(r.model.cssClasses.sliderGhost),U(1),Y(r.model.getLabelCss(!1)),Q("model",r.model.locLabelFalse),U(1),Y(r.model.cssClasses.switch),U(1),Y(r.model.cssClasses.slider),U(1),Q("ngIf",r.model.cssClasses.sliderText&&r.model.isDeterminated),U(1),Y(r.model.cssClasses.sliderGhost),U(1),Y(r.model.getLabelCss(!0)),Q("model",r.model.locLabelTrue))},directives:[Ut,bu,no,Qr,ke],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-ng-imagepicker-item",(()=>{class e extends Ct{getModel(){return this.model}onChange(t){if(this.question.multiSelect)if(t.target.checked)this.question.value=this.question.value.concat(t.target.value);else{var r=this.question.value;r.splice(this.question.value.indexOf(t.target.value),1),this.question.value=r}else this.question.value=t.target.value}ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()}}ngOnDestroy(){super.ngOnDestroy(),this.model.locImageLink.onChanged=()=>{}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-imagepicker-item"]],inputs:{question:"question",model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"type","id","checked","disabled","change"],[3,"class",4,"ngIf"],[3,"class","objectFit","load","error",4,"ngIf"],["controls","",3,"class","objectFit","loadedmetadata","error",4,"ngIf"],[3,"class","width","height","objectFit",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"load","error"],["controls","",3,"loadedmetadata","error"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&G(0,OF,10,25,"ng-template",null,0,ot)},directives:[cn,Ut,ke],styles:["[_nghost-%COMP%] { display: none; }"]}),e})()),Se.Instance.registerComponent("imagepicker-question",(()=>{class e extends nn{getItemValueComponentName(t){return this.model.getItemValueWrapperComponentName(t)||"sv-ng-imagepicker-item"}getItemValueComponentData(t){return{componentName:"sv-ng-imagepicker-item",componentData:{question:this.model,model:t,data:this.model.getItemValueWrapperComponentData(t)}}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-imagepicker-question"]],features:[be],decls:5,vars:5,consts:[["contentElement",""],["role","radio"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"component"],["role","presentation",3,"class",4,"ngFor","ngForOf"],["role","presentation"]],template:function(t,r){1&t&&(te(0,"fieldset",null,0),ae(2,"legend",1),G(3,wF,2,1,"ng-container",2),G(4,LF,2,1,"ng-container",2),ne()),2&t&&(Y(r.model.getSelectBaseRootCss()),U(2),Me("aria-label",r.model.locTitle.renderedHtml),U(1),Q("ngIf",!r.model.hasColumns),U(1),Q("ngIf",r.model.hasColumns))},directives:[ke,_t,Rt],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-components-container",(()=>{class e extends ar{get components(){return this.survey.getContainerContent(this.container)}get isNeedRenderWrapper(){return!1!==this.needRenderWrapper}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-components-container"],["","sv-components-container",""],["sv-ng-components-container"]],inputs:{survey:"survey",container:"container",needRenderWrapper:"needRenderWrapper"},features:[be],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],["class","sv-components-column",4,"ngIf"],[1,"sv-components-column"],[4,"ngFor","ngForOf"],[3,"component"]],template:function(t,r){1&t&&G(0,WF,2,2,"ng-template",null,0,ot)},directives:[ke,_t,Rt],styles:["[_nghost-%COMP%]{display:none}"]}),e})());let Qu=(()=>{class e{constructor(t){this.el=t,this.isSubscribed=!1,this.options=Object.assign({},e.defaultOptions),this.onkeyup=r=>(r.preventDefault(),r.stopPropagation(),(0,Tt.doKey2ClickUp)(r,this.options),!1),this.subscribeEventListeners()}onkeydown(t){(0,Tt.doKey2ClickDown)(t,this.options)}blur(t){(0,Tt.doKey2ClickBlur)(t)}get element(){return this.el.nativeElement}subscribeEventListeners(){this.isSubscribed||(this.element.tabIndex=0,this.element.addEventListener("keyup",this.onkeyup.bind(this)),this.element.addEventListener("keydown",this.onkeydown.bind(this)),this.element.addEventListener("blur",this.blur),this.isSubscribed=!0)}unsubscribeEventListeners(){!this.isSubscribed||(this.element.tabIndex=-1,this.element.removeEventListener("keyup",this.onkeyup.bind(this)),this.element.removeEventListener("keydown",this.onkeydown.bind(this)),this.element.removeEventListener("blur",this.blur),this.isSubscribed=!1)}ngOnChanges(t){const r=t.key2click.currentValue;r.disableTabStop?this.unsubscribeEventListeners():this.subscribeEventListeners(),this.options=Object.assign({},e.defaultOptions,r)}ngOnDestroy(){this.unsubscribeEventListeners()}}return e.defaultOptions={processEsc:!0,disableTabStop:!1},e.\u0275fac=function(t){return new(t||e)(ve(gn))},e.\u0275dir=Ze({type:e,selectors:[["","key2click",""]],inputs:{key2click:"key2click"},features:[Pn]}),e})();Se.Instance.registerComponent("sv-action-bar-item",(()=>{class e extends Ct{getModel(){return this.model}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-action-bar-item"]],inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],["type","button","data-bind","key2click: { processEsc: false }",3,"key2click","disabled","click"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(t,r){1&t&&G(0,KF,4,11,"ng-template",null,0,ot)},directives:[cn,Qu,ke],styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("sv-action-bar-item-dropdown",(()=>{class e extends Ct{constructor(){super(...arguments),this.getTarget=Tt.getActionDropdownButtonTarget}getModel(){return this.model}ngOnInit(){super.ngOnInit(),this.viewModel=new Tt.ActionDropdownViewModel(this.model)}ngOnDestroy(){this.viewModel.dispose(),super.ngOnDestroy()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-action-bar-item-dropdown"]],inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],["type","button",3,"key2click","title","disabled","click"],["sv-ng-svg-icon","",3,"iconName","size","title","class",4,"ngIf"],[3,"class",4,"ngIf"],[3,"popupModel","getTarget"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(t,r){1&t&&G(0,ZF,4,11,"ng-template",null,0,ot)},directives:[cn,ju,Qu,ke],styles:["[_nghost-%COMP%]{display:none}"]}),e})());let vP=(()=>{class e extends Ct{constructor(){super(...arguments),this.showLabel=!0}getModel(){return this.model}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-selectbase-item"],["sv-ng-selebase-item"]],inputs:{question:"question",model:"model",inputType:"inputType",showLabel:"showLabel"},features:[be],decls:2,vars:0,consts:[["template",""],["role","presentation"],[3,"ngSwitch"],["sv-ng-checkbox-item","",3,"class","model","question",4,"ngSwitchCase"],["sv-ng-radiogroup-item","",3,"class","model","question","mousedown",4,"ngSwitchCase"],["itemDecorator",""],["sv-ng-checkbox-item","",3,"model","question"],[4,"ngTemplateOutlet"],["sv-ng-radiogroup-item","",3,"model","question","mousedown"],[3,"class",4,"ngIf"],[3,"model"]],template:function(t,r){1&t&&G(0,a2,6,5,"ng-template",null,0,ot)},directives:[Kj,$j,Ut,Oa,Hf,xo,ke],styles:["[_nghost-%COMP%] { display: none; }"]}),e})();Se.Instance.registerComponent("sv-ng-selectbase-item",vP),Se.Instance.registerComponent("sv-skeleton",(()=>{class e extends ar{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-skeleton"]],inputs:{element:"element"},features:[be],decls:2,vars:0,consts:[["template",""],[1,"sv-skeleton-element",3,"id"]],template:function(t,r){1&t&&G(0,l2,1,1,"ng-template",null,0,ot)},styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("sv-timerpanel",(()=>{class e extends Ct{constructor(){super(...arguments),this.circleLengthValue=440}getStateElement(){return this.model}getModel(){return this.model}get circleLength(){return this.circleLengthValue}get progress(){return-this.model.progress*this.circleLength}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-timerpanel"]],inputs:{model:"model"},features:[be],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["sv-ng-svg-icon","",3,"class","stroke-dasharray","stroke-dashoffset","size","iconName",4,"ngIf"],["sv-ng-svg-icon","",3,"size","iconName"]],template:function(t,r){1&t&&(G(0,d2,6,9,"div",0),G(1,f2,2,3,"div",0)),2&t&&(Q("ngIf",r.model.isRunning&&r.model.showTimerAsClock),U(1),Q("ngIf",r.model.isRunning&&!r.model.showTimerAsClock))},directives:[cn,ke],encapsulation:2}),e})());let CP=(()=>{class e extends Ct{get elementId(){var t;return null===(t=this.model)||void 0===t?void 0:t.elementId}get ariaSelected(){return this.listModel.isItemSelected(this.model)||""}get class(){return this.listModel.getItemClass(this.model)}get paddingLeft(){return this.listModel.getItemIndent(this.model)}click(t){this.listModel.onItemClick(this.model),t.stopPropagation()}pointerdown(t){this.listModel.onPointerDown(t,this.model)}getModel(){return this.model}ngAfterViewInit(){this.listModel.onLastItemRended(this.model)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-list-item"],["","sv-ng-list-item",""]],inputs:{element:"element",model:"model",listModel:"listModel"},features:[be],decls:2,vars:0,consts:[["template",""],["role","option",3,"key2click","visible","click","pointerdown"],[4,"ngIf"],["sv-ng-svg-icon","",3,"class","iconName","size",4,"ngIf"],[3,"model"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"component"]],template:function(t,r){1&t&&G(0,v2,5,12,"ng-template",null,0,ot)},directives:[cn,Ut,Qu,br,ke,Rt],styles:["[_nghost-%COMP%]{display:none}"]}),e})();Se.Instance.registerComponent("sv-list-item",CP);let bP=(()=>{class e extends Ct{constructor(){super(...arguments),this.trackItemBy=(t,r)=>r.id}getModel(){return this.model}onGoToItems(t){this.model.goToItems(t)}onMouseDown(t){t.preventDefault()}onKeyDown(t){this.model.onKeyDown(t)}onMouseMove(t){this.model.onMouseMove(t)}getPropertiesToUpdateSync(){return["renderElements"]}ngAfterViewInit(){var t;(null===(t=this.listContainerElement)||void 0===t?void 0:t.nativeElement)&&this.model.initListContainerHtmlElement(this.listContainerElement.nativeElement)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-list"],["","sv-ng-list",""]],viewQuery:function(t,r){if(1&t&&yn(C2,5),2&t){let s;mn(s=vn())&&(r.listContainerElement=s.first)}},inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],["listContainerElement",""],[3,"class",4,"ngIf"],[3,"visible"],["role","listbox",3,"class","visible","mousedown","keydown","mousemove",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"],["type","text",3,"ngModel","ngModelChange","keyup"],[3,"class","click",4,"ngIf"],[3,"click"],["role","listbox",3,"visible","mousedown","keydown","mousemove"],[3,"listModel","model",4,"ngFor","ngForOf","ngForTrackBy"],[3,"listModel","model"]],template:function(t,r){1&t&&G(0,T2,7,11,"ng-template",null,0,ot)},directives:[cn,CP,ke,Vo,no,Qr,br,_t],styles:["[_nghost-%COMP%]{display:none}"]}),e})();Se.Instance.registerComponent("sv-list",bP),Se.Instance.registerComponent("sv-rating-item",(()=>{class e extends Ct{onClick(t){this.model.setValueFromClick(t.target.value),t.stopPropagation()}getModel(){return this.item}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-rating-item"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&G(0,I2,3,14,"ng-template",null,0,ot)},directives:[Ut],styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("sv-rating-item-star",(()=>{class e extends Ct{onClick(t){this.model.setValueFromClick(t.target.value),t.stopPropagation()}getModel(){return this.item}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-rating-item-star"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(t,r){1&t&&G(0,x2,4,21,"ng-template",null,0,ot)},directives:[cn],styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("sv-rating-item-smiley",(()=>{class e extends Ct{onClick(t){this.model.setValueFromClick(t.target.value),t.stopPropagation()}getModel(){return this.item}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-rating-item-smiley"]],inputs:{element:"element",model:"model",item:"item",index:"index"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"mouseover","mouseout","mousedown"],["type","radio",1,"sv-visuallyhidden",3,"value","disabled","checked","click"],["sv-ng-svg-icon","",3,"iconName","size","title"]],template:function(t,r){1&t&&G(0,O2,3,16,"ng-template",null,0,ot)},directives:[cn],styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("rating-dropdown-question",(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-rating-dropdown-question"]],inputs:{model:"model"},decls:2,vars:3,consts:[[3,"model"]],template:function(t,r){1&t&&(te(0,"div"),ae(1,"sv-ng-dropdown",0),ne()),2&t&&(Y(r.model.cssClasses.rootDropdown),U(1),Q("model",r.model))},directives:[hP],encapsulation:2}),e})()),Tt.RendererFactory.Instance.registerRenderer("rating","dropdown","rating-dropdown-question"),Se.Instance.registerComponent("boolean-checkbox-question",(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-boolean-checkbox-question"]],inputs:{model:"model"},decls:9,vars:24,consts:[["type","checkbox",3,"value","id","ngModel","disabled","indeterminate","ngModelChange"],[3,"class",4,"ngIf"],[1,"check"],[3,"class","id",4,"ngIf"],["sv-ng-string","",3,"class","model",4,"ngIf"],[3,"id"],[3,"element"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&(te(0,"div")(1,"div")(2,"label")(3,"input",0),Oe("ngModelChange",function(d){return r.model.booleanValue=d}),ne(),te(4,"span"),G(5,V2,2,3,"svg",1),ae(6,"span",2),ne(),G(7,M2,2,4,"span",3),ne(),G(8,w2,1,3,"div",4),ne()()),2&t&&(Y(r.model.cssClasses.rootCheckbox),U(1),Y(r.model.getCheckboxItemCss()),U(1),Y(r.model.cssClasses.checkboxLabel),U(1),Y(r.model.cssClasses.controlCheckbox),Q("value",r.model.booleanValue)("id",r.model.inputId)("ngModel",r.model.booleanValue)("value",r.model.booleanValue)("disabled",r.model.isInputReadOnly)("indeterminate",r.model.isIndeterminate),Me("name",r.model.name)("aria-required",r.model.ariaRequired)("aria-label",r.model.ariaLabel)("aria-invalid",r.model.ariaInvalid)("aria-describedby",r.model.ariaDescribedBy),U(1),Y(r.model.cssClasses.checkboxMaterialDecorator),U(1),Q("ngIf",!!r.model.svgIcon),U(2),Q("ngIf",r.model.isLabelRendered),U(1),Q("ngIf",r.model.canRenderLabelDescription))},directives:[uP,Ut,bu,no,Qr,ke],encapsulation:2}),e})()),Tt.RendererFactory.Instance.registerRenderer("boolean","checkbox","boolean-checkbox-question");let d3=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-boolean-radio-item"]],inputs:{question:"question",value:"value",locText:"locText"},decls:5,vars:15,consts:[["role","presentation"],["type","radio",3,"value","ngModel","disabled","ngModelChange"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"model"]],template:function(t,r){1&t&&(te(0,"div",0)(1,"label")(2,"input",1),Oe("ngModelChange",function(d){return r.question.booleanValue=d}),ne(),G(3,S2,1,2,"span",2),ae(4,"span",3),ne()()),2&t&&(Y(r.question.getRadioItemClass(r.question.cssClasses,r.value)),U(1),Y(r.question.cssClasses.radioLabel),U(1),Y(r.question.cssClasses.itemRadioControl||""),Q("value",r.value)("ngModel",r.question.booleanValue)("disabled",r.question.isInputReadOnly),Me("name",r.question.name)("aria-describedby",r.question.ariaDescribedBy),U(1),Q("ngIf",r.question.cssClasses.materialRadioDecorator),U(1),Y(r.question.cssClasses.radioControlLabel),Q("model",r.locText))},directives:[Ut,Su,Vo,no,Qr,ke],encapsulation:2}),e})();Se.Instance.registerComponent("boolean-radio-question",(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-boolean-radio-question"]],inputs:{model:"model"},decls:4,vars:10,consts:[["role","presentation"],[3,"value","locText","question"]],template:function(t,r){1&t&&(te(0,"div")(1,"fieldset",0),ae(2,"sv-ng-boolean-radio-item",1)(3,"sv-ng-boolean-radio-item",1),ne()()),2&t&&(Y(r.model.cssClasses.rootRadio),U(1),Y(r.model.cssClasses.radioFieldset),U(1),Q("value",!1)("locText",r.model.locLabelFalse)("question",r.model),U(1),Q("value",!0)("locText",r.model.locLabelTrue)("question",r.model))},directives:[d3],encapsulation:2}),e})()),Tt.RendererFactory.Instance.registerRenderer("boolean","radio","boolean-radio-question");let La=(()=>{class e extends ar{getProgressTextInBarCss(t){return Tt.SurveyProgressModel.getProgressTextInBarCss(t)}getProgressTextUnderBarCss(t){return Tt.SurveyProgressModel.getProgressTextUnderBarCss(t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-progress-default"]],inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],["role","progressbar","aria-valuemin","0","aria-valuemax","100"]],template:function(t,r){1&t&&G(0,R2,6,12,"ng-template",null,0,ot)},encapsulation:2}),e})();Se.Instance.registerComponent("sv-progress-progress",La),Se.Instance.registerComponent("sv-progress-pages",La),Se.Instance.registerComponent("sv-progress-questions",La),Se.Instance.registerComponent("sv-progress-correctquestions",La),Se.Instance.registerComponent("sv-progress-requiredquestions",La),Se.Instance.registerComponent("sv-progress-buttons",(()=>{class e{constructor(t){this.changeDetectorRef=t,this.hasScroller=!1,this.updateScroller=void 0}createProgressButtonsModel(){this.progressButtonsModel=new Tt.SurveyProgressButtonsModel(this.model)}ngOnInit(){this.createProgressButtonsModel()}ngOnChanges(t){this.createProgressButtonsModel()}isListElementClickable(t){return this.progressButtonsModel.isListElementClickable(t)}getListElementCss(t){return this.progressButtonsModel.getListElementCss(t)}clickListElement(t){this.progressButtonsModel.clickListElement(t)}getScrollButtonCss(t){return this.progressButtonsModel.getScrollButtonCss(this.hasScroller,t)}clickScrollButton(t){this.progressButtonsListContainer&&(this.progressButtonsListContainer.nativeElement.scrollLeft+=70*(t?-1:1))}ngAfterViewInit(){this.progressButtonsModel=new Tt.SurveyProgressButtonsModel(this.model),this.updateScroller=setInterval(()=>{var t;if(null===(t=this.progressButtonsListContainer)||void 0===t?void 0:t.nativeElement){const r=this.progressButtonsListContainer.nativeElement;this.hasScroller=r.scrollWidth>r.offsetWidth,this.changeDetectorRef.detectChanges()}},100)}ngOnDestroy(){void 0!==this.updateScroller&&(clearInterval(this.updateScroller),this.updateScroller=void 0)}}return e.\u0275fac=function(t){return new(t||e)(ve(jr))},e.\u0275cmp=me({type:e,selectors:[["sv-ng-progress-buttons"]],viewQuery:function(t,r){if(1&t&&yn(A2,5),2&t){let s;mn(s=vn())&&(r.progressButtonsListContainer=s.first)}},inputs:{model:"model"},features:[Pn],decls:8,vars:13,consts:[["role","button",3,"click"],["progressButtonsListContainer",""],[3,"class","click",4,"ngFor","ngForOf"],[3,"click"],[3,"title"]],template:function(t,r){1&t&&(te(0,"div")(1,"div")(2,"div",0),Oe("click",function(){return r.clickScrollButton(!0)}),ne(),te(3,"div",null,1)(5,"ul"),G(6,L2,5,10,"li",2),ne()(),te(7,"div",0),Oe("click",function(){return r.clickScrollButton(!1)}),ne()()()),2&t&&(Y(r.model.css.progressButtonsContainerCenter),U(1),Y(r.model.css.progressButtonsContainer),U(1),Y(r.getScrollButtonCss(!0)),U(1),Y(r.model.css.progressButtonsListContainer),U(2),Y(r.model.css.progressButtonsList),U(1),Q("ngForOf",r.model.visiblePages),U(1),Y(r.getScrollButtonCss(!1)))},directives:[_t],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-progress-toc",(()=>{class e extends ar{createProgressTOCModel(){this.tocModel=new Tt.TOCModel(this.model)}ngOnInit(){super.ngOnInit(),this.createProgressTOCModel()}ngOnChanges(t){this.createProgressTOCModel()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-progress-toc"],["sv-ng-progress-toc"]],inputs:{model:"model"},features:[be,Pn],decls:2,vars:0,consts:[["template",""],[3,"model",4,"ngIf"],["data-bind","key2click",3,"click",4,"ngIf"],[3,"model"],["data-bind","key2click",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"],[3,"popupModel"]],template:function(t,r){1&t&&G(0,N2,3,4,"ng-template",null,0,ot)},directives:[bP,cn,ju,ke],styles:["[_nghost-%COMP%] { display: none; }"]}),e})());let PP=(()=>{class e extends Ct{constructor(){super(...arguments),this.trackRowBy=(t,r)=>r.id}getModel(){return this.model}ngAfterViewInit(){var t,r;(null===(t=this.panelContainerRef)||void 0===t?void 0:t.nativeElement)&&(null===(r=this.model.survey)||void 0===r||r.afterRenderPanel(this.model,this.panelContainerRef.nativeElement))}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-panel"],["","sv-ng-panel",""]],viewQuery:function(t,r){if(1&t&&yn(j2,5,gn),2&t){let s;mn(s=vn())&&(r.panelContainerRef=s.first)}},inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class","focusin",4,"ngIf"],[3,"focusin"],["panelContainer",""],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-element-header","",3,"element",4,"ngIf"],[3,"paddingLeft","class",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-element-header","",3,"element"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"model"],[3,"component"],[3,"row"]],template:function(t,r){1&t&&G(0,$2,1,1,"ng-template",null,0,ot)},directives:[Nu,pP,cP,ro,ke,_t,Rt],encapsulation:2}),e})();Se.Instance.registerComponent("panel",PP),Se.Instance.registerComponent("sv-nav-btn",(()=>{class e{getModel(){return this.model}buttonMouseDown(){return this.model.data&&this.model.data.mouseDown()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-nav-btn"]],inputs:{model:"model"},decls:1,vars:1,consts:[["type","button",3,"value","class","disabled","mousedown","click",4,"ngIf"],["type","button",3,"value","disabled","mousedown","click"]],template:function(t,r){1&t&&G(0,q2,1,5,"input",0),2&t&&Q("ngIf",r.model.visible)},directives:[ke],styles:["[_nghost-%COMP%] { display: contents; }"]}),e})()),Se.Instance.registerComponent("matrix-question",(()=>{class e extends nn{ngOnInit(){this.model.visibleRowsChangedCallback=()=>{this.detectChanges()},super.ngOnInit()}onChange(t,r){this.model.isInputReadOnly||(t.value=r.value,this.detectChanges())}trackRowByFn(t,r){return"column-"+r.name+"-"+t}trackColumnByFn(t,r){return"column-"+r.value+"-"+t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-question"]],features:[be],decls:2,vars:0,consts:[["template",""],["contentElement",""],[4,"ngIf"],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"style","class",4,"ngFor","ngForOf"],[3,"component"],[3,"model"],[3,"class","style",4,"ngIf"],["sv-ng-string","",3,"class","model","click",4,"ngFor","ngForOf"],["sv-ng-string","",3,"model","click"],[3,"mousedown"],["type","radio",3,"name","value","checked","disabled","change"],[3,"class",4,"ngIf"],["sv-ng-string","",3,"visible","model"]],template:function(t,r){1&t&&G(0,sB,8,8,"ng-template",null,0,ot)},directives:[Ut,ke,_t,Rt,br],styles:["[_nghost-%COMP%]{display:none}"]}),e})()),Se.Instance.registerComponent("file-question",(()=>{class e extends nn{constructor(){super(...arguments),this.trackFilesFn=t=>this.model.inputId+"_"+t}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-file-question"]],features:[be],decls:15,vars:19,consts:[["contentElement",""],["tabindex","-1","type","file",3,"class","change",4,"ngIf"],["type","file","disabled","","style","color: transparent",3,"class",4,"ngIf"],[3,"dragenter","drop","dragover","dragleave"],["role","button","tabindex","0",3,"class","key2click",4,"ngIf"],[3,"class",4,"ngIf"],["type","button",3,"class","click",4,"ngIf"],[3,"model",4,"ngIf"],["tabindex","-1","type","file",3,"change"],["type","file","disabled","",2,"color","transparent"],["role","button","tabindex","0",3,"key2click"],["sv-ng-svg-icon","",3,"title","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","iconName","size"],["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size","title",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size","title"],[3,"visible","class",4,"ngFor","ngForOf","ngForTrackBy"],[3,"visible"],["alt","File preview",3,"height","width",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","partCss","size",4,"ngIf"],[3,"class","click",4,"ngIf"],[3,"click"],["alt","File preview"],["sv-ng-svg-icon","",3,"iconName","partCss","size"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"title","partCss","iconName","size"],[3,"model"]],template:function(t,r){1&t&&(te(0,"div",null,0),G(2,aB,1,11,"input",1),G(3,lB,1,5,"input",2),te(4,"div",3),Oe("dragenter",function(d){return r.model.onDragEnter(d)})("drop",function(d){return r.model.onDrop(d)})("dragover",function(d){return r.model.onDragOver(d)})("dragleave",function(d){return r.model.onDragLeave(d)}),te(5,"div")(6,"span"),ze(7),ne(),te(8,"div"),G(9,cB,4,6,"label",4),G(10,dB,2,3,"span",5),ne()(),G(11,pB,4,4,"button",6),G(12,PB,2,4,"div",5),G(13,DB,4,4,"button",6),G(14,TB,1,1,"sv-action-bar",7),ne()()),2&t&&(Y(r.model.fileRootCss),U(2),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",r.model.isReadOnly),U(1),Y(r.model.cssClasses.dragArea),U(1),Y(r.model.getFileDecoratorCss()),U(1),Y(r.model.cssClasses.dragAreaPlaceholder),U(1),qe(r.model.dragAreaPlaceholder),U(1),Y(r.model.cssClasses.wrapper),U(1),Q("ngIf",!r.model.isReadOnly),U(1),Q("ngIf",r.model.isEmpty()),U(1),Q("ngIf",r.model.showRemoveButton),U(1),Q("ngIf",!r.model.isEmpty()),U(1),Q("ngIf",r.model.showRemoveButtonBottom),U(1),Q("ngIf",r.model.mobileFileNavigatorVisible))},directives:[cn,ro,ke,Qu,_t,br],pipes:[mP],encapsulation:2}),e})()),Se.Instance.registerComponent("comment-question",(()=>{class e extends nn{onChange(t){this.model.value=t.target.value}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-question-comment"]],features:[be],decls:3,vars:3,consts:[[3,"readonly","id","class","value","resize","input","keydown","change",4,"ngIf"],[3,"counter","remainingCharacterCounter",4,"ngIf"],[4,"ngIf"],[3,"readonly","id","value","input","keydown","change"],["contentElement",""],[3,"counter","remainingCharacterCounter"]],template:function(t,r){1&t&&(G(0,IB,2,17,"textarea",0),G(1,xB,1,2,"sv-ng-character-counter",1),G(2,OB,3,1,"div",2)),2&t&&(Q("ngIf",!r.model.isReadOnlyRenderDiv()),U(1),Q("ngIf",!r.model.isReadOnlyRenderDiv()&&r.model.getMaxLength()),U(1),Q("ngIf",r.model.isReadOnlyRenderDiv()))},directives:[Ep,ke],encapsulation:2}),e})()),Se.Instance.registerComponent("signaturepad-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-signature-component"]],features:[be],decls:10,vars:18,consts:[["contentElement",""],[3,"visible"],["tabindex","0"],["type","button",3,"title","click"],[4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size",4,"ngIf"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(t,r){1&t&&(te(0,"div",null,0)(2,"div",1),ze(3),ne(),te(4,"div"),ae(5,"canvas",2),ne(),te(6,"div",1)(7,"button",3),Oe("click",function(){return r.model.clearValue()}),G(8,VB,2,0,"span",4),G(9,MB,1,2,"svg",5),ne()()()),2&t&&(Y(r.model.cssClasses.root),Jt("height",r.model.signatureHeight+"px")("width",r.model.signatureWidth+"px"),U(2),Y(r.model.cssClasses.placeholder),Q("visible",r.model.needShowPlaceholder()),U(1),To(" ",r.model.placeHolderText,"\n"),U(3),Y(r.model.cssClasses.controls),Q("visible",r.model.canShowClearButton),U(1),Y(r.model.cssClasses.clearButton),Q("title",r.model.clearButtonCaption),U(1),Q("ngIf",!r.model.cssClasses.clearButtonIconId),U(1),Q("ngIf",r.model.cssClasses.clearButtonIconId))},directives:[cn,br,ke],encapsulation:2}),e})());let b3=(()=>{class e extends Ct{getModel(){return this.model.editor}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["","sv-ng-multipletext-item",""]],inputs:{question:"question",model:"model"},features:[be],attrs:wB,decls:10,vars:13,consts:[[3,"class",4,"ngIf"],[3,"model"],["sv-ng-errors","",3,"element",4,"ngIf"],["sv-ng-errors","",3,"element","location",4,"ngIf"],["sv-ng-errors","",3,"element"],["sv-ng-errors","",3,"element","location"]],template:function(t,r){1&t&&(te(0,"label")(1,"span"),G(2,SB,2,3,"span",0),ae(3,"sv-ng-string",1),G(4,RB,2,3,"span",0),ne(),te(5,"div"),G(6,AB,1,1,"div",2),ae(7,"sv-ng-text-question",1),G(8,LB,1,1,"div",2),ne(),G(9,FB,1,2,"div",3),ne()),2&t&&(Y(r.question.getItemLabelCss(r.model)),U(1),Y(r.question.getItemTitleCss()),U(1),Q("ngIf",r.model.editor.isRequireTextBeforeTitle||r.model.editor.isRequireTextOnStart),U(1),Q("model",r.model.locTitle),U(1),Q("ngIf",r.model.editor.isRequireTextAfterTitle),U(1),Y(r.question.getItemCss()),U(1),Q("ngIf",r.model.editor.showErrorOnTop&&r.model.editor.hasVisibleErrors),U(1),Q("model",r.model.editor),U(1),Q("ngIf",r.model.editor.showErrorOnBottom&&r.model.editor.hasVisibleErrors),U(1),Q("ngIf",r.model.editor.isErrorsModeTooltip&&r.model.editor.hasVisibleErrors))},directives:[Ut,Nu,yP,ke],encapsulation:2}),e})();Se.Instance.registerComponent("multipletext-question",(()=>{class e extends nn{constructor(){super(...arguments),this.trackRowBy=t=>this.model.inputId+"rowkey"+t}trackItemBy(t,r){return"item"+r.editor.id}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-multipletext-question"]],features:[be],decls:4,vars:4,consts:[["contentElement",""],[3,"class",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],["sv-ng-multipletext-item","",3,"question","model"]],template:function(t,r){1&t&&(te(0,"table",null,0)(2,"tbody"),G(3,NB,2,4,"tr",1),ne()()),2&t&&(Y(r.model.cssClasses.root),U(3),Q("ngForOf",r.model.getRows())("ngForTrackBy",r.trackRowBy))},directives:[b3,_t],encapsulation:2}),e})()),Se.Instance.registerComponent("ranking-question",(()=>{class e extends Hu{constructor(){super(...arguments),this.inputType="",this.trackItemBy=(t,r)=>r.value+"-"+t+"-item"}getDefaultComponentName(){return"sv-ng-ranking-item"}getItemValueComponentData(t,r,s){const d=super.getItemValueComponentData(t);return d.componentData.index=r,d.componentData.unrankedItem=s,d}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-ranking-question"]],features:[be],decls:2,vars:2,consts:[[3,"class",4,"ngIf"],["contentElement",""],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"component"],["data-ranking","from-container"],["data-ranking","to-container"]],template:function(t,r){1&t&&(G(0,QB,3,4,"div",0),G(1,qB,9,14,"div",0)),2&t&&(Q("ngIf",!r.model.selectToRankEnabled),U(1),Q("ngIf",r.model.selectToRankEnabled))},directives:[ke,_t,Rt],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-ng-ranking-item",(()=>{class e extends Ct{getModel(){return this.model}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-ranking-item"]],inputs:{question:"question",model:"model",index:"index",unrankedItem:"unrankedItem"},features:[be],decls:14,vars:20,consts:[[3,"keydown","pointerdown"],["tabindex","-1",2,"outline","none"],["width","10","height","16","viewBox","0 0 10 16","xmlns","http://www.w3.org/2000/svg"],["d","M6 2C6 0.9 6.9 0 8 0C9.1 0 10 0.9 10 2C10 3.1 9.1 4 8 4C6.9 4 6 3.1 6 2ZM2 0C0.9 0 0 0.9 0 2C0 3.1 0.9 4 2 4C3.1 4 4 3.1 4 2C4 0.9 3.1 0 2 0ZM8 6C6.9 6 6 6.9 6 8C6 9.1 6.9 10 8 10C9.1 10 10 9.1 10 8C10 6.9 9.1 6 8 6ZM2 6C0.9 6 0 6.9 0 8C0 9.1 0.9 10 2 10C3.1 10 4 9.1 4 8C4 6.9 3.1 6 2 6ZM8 12C6.9 12 6 12.9 6 14C6 15.1 6.9 16 8 16C9.1 16 10 15.1 10 14C10 12.9 9.1 12 8 12ZM2 12C0.9 12 0 12.9 0 14C0 15.1 0.9 16 2 16C3.1 16 4 15.1 4 14C4 12.9 3.1 12 2 12Z"],["width","10","height","24","viewBox","0 0 10 24","xmlns","http://www.w3.org/2000/svg"],["d","M10 5L5 0L0 5H4V9H6V5H10Z"],["d","M6 19V15H4V19H0L5 24L10 19H6Z"],[3,"model"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("keydown",function(d){return r.question.handleKeydown(d,r.model)})("pointerdown",function(d){return r.question.handlePointerDown(d,r.model,d.currentTarget)}),te(1,"div",1),ae(2,"div"),te(3,"div")(4,"div"),bt(),te(5,"svg",2),ae(6,"path",3),ne(),te(7,"svg",4),ae(8,"path",5)(9,"path",6),ne()(),ul(),te(10,"div"),ze(11),ne(),te(12,"div"),ae(13,"sv-ng-string",7),ne()()()()),2&t&&(Y(r.question.getItemClass(r.model)),Me("tabindex",r.question.getItemTabIndex(r.model))("data-sv-drop-target-ranking-item",r.index),U(2),Y(r.question.cssClasses.itemGhostNode),U(1),Y(r.question.cssClasses.itemContent),U(1),Y(r.question.cssClasses.itemIconContainer),U(1),Y(r.question.getIconHoverCss()),U(2),Y(r.question.getIconFocusCss()),U(3),Y(r.question.getItemIndexClasses(r.model)),U(1),qe(r.unrankedItem?"":r.question.getNumberByIndex(r.index)),U(1),Y(r.question.cssClasses.controlLabel),U(1),Q("model",r.model.locText))},directives:[Ut],encapsulation:2}),e})()),Se.Instance.registerComponent(Tt.LocalizableString.editableRenderer,(()=>{class e{constructor(){this.onInput=t=>{this.model.text=t.target.innerText},this.onClick=t=>{t.preventDefault(),t.stopPropagation()}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-string-editor"]],inputs:{model:"model"},decls:2,vars:2,consts:[["class","sv-string-editor","contenteditable","true",3,"innerHtml","blur","click",4,"ngIf"],["class","sv-string-editor","contenteditable","true",3,"blur","click",4,"ngIf"],["contenteditable","true",1,"sv-string-editor",3,"innerHtml","blur","click"],["contenteditable","true",1,"sv-string-editor",3,"blur","click"]],template:function(t,r){1&t&&(G(0,KB,1,1,"span",0),G(1,GB,2,1,"span",1)),2&t&&(Q("ngIf",r.model.hasHtml),U(1),Q("ngIf",!r.model.hasHtml))},directives:[ke],encapsulation:2}),e})());let Fa=(()=>{class e{get question(){return this.model&&this.model.data.question||this.data.question}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["ng-component"]],inputs:{data:"data",model:"model"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),e})(),EP=(()=>{class e extends Fa{addPanelClick(){this.question.addPanelUI()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-add-btn"]],features:[be],decls:1,vars:1,consts:[["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"]],template:function(t,r){1&t&&G(0,JB,3,5,"button",0),2&t&&Q("ngIf",r.question.canAddPanel)},directives:[ke],encapsulation:2}),e})();Se.Instance.registerComponent("sv-paneldynamic-add-btn",EP);let DP=(()=>{class e extends Fa{nextPanelClick(){this.question.goToNextPanel()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-next-btn"]],features:[be],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("click",function(){return r.nextPanelClick()}),bt(),ae(1,"svg",1),ne()),2&t&&(Y(r.question.getNextButtonCss()),Me("title",r.question.panelNextText),U(1),Q("iconName",r.question.cssClasses.progressBtnIcon)("size","auto"))},directives:[cn],encapsulation:2}),e})();Se.Instance.registerComponent("sv-paneldynamic-next-btn",DP);let TP=(()=>{class e extends Fa{prevPanelClick(){this.question.goToPrevPanel()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-prev-btn"]],features:[be],decls:2,vars:5,consts:[[3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(t,r){1&t&&(te(0,"div",0),Oe("click",function(){return r.prevPanelClick()}),bt(),ae(1,"svg",1),ne()),2&t&&(Y(r.question.getPrevButtonCss()),Me("title",r.question.panelPrevText),U(1),Q("iconName",r.question.cssClasses.progressBtnIcon)("size","auto"))},directives:[cn],encapsulation:2}),e})();Se.Instance.registerComponent("sv-paneldynamic-prev-btn",TP);let IP=(()=>{class e extends Fa{get panel(){return(this.data?this.data:this.model.data).panel}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-remove-btn"]],features:[be],decls:4,vars:7,consts:[["type","button",3,"click"]],template:function(t,r){1&t&&(te(0,"button",0),Oe("click",function(){return r.question.removePanelUI(r.panel)}),te(1,"span"),ze(2),ne(),ae(3,"span"),ne()),2&t&&(Y(r.question.getPanelRemoveButtonCss()),U(1),Y(r.question.cssClasses.buttonRemoveText),U(1),qe(r.question.panelRemoveText),U(1),Y(r.question.cssClasses.iconRemove))},encapsulation:2}),e})();Se.Instance.registerComponent("sv-paneldynamic-remove-btn",IP);let xP=(()=>{class e extends Fa{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-progress-text"]],features:[be],decls:2,vars:3,template:function(t,r){1&t&&(te(0,"div"),ze(1),ne()),2&t&&(Y(r.question.cssClasses.progressText),U(1),qe(r.question.progressText))},encapsulation:2}),e})();Se.Instance.registerComponent("sv-paneldynamic-progress-text",xP),Se.Instance.registerComponent("paneldynamic-question",(()=>{class e extends nn{get renderedPanels(){if(this.model.isRenderModeList)return this.model.visiblePanels;const t=[];return this.model.currentPanel&&t.push(this.model.currentPanel),t}onModelChanged(){super.onModelChanged(),this.model.panelCountChangedCallback=()=>{this.update()},this.model.currentIndexChangedCallback=()=>{this.update()},this.model.renderModeChangedCallback=()=>{this.update()}}get progressCssClass(){return this.model.isProgressTopShowing?this.model.cssClasses.progressTop:this.model.cssClasses.progressBottom}ngOnDestroy(){this.model.panelCountChangedCallback=()=>{},this.model.currentIndexChangedCallback=()=>{},this.model.renderModeChangedCallback=()=>{},super.ngOnDestroy()}getPanelComponentName(t){const r=this.surveyModel;if(r){const s=r.getElementWrapperComponentName(t);if(s)return s}return"panel"}getPanelComponentData(t){const r=this.surveyModel;let s;return r&&(s=r.getElementWrapperComponentData(t)),{componentName:"panel",componentData:{model:t,data:s}}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-paneldynamic-question"]],features:[be],decls:13,vars:9,consts:[["contentElement",""],[3,"class",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"data",4,"ngIf"],["progressV2",""],["progress",""],["sv-ng-string","",3,"model"],[3,"data"],["role","progressbar"],[3,"ngTemplateOutlet"],[3,"component"],[4,"ngIf"],[3,"model"],[2,"clear","both"]],template:function(t,r){1&t&&(te(0,"div",null,0),G(2,ZB,3,6,"div",1),G(3,YB,2,8,"div",1),G(4,XB,1,1,"ng-container",2),G(5,iN,5,8,"ng-container",3),G(6,sN,1,1,"ng-container",2),G(7,aN,1,3,"sv-ng-paneldynamic-add-btn",4),G(8,lN,1,1,"ng-container",2),ne(),G(9,fN,1,1,"ng-template",null,5,ot),G(11,hN,8,19,"ng-template",null,6,ot)),2&t&&(Y(r.model.cssClasses.root),U(2),Q("ngIf",r.model.getShowNoEntriesPlaceholder()),U(1),Q("ngIf",!r.model.showLegacyNavigation&&r.model.isProgressTopShowing&&r.model.isRangeShowing),U(1),Q("ngIf",r.model.showLegacyNavigation&&r.model.isProgressTopShowing),U(1),Q("ngForOf",r.renderedPanels),U(1),Q("ngIf",r.model.showLegacyNavigation&&r.model.isProgressBottomShowing),U(1),Q("ngIf",r.model.showLegacyNavigation&&r.model.isRenderModeList),U(1),Q("ngIf",r.model.showNavigation))},directives:[Ut,EP,IP,ro,TP,DP,xP,ke,xo,_t,Rt],encapsulation:2}),e})()),Se.Instance.registerComponent(Tt.SurveyModel.TemplateRendererComponentName,(()=>{class e extends ar{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-template-renderer"]],inputs:{componentName:"componentName",componentData:"componentData",contentTempl:"contentTempl"},features:[be],decls:2,vars:0,consts:[["template",""],[4,"ngIf"],[3,"component"],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&G(0,CN,2,2,"ng-template",null,0,ot)},directives:[ke,Rt,xo],styles:["[_nghost-%COMP%]{display:none}"]}),e})());let O3=(()=>{class e{get hasDefaultRender(){return this.model.customWidget.isDefaultRender||this.hasAngularComponent}get hasHtml(){return!!this.model.customWidget.htmlTemplate}get customHtml(){return this.model.customWidget.htmlTemplate}get hasAngularComponent(){return Se.Instance.isComponentRegistered(this.model.customWidget.name)}get componentName(){return this.hasAngularComponent?this.model.customWidget.name:this.model.getTemplate()+"-question"}ngAfterViewInit(){this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnChanges(t){void 0!==t.model.previousValue&&void 0!==t.model.currentValue&&this.model.customWidget.afterRender(this.model,this.container.nativeElement)}ngOnDestroy(){this.model.customWidget.willUnmount(this.model,this.container.nativeElement)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-custom-widget"]],viewQuery:function(t,r){if(1&t&&yn(bN,5),2&t){let s;mn(s=vn())&&(r.container=s.first)}},inputs:{css:"css",model:"model"},features:[Pn],decls:4,vars:2,consts:[["content",""],[3,"innerHTML",4,"ngIf"],[4,"ngIf"],[3,"innerHTML"],[3,"component"]],template:function(t,r){1&t&&(te(0,"div",null,0),G(2,PN,2,3,"div",1),G(3,TN,2,7,"ng-container",2),ne()),2&t&&(U(2),Q("ngIf",r.hasHtml),U(1),Q("ngIf",r.hasDefaultRender))},directives:[ke,Rt],pipes:[Pp],encapsulation:2}),e})();Se.Instance.registerComponent("survey-customwidget",O3);let OP=(()=>{class e extends ar{get question(){return this.model.data.question}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-drag-drop-icon"]],inputs:{model:"model"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag",4,"ngIf"],["data-bind","css: question.cssClasses.iconDrag"]],template:function(t,r){1&t&&G(0,ON,2,2,"ng-template",null,0,ot)},directives:[ke],styles:["[_nghost-%COMP%]{display:none}"]}),e})();Se.Instance.registerComponent("sv-matrix-drag-drop-icon",OP);let VP=(()=>{class e extends Ct{constructor(){super(...arguments),this.isVisible=!1}getModel(){return this.cell.question}get row(){return this.cell.row}get panelComponentName(){const t=this.cell.panel,r=t.survey;if(r){const s=r.getElementWrapperComponentName(t);if(s)return s}return"panel"}get panelComponentData(){const t=this.cell.panel,r=t.survey;let s;return r&&(s=r.getElementWrapperComponentData(t)),{componentName:"panel",componentData:{model:t,data:s}}}getComponentName(t){return bp(t)}getHeaders(){return this.cell.headers}getCellStyle(){return this.cell.width||this.cell.minWidth?{width:this.cell.width,minWidth:this.cell.minWidth}:null}ngAfterViewInit(){this.cell.hasQuestion&&this.question&&this.question.survey&&this.question.survey.matrixAfterCellRender(this.question,{cell:this.cell.cell,cellQuestion:this.cell.question,htmlElement:this.cellContainer.nativeElement,row:this.cell.row,column:this.cell.cell.column})}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-cell"]],viewQuery:function(t,r){if(1&t&&yn(VN,5),2&t){let s;mn(s=vn())&&(r.cellContainer=s.first)}},inputs:{question:"question",cell:"cell"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"title"],["cellContainer",""],[3,"model",4,"ngIf"],[3,"model","handleClick",4,"ngIf"],[4,"ngIf"],[3,"class","visible",4,"ngIf"],[3,"model"],[3,"model","handleClick"],[3,"component"],[3,"visible"],["sv-ng-errors","",3,"element","location",4,"ngIf"],["sv-ng-comment-other","",3,"class","question",4,"ngIf"],["sv-ng-errors","",3,"element","location"],[3,"showLabel","inputType","question","model"],["sv-ng-comment-other","",3,"question"],[3,"class",4,"ngIf"]],template:function(t,r){1&t&&G(0,GN,7,12,"ng-template",null,0,ot)},directives:[OP,ro,Nu,vP,pi,Ut,ke,Rt,br],styles:["[_nghost-%COMP%] { display: none; }"]}),e})(),V3=(()=>{class e extends Ct{getModel(){return this.column}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrixheaderrequired"]],inputs:{column:"column",question:"question"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"class",4,"ngIf"]],template:function(t,r){1&t&&G(0,ZN,1,1,"ng-template",null,0,ot)},directives:[ke],styles:["[_nghost-%COMP%] { display: none; }"]}),e})(),M3=(()=>{class e extends Ct{getModel(){return this.model}get row(){return this.model.row}trackCellBy(t,r){return r.id}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-row"]],inputs:{model:"model",question:"question"},features:[be],decls:2,vars:0,consts:[["template",""],[3,"pointerdown"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(t,r){1&t&&G(0,XN,2,5,"ng-template",null,0,ot)},directives:[VP,_t],styles:["[_nghost-%COMP%] { display: none; }"]}),e})(),MP=(()=>{class e extends Ct{getModel(){return this.table}trackCellBy(t,r){return r.id}trackRowBy(t,r){return r.id}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-table"]],inputs:{question:"question",table:"table"},features:[be],decls:7,vars:12,consts:[["contentElement",""],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","style",4,"ngIf"],[3,"component"],[3,"model"],[3,"column","question",4,"ngIf"],[3,"column","question"],[3,"model","question"],[3,"cell","question",4,"ngFor","ngForOf","ngForTrackBy"],[3,"cell","question"]],template:function(t,r){1&t&&(te(0,"div",null,0)(2,"table"),G(3,ij,3,2,"thead",1),te(4,"tbody"),G(5,sj,2,2,"ng-container",2),ne(),G(6,lj,3,2,"tfoot",1),ne()()),2&t&&(Vt(tt(10,uj,r.question.showHorizontalScroll?"scroll":"")),Y(r.question.cssClasses.tableWrapper),U(2),Y(r.question.getTableCss()),U(1),Q("ngIf",r.table.showHeader),U(2),Q("ngForOf",r.table.rows)("ngForTrackBy",r.trackRowBy),U(1),Q("ngIf",r.table.showFooter))},directives:[Ut,V3,M3,VP,ke,_t,Rt],encapsulation:2}),e})();Se.Instance.registerComponent("matrixdropdown-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrixdropdown-question"]],features:[be],decls:2,vars:0,consts:[["template",""],[3,"question","table",4,"ngIf"],[3,"question","table"]],template:function(t,r){1&t&&G(0,dj,1,1,"ng-template",null,0,ot)},directives:[MP,ke],encapsulation:2}),e})()),Se.Instance.registerComponent("matrixdynamic-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrixdynamic-question"]],features:[be],decls:2,vars:0,consts:[["template",""],["contentElement",""],[3,"class",4,"ngIf"],[3,"question","table",4,"ngIf"],["addRowButton",""],[4,"ngTemplateOutlet"],[3,"question","table"],["sv-ng-string","",3,"model"],["type","button",3,"click"],[3,"model"]],template:function(t,r){1&t&&G(0,bj,8,4,"ng-template",null,0,ot)},directives:[MP,Ut,ke,xo],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-matrix-remove-button",(()=>{class e{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-remove-btn"]],inputs:{model:"model"},decls:3,vars:6,consts:[["type","button",3,"disabled","click"],[3,"model"]],template:function(t,r){1&t&&(te(0,"button",0),Oe("click",function(){return r.question.removeRowUI(r.row)}),ae(1,"sv-ng-string",1)(2,"span"),ne()),2&t&&(Y(r.question.getRemoveRowButtonCss()),Q("disabled",r.question.isInputReadOnly),U(1),Q("model",r.question.locRemoveRowText),U(1),Y(r.question.cssClasses.iconRemove))},directives:[Ut],encapsulation:2}),e})()),Se.Instance.registerComponent("sv-matrix-detail-button",(()=>{class e{get question(){return this.model.data.question}get row(){return this.model.data.row}getModel(){return this.model}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=me({type:e,selectors:[["sv-ng-matrix-detail-btn"]],inputs:{model:"model"},decls:2,vars:8,consts:[["type","button",3,"click"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(t,r){1&t&&(te(0,"button",0),Oe("click",function(){return r.row.showHideDetailPanelClick()}),bt(),ae(1,"svg",1),ne()),2&t&&(Y(r.question.getDetailPanelButtonCss(r.row)),Me("aria-expanded",r.question.getIsDetailPanelShowing(r.row)?"true":"false")("aria-controls",r.question.getIsDetailPanelShowing(r.row)?r.row.detailPanelId:null),U(1),Y(r.question.getDetailPanelIconCss(r.row)),Q("iconName",r.question.getDetailPanelIconId(r.row))("size","auto"))},directives:[cn],encapsulation:2}),e})()),Se.Instance.registerComponent("expression-question",(()=>{class e extends nn{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-expression"]],features:[be],decls:3,vars:3,consts:[["contentElement",""]],template:function(t,r){1&t&&(te(0,"div",null,0),ze(2),ne()),2&t&&(Y(r.model.cssClasses.root),U(2),qe(r.model.formatedValue))},encapsulation:2}),e})()),Se.Instance.registerComponent("image-question",(()=>{class e extends nn{ngAfterViewInit(){this.model.locImageLink.onChanged=()=>{this.detectChanges()},super.ngAfterViewInit()}ngOnDestroy(){this.model.locImageLink.onChanged=()=>{},super.ngOnDestroy()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-image-question"]],features:[be],decls:6,vars:6,consts:[["contentElement",""],[3,"visible","class","style","load","error",4,"ngIf"],["controls","",3,"visible","class","style","loadedmetadata","error",4,"ngIf"],[3,"class","style",4,"ngIf"],[3,"class",4,"ngIf"],[3,"visible","load","error"],["controls","",3,"visible","loadedmetadata","error"],["sv-ng-svg-icon","",3,"iconName","size"]],template:function(t,r){1&t&&(te(0,"div",null,0),G(2,Pj,1,13,"img",1),G(3,Ej,1,12,"video",2),G(4,Dj,2,13,"iframe",3),G(5,Tj,2,4,"div",4),ne()),2&t&&(Y(r.model.cssClasses.root),U(2),Q("ngIf","image"===r.model.renderedMode),U(1),Q("ngIf","video"===r.model.renderedMode),U(1),Q("ngIf","youtube"===r.model.renderedMode),U(1),Q("ngIf",!r.model.locImageLink.renderedHtml||r.model.contentNotLoaded))},directives:[cn,ke,br],pipes:[Uj],encapsulation:2}),e})()),Se.Instance.registerComponent("custom-question",(()=>{class e extends nn{get contentQuestion(){return this.model.contentQuestion}getComponentName(t){return bp(t)}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-custom-question"]],features:[be],decls:1,vars:6,consts:[[3,"component"]],template:function(t,r){1&t&&G(0,Ij,0,0,"ng-template",0),2&t&&Q("component",We(3,Ye,r.getComponentName(r.contentQuestion),tt(1,fi,r.contentQuestion)))},directives:[Rt],encapsulation:2}),e})()),Se.Instance.registerComponent("composite-question",(()=>{class e extends nn{get contentPanel(){return this.model.contentPanel}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Ve(e)))(r||e)}}(),e.\u0275cmp=me({type:e,selectors:[["sv-ng-composite-question"]],features:[be],decls:1,vars:1,consts:[[3,"model"]],template:function(t,r){1&t&&ae(0,"sv-ng-panel",0),2&t&&Q("model",r.contentPanel)},directives:[PP],encapsulation:2}),e})());let j3=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({providers:[lP],imports:[[AC,GS]]}),e})();class wP{}class SP{}class oo{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),d=s.toLowerCase(),x=t.slice(r+1).trim();this.maybeSetNormalizedName(s,d),this.headers.has(d)?this.headers.get(d).push(x):this.headers.set(d,[x])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof oo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new oo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof oo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const s=("a"===n.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const d=n.value;if(d){let x=this.headers.get(t);if(!x)return;x=x.filter(R=>-1===d.indexOf(R)),0===x.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,x)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class U3{encodeKey(n){return RP(n)}encodeValue(n){return RP(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const W3=/%(\d[a-f0-9])/gi,k3={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function RP(e){return encodeURIComponent(e).replace(W3,(n,t)=>{var r;return null!==(r=k3[t])&&void 0!==r?r:n})}function AP(e){return`${e}`}class Ao{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new U3,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function z3(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(s=>{const d=s.indexOf("="),[x,R]=-1==d?[n.decodeKey(s),""]:[n.decodeKey(s.slice(0,d)),n.decodeValue(s.slice(d+1))],N=t.get(x)||[];N.push(R),t.set(x,N)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const s=n[r];Array.isArray(s)?s.forEach(d=>{t.push({param:r,value:d,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new Ao({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(AP(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const s=r.indexOf(AP(n.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class $3{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function LP(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function FP(e){return"undefined"!=typeof Blob&&e instanceof Blob}function BP(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Ba{constructor(n,t,r,s){let d;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function q3(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,d=s):d=r,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new oo),this.context||(this.context=new $3),this.params){const x=this.params.toString();if(0===x.length)this.urlWithParams=t;else{const R=t.indexOf("?");this.urlWithParams=t+(-1===R?"?":R<t.length-1?"&":"")+x}}else this.params=new Ao,this.urlWithParams=t}serializeBody(){return null===this.body?null:LP(this.body)||FP(this.body)||BP(this.body)||function K3(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ao?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||BP(this.body)?null:FP(this.body)?this.body.type||null:LP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ao?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){var t;const r=n.method||this.method,s=n.url||this.url,d=n.responseType||this.responseType,x=void 0!==n.body?n.body:this.body,R=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,N=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let _=n.headers||this.headers,k=n.params||this.params;const Z=null!==(t=n.context)&&void 0!==t?t:this.context;return void 0!==n.setHeaders&&(_=Object.keys(n.setHeaders).reduce((ee,re)=>ee.set(re,n.setHeaders[re]),_)),n.setParams&&(k=Object.keys(n.setParams).reduce((ee,re)=>ee.set(re,n.setParams[re]),k)),new Ba(r,s,x,{params:k,headers:_,context:Z,reportProgress:N,responseType:d,withCredentials:R})}}var Yt=(()=>((Yt=Yt||{})[Yt.Sent=0]="Sent",Yt[Yt.UploadProgress=1]="UploadProgress",Yt[Yt.ResponseHeader=2]="ResponseHeader",Yt[Yt.DownloadProgress=3]="DownloadProgress",Yt[Yt.Response=4]="Response",Yt[Yt.User=5]="User",Yt))();class Dp{constructor(n,t=200,r="OK"){this.headers=n.headers||new oo,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Tp extends Dp{constructor(n={}){super(n),this.type=Yt.ResponseHeader}clone(n={}){return new Tp({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Na extends Dp{constructor(n={}){super(n),this.type=Yt.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new Na({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class _u extends Dp{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Ip(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let NP=(()=>{class e{constructor(t){this.handler=t}request(t,r,s={}){let d;if(t instanceof Ba)d=t;else{let N,_;N=s.headers instanceof oo?s.headers:new oo(s.headers),s.params&&(_=s.params instanceof Ao?s.params:new Ao({fromObject:s.params})),d=new Ba(t,r,void 0!==s.body?s.body:null,{headers:N,context:s.context,params:_,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const x=function H3(...e){return Dr(e,ao(e))}(d).pipe(function Q3(e,n){return m(n)?so(e,n,1):so(e,1)}(N=>this.handler.handle(N)));if(t instanceof Ba||"events"===s.observe)return x;const R=x.pipe(function _3(e,n){return ue((t,r)=>{let s=0;t.subscribe(new fe(r,d=>e.call(n,d,s++)&&r.next(d)))})}(N=>N instanceof Na));switch(s.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return R.pipe(Te(N=>{if(null!==N.body&&!(N.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return N.body}));case"blob":return R.pipe(Te(N=>{if(null!==N.body&&!(N.body instanceof Blob))throw new Error("Response is not a Blob.");return N.body}));case"text":return R.pipe(Te(N=>{if(null!==N.body&&"string"!=typeof N.body)throw new Error("Response is not a string.");return N.body}));default:return R.pipe(Te(N=>N.body))}case"response":return R;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ao).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,Ip(s,r))}post(t,r,s={}){return this.request("POST",t,Ip(s,r))}put(t,r,s={}){return this.request("PUT",t,Ip(s,r))}}return e.\u0275fac=function(t){return new(t||e)(et(wP))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();class jP{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const xp=new gt("HTTP_INTERCEPTORS");let Op,G3=(()=>{class e{intercept(t,r){return r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),J3=0;class HP{}let QP=(()=>{class e{constructor(t,r){this.callbackMap=t,this.document=r,this.resolvedPromise=Promise.resolve()}nextCallback(){return"ng_jsonp_callback_"+J3++}handle(t){if("JSONP"!==t.method)throw new Error("JSONP requests must use JSONP request method.");if("json"!==t.responseType)throw new Error("JSONP requests must use Json response type.");return new I(r=>{const s=this.nextCallback(),d=t.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${s}$1`),x=this.document.createElement("script");x.src=d;let R=null,N=!1;this.callbackMap[s]=ee=>{delete this.callbackMap[s],R=ee,N=!0};const _=()=>{x.parentNode&&x.parentNode.removeChild(x),delete this.callbackMap[s]};return x.addEventListener("load",ee=>{this.resolvedPromise.then(()=>{_(),N?(r.next(new Na({body:R,status:200,statusText:"OK",url:d})),r.complete()):r.error(new _u({url:d,status:0,statusText:"JSONP Error",error:new Error("JSONP injected script did not invoke callback.")}))})}),x.addEventListener("error",ee=>{_(),r.error(new _u({error:ee,status:0,statusText:"JSONP Error",url:d}))}),this.document.body.appendChild(x),r.next({type:Yt.Sent}),()=>{N||this.removeListeners(x),_()}})}removeListeners(t){Op||(Op=this.document.implementation.createHTMLDocument()),Op.adoptNode(t)}}return e.\u0275fac=function(t){return new(t||e)(et(HP),et(Un))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),eH=(()=>{class e{constructor(t){this.jsonp=t}intercept(t,r){return"JSONP"===t.method?this.jsonp.handle(t):r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(et(QP))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const tH=/^\)\]\}',?\n/;let _P=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new I(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((re,le)=>s.setRequestHeader(re,le.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const re=t.detectContentTypeHeader();null!==re&&s.setRequestHeader("Content-Type",re)}if(t.responseType){const re=t.responseType.toLowerCase();s.responseType="json"!==re?re:"text"}const d=t.serializeBody();let x=null;const R=()=>{if(null!==x)return x;const re=s.statusText||"OK",le=new oo(s.getAllResponseHeaders()),ge=function nH(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return x=new Tp({headers:le,status:s.status,statusText:re,url:ge}),x},N=()=>{let{headers:re,status:le,statusText:ge,url:De}=R(),Pe=null;204!==le&&(Pe=void 0===s.response?s.responseText:s.response),0===le&&(le=Pe?200:0);let pe=le>=200&&le<300;if("json"===t.responseType&&"string"==typeof Pe){const $e=Pe;Pe=Pe.replace(tH,"");try{Pe=""!==Pe?JSON.parse(Pe):null}catch(ut){Pe=$e,pe&&(pe=!1,Pe={error:ut,text:Pe})}}pe?(r.next(new Na({body:Pe,headers:re,status:le,statusText:ge,url:De||void 0})),r.complete()):r.error(new _u({error:Pe,headers:re,status:le,statusText:ge,url:De||void 0}))},_=re=>{const{url:le}=R(),ge=new _u({error:re,status:s.status||0,statusText:s.statusText||"Unknown Error",url:le||void 0});r.error(ge)};let k=!1;const Z=re=>{k||(r.next(R()),k=!0);let le={type:Yt.DownloadProgress,loaded:re.loaded};re.lengthComputable&&(le.total=re.total),"text"===t.responseType&&!!s.responseText&&(le.partialText=s.responseText),r.next(le)},ee=re=>{let le={type:Yt.UploadProgress,loaded:re.loaded};re.lengthComputable&&(le.total=re.total),r.next(le)};return s.addEventListener("load",N),s.addEventListener("error",_),s.addEventListener("timeout",_),s.addEventListener("abort",_),t.reportProgress&&(s.addEventListener("progress",Z),null!==d&&s.upload&&s.upload.addEventListener("progress",ee)),s.send(d),r.next({type:Yt.Sent}),()=>{s.removeEventListener("error",_),s.removeEventListener("abort",_),s.removeEventListener("load",N),s.removeEventListener("timeout",_),t.reportProgress&&(s.removeEventListener("progress",Z),null!==d&&s.upload&&s.upload.removeEventListener("progress",ee)),s.readyState!==s.DONE&&s.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(et(BC))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();const Vp=new gt("XSRF_COOKIE_NAME"),Mp=new gt("XSRF_HEADER_NAME");class UP{}let rH=(()=>{class e{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=VC(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(et(Un),et(mf),et(Vp))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),wp=(()=>{class e{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const d=this.tokenService.getToken();return null!==d&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,d)})),r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(et(UP),et(Mp))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})(),oH=(()=>{class e{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(xp,[]);this.chain=r.reduceRight((s,d)=>new jP(s,d),this.backend)}return this.chain.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(et(SP),et(Ln))},e.\u0275prov=pt({token:e,factory:e.\u0275fac}),e})();function iH(){return"object"==typeof window?window:{}}let sH=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:wp,useClass:G3}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Vp,useValue:t.cookieName}:[],t.headerName?{provide:Mp,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({providers:[wp,{provide:xp,useExisting:wp,multi:!0},{provide:UP,useClass:rH},{provide:Vp,useValue:"XSRF-TOKEN"},{provide:Mp,useValue:"X-XSRF-TOKEN"}]}),e})(),aH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({providers:[NP,{provide:wP,useClass:oH},_P,{provide:SP,useExisting:_P}],imports:[[sH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),lH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e}),e.\u0275inj=Cn({providers:[QP,{provide:HP,useFactory:iH},{provide:xp,useClass:eH,multi:!0}]}),e})(),uH=(()=>{class e{constructor(t){this.http=t}getSurveyJson(){return this.http.get("https://crifsurvey.free.beeceptor.com/surveyJson")}}return e.\u0275fac=function(t){return new(t||e)(et(NP))},e.\u0275prov=pt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),cH=(()=>{class e{constructor(t){this.surveyJSService=t,this.title="My First Survey"}alertResults(t){const r=JSON.stringify(t.data);alert(r),console.log(r)}ngOnInit(){this.getSurveyJson()}getSurveyJson(){this.surveyJSService.getSurveyJson().subscribe(t=>{console.log(t);const s=(new Date).toISOString().split("T")[0];for(let x of t.pages){const R=x.elements.filter(N=>N.name.startsWith("today"));R&&R.forEach(N=>N.max=s)}const d=new Tt.Model(t);d.onComplete.add(this.alertResults),this.surveyModel=d},t=>{},()=>{})}}return e.\u0275fac=function(t){return new(t||e)(ve(uH))},e.\u0275cmp=me({type:e,selectors:[["app-root"]],decls:1,vars:1,consts:[[3,"model"]],template:function(t,r){1&t&&ae(0,"survey",0),2&t&&Q("model",r.surveyModel)},directives:[Rj],styles:[""]}),e})(),dH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=pn({type:e,bootstrap:[cH]}),e.\u0275inj=Cn({providers:[],imports:[[Mw,j3,aH,lH]]}),e})();(function EV(){aC=!1})(),Ow().bootstrapModule(dH).catch(e=>console.error(e))},940:function(Cs){Cs.exports=function(oe){var V={};function m(L){if(V[L])return V[L].exports;var K=V[L]={i:L,l:!1,exports:{}};return oe[L].call(K.exports,K,K.exports,m),K.l=!0,K.exports}return m.m=oe,m.c=V,m.d=function(L,K,j){m.o(L,K)||Object.defineProperty(L,K,{enumerable:!0,get:j})},m.r=function(L){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(L,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(L,"__esModule",{value:!0})},m.t=function(L,K){if(1&K&&(L=m(L)),8&K||4&K&&"object"==typeof L&&L&&L.__esModule)return L;var j=Object.create(null);if(m.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:L}),2&K&&"string"!=typeof L)for(var F in L)m.d(j,F,function(S){return L[S]}.bind(null,F));return j},m.n=function(L){var K=L&&L.__esModule?function(){return L.default}:function(){return L};return m.d(K,"a",K),K},m.o=function(L,K){return Object.prototype.hasOwnProperty.call(L,K)},m.p="",m(m.s="./src/entries/core.ts")}({"./node_modules/signature_pad/dist/signature_pad.js":function(oe,V,m){"use strict";m.r(V),m.d(V,"default",function(){return S});class L{constructor(M,h,D,P){if(isNaN(M)||isNaN(h))throw new Error(`Point is invalid: (${M}, ${h})`);this.x=+M,this.y=+h,this.pressure=D||0,this.time=P||Date.now()}distanceTo(M){return Math.sqrt(Math.pow(this.x-M.x,2)+Math.pow(this.y-M.y,2))}equals(M){return this.x===M.x&&this.y===M.y&&this.pressure===M.pressure&&this.time===M.time}velocityFrom(M){return this.time!==M.time?this.distanceTo(M)/(this.time-M.time):0}}class K{constructor(M,h,D,P,y,v){this.startPoint=M,this.control2=h,this.control1=D,this.endPoint=P,this.startWidth=y,this.endWidth=v}static fromPoints(M,h){const D=this.calculateControlPoints(M[0],M[1],M[2]).c2,P=this.calculateControlPoints(M[1],M[2],M[3]).c1;return new K(M[1],D,P,M[2],h.start,h.end)}static calculateControlPoints(M,h,D){const P=M.x-h.x,y=M.y-h.y,v=h.x-D.x,E=h.y-D.y,g_x=(M.x+h.x)/2,g_y=(M.y+h.y)/2,u_x=(h.x+D.x)/2,u_y=(h.y+D.y)/2,l=Math.sqrt(P*P+y*y),a=Math.sqrt(v*v+E*E),p=a/(l+a),B=h.x-(u_x+(g_x-u_x)*p),O=h.y-(u_y+(g_y-u_y)*p);return{c1:new L(g_x+B,g_y+O),c2:new L(u_x+B,u_y+O)}}length(){let D,P,h=0;for(let y=0;y<=10;y+=1){const v=y/10,E=this.point(v,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),g=this.point(v,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(y>0){const u=E-D,l=g-P;h+=Math.sqrt(u*u+l*l)}D=E,P=g}return h}point(M,h,D,P,y){return h*(1-M)*(1-M)*(1-M)+3*D*(1-M)*(1-M)*M+3*P*(1-M)*M*M+y*M*M*M}}class S extends class j{constructor(){try{this._et=new EventTarget}catch(M){this._et=document}}addEventListener(M,h,D){this._et.addEventListener(M,h,D)}dispatchEvent(M){return this._et.dispatchEvent(M)}removeEventListener(M,h,D){this._et.removeEventListener(M,h,D)}}{constructor(M,h={}){super(),this.canvas=M,this._drawningStroke=!1,this._isEmpty=!0,this._lastPoints=[],this._data=[],this._lastVelocity=0,this._lastWidth=0,this._handleMouseDown=D=>{1===D.buttons&&(this._drawningStroke=!0,this._strokeBegin(D))},this._handleMouseMove=D=>{this._drawningStroke&&this._strokeMoveUpdate(D)},this._handleMouseUp=D=>{1===D.buttons&&this._drawningStroke&&(this._drawningStroke=!1,this._strokeEnd(D))},this._handleTouchStart=D=>{D.cancelable&&D.preventDefault(),1===D.targetTouches.length&&this._strokeBegin(D.changedTouches[0])},this._handleTouchMove=D=>{D.cancelable&&D.preventDefault(),this._strokeMoveUpdate(D.targetTouches[0])},this._handleTouchEnd=D=>{D.target===this.canvas&&(D.cancelable&&D.preventDefault(),this._strokeEnd(D.changedTouches[0]))},this._handlePointerStart=D=>{this._drawningStroke=!0,D.preventDefault(),this._strokeBegin(D)},this._handlePointerMove=D=>{this._drawningStroke&&(D.preventDefault(),this._strokeMoveUpdate(D))},this._handlePointerEnd=D=>{this._drawningStroke&&(D.preventDefault(),this._drawningStroke=!1,this._strokeEnd(D))},this.velocityFilterWeight=h.velocityFilterWeight||.7,this.minWidth=h.minWidth||.5,this.maxWidth=h.maxWidth||2.5,this.throttle="throttle"in h?h.throttle:16,this.minDistance="minDistance"in h?h.minDistance:5,this.dotSize=h.dotSize||0,this.penColor=h.penColor||"black",this.backgroundColor=h.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=h.compositeOperation||"source-over",this._strokeMoveUpdate=this.throttle?function F(w,M=250){let P,y,v,h=0,D=null;const E=()=>{h=Date.now(),D=null,P=w.apply(y,v),D||(y=null,v=[])};return function(...u){const l=Date.now(),a=M-(l-h);return y=this,v=u,a<=0||a>M?(D&&(clearTimeout(D),D=null),h=l,P=w.apply(y,v),D||(y=null,v=[])):D||(D=window.setTimeout(E,a)),P}}(S.prototype._strokeUpdate,this.throttle):S.prototype._strokeUpdate,this._ctx=M.getContext("2d"),this.clear(),this.on()}clear(){const{_ctx:M,canvas:h}=this;M.fillStyle=this.backgroundColor,M.clearRect(0,0,h.width,h.height),M.fillRect(0,0,h.width,h.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0}fromDataURL(M,h={}){return new Promise((D,P)=>{const y=new Image,v=h.ratio||window.devicePixelRatio||1,E=h.width||this.canvas.width/v,g=h.height||this.canvas.height/v,u=h.xOffset||0,l=h.yOffset||0;this._reset(this._getPointGroupOptions()),y.onload=()=>{this._ctx.drawImage(y,u,l,E,g),D()},y.onerror=a=>{P(a)},y.crossOrigin="anonymous",y.src=M,this._isEmpty=!1})}toDataURL(M="image/png",h){return"image/svg+xml"===M?("object"!=typeof h&&(h=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(h))}`):("number"!=typeof h&&(h=void 0),this.canvas.toDataURL(M,h))}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const M=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!M?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerStart),this.canvas.removeEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.removeEventListener("pointerup",this._handlePointerEnd),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(M,{clear:h=!0}={}){h&&this.clear(),this._fromData(M,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(M)}toData(){return this._data}_getPointGroupOptions(M){return{penColor:M&&"penColor"in M?M.penColor:this.penColor,dotSize:M&&"dotSize"in M?M.dotSize:this.dotSize,minWidth:M&&"minWidth"in M?M.minWidth:this.minWidth,maxWidth:M&&"maxWidth"in M?M.maxWidth:this.maxWidth,velocityFilterWeight:M&&"velocityFilterWeight"in M?M.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:M&&"compositeOperation"in M?M.compositeOperation:this.compositeOperation}}_strokeBegin(M){this.dispatchEvent(new CustomEvent("beginStroke",{detail:M}));const h=this._getPointGroupOptions(),D=Object.assign(Object.assign({},h),{points:[]});this._data.push(D),this._reset(h),this._strokeUpdate(M)}_strokeUpdate(M){if(0===this._data.length)return void this._strokeBegin(M);this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:M}));const y=this._createPoint(M.clientX,M.clientY,void 0!==M.pressure?M.pressure:void 0!==M.force?M.force:0),v=this._data[this._data.length-1],E=v.points,g=E.length>0&&E[E.length-1],u=!!g&&y.distanceTo(g)<=this.minDistance,l=this._getPointGroupOptions(v);if(!g||!g||!u){const a=this._addPoint(y,l);g?a&&this._drawCurve(a,l):this._drawDot(y,l),E.push({time:y.time,x:y.x,y:y.y,pressure:y.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:M}))}_strokeEnd(M){this._strokeUpdate(M),this.dispatchEvent(new CustomEvent("endStroke",{detail:M}))}_handlePointerEvents(){this._drawningStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerStart),this.canvas.addEventListener("pointermove",this._handlePointerMove),this.canvas.ownerDocument.addEventListener("pointerup",this._handlePointerEnd)}_handleMouseEvents(){this._drawningStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),this.canvas.ownerDocument.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(M){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(M.minWidth+M.maxWidth)/2,this._ctx.fillStyle=M.penColor,this._ctx.globalCompositeOperation=M.compositeOperation}_createPoint(M,h,D){const P=this.canvas.getBoundingClientRect();return new L(M-P.left,h-P.top,D,(new Date).getTime())}_addPoint(M,h){const{_lastPoints:D}=this;if(D.push(M),D.length>2){3===D.length&&D.unshift(D[0]);const P=this._calculateCurveWidths(D[1],D[2],h),y=K.fromPoints(D,P);return D.shift(),y}return null}_calculateCurveWidths(M,h,D){const P=D.velocityFilterWeight*h.velocityFrom(M)+(1-D.velocityFilterWeight)*this._lastVelocity,y=this._strokeWidth(P,D),v={end:y,start:this._lastWidth};return this._lastVelocity=P,this._lastWidth=y,v}_strokeWidth(M,h){return Math.max(h.maxWidth/(M+1),h.minWidth)}_drawCurveSegment(M,h,D){const P=this._ctx;P.moveTo(M,h),P.arc(M,h,D,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(M,h){const D=this._ctx,P=M.endWidth-M.startWidth,y=2*Math.ceil(M.length());D.beginPath(),D.fillStyle=h.penColor;for(let v=0;v<y;v+=1){const E=v/y,g=E*E,u=g*E,l=1-E,a=l*l,i=a*l;let o=i*M.startPoint.x;o+=3*a*E*M.control1.x,o+=3*l*g*M.control2.x,o+=u*M.endPoint.x;let p=i*M.startPoint.y;p+=3*a*E*M.control1.y,p+=3*l*g*M.control2.y,p+=u*M.endPoint.y;const A=Math.min(M.startWidth+u*P,h.maxWidth);this._drawCurveSegment(o,p,A)}D.closePath(),D.fill()}_drawDot(M,h){const D=this._ctx,P=h.dotSize>0?h.dotSize:(h.minWidth+h.maxWidth)/2;D.beginPath(),this._drawCurveSegment(M.x,M.y,P),D.closePath(),D.fillStyle=h.penColor,D.fill()}_fromData(M,h,D){for(const P of M){const{points:y}=P,v=this._getPointGroupOptions(P);if(y.length>1)for(let E=0;E<y.length;E+=1){const g=y[E],u=new L(g.x,g.y,g.pressure,g.time);0===E&&this._reset(v);const l=this._addPoint(u,v);l&&h(l,v)}else this._reset(v),D(y[0],v)}}toSVG({includeBackgroundColor:M=!1}={}){const h=this._data,D=Math.max(window.devicePixelRatio||1,1),v=this.canvas.width/D,E=this.canvas.height/D,g=document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.setAttribute("xmlns","http://www.w3.org/2000/svg"),g.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),g.setAttribute("viewBox",`0 0 ${v} ${E}`),g.setAttribute("width",v.toString()),g.setAttribute("height",E.toString()),M&&this.backgroundColor){const u=document.createElement("rect");u.setAttribute("width","100%"),u.setAttribute("height","100%"),u.setAttribute("fill",this.backgroundColor),g.appendChild(u)}return this._fromData(h,(u,{penColor:l})=>{const a=document.createElement("path");if(!(isNaN(u.control1.x)||isNaN(u.control1.y)||isNaN(u.control2.x)||isNaN(u.control2.y))){const i=`M ${u.startPoint.x.toFixed(3)},${u.startPoint.y.toFixed(3)} C ${u.control1.x.toFixed(3)},${u.control1.y.toFixed(3)} ${u.control2.x.toFixed(3)},${u.control2.y.toFixed(3)} ${u.endPoint.x.toFixed(3)},${u.endPoint.y.toFixed(3)}`;a.setAttribute("d",i),a.setAttribute("stroke-width",(2.25*u.endWidth).toFixed(3)),a.setAttribute("stroke",l),a.setAttribute("fill","none"),a.setAttribute("stroke-linecap","round"),g.appendChild(a)}},(u,{penColor:l,dotSize:a,minWidth:i,maxWidth:o})=>{const p=document.createElement("circle");p.setAttribute("r",(a>0?a:(i+o)/2).toString()),p.setAttribute("cx",u.x.toString()),p.setAttribute("cy",u.y.toString()),p.setAttribute("fill",l),g.appendChild(p)}),g.outerHTML}}},"./src/actions/action.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"createDropdownActionModel",function(){return P}),m.d(V,"createDropdownActionModelAdvanced",function(){return y}),m.d(V,"getActionDropdownButtonTarget",function(){return v}),m.d(V,"BaseAction",function(){return E}),m.d(V,"Action",function(){return g}),m.d(V,"ActionDropdownViewModel",function(){return u});var l,L=m("./src/base.ts"),K=m("./src/surveyStrings.ts"),j=m("./src/jsonobject.ts"),F=m("./src/list.ts"),S=m("./src/popup.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=m("./src/actions/container.ts"),h=(l=function(a,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,p){o.__proto__=p}||function(o,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(o[A]=p[A])})(a,i)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=a}l(a,i),a.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),D=function(l,a,i,o){var B,p=arguments.length,A=p<3?a:null===o?o=Object.getOwnPropertyDescriptor(a,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)A=Reflect.decorate(l,a,i,o);else for(var O=l.length-1;O>=0;O--)(B=l[O])&&(A=(p<3?B(A):p>3?B(a,i,A):B(a,i))||A);return p>3&&A&&Object.defineProperty(a,i,A),A};function P(l,a,i){return y(l,a,a,i)}function y(l,a,i,o){var p=new F.ListModel(a.items,function(f){a.onSelectionChanged(f),A.toggleVisibility()},a.allowSelection,a.selectedItem,a.onFilterStringChangedCallback);p.locOwner=o;var A=new S.PopupModel("sv-list",{model:p},null==i?void 0:i.verticalPosition,null==i?void 0:i.horizontalPosition,null==i?void 0:i.showPointer,null==i?void 0:i.isModal,null==i?void 0:i.onCancel,null==i?void 0:i.onApply,null==i?void 0:i.onHide,null==i?void 0:i.onShow,null==i?void 0:i.cssClass,null==i?void 0:i.title);A.displayMode=null==i?void 0:i.displayMode;var B=Object.assign({},l,{component:"sv-action-bar-item-dropdown",popupModel:A,action:function(f,b){!!l.action&&l.action(),A.isFocusedContent=!b||p.showFilter,A.toggleVisibility(),p.scrollToSelectedItem()}}),O=new g(B);return O.data=p,O}function v(l){return null==l?void 0:l.previousElementSibling}var E=function(l){function a(){var i=null!==l&&l.apply(this,arguments)||this;return i.iconSize=24,i}return h(a,l),Object.defineProperty(a.prototype,"visible",{get:function(){return this.getVisible()},set:function(i){this.setVisible(i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"enabled",{get:function(){return this.getEnabled()},set:function(i){this.setEnabled(i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"component",{get:function(){return this.getComponent()},set:function(i){this.setComponent(i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locTitle",{get:function(){return this.getLocTitle()},set:function(i){this.setLocTitle(i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"title",{get:function(){return this.getTitle()},set:function(i){this.setTitle(i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"cssClasses",{get:function(){return this.cssClassesValue||M.defaultActionBarCss},set:function(i){this.cssClassesValue=i},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isVisible",{get:function(){return this.visible&&"popup"!==this.mode&&"removed"!==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"disabled",{get:function(){return void 0!==this.enabled&&!this.enabled},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canShrink",{get:function(){return!!this.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hasTitle",{get:function(){return("small"!=this.mode&&(this.showTitle||void 0===this.showTitle)||!this.iconName)&&!!this.title},enumerable:!1,configurable:!0}),a.prototype.getActionBarItemTitleCss=function(){return(new w.CssClassBuilder).append(this.cssClasses.itemTitle).append(this.cssClasses.itemTitleWithIcon,!!this.iconName).toString()},a.prototype.getActionBarItemCss=function(){return(new w.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemAsIcon,!this.hasTitle).append(this.cssClasses.itemActive,!!this.active).append(this.cssClasses.itemPressed,!!this.pressed).append(this.innerCss).toString()},a.prototype.getActionRootCss=function(){return(new w.CssClassBuilder).append("sv-action").append(this.css).append("sv-action--space",this.needSpace).append("sv-action--hidden",!this.isVisible).toString()},a.prototype.getTooltip=function(){return this.tooltip||this.title},a.prototype.getIsTrusted=function(i){return i.originalEvent?i.originalEvent.isTrusted:i.isTrusted},D([Object(j.property)()],a.prototype,"tooltip",void 0),D([Object(j.property)()],a.prototype,"showTitle",void 0),D([Object(j.property)()],a.prototype,"innerCss",void 0),D([Object(j.property)()],a.prototype,"active",void 0),D([Object(j.property)()],a.prototype,"pressed",void 0),D([Object(j.property)()],a.prototype,"data",void 0),D([Object(j.property)()],a.prototype,"popupModel",void 0),D([Object(j.property)()],a.prototype,"needSeparator",void 0),D([Object(j.property)()],a.prototype,"template",void 0),D([Object(j.property)({defaultValue:"large"})],a.prototype,"mode",void 0),D([Object(j.property)()],a.prototype,"visibleIndex",void 0),D([Object(j.property)()],a.prototype,"disableTabStop",void 0),D([Object(j.property)()],a.prototype,"disableShrink",void 0),D([Object(j.property)()],a.prototype,"disableHide",void 0),D([Object(j.property)({defaultValue:!1})],a.prototype,"needSpace",void 0),D([Object(j.property)()],a.prototype,"ariaChecked",void 0),D([Object(j.property)()],a.prototype,"ariaExpanded",void 0),D([Object(j.property)({defaultValue:"button"})],a.prototype,"ariaRole",void 0),D([Object(j.property)()],a.prototype,"iconName",void 0),D([Object(j.property)()],a.prototype,"iconSize",void 0),D([Object(j.property)()],a.prototype,"css",void 0),a}(L.Base),g=function(l){function a(i){var o=l.call(this)||this;if(o.innerItem=i,o.locTitleChanged=function(){o.setPropertyValue("_title",o.locTitle.renderedHtml||void 0)},o.locTitle=i?i.locTitle:null,i)for(var p in i)o[p]=i[p];return o.locTitleName&&o.locTitleChanged(),o.registerFunctionOnPropertyValueChanged("_title",function(){o.raiseUpdate(!0)}),o.locStrChangedInPopupModel(),o}return h(a,l),a.prototype.raiseUpdate=function(i){void 0===i&&(i=!1),this.updateCallback&&this.updateCallback(i)},a.prototype.createLocTitle=function(){return this.createLocalizableString("title",this,!0)},a.prototype.getLocTitle=function(){return this.locTitleValue},a.prototype.setLocTitle=function(i){!i&&!this.locTitleValue&&(i=this.createLocTitle()),this.locTitleValue&&this.locTitleValue.onStringChanged.remove(this.locTitleChanged),this.locTitleValue=i,this.locTitleValue.onStringChanged.add(this.locTitleChanged),this.locTitleChanged()},a.prototype.getTitle=function(){return this._title},a.prototype.setTitle=function(i){this._title=i},Object.defineProperty(a.prototype,"locTitleName",{get:function(){return this.locTitle.localizationName},set:function(i){this.locTitle.localizationName=i},enumerable:!1,configurable:!0}),a.prototype.locStrsChanged=function(){l.prototype.locStrsChanged.call(this),this.locTooltipChanged(),this.locStrChangedInPopupModel()},a.prototype.locStrChangedInPopupModel=function(){if(this.popupModel&&this.popupModel.contentComponentData&&this.popupModel.contentComponentData.model){var i=this.popupModel.contentComponentData.model;Array.isArray(i.actions)&&i.actions.forEach(function(p){p.locStrsChanged&&p.locStrsChanged()})}},a.prototype.locTooltipChanged=function(){!this.locTooltipName||(this.tooltip=K.surveyLocalization.getString(this.locTooltipName,this.locTitle.locale))},a.prototype.getLocale=function(){return this.owner?this.owner.getLocale():""},a.prototype.getMarkdownHtml=function(i,o){return this.owner?this.owner.getMarkdownHtml(i,o):void 0},a.prototype.getProcessedText=function(i){return this.owner?this.owner.getProcessedText(i):i},a.prototype.getRenderer=function(i){return this.owner?this.owner.getRenderer(i):null},a.prototype.getRendererContext=function(i){return this.owner?this.owner.getRendererContext(i):i},a.prototype.setVisible=function(i){this._visible=i},a.prototype.getVisible=function(){return this._visible},a.prototype.setEnabled=function(i){this._enabled=i},a.prototype.getEnabled=function(){return this._enabled},a.prototype.setComponent=function(i){this._component=i},a.prototype.getComponent=function(){return this._component},D([Object(j.property)()],a.prototype,"id",void 0),D([Object(j.property)({defaultValue:!0,onSet:function(i,o){o.raiseUpdate()}})],a.prototype,"_visible",void 0),D([Object(j.property)({onSet:function(i,o){o.locTooltipChanged()}})],a.prototype,"locTooltipName",void 0),D([Object(j.property)()],a.prototype,"_enabled",void 0),D([Object(j.property)()],a.prototype,"action",void 0),D([Object(j.property)()],a.prototype,"_component",void 0),D([Object(j.property)()],a.prototype,"items",void 0),D([Object(j.property)({onSet:function(i,o){o.locTitleValue.text!==i&&(o.locTitleValue.text=i)}})],a.prototype,"_title",void 0),a}(E),u=function(){function l(a){this.item=a,this.funcKey="sv-dropdown-action",this.setupPopupCallbacks()}return l.prototype.setupPopupCallbacks=function(){var a=this,i=this.popupModel=this.item.popupModel;!i||i.registerPropertyChangedHandlers(["isVisible"],function(){a.item.pressed=!!i.isVisible},this.funcKey)},l.prototype.removePopupCallbacks=function(){this.popupModel&&this.popupModel.unregisterPropertyChangedHandlers(["isVisible"],this.funcKey)},l.prototype.dispose=function(){this.removePopupCallbacks()},l}()},"./src/actions/adaptive-container.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"AdaptiveActionContainer",function(){return w});var M,L=m("./src/utils/responsivity-manager.ts"),K=m("./src/actions/action.ts"),j=m("./src/actions/container.ts"),F=m("./src/surveyStrings.ts"),S=(M=function(h,D){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(P[v]=y[v])})(h,D)},function(h,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function P(){this.constructor=h}M(h,D),h.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}),w=function(M){function h(){var D=M.call(this)||this;return D.minVisibleItemsCount=0,D.isResponsivenessDisabled=!1,D.dotsItem=Object(K.createDropdownActionModelAdvanced)({id:"dotsItem-id"+h.ContainerID++,css:"sv-dots",innerCss:"sv-dots__item",iconName:"icon-more",visible:!1,tooltip:F.surveyLocalization.getString("more")},{items:[],onSelectionChanged:function(P){D.hiddenItemSelected(P)},allowSelection:!1}),D}return S(h,M),h.prototype.hideItemsGreaterN=function(D){var P=this.visibleActions.filter(function(v){return!v.disableHide});D=Math.max(D,this.minVisibleItemsCount-(this.visibleActions.length-P.length));var y=[];P.forEach(function(v){D<=0&&(v.mode="popup",y.push(v.innerItem)),D--}),this.hiddenItemsListModel.setItems(y)},h.prototype.getVisibleItemsCount=function(D){this.visibleActions.filter(function(E){return E.disableHide}).forEach(function(E){return D-=E.minDimension});for(var P=this.visibleActions.filter(function(E){return!E.disableHide}).map(function(E){return E.minDimension}),y=0,v=0;v<P.length;v++)if((y+=P[v])>D)return v;return v},h.prototype.updateItemMode=function(D,P){for(var y=this.visibleActions,v=y.length-1;v>=0;v--)P>D&&!y[v].disableShrink?(P-=y[v].maxDimension-y[v].minDimension,y[v].mode="small"):y[v].mode="large";if(P>D){var E=this.visibleActions.filter(function(g){return g.removePriority});for(E.sort(function(g,u){return g.removePriority-u.removePriority}),v=0;v<E.length;v++)P>D&&(P-=y[v].disableShrink?E[v].maxDimension:E[v].minDimension,E[v].mode="removed")}},Object.defineProperty(h.prototype,"hiddenItemsListModel",{get:function(){return this.dotsItem.data},enumerable:!1,configurable:!0}),h.prototype.hiddenItemSelected=function(D){D&&"function"==typeof D.action&&D.action()},h.prototype.onSet=function(){var D=this;this.actions.forEach(function(P){return P.updateCallback=function(y){return D.raiseUpdate(y)}}),M.prototype.onSet.call(this)},h.prototype.onPush=function(D){var P=this;D.updateCallback=function(y){return P.raiseUpdate(y)},M.prototype.onPush.call(this,D)},h.prototype.getRenderedActions=function(){return 1===this.actions.length&&this.actions[0].iconName?this.actions:this.actions.concat([this.dotsItem])},h.prototype.raiseUpdate=function(D){this.isResponsivenessDisabled||M.prototype.raiseUpdate.call(this,D)},h.prototype.fit=function(D,P){if(!(D<=0)){this.dotsItem.visible=!1;var y=0,v=0;this.visibleActions.forEach(function(g){y+=g.minDimension,v+=g.maxDimension}),D>=v?this.setActionsMode("large"):D<y?(this.setActionsMode("small"),this.hideItemsGreaterN(this.getVisibleItemsCount(D-P)),this.dotsItem.visible=!0):this.updateItemMode(D,v)}},h.prototype.initResponsivityManager=function(D){this.responsivityManager=new L.ResponsivityManager(D,this,":scope > .sv-action:not(.sv-dots) > .sv-action__content")},h.prototype.resetResponsivityManager=function(){this.responsivityManager&&(this.responsivityManager.dispose(),this.responsivityManager=void 0)},h.prototype.setActionsMode=function(D){this.actions.forEach(function(P){return P.mode=D})},h.prototype.dispose=function(){M.prototype.dispose.call(this),this.resetResponsivityManager()},h.ContainerID=1,h}(j.ActionContainer)},"./src/actions/container.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"defaultActionBarCss",function(){return h}),m.d(V,"ActionContainer",function(){return D});var P,L=m("./src/jsonobject.ts"),K=m("./src/base.ts"),j=m("./src/actions/action.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/utils/utils.ts"),w=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),M=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},h={root:"sv-action-bar",defaultSizeMode:"sv-action-bar--default-size-mode",smallSizeMode:"sv-action-bar--small-size-mode",item:"sv-action-bar-item",itemActive:"sv-action-bar-item--active",itemPressed:"sv-action-bar-item--pressed",itemIcon:"sv-action-bar-item__icon",itemTitle:"sv-action-bar-item__title",itemTitleWithIcon:"sv-action-bar-item__title--with-icon"},D=function(P){function y(){var v=null!==P&&P.apply(this,arguments)||this;return v.sizeMode="default",v}return w(y,P),y.prototype.getMarkdownHtml=function(v,E){return this.locOwner?this.locOwner.getMarkdownHtml(v,E):void 0},y.prototype.getRenderer=function(v){return this.locOwner?this.locOwner.getRenderer(v):null},y.prototype.getRendererContext=function(v){return this.locOwner?this.locOwner.getRendererContext(v):v},y.prototype.getProcessedText=function(v){return this.locOwner?this.locOwner.getProcessedText(v):v},y.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},y.prototype.getRenderedActions=function(){return this.actions},y.prototype.locStrsChanged=function(){P.prototype.locStrsChanged.call(this),this.actions.forEach(function(v){v.locTitle&&v.locTitle.strChanged(),v.locStrsChanged()})},y.prototype.raiseUpdate=function(v){this.isEmpty=!this.actions.some(function(E){return E.visible}),this.updateCallback&&this.updateCallback(v)},y.prototype.onSet=function(){var v=this;this.actions.forEach(function(E){v.setActionCssClasses(E)}),this.raiseUpdate(!0)},y.prototype.onPush=function(v){this.setActionCssClasses(v),v.owner=this,this.raiseUpdate(!0)},y.prototype.onRemove=function(v){v.owner=null,this.raiseUpdate(!0)},y.prototype.setActionCssClasses=function(v){v.cssClasses=this.cssClasses},Object.defineProperty(y.prototype,"hasActions",{get:function(){return(this.actions||[]).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedActions",{get:function(){return this.getRenderedActions()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visibleActions",{get:function(){return this.actions.filter(function(v){return!1!==v.visible})},enumerable:!1,configurable:!0}),y.prototype.getRootCss=function(){var v="small"===this.sizeMode?this.cssClasses.smallSizeMode:this.cssClasses.defaultSizeMode;return(new F.CssClassBuilder).append(this.cssClasses.root+(v?" "+v:"")+(this.containerCss?" "+this.containerCss:"")).append(this.cssClasses.root+"--empty",this.isEmpty).toString()},y.prototype.getDefaultCssClasses=function(){return h},Object.defineProperty(y.prototype,"cssClasses",{get:function(){return this.cssClassesValue||(this.cssClassesValue=this.getDefaultCssClasses()),this.cssClassesValue},set:function(v){var E=this;this.cssClassesValue={},this.copyCssClasses(this.cssClassesValue,this.getDefaultCssClasses()),Object(S.mergeValues)(v,this.cssClasses),this.actions.forEach(function(g){E.setActionCssClasses(g)})},enumerable:!1,configurable:!0}),y.prototype.createAction=function(v){return v instanceof j.BaseAction?v:new j.Action(v)},y.prototype.addAction=function(v,E){void 0===E&&(E=!0);var g=this.createAction(v);return this.actions.push(g),this.sortItems(),g},y.prototype.sortItems=function(){this.actions=[].concat(this.actions.filter(function(v){return void 0===v.visibleIndex||v.visibleIndex>=0})).sort(function(v,E){return v.visibleIndex-E.visibleIndex})},y.prototype.setItems=function(v,E){var g=this;void 0===E&&(E=!0),this.actions=v.map(function(u){return g.createAction(u)}),E&&this.sortItems()},y.prototype.initResponsivityManager=function(v){},y.prototype.resetResponsivityManager=function(){},y.prototype.getActionById=function(v){for(var E=0;E<this.actions.length;E++)if(this.actions[E].id===v)return this.actions[E];return null},y.prototype.dispose=function(){P.prototype.dispose.call(this),this.actions.forEach(function(v){return v.dispose()}),this.actions.length=0},M([Object(L.propertyArray)({onSet:function(v,E){E.onSet()},onPush:function(v,E,g){g.onPush(v)},onRemove:function(v,E,g){g.onRemove(v)}})],y.prototype,"actions",void 0),M([Object(L.property)({})],y.prototype,"containerCss",void 0),M([Object(L.property)({defaultValue:!1})],y.prototype,"isEmpty",void 0),y}(K.Base)},"./src/base.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Bindings",function(){return D}),m.d(V,"Dependencies",function(){return P}),m.d(V,"ComputedUpdater",function(){return y}),m.d(V,"Base",function(){return v}),m.d(V,"ArrayChanges",function(){return E}),m.d(V,"Event",function(){return g}),m.d(V,"EventBase",function(){return u});var l,L=m("./src/localizablestring.ts"),K=m("./src/helpers.ts"),j=m("./src/jsonobject.ts"),F=m("./src/settings.ts"),S=m("./src/conditions.ts"),w=m("./src/surveyStrings.ts"),M=(l=function(a,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,p){o.__proto__=p}||function(o,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(o[A]=p[A])})(a,i)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=a}l(a,i),a.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),h=function(l,a){for(var i=0,o=a.length,p=l.length;i<o;i++,p++)l[p]=a[i];return l},D=function(){function l(a){this.obj=a,this.properties=null,this.values=null}return l.prototype.getType=function(){return"bindings"},l.prototype.getNames=function(){var a=[];this.fillProperties();for(var i=0;i<this.properties.length;i++)this.properties[i].isVisible("",this.obj)&&a.push(this.properties[i].name);return a},l.prototype.getProperties=function(){var a=[];this.fillProperties();for(var i=0;i<this.properties.length;i++)a.push(this.properties[i]);return a},l.prototype.setBinding=function(a,i){this.values||(this.values={});var o=this.getJson();o!==i&&(i?this.values[a]=i:(delete this.values[a],0==Object.keys(this.values).length&&(this.values=null)),this.onChangedJSON(o))},l.prototype.clearBinding=function(a){this.setBinding(a,"")},l.prototype.isEmpty=function(){if(!this.values)return!0;for(var a in this.values)return!1;return!0},l.prototype.getValueNameByPropertyName=function(a){if(this.values)return this.values[a]},l.prototype.getPropertiesByValueName=function(a){if(!this.values)return[];var i=[];for(var o in this.values)this.values[o]==a&&i.push(o);return i},l.prototype.getJson=function(){if(!this.isEmpty()){var a={};for(var i in this.values)a[i]=this.values[i];return a}},l.prototype.setJson=function(a){var i=this.getJson();if(this.values=null,a)for(var o in this.values={},a)this.values[o]=a[o];this.onChangedJSON(i)},l.prototype.fillProperties=function(){if(null===this.properties){this.properties=[];for(var a=j.Serializer.getPropertiesByObj(this.obj),i=0;i<a.length;i++)a[i].isBindable&&this.properties.push(a[i])}},l.prototype.onChangedJSON=function(a){this.obj&&this.obj.onBindingChanged(a,this.getJson())},l}(),P=function(){function l(a,i,o){this.currentDependency=a,this.target=i,this.property=o,this.dependencies=[],this.id=""+ ++l.DependenciesCount}return l.prototype.addDependency=function(a,i){this.target===a&&this.property===i||this.dependencies.some(function(o){return o.obj===a&&o.prop===i})||(this.dependencies.push({obj:a,prop:i,id:this.id}),a.registerPropertyChangedHandlers([i],this.currentDependency,this.id))},l.prototype.dispose=function(){this.dependencies.forEach(function(a){a.obj.unregisterPropertyChangedHandlers([a.prop],a.id)})},l.DependenciesCount=0,l}(),y=function(){function l(a){this._updater=a,this.dependencies=void 0,this.type=l.ComputedUpdaterType}return Object.defineProperty(l.prototype,"updater",{get:function(){return this._updater},enumerable:!1,configurable:!0}),l.prototype.setDependencies=function(a){this.clearDependencies(),this.dependencies=a},l.prototype.getDependencies=function(){return this.dependencies},l.prototype.clearDependencies=function(){this.dependencies&&(this.dependencies.dispose(),this.dependencies=void 0)},l.prototype.dispose=function(){this.clearDependencies()},l.ComputedUpdaterType="__dependency_computed",l}(),v=function(){function l(){this.propertyHash=l.createPropertiesHash(),this.eventList=[],this.isLoadingFromJsonValue=!1,this.loadingOwner=null,this.onPropertyChanged=this.addEvent(),this.onItemValuePropertyChanged=this.addEvent(),this.isCreating=!0,this.bindingsValue=new D(this),j.CustomPropertiesCollection.createProperties(this),this.onBaseCreating(),this.isCreating=!1}return l.finishCollectDependencies=function(){var a=l.currentDependencis;return l.currentDependencis=void 0,a},l.startCollectDependencies=function(a,i,o){if(void 0!==l.currentDependencis)throw new Error("Attempt to collect nested dependencies. Nested dependencies are not supported.");l.currentDependencis=new P(a,i,o)},l.collectDependency=function(a,i){void 0!==l.currentDependencis&&l.currentDependencis.addDependency(a,i)},Object.defineProperty(l,"commentSuffix",{get:function(){return F.settings.commentSuffix},set:function(a){F.settings.commentSuffix=a},enumerable:!1,configurable:!0}),Object.defineProperty(l,"commentPrefix",{get:function(){return l.commentSuffix},set:function(a){l.commentSuffix=a},enumerable:!1,configurable:!0}),l.prototype.isValueEmpty=function(a,i){return void 0===i&&(i=!0),i&&(a=this.trimValue(a)),K.Helpers.isValueEmpty(a)},l.prototype.trimValue=function(a){return a&&("string"==typeof a||a instanceof String)?a.trim():a},l.prototype.isPropertyEmpty=function(a){return""!==a&&this.isValueEmpty(a)},l.createPropertiesHash=function(){return{}},l.prototype.dispose=function(){for(var a=0;a<this.eventList.length;a++)this.eventList[a].clear();this.onPropertyValueChangedCallback=void 0,this.isDisposedValue=!0},Object.defineProperty(l.prototype,"isDisposed",{get:function(){return!0===this.isDisposedValue},enumerable:!1,configurable:!0}),l.prototype.addEvent=function(){var a=new u;return this.eventList.push(a),a},l.prototype.onBaseCreating=function(){},l.prototype.getType=function(){return"base"},l.prototype.isDescendantOf=function(a){return j.Serializer.isDescendantOf(this.getType(),a)},l.prototype.getSurvey=function(a){return void 0===a&&(a=!1),null},Object.defineProperty(l.prototype,"isDesignMode",{get:function(){var a=this.getSurvey();return!!a&&a.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"inSurvey",{get:function(){return!!this.getSurvey(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"bindings",{get:function(){return this.bindingsValue},enumerable:!1,configurable:!0}),l.prototype.checkBindings=function(a,i){},l.prototype.updateBindings=function(a,i){var o=this.bindings.getValueNameByPropertyName(a);o&&this.updateBindingValue(o,i)},l.prototype.updateBindingValue=function(a,i){},l.prototype.getTemplate=function(){return this.getType()},Object.defineProperty(l.prototype,"isLoadingFromJson",{get:function(){return this.isLoadingFromJsonValue||this.getIsLoadingFromJson()},enumerable:!1,configurable:!0}),l.prototype.getIsLoadingFromJson=function(){return!(!this.loadingOwner||!this.loadingOwner.isLoadingFromJson)||this.isLoadingFromJsonValue},l.prototype.startLoadingFromJson=function(a){this.isLoadingFromJsonValue=!0,this.jsonObj=a},l.prototype.endLoadingFromJson=function(){this.isLoadingFromJsonValue=!1},l.prototype.toJSON=function(){return(new j.JsonObject).toJsonObject(this)},l.prototype.fromJSON=function(a){(new j.JsonObject).toObject(a,this),this.onSurveyLoad()},l.prototype.onSurveyLoad=function(){},l.prototype.clone=function(){var a=j.Serializer.createClass(this.getType());return a.fromJSON(this.toJSON()),a},l.prototype.getPropertyByName=function(a){var i=this.getType();return(!this.classMetaData||this.classMetaData.name!==i)&&(this.classMetaData=j.Serializer.findClass(i)),this.classMetaData?this.classMetaData.findProperty(a):null},l.prototype.isPropertyVisible=function(a){var i=this.getPropertyByName(a);return!!i&&i.isVisible("",this)},l.createProgressInfo=function(){return{questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0}},l.prototype.getProgressInfo=function(){return l.createProgressInfo()},l.prototype.localeChanged=function(){},l.prototype.locStrsChanged=function(){if(this.arraysInfo)for(var a in this.arraysInfo)if((i=this.arraysInfo[a])&&i.isItemValues){var o=this.getPropertyValue(a);o&&l.itemValueLocStrChanged&&l.itemValueLocStrChanged(o)}if(this.localizableStrings)for(var a in this.localizableStrings){var i;(i=this.getLocalizableString(a))&&i.strChanged()}},l.prototype.getPropertyValue=function(a,i){void 0===i&&(i=null);var o=this.getPropertyValueWithoutDefault(a);if(this.isPropertyEmpty(o)){var p=this.localizableStrings?this.localizableStrings[a]:void 0;if(p)return p.text;if(null!=i)return i;var A=this.getDefaultValueFromProperty(a);if(void 0!==A)return A}return o},l.prototype.getDefaultValueFromProperty=function(a){var i=this.getPropertyByName(a);if(!(!i||i.isCustom&&this.isCreating)){var o=i.defaultValue;if(!this.isPropertyEmpty(o)&&!Array.isArray(o))return o;if("boolean"==i.type||"switch"==i.type)return!1;if(i.isCustom&&i.onGetValue)return i.onGetValue(this)}},l.prototype.getPropertyValueWithoutDefault=function(a){return this.getPropertyValueCore(this.propertyHash,a)},l.prototype.getPropertyValueCore=function(a,i){return this.isLoadingFromJson||l.collectDependency(this,i),this.getPropertyValueCoreHandler?this.getPropertyValueCoreHandler(a,i):a[i]},l.prototype.geValueFromHash=function(){return this.propertyHash.value},l.prototype.setPropertyValueCore=function(a,i,o){this.setPropertyValueCoreHandler?this.isDisposedValue?console.warn("Attempt to set property '"+i+"' of a disposed object '"+this.getType()+"'"):this.setPropertyValueCoreHandler(a,i,o):a[i]=o},Object.defineProperty(l.prototype,"isEditingSurveyElement",{get:function(){var a=this.getSurvey();return!!a&&a.isEditingSurveyElement},enumerable:!1,configurable:!0}),l.prototype.iteratePropertiesHash=function(a){var i=this,o=[];for(var p in this.propertyHash)"value"===p&&this.isEditingSurveyElement&&Array.isArray(this.value)||o.push(p);o.forEach(function(A){return a(i.propertyHash,A)})},l.prototype.setPropertyValue=function(a,i){if(!this.isLoadingFromJson){var o=this.getPropertyByName(a);o&&(i=o.settingValue(this,i))}var p=this.getPropertyValue(a);if(p&&Array.isArray(p)&&this.arraysInfo&&(!i||Array.isArray(i))){if(this.isTwoValueEquals(p,i))return;this.setArrayPropertyDirectly(a,i)}else this.setPropertyValueDirectly(a,i),!this.isDisposedValue&&!this.isTwoValueEquals(p,i)&&this.propertyValueChanged(a,p,i)},l.prototype.setArrayPropertyDirectly=function(a,i,o){void 0===o&&(o=!0);var p=this.arraysInfo[a];this.setArray(a,this.getPropertyValue(a),i,!!p&&p.isItemValues,p?o&&p.onPush:null)},l.prototype.setPropertyValueDirectly=function(a,i){this.setPropertyValueCore(this.propertyHash,a,i)},l.prototype.clearPropertyValue=function(a){this.setPropertyValueCore(this.propertyHash,a,null),delete this.propertyHash[a]},l.prototype.onPropertyValueChangedCallback=function(a,i,o,p,A){},l.prototype.itemValuePropertyChanged=function(a,i,o,p){this.onItemValuePropertyChanged.fire(this,{obj:a,name:i,oldValue:o,newValue:p,propertyName:a.ownerPropertyName})},l.prototype.onPropertyValueChanged=function(a,i,o){},l.prototype.propertyValueChanged=function(a,i,o,p,A){if(!this.isLoadingFromJson&&(this.updateBindings(a,o),this.onPropertyValueChanged(a,i,o),this.onPropertyChanged.fire(this,{name:a,oldValue:i,newValue:o}),this.doPropertyValueChangedCallback(a,i,o,p,this),this.checkConditionPropertyChanged(a),this.onPropChangeFunctions))for(var B=0;B<this.onPropChangeFunctions.length;B++)this.onPropChangeFunctions[B].name==a&&this.onPropChangeFunctions[B].func(o)},l.prototype.onBindingChanged=function(a,i){this.isLoadingFromJson||this.doPropertyValueChangedCallback("bindings",a,i)},Object.defineProperty(l.prototype,"isInternal",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.doPropertyValueChangedCallback=function(a,i,o,p,A){if(!this.isInternal){A||(A=this);var B=this.getSurvey();B||(B=this),B.onPropertyValueChangedCallback&&B.onPropertyValueChangedCallback(a,i,o,A,p),B!==this&&this.onPropertyValueChangedCallback&&this.onPropertyValueChangedCallback(a,i,o,A,p)}},l.prototype.addExpressionProperty=function(a,i,o){this.expressionInfo||(this.expressionInfo={}),this.expressionInfo[a]={onExecute:i,canRun:o}},l.prototype.getDataFilteredValues=function(){return{}},l.prototype.getDataFilteredProperties=function(){return{}},l.prototype.runConditionCore=function(a,i){if(this.expressionInfo)for(var o in this.expressionInfo)this.runConditionItemCore(o,a,i)},l.prototype.canRunConditions=function(){return!this.isDesignMode},l.prototype.checkConditionPropertyChanged=function(a){!this.expressionInfo||!this.expressionInfo[a]||!this.canRunConditions()||this.runConditionItemCore(a,this.getDataFilteredValues(),this.getDataFilteredProperties())},l.prototype.runConditionItemCore=function(a,i,o){var p=this,A=this.expressionInfo[a],B=this.getPropertyValue(a);!B||A.canRun&&!A.canRun(this)||(A.runner||(A.runner=new S.ExpressionRunner(B),A.runner.onRunComplete=function(O){A.onExecute(p,O)}),A.runner.expression=B,A.runner.run(i,o))},l.prototype.registerPropertyChangedHandlers=function(a,i,o){void 0===o&&(o=null);for(var p=0;p<a.length;p++)this.registerFunctionOnPropertyValueChanged(a[p],i,o)},l.prototype.unregisterPropertyChangedHandlers=function(a,i){void 0===i&&(i=null);for(var o=0;o<a.length;o++)this.unRegisterFunctionOnPropertyValueChanged(a[o],i)},l.prototype.registerFunctionOnPropertyValueChanged=function(a,i,o){if(void 0===o&&(o=null),this.onPropChangeFunctions||(this.onPropChangeFunctions=[]),o)for(var p=0;p<this.onPropChangeFunctions.length;p++){var A=this.onPropChangeFunctions[p];if(A.name==a&&A.key==o)return void(A.func=i)}this.onPropChangeFunctions.push({name:a,func:i,key:o})},l.prototype.registerFunctionOnPropertiesValueChanged=function(a,i,o){void 0===o&&(o=null),this.registerPropertyChangedHandlers(a,i,o)},l.prototype.unRegisterFunctionOnPropertyValueChanged=function(a,i){if(void 0===i&&(i=null),this.onPropChangeFunctions)for(var o=0;o<this.onPropChangeFunctions.length;o++){var p=this.onPropChangeFunctions[o];if(p.name==a&&p.key==i)return void this.onPropChangeFunctions.splice(o,1)}},l.prototype.unRegisterFunctionOnPropertiesValueChanged=function(a,i){void 0===i&&(i=null),this.unregisterPropertyChangedHandlers(a,i)},l.prototype.createCustomLocalizableObj=function(a){this.getLocalizableString(a)||this.createLocalizableString(a,this,!1,!0)},l.prototype.getLocale=function(){var a=this.getSurvey();return a?a.getLocale():""},l.prototype.getLocalizationString=function(a){return w.surveyLocalization.getString(a,this.getLocale())},l.prototype.getLocalizationFormatString=function(a){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var p=this.getLocalizationString(a);return p&&p.format?p.format.apply(p,i):""},l.prototype.createLocalizableString=function(a,i,o,p){var A=this;void 0===o&&(o=!1),void 0===p&&(p=!1);var B=new L.LocalizableString(i,o,a);p&&(B.localizationName=!0===p?a:p),B.onStrChanged=function(f,b){A.propertyValueChanged(a,f,b)},this.localizableStrings||(this.localizableStrings={}),this.localizableStrings[a]=B;var O=this.getPropertyByName(a);return B.disableLocalization=O&&!1===O.isLocalizable,B},l.prototype.getLocalizableString=function(a){return this.localizableStrings?this.localizableStrings[a]:null},l.prototype.getLocalizableStringText=function(a,i){void 0===i&&(i=""),l.collectDependency(this,a);var o=this.getLocalizableString(a);return o?o.text||i:""},l.prototype.setLocalizableStringText=function(a,i){var o=this.getLocalizableString(a);o&&o.text!=i&&(o.text=i)},l.prototype.addUsedLocales=function(a){if(this.localizableStrings)for(var i in this.localizableStrings)(o=this.getLocalizableString(i))&&this.AddLocStringToUsedLocales(o,a);if(this.arraysInfo)for(var i in this.arraysInfo){var p=this.getPropertyValue(i);if(p&&p.length)for(var A=0;A<p.length;A++){var o;(o=p[A])&&o.addUsedLocales&&o.addUsedLocales(a)}}},l.prototype.searchText=function(a,i){var o=[];this.getSearchableLocalizedStrings(o);for(var p=0;p<o.length;p++)o[p].setFindText(a)&&i.push({element:this,str:o[p]})},l.prototype.getSearchableLocalizedStrings=function(a){if(this.localizableStrings){var i=[];this.getSearchableLocKeys(i);for(var o=0;o<i.length;o++){var p=this.getLocalizableString(i[o]);p&&a.push(p)}}if(this.arraysInfo){var A=[];for(this.getSearchableItemValueKeys(A),o=0;o<A.length;o++){var B=this.getPropertyValue(A[o]);if(B)for(var O=0;O<B.length;O++)a.push(B[O].locText)}}},l.prototype.getSearchableLocKeys=function(a){},l.prototype.getSearchableItemValueKeys=function(a){},l.prototype.AddLocStringToUsedLocales=function(a,i){for(var o=a.getLocales(),p=0;p<o.length;p++)i.indexOf(o[p])<0&&i.push(o[p])},l.prototype.createItemValues=function(a){var i=this,o=this.createNewArray(a,function(p){if(p.locOwner=i,p.ownerPropertyName=a,"function"==typeof p.getSurvey){var A=p.getSurvey();A&&"function"==typeof A.makeReactive&&A.makeReactive(p)}});return this.arraysInfo[a].isItemValues=!0,o},l.prototype.notifyArrayChanged=function(a,i){a.onArrayChanged&&a.onArrayChanged(i)},l.prototype.createNewArrayCore=function(a){var i=null;return this.createArrayCoreHandler&&(i=this.createArrayCoreHandler(this.propertyHash,a)),i||(i=new Array,this.setPropertyValueCore(this.propertyHash,a,i)),i},l.prototype.ensureArray=function(a,i,o){if(void 0===i&&(i=null),void 0===o&&(o=null),!this.arraysInfo||!this.arraysInfo[a])return this.createNewArray(a,i,o)},l.prototype.createNewArray=function(a,i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=this.createNewArrayCore(a);this.arraysInfo||(this.arraysInfo={}),this.arraysInfo[a]={onPush:i,isItemValues:!1};var A=this;return p.push=function(B){var O=Object.getPrototypeOf(p).push.call(p,B);if(!A.isDisposedValue){i&&i(B,p.length-1);var f=new E(p.length-1,0,[B],[]);A.propertyValueChanged(a,p,p,f),A.notifyArrayChanged(p,f)}return O},p.shift=function(){var B=Object.getPrototypeOf(p).shift.call(p);if(!A.isDisposedValue&&B){o&&o(B);var O=new E(p.length-1,1,[],[]);A.propertyValueChanged(a,p,p,O),A.notifyArrayChanged(p,O)}return B},p.unshift=function(B){var O=Object.getPrototypeOf(p).unshift.call(p,B);if(!A.isDisposedValue){i&&i(B,p.length-1);var f=new E(0,0,[B],[]);A.propertyValueChanged(a,p,p,f),A.notifyArrayChanged(p,f)}return O},p.pop=function(){var B=Object.getPrototypeOf(p).pop.call(p);if(!A.isDisposedValue){o&&o(B);var O=new E(p.length-1,1,[],[]);A.propertyValueChanged(a,p,p,O),A.notifyArrayChanged(p,O)}return B},p.splice=function(B,O){for(var f,b=[],C=2;C<arguments.length;C++)b[C-2]=arguments[C];B||(B=0),O||(O=0);var c=(f=Object.getPrototypeOf(p).splice).call.apply(f,h([p,B,O],b));if(b||(b=[]),!A.isDisposedValue){if(o&&c)for(var T=0;T<c.length;T++)o(c[T]);if(i)for(T=0;T<b.length;T++)i(b[T],B+T);var I=new E(B,O,b,c);A.propertyValueChanged(a,p,p,I),A.notifyArrayChanged(p,I)}return c},p},l.prototype.getItemValueType=function(){},l.prototype.setArray=function(a,i,o,p,A){var B=[].concat(i);if(Object.getPrototypeOf(i).splice.call(i,0,i.length),o)for(var O=0;O<o.length;O++){var f=o[O];p&&l.createItemValue&&(f=l.createItemValue(f,this.getItemValueType())),Object.getPrototypeOf(i).push.call(i,f),A&&A(i[O])}var b=new E(0,B.length,i,B);this.propertyValueChanged(a,B,i,b),this.notifyArrayChanged(i,b)},l.prototype.isTwoValueEquals=function(a,i,o,p){return void 0===o&&(o=!1),void 0===p&&(p=!1),K.Helpers.isTwoValueEquals(a,i,!1,!o,p)},l.copyObject=function(a,i){for(var o in i){var p=i[o];"object"==typeof p&&this.copyObject(p={},i[o]),a[o]=p}},l.prototype.copyCssClasses=function(a,i){!i||("string"==typeof i||i instanceof String?a.root=i:l.copyObject(a,i))},l.prototype.getValueInLowCase=function(a){return a&&"string"==typeof a?a.toLowerCase():a},l.prototype.getElementsInDesign=function(a){return void 0===a&&(a=!1),[]},l.currentDependencis=void 0,l}(),E=function l(a,i,o,p){this.index=a,this.deleteCount=i,this.itemsToAdd=o,this.deletedItems=p},g=function(){function l(){}return Object.defineProperty(l.prototype,"isEmpty",{get:function(){return 0===this.length},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"length",{get:function(){return this.callbacks?this.callbacks.length:0},enumerable:!1,configurable:!0}),l.prototype.fireByCreatingOptions=function(a,i){if(this.callbacks)for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](a,i()),!this.callbacks)return},l.prototype.fire=function(a,i){if(this.callbacks)for(var o=0;o<this.callbacks.length;o++)if(this.callbacks[o](a,i),!this.callbacks)return},l.prototype.clear=function(){this.callbacks=void 0},l.prototype.add=function(a){this.hasFunc(a)||(this.callbacks||(this.callbacks=new Array),this.callbacks.push(a),this.fireCallbackChanged())},l.prototype.remove=function(a){if(this.hasFunc(a)){var i=this.callbacks.indexOf(a,0);this.callbacks.splice(i,1),this.fireCallbackChanged()}},l.prototype.hasFunc=function(a){return null!=this.callbacks&&this.callbacks.indexOf(a,0)>-1},l.prototype.fireCallbackChanged=function(){this.onCallbacksChanged&&this.onCallbacksChanged()},l}(),u=function(l){function a(){return null!==l&&l.apply(this,arguments)||this}return M(a,l),a}(g)},"./src/calculatedValue.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"CalculatedValue",function(){return w});var M,L=m("./src/helpers.ts"),K=m("./src/base.ts"),j=m("./src/conditions.ts"),F=m("./src/jsonobject.ts"),S=(M=function(h,D){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(P[v]=y[v])})(h,D)},function(h,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function P(){this.constructor=h}M(h,D),h.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}),w=function(M){function h(D,P){void 0===D&&(D=null),void 0===P&&(P=null);var y=M.call(this)||this;return y.expressionIsRunning=!1,y.isCalculated=!1,D&&(y.name=D),P&&(y.expression=P),y}return S(h,M),h.prototype.setOwner=function(D){this.data=D,this.rerunExpression()},h.prototype.getType=function(){return"calculatedvalue"},h.prototype.getSurvey=function(D){return void 0===D&&(D=!1),this.data&&this.data.getSurvey?this.data.getSurvey():null},Object.defineProperty(h.prototype,"owner",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"name",{get:function(){return this.getPropertyValue("name")||""},set:function(D){this.setPropertyValue("name",D)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"includeIntoResult",{get:function(){return this.getPropertyValue("includeIntoResult")},set:function(D){this.setPropertyValue("includeIntoResult",D)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"expression",{get:function(){return this.getPropertyValue("expression")||""},set:function(D){this.setPropertyValue("expression",D),this.rerunExpression()},enumerable:!1,configurable:!0}),h.prototype.locCalculation=function(){this.expressionIsRunning=!0},h.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},h.prototype.resetCalculation=function(){this.isCalculated=!1},h.prototype.doCalculation=function(D,P,y){this.isCalculated||(this.runExpressionCore(D,P,y),this.isCalculated=!0)},h.prototype.runExpression=function(D,P){this.runExpressionCore(null,D,P)},Object.defineProperty(h.prototype,"value",{get:function(){if(this.data)return this.data.getVariable(this.name)},enumerable:!1,configurable:!0}),h.prototype.setValue=function(D){!this.data||this.data.setVariable(this.name,D)},Object.defineProperty(h.prototype,"canRunExpression",{get:function(){return!(!this.data||this.isLoadingFromJson||!this.expression||this.expressionIsRunning||!this.name)},enumerable:!1,configurable:!0}),h.prototype.rerunExpression=function(){!this.canRunExpression||this.runExpression(this.data.getFilteredValues(),this.data.getFilteredProperties())},h.prototype.runExpressionCore=function(D,P,y){!this.canRunExpression||(this.ensureExpression(P),this.locCalculation(),D&&this.runDependentExpressions(D,P,y),this.expressionRunner.run(P,y))},h.prototype.runDependentExpressions=function(D,P,y){var v=this.expressionRunner.getVariables();if(v)for(var E=0;E<D.length;E++){var g=D[E];g===this||v.indexOf(g.name)<0||(g.doCalculation(D,P,y),P[g.name]=g.value)}},h.prototype.ensureExpression=function(D){var P=this;this.expressionRunner||(this.expressionRunner=new j.ExpressionRunner(this.expression),this.expressionRunner.onRunComplete=function(y){L.Helpers.isTwoValueEquals(y,P.value,!1,!0)||P.setValue(y),P.unlocCalculation()})},h}(K.Base);F.Serializer.addClass("calculatedvalue",[{name:"!name",isUnique:!0},"expression:expression","includeIntoResult:boolean"],function(){return new w},"base")},"./src/choicesRestful.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ChoicesRestful",function(){return h}),m.d(V,"ChoicesRestfull",function(){return D});var P,L=m("./src/base.ts"),K=m("./src/itemvalue.ts"),j=m("./src/jsonobject.ts"),F=m("./src/error.ts"),S=m("./src/settings.ts"),w=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),M=function(){function P(){this.parser=new DOMParser}return P.prototype.assignValue=function(y,v,E){Array.isArray(y[v])?y[v].push(E):y[v]=void 0!==y[v]?[y[v]].concat(E):"object"==typeof E&&1===Object.keys(E).length&&Object.keys(E)[0]===v?E[v]:E},P.prototype.xml2Json=function(y,v){if(y.children&&y.children.length>0)for(var E=0;E<y.children.length;E++){var g=y.children[E],u={};this.xml2Json(g,u),this.assignValue(v,g.nodeName,u)}else this.assignValue(v,y.nodeName,y.textContent)},P.prototype.parseXmlString=function(y){var v=this.parser.parseFromString(y,"text/xml"),E={};return this.xml2Json(v,E),E},P}(),h=function(P){function y(){var v=P.call(this)||this;return v.lastObjHash="",v.isRunningValue=!1,v.processedUrl="",v.processedPath="",v.isUsingCacheFromUrl=void 0,v.error=null,v.createItemValue=function(E){return new K.ItemValue(E)},v}return w(y,P),Object.defineProperty(y,"EncodeParameters",{get:function(){return S.settings.web.encodeUrlParams},set:function(v){S.settings.web.encodeUrlParams=v},enumerable:!1,configurable:!0}),y.clearCache=function(){y.itemsResult={},y.sendingSameRequests={}},y.addSameRequest=function(v){if(!v.isUsingCache)return!1;var g=y.sendingSameRequests[v.objHash];return g?(g.push(v),v.isRunningValue=!0,!0):(y.sendingSameRequests[v.objHash]=[],!1)},y.unregisterSameRequests=function(v,E){if(v.isUsingCache){var g=y.sendingSameRequests[v.objHash];if(delete y.sendingSameRequests[v.objHash],g)for(var u=0;u<g.length;u++)g[u].isRunningValue=!1,g[u].getResultCallback&&g[u].getResultCallback(E)}},y.getCachedItemsResult=function(v){var g=y.itemsResult[v.objHash];return!!g&&(v.getResultCallback&&v.getResultCallback(g),!0)},y.prototype.getSurvey=function(v){return void 0===v&&(v=!1),this.owner?this.owner.survey:null},y.prototype.run=function(v){if(void 0===v&&(v=null),this.url&&this.getResultCallback){if(this.processedText(v),!this.processedUrl)return this.doEmptyResultCallback({}),void(this.lastObjHash=this.objHash);this.lastObjHash!==this.objHash&&(this.lastObjHash=this.objHash,this.error=null,!this.useChangedItemsResults()&&(y.addSameRequest(this)||this.sendRequest()))}},Object.defineProperty(y.prototype,"isUsingCache",{get:function(){return!0===this.isUsingCacheFromUrl||!1!==this.isUsingCacheFromUrl&&S.settings.web.cacheLoadedChoices},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isRunning",{get:function(){return this.getIsRunning()},enumerable:!1,configurable:!0}),y.prototype.getIsRunning=function(){return this.isRunningValue},Object.defineProperty(y.prototype,"isWaitingForParameters",{get:function(){return this.url&&!this.processedUrl},enumerable:!1,configurable:!0}),y.prototype.useChangedItemsResults=function(){return y.getCachedItemsResult(this)},y.prototype.doEmptyResultCallback=function(v){var E=[];this.updateResultCallback&&(E=this.updateResultCallback(E,v)),this.getResultCallback(E)},y.prototype.processedText=function(v){var E=this.url;if(E&&(E=E.replace(y.cacheText,"").replace(y.noCacheText,"")),v){var g=v.processTextEx(E,!1,S.settings.web.encodeUrlParams),u=v.processTextEx(this.path,!1,S.settings.web.encodeUrlParams);g.hasAllValuesOnLastRun&&u.hasAllValuesOnLastRun?(this.processedUrl=g.text,this.processedPath=u.text):(this.processedUrl="",this.processedPath="")}else this.processedUrl=E,this.processedPath=this.path;this.onProcessedUrlCallback&&this.onProcessedUrlCallback(this.processedUrl,this.processedPath)},y.prototype.parseResponse=function(v){var E;if(v&&"function"==typeof v.indexOf&&0===v.indexOf("<"))E=(new M).parseXmlString(v);else try{E=JSON.parse(v)}catch(u){E=(v||"").split("\n").map(function(l){return l.trim(" ")}).filter(function(l){return!!l})}return E},y.prototype.sendRequest=function(){var v=new XMLHttpRequest;v.open("GET",this.processedUrl),v.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var E=this,g=this.objHash;v.onload=function(){E.beforeLoadRequest(),200===v.status?E.onLoad(E.parseResponse(v.response),g):E.onError(v.statusText,v.responseText)};var u={request:v};y.onBeforeSendRequest&&y.onBeforeSendRequest(this,u),this.beforeSendRequest(),u.request.send()},y.prototype.getType=function(){return"choicesByUrl"},Object.defineProperty(y.prototype,"isEmpty",{get:function(){return!(this.url||this.path||this.valueName||this.titleName||this.imageLinkName)},enumerable:!1,configurable:!0}),y.prototype.getCustomPropertiesNames=function(){for(var v=this.getCustomProperties(),E=new Array,g=0;g<v.length;g++)E.push(this.getCustomPropertyName(v[g].name));return E},y.prototype.getCustomPropertyName=function(v){return v+"Name"},y.prototype.getCustomProperties=function(){for(var v=j.Serializer.getProperties(this.itemValueType),E=[],g=0;g<v.length;g++)"value"===v[g].name||"text"===v[g].name||"visibleIf"===v[g].name||"enableIf"===v[g].name||E.push(v[g]);return E},y.prototype.setData=function(v){this.clear(),v.url&&(this.url=v.url),v.path&&(this.path=v.path),v.valueName&&(this.valueName=v.valueName),v.titleName&&(this.titleName=v.titleName),v.imageLinkName&&(this.imageLinkName=v.imageLinkName),void 0!==v.allowEmptyResponse&&(this.allowEmptyResponse=v.allowEmptyResponse),void 0!==v.attachOriginalItems&&(this.attachOriginalItems=v.attachOriginalItems);for(var E=this.getCustomPropertiesNames(),g=0;g<E.length;g++)v[E[g]]&&(this[E[g]]=v[E[g]])},y.prototype.getData=function(){if(this.isEmpty)return null;var v={};this.url&&(v.url=this.url),this.path&&(v.path=this.path),this.valueName&&(v.valueName=this.valueName),this.titleName&&(v.titleName=this.titleName),this.imageLinkName&&(v.imageLinkName=this.imageLinkName),this.allowEmptyResponse&&(v.allowEmptyResponse=this.allowEmptyResponse),this.attachOriginalItems&&(v.attachOriginalItems=this.attachOriginalItems);for(var E=this.getCustomPropertiesNames(),g=0;g<E.length;g++)this[E[g]]&&(v[E[g]]=this[E[g]]);return v},Object.defineProperty(y.prototype,"url",{get:function(){return this.getPropertyValue("url","")},set:function(v){this.setPropertyValue("url",v),this.isUsingCacheFromUrl=void 0,v&&(v.indexOf(y.cacheText)>-1?this.isUsingCacheFromUrl=!0:v.indexOf(y.noCacheText)>-1&&(this.isUsingCacheFromUrl=!1))},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"path",{get:function(){return this.getPropertyValue("path","")},set:function(v){this.setPropertyValue("path",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(v){this.setPropertyValue("valueName",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"titleName",{get:function(){return this.getPropertyValue("titleName","")},set:function(v){this.setPropertyValue("titleName",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"imageLinkName",{get:function(){return this.getPropertyValue("imageLinkName","")},set:function(v){this.setPropertyValue("imageLinkName",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"allowEmptyResponse",{get:function(){return this.getPropertyValue("allowEmptyResponse")},set:function(v){this.setPropertyValue("allowEmptyResponse",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"attachOriginalItems",{get:function(){return this.getPropertyValue("attachOriginalItems")},set:function(v){this.setPropertyValue("attachOriginalItems",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"itemValueType",{get:function(){if(!this.owner)return"itemvalue";var v=j.Serializer.findProperty(this.owner.getType(),"choices");return v&&"itemvalue[]"!=v.type?v.type:"itemvalue"},enumerable:!1,configurable:!0}),y.prototype.clear=function(){this.url="",this.path="",this.valueName="",this.titleName="",this.imageLinkName="";for(var v=this.getCustomPropertiesNames(),E=0;E<v.length;E++)this[v[E]]&&(this[v[E]]="")},y.prototype.beforeSendRequest=function(){this.isRunningValue=!0,this.beforeSendRequestCallback&&this.beforeSendRequestCallback()},y.prototype.beforeLoadRequest=function(){this.isRunningValue=!1},y.prototype.onLoad=function(v,E){void 0===E&&(E=null),E||(E=this.objHash);var g=new Array,u=this.getResultAfterPath(v);if(u&&u.length)for(var l=0;l<u.length;l++){var a=u[l];if(a){var i=this.getItemValueCallback?this.getItemValueCallback(a):this.getValue(a),o=this.createItemValue(i);this.setTitle(o,a),this.setCustomProperties(o,a),this.attachOriginalItems&&(o.originalItem=a);var p=this.getImageLink(a);p&&(o.imageLink=p),g.push(o)}}else this.allowEmptyResponse||(this.error=new F.WebRequestEmptyError(null,this.owner));this.updateResultCallback&&(g=this.updateResultCallback(g,v)),this.isUsingCache&&(y.itemsResult[E]=g),this.callResultCallback(g,E),y.unregisterSameRequests(this,g)},y.prototype.callResultCallback=function(v,E){E==this.objHash&&this.getResultCallback(v)},y.prototype.setCustomProperties=function(v,E){for(var g=this.getCustomProperties(),u=0;u<g.length;u++){var l=g[u],a=this.getValueCore(E,this.getPropertyBinding(l.name));this.isValueEmpty(a)||(v[l.name]=a)}},y.prototype.getPropertyBinding=function(v){return this[this.getCustomPropertyName(v)]?this[this.getCustomPropertyName(v)]:this[v]?this[v]:v},y.prototype.onError=function(v,E){this.error=new F.WebRequestError(v,E,this.owner),this.doEmptyResultCallback(E),y.unregisterSameRequests(this,[])},y.prototype.getResultAfterPath=function(v){if(!v||!this.processedPath)return v;for(var E=this.getPathes(),g=0;g<E.length;g++)if(!(v=v[E[g]]))return null;return v},y.prototype.getPathes=function(){var v=[];return 0==(v=this.processedPath.indexOf(";")>-1?this.path.split(";"):this.processedPath.split(",")).length&&v.push(this.processedPath),v},y.prototype.getValue=function(v){return v?this.valueName?this.getValueCore(v,this.valueName):v instanceof Object?Object.keys(v).length<1?null:v[Object.keys(v)[0]]:v:null},y.prototype.setTitle=function(v,E){var u=this.getValueCore(E,this.titleName?this.titleName:"title");!u||("string"==typeof u?v.text=u:v.locText.setJson(u))},y.prototype.getImageLink=function(v){return this.getValueCore(v,this.imageLinkName?this.imageLinkName:"imageLink")},y.prototype.getValueCore=function(v,E){if(!v)return null;if(E.indexOf(".")<0)return v[E];for(var g=E.split("."),u=0;u<g.length;u++)if(!(v=v[g[u]]))return null;return v},Object.defineProperty(y.prototype,"objHash",{get:function(){return this.processedUrl+";"+this.processedPath+";"+this.valueName+";"+this.titleName+";"+this.imageLinkName},enumerable:!1,configurable:!0}),y.cacheText="{CACHE}",y.noCacheText="{NOCACHE}",y.itemsResult={},y.sendingSameRequests={},y}(L.Base),D=function(P){function y(){return null!==P&&P.apply(this,arguments)||this}return w(y,P),Object.defineProperty(y,"EncodeParameters",{get:function(){return h.EncodeParameters},set:function(v){h.EncodeParameters=v},enumerable:!1,configurable:!0}),y.clearCache=function(){h.clearCache()},Object.defineProperty(y,"onBeforeSendRequest",{get:function(){return h.onBeforeSendRequest},set:function(v){h.onBeforeSendRequest=v},enumerable:!1,configurable:!0}),y}(h);j.Serializer.addClass("choicesByUrl",["url","path","valueName","titleName",{name:"imageLinkName",visibleIf:function(P){return!!P&&!!P.owner&&"imagepicker"==P.owner.getType()}},{name:"allowEmptyResponse:boolean"},{name:"attachOriginalItems:boolean",visible:!1}],function(){return new h})},"./src/conditionProcessValue.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ProcessValue",function(){return j});var L=m("./src/helpers.ts"),K="@survey",j=function(){function F(){this.values=null,this.properties=null}return F.prototype.getFirstName=function(S,w){if(void 0===w&&(w=null),!S)return S;var M="";if(w&&(M=this.getFirstPropertyName(S,w)))return M;for(var h=0;h<S.length;h++){var D=S[h];if("."==D||"["==D)break;M+=D}return M},F.prototype.hasValue=function(S,w){return void 0===w&&(w=null),w||(w=this.values),this.getValueCore(S,w).hasValue},F.prototype.getValue=function(S,w){return void 0===w&&(w=null),w||(w=this.values),this.getValueCore(S,w).value},F.prototype.setValue=function(S,w,M){if(w){var h=this.getNonNestedObject(S,w,!0);!h||(w=h.text,(S=h.value)&&w&&(S[w]=M))}},F.prototype.getValueInfo=function(S){if(S.path)return S.value=this.getValueFromPath(S.path,this.values),S.hasValue=null!==S.value&&!L.Helpers.isValueEmpty(S.value),void(!S.hasValue&&S.path.length>1&&"length"==S.path[S.path.length-1]&&(S.hasValue=!0,S.value=0));var w=this.getValueCore(S.name,this.values);S.value=w.value,S.hasValue=w.hasValue,S.path=w.hasValue?w.path:null},F.prototype.getValueFromPath=function(S,w){if(2===S.length&&S[0]===K)return this.getValueFromSurvey(S[1]);for(var M=0;w&&M<S.length;){var h=S[M];if(L.Helpers.isNumber(h)&&Array.isArray(w)&&h>=w.length)return null;w=w[h],M++}return w},F.prototype.getValueCore=function(S,w){var M=this.getQuestionDirectly(S);if(M)return{hasValue:!0,value:M.value,path:[S]};var h=this.getValueFromValues(S,w);if(S&&!h.hasValue){var D=this.getValueFromSurvey(S);void 0!==D&&(h.hasValue=!0,h.value=D,h.path=[K,S])}return h},F.prototype.getQuestionDirectly=function(S){if(this.properties&&this.properties.survey)return this.properties.survey.getQuestionByValueName(S)},F.prototype.getValueFromSurvey=function(S){if(this.properties&&this.properties.survey)return this.properties.survey.getBuiltInVariableValue(S.toLocaleLowerCase())},F.prototype.getValueFromValues=function(S,w){var M={hasValue:!1,value:null,path:null},h=w;if(!h&&0!==h&&!1!==h)return M;S&&S.lastIndexOf(".length")>-1&&S.lastIndexOf(".length")===S.length-7&&(M.value=0,M.hasValue=!0);var D=this.getNonNestedObject(h,S,!1);return D&&(M.path=D.path,M.value=D.text?this.getObjectValue(D.value,D.text):D.value,M.hasValue=!L.Helpers.isValueEmpty(M.value)),M},F.prototype.getNonNestedObject=function(S,w,M){for(var h=this.getFirstPropertyName(w,S,M),D=h?[h]:null;w!=h&&S;){if("["==w[0]){var y=this.getObjInArray(S,w);if(!y)return null;S=y.value,w=y.text,D.push(y.index)}else{if(!h&&w==this.getFirstName(w))return{value:S,text:w,path:D};if(S=this.getObjectValue(S,h),L.Helpers.isValueEmpty(S)&&!M)return null;w=w.substring(h.length)}!!w&&"."==w[0]&&(w=w.substring(1)),(h=this.getFirstPropertyName(w,S,M))&&D.push(h)}return{value:S,text:w,path:D}},F.prototype.getObjInArray=function(S,w){if(!Array.isArray(S))return null;for(var M=1,h="";M<w.length&&"]"!=w[M];)h+=w[M],M++;return w=M<w.length?w.substring(M+1):"",(M=this.getIntValue(h))<0||M>=S.length?null:{value:S[M],text:w,index:M}},F.prototype.getFirstPropertyName=function(S,w,M){if(void 0===M&&(M=!1),!S||(w||(w={}),w.hasOwnProperty(S)))return S;var h=S.toLowerCase(),D=h[0],P=D.toUpperCase();for(var y in w){var v=y[0];if(v===P||v===D){var E=y.toLowerCase();if(E==h)return y;if(h.length<=E.length)continue;var g=h[E.length];if("."!=g&&"["!=g)continue;if(E==h.substring(0,E.length))return y}}if(M&&"["!==S[0]){var u=S.indexOf(".");return u>-1&&(w[S=S.substring(0,u)]={}),S}return""},F.prototype.getObjectValue=function(S,w){return w?S[w]:null},F.prototype.getIntValue=function(S){return"0"==S||(0|S)>0&&S%1==0?Number(S):-1},F}()},"./src/conditions.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ExpressionExecutor",function(){return F}),m.d(V,"ExpressionRunnerBase",function(){return S}),m.d(V,"ConditionRunner",function(){return w}),m.d(V,"ExpressionRunner",function(){return M});var h,L=m("./src/conditionProcessValue.ts"),K=m("./src/conditionsParser.ts"),j=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),F=function(){function h(D){this.processValue=new L.ProcessValue,this.parser=new K.ConditionsParser,this.isAsyncValue=!1,this.hasFunctionValue=!1,this.setExpression(D)}return Object.defineProperty(h.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),h.prototype.setExpression=function(D){this.expression!==D&&(this.expressionValue=D,this.operand=this.parser.parseExpression(D),this.hasFunctionValue=!!this.canRun()&&this.operand.hasFunction(),this.isAsyncValue=!!this.hasFunction()&&this.operand.hasAsyncFunction())},h.prototype.getVariables=function(){if(!this.operand)return[];var D=[];return this.operand.setVariables(D),D},h.prototype.hasFunction=function(){return this.hasFunctionValue},Object.defineProperty(h.prototype,"isAsync",{get:function(){return this.isAsyncValue},enumerable:!1,configurable:!0}),h.prototype.canRun=function(){return!!this.operand},h.prototype.run=function(D,P){var y=this;if(void 0===P&&(P=null),!this.operand)return null;if(this.processValue.values=D,this.processValue.properties=P,!this.isAsync)return this.runValues();this.asyncFuncList=[],this.operand.addToAsyncList(this.asyncFuncList);for(var v=0;v<this.asyncFuncList.length;v++)this.asyncFuncList[v].onAsyncReady=function(){y.doAsyncFunctionReady()};for(v=0;v<this.asyncFuncList.length;v++)this.asyncFuncList[v].evaluateAsync(this.processValue);return!1},h.prototype.doAsyncFunctionReady=function(){for(var D=0;D<this.asyncFuncList.length;D++)if(!this.asyncFuncList[D].isReady)return;this.runValues()},h.prototype.runValues=function(){var D=this.operand.evaluate(this.processValue);return this.onComplete&&this.onComplete(D),D},h.createExpressionExecutor=function(D){return new h(D)},h}(),S=function(){function h(D){this.expression=D}return Object.defineProperty(h.prototype,"expression",{get:function(){return this.expressionExecutor?this.expressionExecutor.expression:""},set:function(D){var P=this;this.expressionExecutor&&D===this.expression||(this.expressionExecutor=F.createExpressionExecutor(D),this.expressionExecutor.onComplete=function(y){P.doOnComplete(y)})},enumerable:!1,configurable:!0}),h.prototype.getVariables=function(){return this.expressionExecutor.getVariables()},h.prototype.hasFunction=function(){return this.expressionExecutor.hasFunction()},Object.defineProperty(h.prototype,"isAsync",{get:function(){return this.expressionExecutor.isAsync},enumerable:!1,configurable:!0}),h.prototype.canRun=function(){return this.expressionExecutor.canRun()},h.prototype.runCore=function(D,P){return void 0===P&&(P=null),this.expressionExecutor.run(D,P)},h.prototype.doOnComplete=function(D){},h}(),w=function(h){function D(){return null!==h&&h.apply(this,arguments)||this}return j(D,h),D.prototype.run=function(P,y){return void 0===y&&(y=null),1==this.runCore(P,y)},D.prototype.doOnComplete=function(P){this.onRunComplete&&this.onRunComplete(1==P)},D}(S),M=function(h){function D(){return null!==h&&h.apply(this,arguments)||this}return j(D,h),D.prototype.run=function(P,y){return void 0===y&&(y=null),this.runCore(P,y)},D.prototype.doOnComplete=function(P){this.onRunComplete&&this.onRunComplete(P)},D}(S)},"./src/conditionsParser.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ConditionsParserError",function(){return K}),m.d(V,"ConditionsParser",function(){return j});var L=m("./src/expressions/expressionParser.ts"),K=function F(S,w){this.at=S,this.code=w},j=function(){function F(){}return F.prototype.patchExpression=function(S){return S.replace(/=>/g,">=").replace(/=</g,"<=").replace(/<>/g,"!=").replace(/equals/g,"equal ").replace(/notequals/g,"notequal ")},F.prototype.createCondition=function(S){return this.parseExpression(S)},F.prototype.parseExpression=function(S){try{var w=F.parserCache[S];return void 0===w&&((w=Object(L.parse)(this.patchExpression(S))).hasAsyncFunction()||(F.parserCache[S]=w)),w}catch(M){M instanceof L.SyntaxError&&(this.conditionError=new K(M.location.start.offset,M.message))}},Object.defineProperty(F.prototype,"error",{get:function(){return this.conditionError},enumerable:!1,configurable:!0}),F.parserCache={},F}()},"./src/defaultCss/cssmodern.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"modernCss",function(){return K});var L=m("./src/defaultCss/defaultV2Css.ts"),K={root:"sv-root-modern",timerRoot:"sv-body__timer",container:"sv-container-modern",header:"sv-title sv-container-modern__title",headerClose:"sv-container-modern__close",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv-body",bodyEmpty:"sv-body sv-body--empty",footer:"sv-footer sv-body__footer sv-clearfix",title:"",description:"",logo:"sv-logo",logoImage:"sv-logo__image",headerText:"sv-header__text",navigationButton:"sv-btn sv-btn--navigation",completedPage:"sv-completedpage",navigation:{complete:"sv-footer__complete-btn",prev:"sv-footer__prev-btn",next:"sv-footer__next-btn",start:"sv-footer__start-btn",preview:"sv-footer__preview-btn",edit:"sv-footer__edit-btn"},panel:{title:"sv-title sv-panel__title",titleExpandable:"sv-panel__title--expandable",titleExpanded:"sv-panel__title--expanded",titleCollapsed:"sv-panel__title--collapsed",titleOnError:"sv-panel__title--error",description:"sv-description sv-panel__description",container:"sv-panel sv-row__panel",content:"sv-panel__content",icon:"sv-panel__icon",iconExpanded:"sv-panel__icon--expanded",footer:"sv-panel__footer",requiredText:"sv-panel__required-text",number:"sv-question__num"},paneldynamic:{root:"sv-paneldynamic",navigation:"sv-paneldynamic__navigation",title:"sv-title sv-question__title",button:"sv-btn",buttonRemove:"sv-paneldynamic__remove-btn",buttonRemoveRight:"sv-paneldynamic__remove-btn--right",buttonAdd:"sv-paneldynamic__add-btn",progressTop:"sv-paneldynamic__progress sv-paneldynamic__progress--top",progressBottom:"sv-paneldynamic__progress sv-paneldynamic__progress--bottom",buttonPrev:"sv-paneldynamic__prev-btn",buttonNext:"sv-paneldynamic__next-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",separator:"sv-paneldynamic__separator",panelWrapper:"sv-paneldynamic__panel-wrapper",panelWrapperInRow:"sv-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbutton",footer:""},progress:"sv-progress sv-body__progress",progressBar:"sv-progress__bar",progressText:"sv-progress__text",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv-page sv-body__page",title:"sv-title sv-page__title",description:"sv-description sv-page__description"},pageTitle:"sv-title sv-page__title",pageDescription:"sv-description sv-page__description",row:"sv-row sv-clearfix",question:{mainRoot:"sv-question sv-row__question",flowRoot:"sv-question sv-row__question sv-row__question--flow",asCell:"sv-table__cell",header:"sv-question__header",headerLeft:"sv-question__header--location--left",headerTop:"sv-question__header--location--top",headerBottom:"sv-question__header--location--bottom",content:"sv-question__content",contentLeft:"sv-question__content--left",titleLeftRoot:"",answered:"sv-question--answered",titleOnAnswer:"sv-question__title--answer",titleOnError:"sv-question__title--error",title:"sv-title sv-question__title",titleExpandable:"sv-question__title--expandable",titleExpanded:"sv-question__title--expanded",titleCollapsed:"sv-question__title--collapsed",icon:"sv-question__icon",iconExpanded:"sv-question__icon--expanded",requiredText:"sv-question__required-text",number:"sv-question__num",description:"sv-description sv-question__description",descriptionUnderInput:"sv-description sv-question__description",comment:"sv-comment",required:"sv-question--required",titleRequired:"sv-question__title--required",indent:20,footer:"sv-question__footer",formGroup:"sv-question__form-group",hasError:"",disabled:"sv-question--disabled"},image:{root:"sv-image",image:"sv_image_image"},error:{root:"sv-question__erbox",icon:"",item:"",locationTop:"sv-question__erbox--location--top",locationBottom:"sv-question__erbox--location--bottom"},checkbox:{root:"sv-selectbase",item:"sv-item sv-checkbox sv-selectbase__item",itemSelectAll:"sv-checkbox--selectall",itemNone:"sv-checkbox--none",itemDisabled:"sv-item--disabled sv-checkbox--disabled",itemChecked:"sv-checkbox--checked",itemHover:"sv-checkbox--allowhover",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-checkbox__svg",itemSvgIconId:"#icon-moderncheck",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-checkbox__decorator",other:"sv-comment sv-question__other",column:"sv-selectbase__column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},radiogroup:{root:"sv-selectbase",item:"sv-item sv-radio sv-selectbase__item",itemInline:"sv-selectbase__item--inline",label:"sv-selectbase__label",labelChecked:"",itemDisabled:"sv-item--disabled sv-radio--disabled",itemChecked:"sv-radio--checked",itemHover:"sv-radio--allowhover",itemControl:"sv-visuallyhidden sv-item__control",itemDecorator:"sv-item__svg sv-radio__svg",itemSvgIconId:"#icon-modernradio",controlLabel:"sv-item__control-label",materialDecorator:"sv-item__decorator sv-selectbase__decorator sv-radio__decorator",other:"sv-comment sv-question__other",clearButton:"sv-btn sv-selectbase__clear-btn",column:"sv-selectbase__column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemSelected:"sv-button-group__item--selected",itemHover:"sv-button-group__item--hover",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},boolean:{root:"sv_qbln",rootRadio:"sv_qbln",small:"sv-row__question--small",item:"sv-boolean sv-item",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-item--disabled sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qbln",checkboxItem:"sv-boolean sv-item",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyhidden",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator ",checkboxItemDecorator:"sv-item__svg  sv-boolean__svg",indeterminatePath:"sv-boolean__indeterminate-path",svgIconCheckedId:"#icon-modernbooleancheckchecked",svgIconUncheckedId:"#icon-modernbooleancheckunchecked",svgIconIndId:"#icon-modernbooleancheckind"},text:{root:"sv-text",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter",onError:"sv-text--error"},multipletext:{root:"sv-multipletext",item:"sv-multipletext__item",itemLabel:"sv-multipletext__item-label",itemTitle:"sv-multipletext__item-title",row:"sv-multipletext__row",cell:"sv-multipletext__cell"},dropdown:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",control:"sv-dropdown",selectWrapper:"",other:"sv-comment sv-question__other",onError:"sv-dropdown--error",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",filterStringInput:"sv-dropdown__filter-string-input",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",hintPrefix:"sv-dropdown__hint-prefix",hintSuffix:"sv-dropdown__hint-suffix"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv-row__question--small",selectWrapper:"sv_select_wrapper sv-tagbox_wrapper",other:"sv-input sv-comment sv-selectbase__other",cleanButton:"sv-tagbox_clean-button sv-dropdown_clean-button",cleanButtonSvg:"sv-tagbox_clean-button-svg sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv-tagbox__item_clean-button",cleanItemButtonSvg:"sv-tagbox__item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv-input sv-tagbox sv-dropdown",controlValue:"sv-tagbox__value sv-dropdown__value",controlEmpty:"sv-dropdown--empty sv-tagbox--empty",placeholderInput:"sv-tagbox__placeholder",filterStringInput:"sv-tagbox__filter-string-input sv-dropdown__filter-string-input"},imagepicker:{root:"sv-selectbase sv-imagepicker",column:"sv-selectbase__column",item:"sv-imagepicker__item",itemInline:"sv-imagepicker__item--inline",itemChecked:"sv-imagepicker__item--checked",itemDisabled:"sv-imagepicker__item--disabled",itemHover:"sv-imagepicker__item--allowhover",label:"sv-imagepicker__label",itemControl:"sv-imagepicker__control sv-visuallyhidden",image:"sv-imagepicker__image",itemText:"sv-imagepicker__text",clearButton:"sv-btn",other:"sv-comment sv-question__other"},matrix:{tableWrapper:"sv-matrix",root:"sv-table sv-matrix-root",rowError:"sv-matrix__row--error",cell:"sv-table__cell sv-matrix__cell",headerCell:"sv-table__cell sv-table__cell--header",label:"sv-item sv-radio sv-matrix__label",itemValue:"sv-visuallyhidden sv-item__control sv-radio__control",itemChecked:"sv-radio--checked",itemDisabled:"sv-item--disabled sv-radio--disabled",itemHover:"sv-radio--allowhover",materialDecorator:"sv-item__decorator sv-radio__decorator",itemDecorator:"sv-item__svg sv-radio__svg",cellText:"sv-matrix__text",cellTextSelected:"sv-matrix__text--checked",cellTextDisabled:"sv-matrix__text--disabled",cellResponsiveTitle:"sv-hidden",itemSvgIconId:"#icon-modernradio"},matrixdropdown:{root:"sv-table sv-matrixdropdown",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",row:"sv-table__row",rowAdditional:"sv-table__row--additional",detailRow:"sv-table__row--detail",detailRowText:"sv-table__cell--detail-rowtext",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions"},matrixdynamic:{root:"sv-table sv-matrixdynamic",cell:"sv-table__cell",headerCell:"sv-table__cell sv-table__cell--header",button:"sv-btn",buttonAdd:"sv-matrixdynamic__add-btn",buttonRemove:"sv-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",row:"sv-table__row",detailRow:"sv-table__row--detail",detailCell:"sv-table__cell--detail",choiceCell:"sv-table__cell--choice",detailButton:"sv-table__cell--detail-button",detailButtonExpanded:"sv-table__cell--detail-button--expanded",detailIcon:"sv-detail-panel__icon",detailIconExpanded:"sv-detail-panel__icon--expanded",detailPanelCell:"sv-table__cell--detail-panel",actionsCell:"sv-table__cell sv-table__cell--actions",emptyRowsSection:"sv-table__empty--rows--section",emptyRowsText:"sv-table__empty--rows--text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},rating:{root:"sv-rating",item:"sv-rating__item",selected:"sv-rating__item--selected",minText:"sv-rating__min-text",itemText:"sv-rating__item-text",maxText:"sv-rating__max-text",itemDisabled:"sv-rating--disabled",filterStringInput:"sv-dropdown__filter-string-input",control:"sv-dropdown",cleanButton:"sv-dropdown_clean-button",cleanButtonSvg:"sv-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv-dropdown__value",controlInputFieldComponent:"sv_dropdown_control__input-field-component",itemSmiley:"sv-rating__item-smiley",itemStar:"sv-rating__item-star",itemSmileySelected:"sv-rating__item-smiley--selected",itemStarSelected:"sv-rating__item-star--selected"},comment:{root:"sv-comment",small:"sv-row__question--small",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv-file",other:"sv-comment sv-question__other",placeholderInput:"sv-visuallyhidden",preview:"sv-file__preview",fileSignBottom:"sv-file__sign",fileDecorator:"sv-file__decorator",fileInput:"sv-visuallyhidden",noFileChosen:"sv-description sv-file__no-file-chosen",chooseFile:"sv-btn sv-file__choose-btn",controlDisabled:"sv-file__choose-btn--disabled",removeButton:"sv-hidden",removeButtonBottom:"sv-btn sv-file__clean-btn",removeFile:"sv-hidden",removeFileSvg:"sv-file__remove-svg",removeFileSvgIconId:"icon-removefile",wrapper:"sv-file__wrapper",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv-signaturepad sjs_sp_container",small:"sv-row__question--small",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-modern-mark"}};L.surveyCss.modern=K},"./src/defaultCss/cssstandard.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"defaultStandardCss",function(){return K});var L=m("./src/defaultCss/defaultV2Css.ts"),K={root:"sv_main sv_default_css",container:"sv_container",header:"sv_header",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sv_body",bodyEmpty:"sv_body sv_body_empty",footer:"sv_nav",title:"",description:"",logo:"sv_logo",logoImage:"sv_logo__image",headerText:"sv_header__text",navigationButton:"sv_nav_btn",completedPage:"sv_completed_page",navigation:{complete:"sv_complete_btn",prev:"sv_prev_btn",next:"sv_next_btn",start:"sv_start_btn",preview:"sv_preview_btn",edit:"sv_edit_btn"},progress:"sv_progress",progressBar:"sv_progress_bar",progressTextInBar:"sv-hidden",progressButtonsContainerCenter:"sv_progress-buttons__container-center",progressButtonsContainer:"sv_progress-buttons__container",progressButtonsImageButtonLeft:"sv_progress-buttons__image-button-left",progressButtonsImageButtonRight:"sv_progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sv_progress-buttons__image-button--hidden",progressButtonsListContainer:"sv_progress-buttons__list-container",progressButtonsList:"sv_progress-buttons__list",progressButtonsListElementPassed:"sv_progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sv_progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sv_progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sv_progress-buttons__page-title",progressButtonsPageDescription:"sv_progress-buttons__page-description",page:{root:"sv_p_root",title:"sv_page_title",description:""},pageTitle:"sv_page_title",pageDescription:"",row:"sv_row",question:{mainRoot:"sv_q sv_qstn",flowRoot:"sv_q_flow sv_qstn",header:"",headerLeft:"title-left",content:"",contentLeft:"content-left",titleLeftRoot:"sv_qstn_left",requiredText:"sv_q_required_text",title:"sv_q_title",titleExpandable:"sv_q_title_expandable",titleExpanded:"sv_q_title_expanded",titleCollapsed:"sv_q_title_collapsed",number:"sv_q_num",description:"sv_q_description",comment:"",required:"",titleRequired:"",hasError:"",indent:20,footer:"sv_q_footer",formGroup:"form-group",asCell:"sv_matrix_cell",icon:"sv_question_icon",iconExpanded:"sv_expanded",disabled:"sv_q--disabled"},panel:{title:"sv_p_title",titleExpandable:"sv_p_title_expandable",titleExpanded:"sv_p_title_expanded",titleCollapsed:"sv_p_title_collapsed",titleOnError:"",icon:"sv_panel_icon",iconExpanded:"sv_expanded",description:"sv_p_description",container:"sv_p_container",footer:"sv_p_footer",number:"sv_q_num",requiredText:"sv_q_required_text"},error:{root:"sv_q_erbox",icon:"",item:"",locationTop:"sv_qstn_error_top",locationBottom:"sv_qstn_error_bottom"},boolean:{root:"sv_qcbc sv_qbln",rootRadio:"sv_qcbc sv_qbln",item:"sv-boolean",control:"sv-visuallyhidden",itemChecked:"sv-boolean--checked checked",itemIndeterminate:"sv-boolean--indeterminate",itemDisabled:"sv-boolean--disabled",switch:"sv-boolean__switch",slider:"sv-boolean__slider",label:"sv-boolean__label ",disabledLabel:"sv-boolean__label--disabled",sliderGhost:"sv-boolean__thumb-ghost",rootCheckbox:"sv_qcbc sv_qbln",checkboxItem:"sv-boolean",checkboxItemChecked:"sv-boolean--checked",controlCheckbox:"sv-visuallyvisible",checkboxControlLabel:"sv-boolean__label",checkboxItemIndeterminate:"sv-boolean--indeterminate",checkboxItemDisabled:"sv-item--disabled sv-boolean--disabled",checkboxMaterialDecorator:"sv-item__decorator sv-boolean__decorator",checkboxItemDecorator:"sv-item__svg sv-boolean__svg"},checkbox:{root:"sv_qcbc sv_qcbx",item:"sv_q_checkbox",itemSelectAll:"sv_q_checkbox_selectall",itemNone:"sv_q_checkbox_none",itemChecked:"checked",itemInline:"sv_q_checkbox_inline",label:"sv_q_checkbox_label",labelChecked:"",itemControl:"sv_q_checkbox_control_item",itemDecorator:"sv-hidden",controlLabel:"sv_q_checkbox_control_label",other:"sv_q_other sv_q_checkbox_other",column:"sv_q_select_column"},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sv-ranking--disabled",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content",itemIndex:"sv-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking-item--drag",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},comment:{remainingCharacterCounter:"sv-remaining-character-counter"},dropdown:{root:"",popup:"sv-dropdown-popup",control:"sv_q_dropdown_control",controlInputFieldComponent:"sv_q_dropdown_control__input-field-component",selectWrapper:"sv_select_wrapper",other:"sv_q_dd_other",cleanButton:"sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",controlValue:"sv_q_dropdown__value",filterStringInput:"sv_q_dropdown__filter-string-input",hintPrefix:"sv_q_dropdown__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix"},html:{root:""},image:{root:"sv_q_image",image:"sv_image_image",noImage:"sv-image__no-image",noImageSvgIconId:"icon-no-image"},matrix:{root:"sv_q_matrix",label:"sv_q_m_label",itemChecked:"checked",itemDecorator:"sv-hidden",cell:"sv_q_m_cell",cellText:"sv_q_m_cell_text",cellTextSelected:"sv_q_m_cell_selected",cellLabel:"sv_q_m_cell_label",cellResponsiveTitle:"sv-hidden"},matrixdropdown:{root:"sv_q_matrix_dropdown",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",rowAdditional:"sv-matrix__row--additional",detailRow:"sv_matrix_detail_row",detailRowText:"sv_matrix_cell_detail_rowtext",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions"},matrixdynamic:{root:"sv_q_matrix_dynamic",button:"sv_matrix_dynamic_button",buttonAdd:"",buttonRemove:"",iconAdd:"",iconRemove:"",iconDrag:"sv-matrixdynamic__drag-icon",cell:"sv_matrix_cell",headerCell:"sv_matrix_cell_header",row:"sv_matrix_row",detailRow:"sv_matrix_detail_row",detailCell:"sv_matrix_cell_detail",choiceCell:"sv-table__cell--choice",detailButton:"sv_matrix_cell_detail_button",detailButtonExpanded:"sv_matrix_cell_detail_button_expanded",detailIcon:"sv_detail_panel_icon",detailIconExpanded:"sv_detail_expanded",detailPanelCell:"sv_matrix_cell_detail_panel",actionsCell:"sv_matrix_cell sv_matrix_cell_actions",emptyRowsSection:"sv_matrix_empty_rows_section",emptyRowsText:"sv_matrix_empty_rows_text",emptyRowsButton:"",ghostRow:"sv-matrix-row--drag-drop-ghost-mod"},paneldynamic:{root:"sv_panel_dynamic",title:"sv_p_title",header:"sv-paneldynamic__header sv_header",headerTab:"sv-paneldynamic__header-tab",button:"",buttonAdd:"sv-paneldynamic__add-btn",buttonRemove:"sv_p_remove_btn",buttonRemoveRight:"sv_p_remove_btn_right",buttonPrev:"sv-paneldynamic__prev-btn",buttonPrevDisabled:"sv-paneldynamic__prev-btn--disabled",buttonNextDisabled:"sv-paneldynamic__next-btn--disabled",buttonNext:"sv-paneldynamic__next-btn",progressContainer:"sv-paneldynamic__progress-container",progress:"sv-progress",progressBar:"sv-progress__bar",progressText:"sv-paneldynamic__progress-text",panelWrapper:"sv_p_wrapper",panelWrapperInRow:"sv_p_wrapper_in_row",footer:"",progressBtnIcon:"icon-progressbutton"},multipletext:{root:"sv_q_mt",itemTitle:"sv_q_mt_title",item:"sv_q_mt_item",row:"sv_q_mt_row",itemLabel:"sv_q_mt_label",itemValue:"sv_q_mt_item_value sv_q_text_root"},radiogroup:{root:"sv_qcbc",item:"sv_q_radiogroup",itemChecked:"checked",itemInline:"sv_q_radiogroup_inline",itemDecorator:"sv-hidden",label:"sv_q_radiogroup_label",labelChecked:"",itemControl:"sv_q_radiogroup_control_item",controlLabel:"",other:"sv_q_other sv_q_radiogroup_other",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},imagepicker:{root:"sv_imgsel",item:"sv_q_imgsel",itemChecked:"checked",label:"sv_q_imgsel_label",itemControl:"sv_q_imgsel_control_item",image:"sv_q_imgsel_image",itemInline:"sv_q_imagepicker_inline",itemText:"sv_q_imgsel_text",clearButton:"sv_q_radiogroup_clear",column:"sv_q_select_column",itemNoImage:"sv_q_imgsel__no-image",itemNoImageSvgIcon:"sv_q_imgsel__no-image-svg",itemNoImageSvgIconId:"icon-no-image"},rating:{root:"sv_q_rating",item:"sv_q_rating_item",itemFixedSize:"sv_q_rating_item_fixed",selected:"active",minText:"sv_q_rating_min_text",itemText:"sv_q_rating_item_text",maxText:"sv_q_rating_max_text",itemStar:"sv_q_rating__item-star",itemStarSelected:"sv_q_rating__item-star--selected",itemSmiley:"sv_q_rating__item-smiley",itemSmileySelected:"sv_q_rating__item-smiley--selected"},text:{root:"sv_q_text_root",remainingCharacterCounter:"sv-remaining-character-counter"},expression:"",file:{root:"sv_q_file",placeholderInput:"sv-visuallyhidden",preview:"sv_q_file_preview",removeButton:"sv_q_file_remove_button",fileInput:"sv-visuallyhidden",removeFile:"sv_q_file_remove",fileDecorator:"sv-file__decorator",fileSign:"sv_q_file_sign",chooseFile:"sv_q_file_choose_button",noFileChosen:"sv_q_file_placeholder",dragAreaPlaceholder:"sv-hidden",fileList:""},signaturepad:{root:"sv_q_signaturepad sjs_sp_container",controls:"sjs_sp_controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"",buttonExpanded:"",buttonCollapsed:""}},variables:{themeMark:"--sv-default-mark"},tagbox:{root:"",popup:"sv-dropdown-popup",small:"sv_q_row__question--small",selectWrapper:"sv_select_wrapper sv_q_tagbox_wrapper",other:"sv_q_input sv_q_comment sv_q_selectbase__other",cleanButton:"sv_q_tagbox_clean-button sv_q_dropdown_clean-button",cleanButtonSvg:"sv_q_tagbox_clean-button-svg sv_q_dropdown_clean-button-svg",cleanButtonIconId:"icon-clear_16x16",cleanItemButton:"sv_q_tagbox-item_clean-button",cleanItemButtonSvg:"sv_q_tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",control:"sv_q_input sv_q_tagbox sv_q_dropdown_control",controlValue:"sv_q_tagbox__value sv_q_dropdown__value",controlEmpty:"sv_q_dropdown--empty sv_q_tagbox--empty",placeholderInput:"sv_q_tagbox__placeholder",filterStringInput:"sv_q_tagbox__filter-string-input sv_q_dropdown__filter-string-input",hint:"sv_q_tagbox__hint",hintPrefix:"sv_q_dropdown__hint-prefix sv_q_tagbox__hint-prefix",hintSuffix:"sv_q_dropdown__hint-suffix sv_q_tagbox__hint-suffix",hintSuffixWrapper:"sv_q_tagbox__hint-suffix-wrapper"}};L.surveyCss.default=K,L.surveyCss.orange=K,L.surveyCss.darkblue=K,L.surveyCss.darkrose=K,L.surveyCss.stone=K,L.surveyCss.winter=K,L.surveyCss.winterstone=K},"./src/defaultCss/defaultV2Css.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"surveyCss",function(){return L}),m.d(V,"defaultV2Css",function(){return K}),m.d(V,"defaultV2ThemeName",function(){return j});var L={currentType:"",getCss:function(){var F=this.currentType?this[this.currentType]:K;return F||(F=K),F},getAvailableThemes:function(){return Object.keys(this).filter(function(F){return-1===["currentType","getCss","getAvailableThemes"].indexOf(F)})}},K={root:"sd-root-modern",rootMobile:"sd-root-modern--mobile",rootReadOnly:"sd-root--readonly",rootBackgroundImage:"sd-root_background-image",container:"sd-container-modern",header:"sd-title sd-container-modern__title",bodyContainer:"sv-components-row",body:"sv-components-column sv-components-column--expandable sd-body",bodyWithTimer:"sd-body--with-timer",clockTimerRoot:"sd-timer",clockTimerRootTop:"sd-timer--top",clockTimerRootBottom:"sd-timer--bottom",clockTimerProgress:"sd-timer__progress",clockTimerProgressAnimation:"sd-timer__progress--animation",clockTimerTextContainer:"sd-timer__text-container",clockTimerMinorText:"sd-timer__text--minor",clockTimerMajorText:"sd-timer__text--major",bodyEmpty:"sd-body sd-body--empty",footer:"sd-footer sd-body__navigation sd-clearfix",title:"sd-title",description:"sd-description",logo:"sd-logo",logoImage:"sd-logo__image",headerText:"sd-header__text",headerClose:"sd-hidden",navigationButton:"",bodyNavigationButton:"sd-btn",completedPage:"sd-completedpage",timerRoot:"sd-body__timer",navigation:{complete:"sd-btn--action sd-navigation__complete-btn",prev:"sd-navigation__prev-btn",next:"sd-navigation__next-btn",start:"sd-navigation__start-btn",preview:"sd-navigation__preview-btn",edit:""},panel:{asPage:"sd-panel--as-page",number:"sd-element__num",title:"sd-title sd-element__title sd-panel__title",titleExpandable:"sd-element__title--expandable",titleNumInline:"sd-element__title--num-inline",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleOnExpand:"sd-panel__title--expanded",titleOnError:"sd-panel__title--error",titleBar:"sd-action-title-bar",description:"sd-description sd-panel__description",container:"sd-element sd-element--complex sd-panel sd-row__panel",withFrame:"sd-element--with-frame",content:"sd-panel__content",icon:"sd-panel__icon",iconExpanded:"sd-panel__icon--expanded",footer:"sd-panel__footer",requiredText:"sd-panel__required-text",header:"sd-panel__header sd-element__header sd-element__header--location-top",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",navigationButton:"",compact:"sd-element--with-frame sd-element--compact"},paneldynamic:{mainRoot:"sd-element  sd-question sd-question--paneldynamic sd-element--complex sd-question--complex sd-row__question",empty:"sd-question--empty",root:"sd-paneldynamic",navigation:"sd-paneldynamic__navigation",title:"sd-title sd-element__title sd-question__title",header:"sd-paneldynamic__header sd-element__header",headerTab:"sd-paneldynamic__header-tab",button:"sd-action sd-paneldynamic__btn",buttonRemove:"sd-action--negative sd-paneldynamic__remove-btn",buttonAdd:"sd-paneldynamic__add-btn",buttonPrev:"sd-paneldynamic__prev-btn sd-action--icon sd-action",buttonPrevDisabled:"sd-action--disabled",buttonNextDisabled:"sd-action--disabled",buttonNext:"sd-paneldynamic__next-btn sd-action--icon sd-action",progressContainer:"sd-paneldynamic__progress-container",progress:"sd-progress",progressBar:"sd-progress__bar",progressText:"sd-paneldynamic__progress-text",separator:"sd-paneldynamic__separator",panelWrapper:"sd-paneldynamic__panel-wrapper",footer:"sd-paneldynamic__footer",panelFooter:"sd-paneldynamic__panel-footer",footerButtonsContainer:"sd-paneldynamic__buttons-container",panelWrapperInRow:"sd-paneldynamic__panel-wrapper--in-row",progressBtnIcon:"icon-progressbuttonv2",noEntriesPlaceholder:"sd-paneldynamic__placeholder sd-question__placeholder",compact:"sd-element--with-frame sd-element--compact",tabsRoot:"sd-tabs-toolbar",tabsLeft:"sd-tabs-toolbar--left",tabsRight:"sd-tabs-toolbar--right",tabsCenter:"sd-tabs-toolbar--center",tabs:{item:"sd-tab-item",itemPressed:"sd-tab-item--pressed",itemAsIcon:"sd-tab-item--icon",itemIcon:"sd-tab-item__icon",itemTitle:"sd-tab-item__title"}},progress:"sd-progress sd-body__progress",progressTop:"sd-body__progress--top",progressBottom:"sd-body__progress--bottom",progressBar:"sd-progress__bar",progressText:"sd-progress__text",progressButtonsContainerCenter:"sd-progress-buttons__container-center",progressButtonsContainer:"sd-progress-buttons__container",progressButtonsImageButtonLeft:"sd-progress-buttons__image-button-left",progressButtonsImageButtonRight:"sd-progress-buttons__image-button-right",progressButtonsImageButtonHidden:"sd-progress-buttons__image-button--hidden",progressButtonsListContainer:"sd-progress-buttons__list-container",progressButtonsList:"sd-progress-buttons__list",progressButtonsListElementPassed:"sd-progress-buttons__list-element--passed",progressButtonsListElementCurrent:"sd-progress-buttons__list-element--current",progressButtonsListElementNonClickable:"sd-progress-buttons__list-element--nonclickable",progressButtonsPageTitle:"sd-progress-buttons__page-title",progressButtonsPageDescription:"sd-progress-buttons__page-description",progressTextInBar:"sd-hidden",page:{root:"sd-page sd-body__page",emptyHeaderRoot:"sd-page__empty-header",title:"sd-title sd-page__title",description:"sd-description sd-page__description"},pageTitle:"sd-title sd-page__title",pageDescription:"sd-description sd-page__description",row:"sd-row sd-clearfix",rowMultiple:"sd-row--multiple",rowCompact:"sd-row--compact",pageRow:"sd-page__row",question:{mainRoot:"sd-element sd-question sd-row__question",flowRoot:"sd-element sd-question sd-row__question sd-row__question--flow",withFrame:"sd-element--with-frame",asCell:"sd-table__cell",answered:"sd-question--answered",header:"sd-question__header sd-element__header",headerLeft:"sd-question__header--location--left",headerTop:"sd-question__header--location-top sd-element__header--location-top",headerBottom:"sd-question__header--location--bottom",content:"sd-question__content",contentLeft:"sd-question__content--left",titleNumInline:"sd-element__title--num-inline",titleLeftRoot:"sd-question--left",titleOnAnswer:"sd-question__title--answer",titleOnError:"sd-question__title--error",title:"sd-title sd-element__title sd-question__title",titleExpandable:"sd-element__title--expandable",titleExpanded:"sd-element__title--expanded",titleCollapsed:"sd-element__title--collapsed",titleDisabled:"sd-element__title--disabled",titleBar:"sd-action-title-bar",requiredText:"sd-question__required-text",number:"sd-element__num",description:"sd-description sd-question__description",descriptionUnderInput:"sd-description sd-question__description sd-question__description--under-input",comment:"sd-input sd-comment",other:"sd-input sd-comment",required:"sd-question--required",titleRequired:"sd-question__title--required",indent:20,footer:"sd-question__footer",commentArea:"sd-question__comment-area",formGroup:"sd-question__form-group",hasError:"sd-question--error",collapsed:"sd-element--collapsed",expanded:"sd-element--expanded",nested:"sd-element--nested",invisible:"sd-element--invisible",composite:"sd-element--complex",disabled:"sd-question--disabled"},image:{mainRoot:"sd-question sd-question--image",root:"sd-image",image:"sd-image__image",adaptive:"sd-image__image--adaptive",noImage:"sd-image__no-image",noImageSvgIconId:"icon-no-image",withFrame:""},html:{mainRoot:"sd-question sd-row__question sd-question--html",root:"sd-html",withFrame:""},error:{root:"sd-question__erbox",icon:"",item:"",tooltip:"sd-question__erbox--tooltip",outsideQuestion:"sd-question__erbox--outside-question",aboveQuestion:"sd-question__erbox--above-question",belowQuestion:"sd-question__erbox--below-question",locationTop:"sd-question__erbox--location--top",locationBottom:"sd-question__erbox--location--bottom"},checkbox:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-checkbox sd-selectbase__item",itemOnError:"sd-item--error",itemSelectAll:"sd-checkbox--selectall",itemNone:"sd-checkbox--none",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",itemSvgIconId:"#icon-v2check",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-checkbox__decorator",other:"sd-input sd-comment sd-selectbase__other",column:"sd-selectbase__column"},radiogroup:{root:"sd-selectbase",rootRow:"sd-selectbase--row",rootMultiColumn:"sd-selectbase--multi-column",item:"sd-item sd-radio sd-selectbase__item",itemOnError:"sd-item--error",itemInline:"sd-selectbase__item--inline",label:"sd-selectbase__label",labelChecked:"",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",controlLabel:"sd-item__control-label",materialDecorator:"sd-item__decorator sd-radio__decorator",other:"sd-input sd-comment sd-selectbase__other",clearButton:"",column:"sd-selectbase__column"},boolean:{mainRoot:"sd-element sd-question sd-row__question sd-question--boolean",root:"sv_qcbc sv_qbln sd-scrollable-container sd-boolean-root",rootRadio:"sv_qcbc sv_qbln sd-scrollable-container sd-scrollable-container--compact",item:"sd-boolean",itemOnError:"sd-boolean--error",control:"sd-boolean__control sd-visuallyhidden",itemChecked:"sd-boolean--checked",itemIndeterminate:"sd-boolean--indeterminate",itemDisabled:"sd-boolean--disabled",itemHover:"sd-boolean--allowhover",label:"sd-boolean__label",switch:"sd-boolean__switch",disabledLabel:"sd-checkbox__label--disabled",sliderText:"sd-boolean__thumb-text",slider:"sd-boolean__thumb",sliderGhost:"sd-boolean__thumb-ghost",radioItem:"sd-item",radioItemChecked:"sd-item--checked sd-radio--checked",radioLabel:"sd-selectbase__label",radioControlLabel:"sd-item__control-label",radioFieldset:"sd-selectbase",itemRadioDecorator:"sd-item__svg sd-radio__svg",materialRadioDecorator:"sd-item__decorator sd-radio__decorator",itemRadioControl:"sd-visuallyhidden sd-item__control sd-radio__control",rootCheckbox:"sd-selectbase",checkboxItem:"sd-item sd-selectbase__item sd-checkbox",checkboxLabel:"sd-selectbase__label",checkboxItemOnError:"sd-item--error",checkboxItemIndeterminate:"sd-checkbox--intermediate",checkboxItemChecked:"sd-item--checked sd-checkbox--checked",checkboxItemDecorator:"sd-item__svg sd-checkbox__svg",checkboxItemDisabled:"sd-checkbox--disabled",controlCheckbox:"sd-visuallyhidden sd-item__control sd-checkbox__control",checkboxMaterialDecorator:"sd-item__decorator sd-checkbox__decorator",checkboxControlLabel:"sd-item__control-label",svgIconCheckedId:"#icon-v2check"},text:{root:"sd-input sd-text",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-text__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},multipletext:{root:"sd-multipletext",itemLabel:"sd-multipletext__item-container sd-input",itemLabelOnError:"sd-multipletext__item-container--error",item:"sd-multipletext__item",itemTitle:"sd-multipletext__item-title",content:"sd-multipletext__content sd-question__content",row:"sd-multipletext__row",cell:"sd-multipletext__cell"},dropdown:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",item:"sd-item sd-radio sd-selectbase__item",itemDisabled:"sd-item--disabled sd-radio--disabled",itemChecked:"sd-item--checked sd-radio--checked",itemHover:"sd-item--allowhover sd-radio--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-radio__control",itemDecorator:"sd-item__svg sd-radio__svg",cleanButton:"sd-dropdown_clean-button",cleanButtonSvg:"sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-dropdown",controlInputFieldComponent:"sd-dropdown__input-field-component",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-radio__decorator",hintPrefix:"sd-dropdown__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix"},imagepicker:{mainRoot:"sd-element sd-question sd-row__question",root:"sd-selectbase sd-imagepicker",rootColumn:"sd-imagepicker--column",item:"sd-imagepicker__item",itemOnError:"sd-imagepicker__item--error",itemInline:"sd-imagepicker__item--inline",itemChecked:"sd-imagepicker__item--checked",itemDisabled:"sd-imagepicker__item--disabled",itemHover:"sd-imagepicker__item--allowhover",label:"sd-imagepicker__label",itemDecorator:"sd-imagepicker__item-decorator",imageContainer:"sd-imagepicker__image-container",itemControl:"sd-imagepicker__control sd-visuallyhidden",image:"sd-imagepicker__image",itemText:"sd-imagepicker__text",other:"sd-input sd-comment",itemNoImage:"sd-imagepicker__no-image",itemNoImageSvgIcon:"sd-imagepicker__no-image-svg",itemNoImageSvgIconId:"icon-no-image",column:"sd-selectbase__column sd-imagepicker__column",checkedItemDecorator:"sd-imagepicker__check-decorator",checkedItemSvgIcon:"sd-imagepicker__check-icon",checkedItemSvgIconId:"icon-v2check_24x24"},matrix:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",tableWrapper:"sd-matrix sd-table-wrapper",root:"sd-table sd-matrix__table",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",rootAlternateRows:"sd-table--alternate-rows",rowError:"sd-matrix__row--error",cell:"sd-table__cell sd-matrix__cell",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-matrix__cell sd-table__cell--row-text",label:"sd-item sd-radio sd-matrix__label",itemOnError:"sd-item--error",itemValue:"sd-visuallyhidden sd-item__control sd-radio__control",itemChecked:"sd-item--checked sd-radio--checked",itemDisabled:"sd-item--disabled sd-radio--disabled",itemHover:"sd-radio--allowhover",materialDecorator:"sd-item__decorator sd-radio__decorator",itemDecorator:"sd-item__svg sd-radio__svg",cellText:"sd-matrix__text",cellTextSelected:"sd-matrix__text--checked",cellTextDisabled:"sd-matrix__text--disabled",cellResponsiveTitle:"sd-matrix__responsive-title",compact:"sd-element--with-frame sd-element--compact"},matrixdropdown:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",root:"sd-table sd-matrixdropdown",rootVerticalAlignTop:"sd-table--align-top",rootVerticalAlignMiddle:"sd-table--align-middle",tableWrapper:"sd-table-wrapper",rootAlternateRows:"sd-table--alternate-rows",cell:"sd-table__cell",itemCell:"sd-table__cell--item",row:"sd-table__row",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",actionsCell:"sd-table__cell sd-table__cell--actions",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},matrixdynamic:{mainRoot:"sd-element sd-question sd-row__question sd-element--complex sd-question--complex sd-question--table",rootScroll:"sd-question--scroll",empty:"sd-question--empty",root:"sd-table sd-matrixdynamic",tableWrapper:"sd-table-wrapper",content:"sd-matrixdynamic__content sd-question__content",cell:"sd-table__cell",row:"sd-table__row",itemCell:"sd-table__cell--item",headerCell:"sd-table__cell sd-table__cell--header",rowTextCell:"sd-table__cell sd-table__cell--row-text",cellRequiredText:"sd-question__required-text",button:"sd-action sd-matrixdynamic__btn",detailRow:"sd-table__row sd-table__row--detail",detailButton:"sd-table__cell--detail-button",detailButtonExpanded:"sd-table__cell--detail-button--expanded",detailIcon:"sd-detail-panel__icon",detailIconExpanded:"sd-detail-panel__icon--expanded",detailIconId:"icon-expanddetail",detailIconExpandedId:"icon-collapsedetail",detailPanelCell:"sd-table__cell--detail-panel",actionsCell:"sd-table__cell sd-table__cell--actions",buttonAdd:"sd-matrixdynamic__add-btn",buttonRemove:"sd-action--negative sd-matrixdynamic__remove-btn",iconAdd:"",iconRemove:"",dragElementDecorator:"sd-drag-element__svg",iconDragElement:"#icon-v2dragelement_16x16",footer:"sd-matrixdynamic__footer",emptyRowsSection:"sd-matrixdynamic__placeholder sd-question__placeholder",iconDrag:"sv-matrixdynamic__drag-icon",ghostRow:"sv-matrix-row--drag-drop-ghost-mod",emptyCell:"sd-table__cell--empty",verticalCell:"sd-table__cell--vertical",cellQuestionWrapper:"sd-table__question-wrapper",compact:"sd-element--with-frame sd-element--compact"},rating:{rootDropdown:"sd-scrollable-container sd-scrollable-container--compact sd-selectbase",root:"sd-scrollable-container sd-rating",rootWrappable:"sd-scrollable-container sd-rating sd-rating--wrappable",item:"sd-rating__item",itemOnError:"sd-rating__item--error",itemHover:"sd-rating__item--allowhover",selected:"sd-rating__item--selected",itemStar:"sd-rating__item-star",itemStarOnError:"sd-rating__item-star--error",itemStarHover:"sd-rating__item-star--allowhover",itemStarSelected:"sd-rating__item-star--selected",itemStarDisabled:"sd-rating__item-star--disabled",itemStarHighlighted:"sd-rating__item-star--highlighted",itemStarUnhighlighted:"sd-rating__item-star--unhighlighted",itemStarSmall:"sd-rating__item-star--small",itemSmiley:"sd-rating__item-smiley",itemSmileyOnError:"sd-rating__item-smiley--error",itemSmileyHover:"sd-rating__item-smiley--allowhover",itemSmileySelected:"sd-rating__item-smiley--selected",itemSmileyDisabled:"sd-rating__item-smiley--disabled",itemSmileyHighlighted:"sd-rating__item-star--highlighted",itemSmileyScaleColored:"sd-rating__item-smiley--scale-colored",itemSmileyRateColored:"sd-rating__item-smiley--rate-colored",itemSmileySmall:"sd-rating__item-smiley--small",minText:"sd-rating__item-text sd-rating__min-text",itemText:"sd-rating__item-text",maxText:"sd-rating__item-text sd-rating__max-text",itemDisabled:"sd-rating__item--disabled",itemFixedSize:"sd-rating__item--fixed-size",control:"sd-input sd-dropdown",itemSmall:"sd-rating--small",selectWrapper:"sv-dropdown_select-wrapper",controlValue:"sd-dropdown__value",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty",filterStringInput:"sd-dropdown__filter-string-input",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",popup:"sv-dropdown-popup",onError:"sd-input--error"},comment:{root:"sd-input sd-comment",small:"sd-row__question--small",controlDisabled:"sd-input--disabled",content:"sd-comment__content sd-question__content",remainingCharacterCounter:"sd-remaining-character-counter",onError:"sd-input--error"},expression:"sd-expression",file:{root:"sd-file",other:"sd-input sd-comment",placeholderInput:"sd-visuallyhidden",preview:"sd-file__preview",fileSign:"",fileList:"sd-file__list",fileSignBottom:"sd-file__sign",dragArea:"sd-file__drag-area",dragAreaActive:"sd-file__drag-area--active",fileDecorator:"sd-file__decorator",onError:"sd-file__decorator--error",fileDecoratorDrag:"sd-file__decorator--drag",fileInput:"sd-visuallyhidden",noFileChosen:"sd-description sd-file__no-file-chosen",chooseFile:"sd-file__choose-btn",chooseFileAsText:"sd-action sd-file__choose-btn--text",chooseFileAsTextDisabled:"sd-action--disabled",chooseFileAsIcon:"sd-context-btn sd-file__choose-btn--icon",chooseFileIconId:"icon-choosefile",disabled:"sd-file__choose-btn--disabled",removeButton:"sd-context-btn sd-context-btn--negative sd-file__btn sd-file__clean-btn",removeButtonBottom:"",removeButtonIconId:"icon-clear",removeFile:"sd-hidden",removeFileSvg:"",removeFileSvgIconId:"icon-delete",wrapper:"sd-file__wrapper",defaultImage:"sd-file__default-image",defaultImageIconId:"icon-defaultfile",leftIconId:"icon-arrowleft",rightIconId:"icon-arrowright",removeFileButton:"sd-context-btn sd-context-btn--negative sd-file__remove-file-button",dragAreaPlaceholder:"sd-file__drag-area-placeholder",imageWrapper:"sd-file__image-wrapper",single:"sd-file--single",singleImage:"sd-file--single-image",mobile:"sd-file--mobile"},signaturepad:{mainRoot:"sd-element sd-question sd-question--signature sd-row__question",root:"sd-signaturepad sjs_sp_container",small:"sd-row__question--small",controls:"sjs_sp_controls sd-signaturepad__controls",placeholder:"sjs_sp_placeholder",clearButton:"sjs_sp_clear sd-context-btn sd-context-btn--negative sd-signaturepad__clear",clearButtonIconId:"icon-clear"},saveData:{root:"sv-save-data_root",info:"sv-save-data_info",error:"sv-save-data_error",success:"sv-save-data_success",button:"sv-save-data_button",shown:"sv-save-data_root--shown"},window:{root:"sv_window",body:"sv_window_content",header:{root:"sv_window_title",title:"",button:"sv_window_button",buttonExpanded:"",buttonCollapsed:""}},ranking:{root:"sv-ranking",rootMobileMod:"sv-ranking--mobile",rootDragMod:"sv-ranking--drag",rootDisabled:"sd-ranking--disabled",rootDesignMode:"sv-ranking--design-mode",rootDragHandleAreaIcon:"sv-ranking--drag-handle-area-icon",rootSelectToRankMod:"sv-ranking--select-to-rank",rootSelectToRankAlignVertical:"sv-ranking--select-to-rank-vertical",rootSelectToRankAlignHorizontal:"sv-ranking--select-to-rank-horizontal",item:"sv-ranking-item",itemContent:"sv-ranking-item__content sd-ranking-item__content",itemIndex:"sv-ranking-item__index sd-ranking-item__index",itemIndexEmptyMode:"sv-ranking-item__index--empty sd-ranking-item__index--empty",itemDisabled:"sv-ranking-item--disabled",controlLabel:"sv-ranking-item__text",itemGhostNode:"sv-ranking-item__ghost",itemIconContainer:"sv-ranking-item__icon-container",itemIcon:"sv-ranking-item__icon",itemIconHoverMod:"sv-ranking-item__icon--hover",itemIconFocusMod:"sv-ranking-item__icon--focus",itemGhostMod:"sv-ranking-item--ghost",itemDragMod:"sv-ranking--drag",itemOnError:"sv-ranking-item--error",container:"sv-ranking__container",containerEmptyMode:"sv-ranking__container--empty",containerFromMode:"sv-ranking__container--from",containerToMode:"sv-ranking__container--to",containerPlaceholder:"sv-ranking__container-placeholder",containersDivider:"sv-ranking__containers-divider"},buttongroup:{root:"sv-button-group",item:"sv-button-group__item",itemIcon:"sv-button-group__item-icon",itemDecorator:"sv-button-group__item-decorator",itemCaption:"sv-button-group__item-caption",itemHover:"sv-button-group__item--hover",itemSelected:"sv-button-group__item--selected",itemDisabled:"sv-button-group__item--disabled",itemControl:"sv-visuallyhidden"},list:{root:"sv-list__container sd-list",item:"sv-list__item sd-list__item",itemBody:"sv-list__item-body sd-list__item-body",itemSelected:"sv-list__item--selected sd-list__item--selected",itemFocused:"sv-list__item--focused sd-list__item--focused"},actionBar:{root:"sd-action-bar",item:"sd-action",defaultSizeMode:"",smallSizeMode:"",itemPressed:"sd-action--pressed",itemAsIcon:"sd-action--icon",itemIcon:"sd-action__icon",itemTitle:"sd-action__title"},variables:{mobileWidth:"--sd-mobile-width",themeMark:"--sv-defaultV2-mark"},tagbox:{root:"sd-selectbase",popup:"sv-dropdown-popup",small:"sd-row__question--small",selectWrapper:"sv-dropdown_select-wrapper",other:"sd-input sd-comment sd-selectbase__other",onError:"sd-input--error",label:"sd-selectbase__label",itemSvgIconId:"#icon-v2check",item:"sd-item sd-checkbox sd-selectbase__item",itemDisabled:"sd-item--disabled sd-checkbox--disabled",itemChecked:"sd-item--checked sd-checkbox--checked",itemHover:"sd-item--allowhover sd-checkbox--allowhover",itemControl:"sd-visuallyhidden sd-item__control sd-checkbox__control",itemDecorator:"sd-item__svg sd-checkbox__svg",cleanButton:"sd-tagbox_clean-button sd-dropdown_clean-button",cleanButtonSvg:"sd-tagbox_clean-button-svg sd-dropdown_clean-button-svg",cleanButtonIconId:"icon-clear",cleanItemButton:"sd-tagbox-item_clean-button",cleanItemButtonSvg:"sd-tagbox-item_clean-button-svg",cleanItemButtonIconId:"icon-clear_16x16",chevronButton:"sd-dropdown_chevron-button",chevronButtonSvg:"sd-dropdown_chevron-button-svg",chevronButtonIconId:"icon-chevron",control:"sd-input sd-tagbox sd-dropdown",controlValue:"sd-tagbox__value sd-dropdown__value",controlValueItems:"sd-tagbox__value-items",placeholderInput:"sd-tagbox__placeholder",controlDisabled:"sd-input--disabled",controlEmpty:"sd-dropdown--empty sd-tagbox--empty",controlLabel:"sd-item__control-label",filterStringInput:"sd-tagbox__filter-string-input sd-dropdown__filter-string-input",materialDecorator:"sd-item__decorator sd-checkbox__decorator",hint:"sd-tagbox__hint",hintPrefix:"sd-dropdown__hint-prefix sd-tagbox__hint-prefix",hintSuffix:"sd-dropdown__hint-suffix sd-tagbox__hint-suffix",hintSuffixWrapper:"sd-tagbox__hint-suffix-wrapper"}},j="defaultV2";L[j]=K},"./src/defaultTitle.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DefaultTitleModel",function(){return K});var L=m("./src/utils/cssClassBuilder.ts"),K=function(){function j(){}return j.getIconCss=function(F,S){return(new L.CssClassBuilder).append(F.icon).append(F.iconExpanded,!S).toString()},j}()},"./src/drag-drop-helper-v1.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropInfo",function(){return L});var L=function K(j,F,S){void 0===S&&(S=-1),this.source=j,this.target=F,this.nestedPanelDepth=S}},"./src/drag-drop-page-helper-v1.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropPageHelperV1",function(){return j});var L=m("./src/drag-drop-helper-v1.ts"),K=m("./src/settings.ts"),j=function(){function F(S){this.page=S}return F.prototype.getDragDropInfo=function(){return this.dragDropInfo},F.prototype.dragDropStart=function(S,w,M){void 0===M&&(M=-1),this.dragDropInfo=new L.DragDropInfo(S,w,M)},F.prototype.dragDropMoveTo=function(S,w,M){if(void 0===w&&(w=!1),void 0===M&&(M=!1),!this.dragDropInfo||(this.dragDropInfo.destination=S,this.dragDropInfo.isBottom=w,this.dragDropInfo.isEdge=M,this.correctDragDropInfo(this.dragDropInfo),!this.dragDropCanDropTagert()))return!1;if(!this.dragDropCanDropSource()||!this.dragDropAllowFromSurvey()){if(this.dragDropInfo.source){var h=this.page.dragDropFindRow(this.dragDropInfo.target);this.page.updateRowsRemoveElementFromRow(this.dragDropInfo.target,h)}return!1}return this.page.dragDropAddTarget(this.dragDropInfo),!0},F.prototype.correctDragDropInfo=function(S){if(S.destination){var w=S.destination.isPanel?S.destination:null;!w||S.target.isLayoutTypeSupported(w.getChildrenLayoutType())||(S.isEdge=!0)}},F.prototype.dragDropAllowFromSurvey=function(){var S=this.dragDropInfo.destination;if(!S||!this.page.survey)return!0;var w=null,M=null,h=S.isPage||!this.dragDropInfo.isEdge&&S.isPanel?S:S.parent;if(!S.isPage){var D=S.parent;if(D){var P=D.elements,y=P.indexOf(S);y>-1&&(w=S,M=S,this.dragDropInfo.isBottom?w=y<P.length-1?P[y+1]:null:M=y>0?P[y-1]:null)}}return this.page.survey.dragAndDropAllow({allow:!0,target:this.dragDropInfo.target,source:this.dragDropInfo.source,parent:h,insertAfter:M,insertBefore:w})},F.prototype.dragDropFinish=function(S){if(void 0===S&&(S=!1),this.dragDropInfo){var w=this.dragDropInfo.target,M=this.dragDropInfo.source,h=this.dragDropInfo.destination,D=this.page.dragDropFindRow(w),P=this.dragDropGetElementIndex(w,D);this.page.updateRowsRemoveElementFromRow(w,D);var y=[],v=[];if(!S&&D){if(this.page.isDesignMode&&K.settings.supportCreatorV2){var g=M&&M.parent&&M.parent.dragDropFindRow(M);D.panel.elements[P]&&D.panel.elements[P].startWithNewLine&&D.elements.length>1&&D.panel.elements[P]===h&&(y.push(w),v.push(D.panel.elements[P])),w.startWithNewLine&&D.elements.length>1&&(!D.panel.elements[P]||!D.panel.elements[P].startWithNewLine)&&v.push(w),g&&g.elements[0]===M&&g.elements[1]&&y.push(g.elements[1]),D.elements.length<=1&&y.push(w),w.startWithNewLine&&D.elements.length>1&&D.elements[0]!==h&&v.push(w)}!!M&&!!M.parent&&(this.page.survey.startMovingQuestion(),D.panel==M.parent?(D.panel.dragDropMoveElement(M,w,P),P=-1):M.parent.removeElement(M)),P>-1&&D.panel.addElement(w,P),this.page.survey.stopMovingQuestion()}return y.map(function(u){u.startWithNewLine=!0}),v.map(function(u){u.startWithNewLine=!1}),this.dragDropInfo=null,S?null:w}},F.prototype.dragDropGetElementIndex=function(S,w){if(!w)return-1;var M=w.elements.indexOf(S);if(0==w.index)return M;var h=w.panel.rows[w.index-1];return M+w.panel.elements.indexOf(h.elements[h.elements.length-1])+1},F.prototype.dragDropCanDropTagert=function(){var S=this.dragDropInfo.destination;return!(S&&!S.isPage)||this.dragDropCanDropCore(this.dragDropInfo.target,S)},F.prototype.dragDropCanDropSource=function(){var S=this.dragDropInfo.source;if(!S)return!0;var w=this.dragDropInfo.destination;if(!this.dragDropCanDropCore(S,w))return!1;if(this.page.isDesignMode&&K.settings.supportCreatorV2){if(this.page.dragDropFindRow(S)!==this.page.dragDropFindRow(w)&&(!S.startWithNewLine&&w.startWithNewLine||S.startWithNewLine&&!w.startWithNewLine))return!0;var D=this.page.dragDropFindRow(w);if(D&&1==D.elements.length)return!0}return this.dragDropCanDropNotNext(S,w,this.dragDropInfo.isEdge,this.dragDropInfo.isBottom)},F.prototype.dragDropCanDropCore=function(S,w){if(!w)return!0;if(this.dragDropIsSameElement(w,S))return!1;if(S.isPanel){var M=S;if(M.containsElement(w)||M.getElementByName(w.name))return!1}return!0},F.prototype.dragDropCanDropNotNext=function(S,w,M,h){if(!w||w.isPanel&&!M||void 0===S.parent||S.parent!==w.parent)return!0;var D=S.parent,P=D.elements.indexOf(S),y=D.elements.indexOf(w);return y<P&&!h&&y--,h&&y++,P<y?y-P>1:P-y>0},F.prototype.dragDropIsSameElement=function(S,w){return S==w||S.name==w.name},F}()},"./src/drag-drop-panel-helper-v1.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropPanelHelperV1",function(){return j});var L=m("./src/drag-drop-helper-v1.ts"),K=m("./src/settings.ts"),j=function(){function F(S){this.panel=S}return F.prototype.dragDropAddTarget=function(S){var w=this.dragDropFindRow(S.target);this.dragDropAddTargetToRow(S,w)&&this.panel.updateRowsRemoveElementFromRow(S.target,w)},F.prototype.dragDropFindRow=function(S){if(!S||S.isPage)return null;for(var w=S,M=this.panel.rows,h=0;h<M.length;h++)if(M[h].elements.indexOf(w)>-1)return M[h];for(h=0;h<this.panel.elements.length;h++){var D=this.panel.elements[h].getPanel();if(D){var P=D.dragDropFindRow(w);if(P)return P}}return null},F.prototype.dragDropMoveElement=function(S,w,M){M>S.parent.elements.indexOf(S)&&M--,this.panel.removeElement(S),this.panel.addElement(w,M)},F.prototype.updateRowsOnElementAdded=function(S,w,M,h){M||((M=new L.DragDropInfo(null,S)).target=S,M.isEdge=this.panel.elements.length>1,this.panel.elements.length<2?M.destination=h:(M.isBottom=w>0,M.destination=0==w?this.panel.elements[1]:this.panel.elements[w-1])),this.dragDropAddTargetToRow(M,null)},F.prototype.dragDropAddTargetToRow=function(S,w){if(!S.destination||this.dragDropAddTargetToEmptyPanel(S))return!0;var h=this.dragDropFindRow(S.destination);return!h||(S.target.startWithNewLine?this.dragDropAddTargetToNewRow(S,h,w):this.dragDropAddTargetToExistingRow(S,h,w))},F.prototype.dragDropAddTargetToEmptyPanel=function(S){if(S.destination.isPage)return this.dragDropAddTargetToEmptyPanelCore(this.panel.root,S.target,S.isBottom),!0;var w=S.destination;if(w.isPanel&&!S.isEdge){if(S.target.template===w)return!1;if(S.nestedPanelDepth<0||S.nestedPanelDepth>=w.depth)return this.dragDropAddTargetToEmptyPanelCore(w,S.target,S.isBottom),!0}return!1},F.prototype.dragDropAddTargetToExistingRow=function(S,w,M){var h=w.elements.indexOf(S.destination);if(!(0!=h||S.isBottom||this.panel.isDesignMode&&K.settings.supportCreatorV2)&&w.elements[0].startWithNewLine)return w.index>0?(S.isBottom=!0,S.destination=(w=w.panel.rows[w.index-1]).elements[w.elements.length-1],this.dragDropAddTargetToExistingRow(S,w,M)):this.dragDropAddTargetToNewRow(S,w,M);var D=-1;M==w&&(D=w.elements.indexOf(S.target)),S.isBottom&&h++;var P=this.panel.findRowByElement(S.source);return(P!=w||P.elements.indexOf(S.source)!=h)&&h!=D&&(D>-1&&(w.elements.splice(D,1),D<h&&h--),w.elements.splice(h,0,S.target),w.updateVisible(),D<0)},F.prototype.dragDropAddTargetToNewRow=function(S,w,M){var h=w.panel.createRowAndSetLazy(w.panel.rows.length);this.panel.isDesignMode&&K.settings.supportCreatorV2&&h.setIsLazyRendering(!1),h.addElement(S.target);var D=w.index;if(S.isBottom&&D++,M&&M.panel==h.panel&&M.index==D)return!1;var P=this.panel.findRowByElement(S.source);return!(P&&P.panel==h.panel&&1==P.elements.length&&P.index==D||(w.panel.rows.splice(D,0,h),0))},F.prototype.dragDropAddTargetToEmptyPanelCore=function(S,w,M){var h=S.createRow();h.addElement(w),0==S.elements.length||M?S.rows.push(h):S.rows.splice(0,0,h)},F}()},"./src/dragdrop/choices.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropChoices",function(){return j});var F,L=m("./src/dragdrop/core.ts"),K=(F=function(S,w){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var D in h)Object.prototype.hasOwnProperty.call(h,D)&&(M[D]=h[D])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=S}F(S,w),S.prototype=null===w?Object.create(w):(M.prototype=w.prototype,new M)}),j=function(F){function S(){var w=null!==F&&F.apply(this,arguments)||this;return w.doDragOver=function(){"imagepicker"!==w.parentElement.getType()&&(w.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="grabbing")},w.doBanDropHere=function(){"imagepicker"!==w.parentElement.getType()&&(w.domAdapter.draggedElementShortcut.querySelector(".svc-item-value-controls__button").style.cursor="not-allowed")},w}return K(S,F),Object.defineProperty(S.prototype,"draggedElementType",{get:function(){return"item-value"},enumerable:!1,configurable:!0}),S.prototype.createDraggedElementShortcut=function(w,M,h){if("imagepicker"===this.parentElement.getType())return this.createImagePickerShortcut(this.draggedElement,w,M,h);var D=document.createElement("div");D.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          font-family: var(--font-family, 'Open Sans');\n        ";var y=M.closest("[data-sv-drop-target-item-value]").cloneNode(!0);y.style.cssText="\n      min-width: 100px;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      border-radius: calc(4.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      padding-right: calc(2* var(--sjs-base-unit, var(--base-unit, 8px)));\n      margin-left: 0;\n    ",y.querySelector(".svc-item-value-controls__drag-icon").style.visibility="visible",y.querySelector(".svc-item-value-controls__remove").style.backgroundColor="transparent",y.classList.remove("svc-item-value--moveup"),y.classList.remove("svc-item-value--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,D.appendChild(y);var g=M.getBoundingClientRect();return D.shortcutXOffset=h.clientX-g.x,D.shortcutYOffset=h.clientY-g.y,this.isBottom=null,D},S.prototype.createImagePickerShortcut=function(w,M,h,D){var P=document.createElement("div");P.style.cssText=" \n      cursor: grabbing;\n      position: absolute;\n      z-index: 10000;\n      box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n      background-color: var(--sjs-general-backcolor, var(--background, #fff));\n      padding: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n      border-radius: calc(0.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n    ";var y=h.closest("[data-sv-drop-target-item-value]"),v=y.querySelector(".svc-image-item-value-controls"),E=y.querySelector(".sd-imagepicker__image-container"),g=y.querySelector(w.imageLink?"img":".sd-imagepicker__no-image").cloneNode(!0);return v.style.display="none",E.style.width=g.width+"px",E.style.height=g.height+"px",g.style.objectFit="cover",g.style.borderRadius="4px",P.appendChild(g),P},S.prototype.getDropTargetByDataAttributeValue=function(w){return this.parentElement.choices.filter(function(h){return""+h.value==w})[0]},S.prototype.getVisibleChoices=function(){var w=this.parentElement;return"ranking"===w.getType()?w.rankingChoices:w.visibleChoices},S.prototype.isDropTargetValid=function(w,M){var h=this.getVisibleChoices();if("imagepicker"!==this.parentElement.getType()){var D=h.indexOf(this.dropTarget),P=h.indexOf(this.draggedElement);if(P>D&&this.dropTarget.isDragDropMoveUp)return this.dropTarget.isDragDropMoveUp=!1,!1;if(P<D&&this.dropTarget.isDragDropMoveDown)return this.dropTarget.isDragDropMoveDown=!1,!1}return-1!==h.indexOf(w)},S.prototype.calculateIsBottom=function(w){var M=this.getVisibleChoices();return M.indexOf(this.dropTarget)-M.indexOf(this.draggedElement)>0},S.prototype.afterDragOver=function(w){if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var M=this.getVisibleChoices(),h=M.indexOf(this.dropTarget),D=M.indexOf(this.draggedElement);M.splice(D,1),M.splice(h,0,this.draggedElement),"imagepicker"!==this.parentElement.getType()&&(D!==h&&(w.classList.remove("svc-item-value--moveup"),w.classList.remove("svc-item-value--movedown"),this.dropTarget.isDragDropMoveDown=!1,this.dropTarget.isDragDropMoveUp=!1),D>h&&(this.dropTarget.isDragDropMoveDown=!0),D<h&&(this.dropTarget.isDragDropMoveUp=!0),F.prototype.ghostPositionChanged.call(this))}},S.prototype.doDrop=function(){var w=this.parentElement.choices,M=this.getVisibleChoices().filter(function(P){return-1!==w.indexOf(P)}),h=w.indexOf(this.draggedElement),D=M.indexOf(this.draggedElement);return w.splice(h,1),w.splice(D,0,this.draggedElement),this.parentElement},S.prototype.clear=function(){this.parentElement&&this.updateVisibleChoices(this.parentElement),F.prototype.clear.call(this)},S.prototype.updateVisibleChoices=function(w){"ranking"===w.getType()?w.updateRankingChoices():w.updateVisibleChoices()},S}(L.DragDropCore)},"./src/dragdrop/core.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropCore",function(){return j});var L=m("./src/base.ts"),K=m("./src/dragdrop/dom-adapter.ts"),j=function(){function F(S,w,M,h){var D=this;this.surveyValue=S,this.creator=w,this._isBottom=null,this.onGhostPositionChanged=new L.EventBase,this.onDragStart=new L.EventBase,this.onDragEnd=new L.EventBase,this.onBeforeDrop=this.onDragStart,this.onAfterDrop=this.onDragEnd,this.draggedElement=null,this.dropTarget=null,this.prevDropTarget=null,this.allowDropHere=!1,this.banDropHere=function(){D.allowDropHere=!1,D.doBanDropHere(),D.dropTarget=null,D.domAdapter.draggedElementShortcut.style.cursor="not-allowed",D.isBottom=null},this.doBanDropHere=function(){},this.domAdapter=h||new K.DragDropDOMAdapter(this,M)}return Object.defineProperty(F.prototype,"isBottom",{get:function(){return!!this._isBottom},set:function(S){this._isBottom=S,this.ghostPositionChanged()},enumerable:!1,configurable:!0}),F.prototype.ghostPositionChanged=function(){this.onGhostPositionChanged.fire({},{})},Object.defineProperty(F.prototype,"dropTargetDataAttributeName",{get:function(){return"[data-sv-drop-target-"+this.draggedElementType+"]"},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"survey",{get:function(){return this.surveyValue||this.creator.survey},enumerable:!1,configurable:!0}),F.prototype.startDrag=function(S,w,M,h,D){var P;void 0===D&&(D=!1),this.domAdapter.rootContainer=null===(P=this.survey)||void 0===P?void 0:P.rootElement,this.domAdapter.startDrag(S,w,M,h,D)},F.prototype.dragInit=function(S,w,M,h){this.draggedElement=w,this.parentElement=M;var D=this.getShortcutText(this.draggedElement);this.domAdapter.draggedElementShortcut=this.createDraggedElementShortcut(D,h,S),this.onStartDrag(S)},F.prototype.onStartDrag=function(S){},F.prototype.isDropTargetDoesntChanged=function(S){return this.dropTarget===this.prevDropTarget&&S===this.isBottom},F.prototype.getShortcutText=function(S){return S.shortcutText},F.prototype.createDraggedElementShortcut=function(S,w,M){var h=document.createElement("div");return h.innerText=S,h.className=this.getDraggedElementClass(),h},F.prototype.getDraggedElementClass=function(){return"sv-dragged-element-shortcut"},F.prototype.doDragOver=function(){},F.prototype.afterDragOver=function(S){},F.prototype.findDropTargetNodeFromPoint=function(S,w){this.domAdapter.draggedElementShortcut.hidden=!0;var M=document.elementFromPoint(S,w);return this.domAdapter.draggedElementShortcut.hidden=!1,M?this.findDropTargetNodeByDragOverNode(M):null},F.prototype.getDataAttributeValueByNode=function(S){var w=this,M="svDropTarget";return this.draggedElementType.split("-").forEach(function(D){M+=w.capitalizeFirstLetter(D)}),S.dataset[M]},F.prototype.getDropTargetByNode=function(S,w){var M=this.getDataAttributeValueByNode(S);return this.getDropTargetByDataAttributeValue(M,S,w)},F.prototype.capitalizeFirstLetter=function(S){return S.charAt(0).toUpperCase()+S.slice(1)},F.prototype.calculateVerticalMiddleOfHTMLElement=function(S){var w=S.getBoundingClientRect();return w.y+w.height/2},F.prototype.calculateHorizontalMiddleOfHTMLElement=function(S){var w=S.getBoundingClientRect();return w.x+w.width/2},F.prototype.calculateIsBottom=function(S,w){return!1},F.prototype.findDropTargetNodeByDragOverNode=function(S){return S.closest(this.dropTargetDataAttributeName)},F.prototype.dragOver=function(S){var w=this.findDropTargetNodeFromPoint(S.clientX,S.clientY);if(w){this.dropTarget=this.getDropTargetByNode(w,S);var M=this.isDropTargetValid(this.dropTarget,w);if(this.doDragOver(),M){var h=this.calculateIsBottom(S.clientY,w);this.allowDropHere=!0,!this.isDropTargetDoesntChanged(h)&&(this.isBottom=null,this.isBottom=h,this.afterDragOver(w),this.prevDropTarget=this.dropTarget)}else this.banDropHere()}else this.banDropHere()},F.prototype.drop=function(){if(this.allowDropHere){var S=this.draggedElement.parent;this.onDragStart.fire(this,{fromElement:S,draggedElement:this.draggedElement});var w=this.doDrop();this.onDragEnd.fire(this,{fromElement:S,draggedElement:w,toElement:this.dropTarget})}},F.prototype.clear=function(){this.dropTarget=null,this.draggedElement=null,this.isBottom=null,this.parentElement=null},F}()},"./src/dragdrop/dom-adapter.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropDOMAdapter",function(){return F});var L=m("./src/utils/utils.ts"),K=m("./src/utils/devices.ts"),j=m("./src/settings.ts");"undefined"!=typeof window&&window.addEventListener("touchmove",function(S){!F.PreventScrolling||S.preventDefault()},{passive:!1});var F=function(){function S(w,M){var h=this;this.dd=w,this.longTap=M,this.scrollIntervalId=null,this.stopLongTapIfMoveEnough=function(D){D.preventDefault(),h.currentX=D.pageX,h.currentY=D.pageY,!h.isMicroMovement&&(document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select",""),h.stopLongTap())},this.stopLongTap=function(D){clearTimeout(h.timeoutID),h.timeoutID=null,document.removeEventListener("pointerup",h.stopLongTap),document.removeEventListener("pointermove",h.stopLongTapIfMoveEnough)},this.handlePointerCancel=function(D){h.clear()},this.handleEscapeButton=function(D){27==D.keyCode&&h.clear()},this.onContextMenu=function(D){D.preventDefault(),D.stopPropagation()},this.dragOver=function(D){h.moveShortcutElement(D),h.draggedElementShortcut.style.cursor="grabbing",h.dd.dragOver(D)},this.clear=function(){cancelAnimationFrame(h.scrollIntervalId),document.removeEventListener("pointermove",h.dragOver),document.removeEventListener("pointercancel",h.handlePointerCancel),document.removeEventListener("keydown",h.handleEscapeButton),document.removeEventListener("pointerup",h.drop),h.draggedElementShortcut.removeEventListener("pointerup",h.drop),K.IsTouch&&h.draggedElementShortcut.removeEventListener("contextmenu",h.onContextMenu),h.draggedElementShortcut.parentElement.removeChild(h.draggedElementShortcut),h.dd.clear(),h.draggedElementShortcut=null,h.scrollIntervalId=null,K.IsTouch&&(h.savedTargetNode&&h.savedTargetNode.parentElement.removeChild(h.savedTargetNode),S.PreventScrolling=!1),document.body.style.setProperty("touch-action",""),document.body.style.setProperty("user-select",""),document.body.style.setProperty("-webkit-user-select","")},this.drop=function(){h.dd.drop(),h.clear()},this.draggedElementShortcut=null}return Object.defineProperty(S.prototype,"rootElement",{get:function(){return Object(L.isShadowDOM)(j.settings.environment.root)?j.settings.environment.root.host:this.rootContainer||j.settings.environment.root.documentElement||document.body},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isMicroMovement",{get:function(){var M=Math.abs(this.currentX-this.startX),h=Math.abs(this.currentY-this.startY);return M<5&&h<5},enumerable:!1,configurable:!0}),S.prototype.startLongTapProcessing=function(w,M,h,D,P){var y=this;void 0===P&&(P=!1),this.startX=w.pageX,this.startY=w.pageY,document.body.style.setProperty("touch-action","none","important"),document.body.style.setProperty("user-select","none","important"),document.body.style.setProperty("-webkit-user-select","none","important"),this.timeoutID=setTimeout(function(){y.doStartDrag(w,M,h,D),P||(y.savedTargetNode=w.target,y.savedTargetNode.style.cssText="\n          position: absolute;\n          height: 1px!important;\n          width: 1px!important;\n          overflow: hidden;\n          clip: rect(1px 1px 1px 1px);\n          clip: rect(1px, 1px, 1px, 1px);\n        ",y.rootElement.appendChild(y.savedTargetNode)),y.stopLongTap()},this.longTap?500:0),document.addEventListener("pointerup",this.stopLongTap),document.addEventListener("pointermove",this.stopLongTapIfMoveEnough)},S.prototype.moveShortcutElement=function(w){var M=this.rootElement.getBoundingClientRect().x,h=this.rootElement.getBoundingClientRect().y;this.doScroll(w.clientY,w.clientX);var D=this.draggedElementShortcut.offsetHeight,P=this.draggedElementShortcut.offsetWidth,y=this.draggedElementShortcut.shortcutXOffset||P/2,v=this.draggedElementShortcut.shortcutYOffset||D/2;0!==document.querySelectorAll("[dir='rtl']").length&&(y=P/2,v=D/2);var E=document.documentElement.clientHeight,g=document.documentElement.clientWidth,u=w.pageX,l=w.pageY,a=w.clientX,i=w.clientY,o=this.getShortcutBottomCoordinate(i,D,v);return this.getShortcutRightCoordinate(a,P,y)>=g?(this.draggedElementShortcut.style.left=g-P-M+"px",void(this.draggedElementShortcut.style.top=i-v-h+"px")):a-y<=0?(this.draggedElementShortcut.style.left=u-a-M+"px",void(this.draggedElementShortcut.style.top=i-h-v+"px")):o>=E?(this.draggedElementShortcut.style.left=a-y-M+"px",void(this.draggedElementShortcut.style.top=E-D-h+"px")):i-v<=0?(this.draggedElementShortcut.style.left=a-y-M+"px",void(this.draggedElementShortcut.style.top=l-i-h+"px")):(this.draggedElementShortcut.style.left=a-M-y+"px",void(this.draggedElementShortcut.style.top=i-h-v+"px"))},S.prototype.getShortcutBottomCoordinate=function(w,M,h){return w+M-h},S.prototype.getShortcutRightCoordinate=function(w,M,h){return w+M-h},S.prototype.doScroll=function(w,M){var h=this;cancelAnimationFrame(this.scrollIntervalId);var D=100;this.draggedElementShortcut.hidden=!0;var P=document.elementFromPoint(M,w);this.draggedElementShortcut.hidden=!1;var v,E,g,u,y=Object(L.findScrollableParent)(P);"HTML"===y.tagName?(v=0,E=document.documentElement.clientHeight,g=0,u=document.documentElement.clientWidth):(v=y.getBoundingClientRect().top,E=y.getBoundingClientRect().bottom,g=y.getBoundingClientRect().left,u=y.getBoundingClientRect().right);var l=function(){w-v<=D?y.scrollTop-=15:E-w<=D?y.scrollTop+=15:u-M<=D?y.scrollLeft+=15:M-g<=D&&(y.scrollLeft-=15),h.scrollIntervalId=requestAnimationFrame(l)};this.scrollIntervalId=requestAnimationFrame(l)},S.prototype.doStartDrag=function(w,M,h,D){K.IsTouch&&(S.PreventScrolling=!0),3!==w.which&&(this.dd.dragInit(w,M,h,D),this.rootElement.append(this.draggedElementShortcut),this.moveShortcutElement(w),document.addEventListener("pointermove",this.dragOver),document.addEventListener("pointercancel",this.handlePointerCancel),document.addEventListener("keydown",this.handleEscapeButton),document.addEventListener("pointerup",this.drop),K.IsTouch?this.draggedElementShortcut.addEventListener("contextmenu",this.onContextMenu):this.draggedElementShortcut.addEventListener("pointerup",this.drop))},S.prototype.startDrag=function(w,M,h,D,P){void 0===P&&(P=!1),K.IsTouch?this.startLongTapProcessing(w,M,h,D,P):this.doStartDrag(w,M,h,D)},S.PreventScrolling=!1,S}()},"./src/dragdrop/matrix-rows.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropMatrixRows",function(){return j});var F,L=m("./src/dragdrop/core.ts"),K=(F=function(S,w){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var D in h)Object.prototype.hasOwnProperty.call(h,D)&&(M[D]=h[D])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=S}F(S,w),S.prototype=null===w?Object.create(w):(M.prototype=w.prototype,new M)}),j=function(F){function S(){var w=null!==F&&F.apply(this,arguments)||this;return w.fromIndex=null,w.toIndex=null,w.doDrop=function(){return w.parentElement.moveRowByIndex(w.fromIndex,w.toIndex),w.parentElement},w}return K(S,F),Object.defineProperty(S.prototype,"draggedElementType",{get:function(){return"matrix-row"},enumerable:!1,configurable:!0}),S.prototype.onStartDrag=function(){this.restoreUserSelectValue=document.body.style.userSelect,document.body.style.userSelect="none"},S.prototype.createDraggedElementShortcut=function(w,M,h){var D=this,P=document.createElement("div");P.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          font-family: var(--font-family, 'Open Sans');\n        ";if(M){var v=M.closest("[data-sv-drop-target-matrix-row]"),E=v.cloneNode(!0);E.style.cssText="\n        box-shadow: var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1));\n        background-color: var(--sjs-general-backcolor, var(--background, #fff));\n        display: flex;\n        flex-grow: 0;\n        flex-shrink: 0;\n        align-items: center;\n        line-height: 0;\n        width: "+v.offsetWidth+"px;\n      ",E.classList.remove("sv-matrix__drag-drop--moveup"),E.classList.remove("sv-matrix__drag-drop--movedown"),this.draggedElement.isDragDropMoveDown=!1,this.draggedElement.isDragDropMoveUp=!1,P.appendChild(E);var g=M.getBoundingClientRect();P.shortcutXOffset=h.clientX-g.x,P.shortcutYOffset=h.clientY-g.y}return this.parentElement.renderedTable.rows.forEach(function(l,a){l.row===D.draggedElement&&(l.isGhostRow=!0)}),this.fromIndex=this.parentElement.visibleRows.indexOf(this.draggedElement),P},S.prototype.getDropTargetByDataAttributeValue=function(w){return this.parentElement.renderedTable.rows.filter(function(D){return D.row.id===w})[0].row},S.prototype.isDropTargetValid=function(w,M){return!0},S.prototype.calculateIsBottom=function(w){var h=this.parentElement.renderedTable.rows.map(function(D){return D.row});return h.indexOf(this.dropTarget)-h.indexOf(this.draggedElement)>0},S.prototype.afterDragOver=function(w){var M=this;if(!this.isDropTargetDoesntChanged(this.isBottom)&&this.dropTarget!==this.draggedElement){var h,D,P,y=this.parentElement.renderedTable.rows;y.forEach(function(v,E){v.row===M.dropTarget&&(h=E),v.row===M.draggedElement&&(D=E,(P=v).isGhostRow=!0)}),y.splice(D,1),y.splice(h,0,P),this.toIndex=h,F.prototype.ghostPositionChanged.call(this)}},S.prototype.clear=function(){this.parentElement.renderedTable.rows.forEach(function(M){M.isGhostRow=!1}),this.parentElement.clearOnDrop(),this.fromIndex=null,this.toIndex=null,document.body.style.userSelect=this.restoreUserSelectValue||"initial",F.prototype.clear.call(this)},S}(L.DragDropCore)},"./src/dragdrop/ranking-choices.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropRankingChoices",function(){return S});var w,L=m("./src/dragdrop/choices.ts"),K=m("./src/utils/cssClassBuilder.ts"),j=m("./src/utils/devices.ts"),F=(w=function(M,h){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(D[y]=P[y])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function D(){this.constructor=M}w(M,h),M.prototype=null===h?Object.create(h):(D.prototype=h.prototype,new D)}),S=function(w){function M(){var h=null!==w&&w.apply(this,arguments)||this;return h.isDragOverRootNode=!1,h.doDragOver=function(){h.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="grabbing"},h.doBanDropHere=function(){h.isDragOverRootNode?h.allowDropHere=!0:h.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item").style.cursor="not-allowed"},h.doDrop=function(){return h.parentElement.setValue(),h.parentElement},h}return F(M,w),Object.defineProperty(M.prototype,"draggedElementType",{get:function(){return"ranking-item"},enumerable:!1,configurable:!0}),M.prototype.createDraggedElementShortcut=function(h,D,P){var y=document.createElement("div");y.className=this.shortcutClass+" sv-ranking-shortcut",y.style.cssText=" \n          cursor: grabbing;\n          position: absolute;\n          z-index: 10000;\n          border-radius: calc(12.5 * var(--sjs-base-unit, var(--base-unit, 8px)));\n          min-width: 100px;\n          box-shadow: var(--sjs-shadow-medium, 0px 2px 6px 0px rgba(0, 0, 0, 0.1)), var(--sjs-shadow-large, 0px 8px 16px 0px rgba(0, 0, 0, 0.1));\n          background-color: var(--sjs-general-backcolor, var(--background, #fff));\n          font-family: var(--font-family, 'Open Sans');\n        ";var E=D.cloneNode(!0);y.appendChild(E);var g=D.getBoundingClientRect();return y.shortcutXOffset=P.clientX-g.x,y.shortcutYOffset=P.clientY-g.y,this.parentElement&&this.parentElement.useFullItemSizeForShortcut&&(y.style.width=D.offsetWidth+"px",y.style.height=D.offsetHeight+"px"),y},Object.defineProperty(M.prototype,"shortcutClass",{get:function(){return(new K.CssClassBuilder).append(this.parentElement.cssClasses.root).append(this.parentElement.cssClasses.rootMobileMod,j.IsMobile).toString()},enumerable:!1,configurable:!0}),M.prototype.getDropTargetByDataAttributeValue=function(h){return this.parentElement.rankingChoices[h]},M.prototype.findDropTargetNodeByDragOverNode=function(h){return this.isDragOverRootNode=this.getIsDragOverRootNode(h),w.prototype.findDropTargetNodeByDragOverNode.call(this,h)},M.prototype.getIsDragOverRootNode=function(h){return"string"==typeof h.className&&-1!==h.className.indexOf("sv-ranking")},M.prototype.isDropTargetValid=function(h,D){var P=this.parentElement.rankingChoices,y=P.indexOf(this.dropTarget),v=P.indexOf(this.draggedElement);return v>y&&D.classList.contains("sv-dragdrop-moveup")||v<y&&D.classList.contains("sv-dragdrop-movedown")?(this.parentElement.dropTargetNodeMove=null,!1):-1!==P.indexOf(h)},M.prototype.calculateIsBottom=function(h){var D=this.parentElement.rankingChoices;return D.indexOf(this.dropTarget)-D.indexOf(this.draggedElement)>0},M.prototype.afterDragOver=function(h){var D=this.parentElement.rankingChoices,P=D.indexOf(this.dropTarget),y=D.indexOf(this.draggedElement);D.splice(y,1),D.splice(P,0,this.draggedElement),this.parentElement.setPropertyValue("rankingChoices",D),this.updateDraggedElementShortcut(P+1),y!==P&&(h.classList.remove("sv-dragdrop-moveup"),h.classList.remove("sv-dragdrop-movedown"),this.parentElement.dropTargetNodeMove=null),y>P&&(this.parentElement.dropTargetNodeMove="down"),y<P&&(this.parentElement.dropTargetNodeMove="up")},M.prototype.updateDraggedElementShortcut=function(h){var D=null!==h?h+"":"";this.domAdapter.draggedElementShortcut.querySelector(".sv-ranking-item__index").innerText=D},M.prototype.ghostPositionChanged=function(){this.parentElement.currentDropTarget=this.draggedElement,w.prototype.ghostPositionChanged.call(this)},M.prototype.clear=function(){this.parentElement&&(this.parentElement.dropTargetNodeMove=null,this.parentElement.updateRankingChoices(!0)),w.prototype.clear.call(this)},M}(L.DragDropChoices)},"./src/dragdrop/ranking-select-to-rank.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragDropRankingSelectToRank",function(){return j});var F,L=m("./src/dragdrop/ranking-choices.ts"),K=(F=function(S,w){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var D in h)Object.prototype.hasOwnProperty.call(h,D)&&(M[D]=h[D])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=S}F(S,w),S.prototype=null===w?Object.create(w):(M.prototype=w.prototype,new M)}),j=function(F){function S(){return null!==F&&F.apply(this,arguments)||this}return K(S,F),S.prototype.onStartDrag=function(w){var h=w.target.closest(".sv-ranking__container--from");h&&(h.style.minHeight=h.offsetHeight+"px")},S.prototype.findDropTargetNodeByDragOverNode=function(w){if("from-container"===w.dataset.ranking||"to-container"===w.dataset.ranking)return w;if(this.parentElement.isEmpty()){var M=w.closest("[data-ranking='to-container']"),h=w.closest("[data-ranking='from-container']");return M||h||null}return F.prototype.findDropTargetNodeByDragOverNode.call(this,w)},S.prototype.getDropTargetByDataAttributeValue=function(w){return this.parentElement.rankingChoices[w]||this.parentElement.unRankingChoices[w]},S.prototype.getDropTargetByNode=function(w,M){return"to-container"===w.dataset.ranking?"to-container":"from-container"===w.dataset.ranking||w.closest("[data-ranking='from-container']")?"from-container":F.prototype.getDropTargetByNode.call(this,w,M)},S.prototype.isDropTargetValid=function(w,M){return"to-container"===w||"from-container"===w||F.prototype.isDropTargetValid.call(this,w,M)},S.prototype.afterDragOver=function(w){var M=this.parentElement,h=M.rankingChoices,D=M.unRankingChoices;this.isDraggedElementUnranked&&this.isDropTargetRanked?this.doRankBetween(w,D,h,this.selectToRank):this.isDraggedElementRanked&&this.isDropTargetRanked?this.doRankBetween(w,h,h,this.reorderRankedItem):!this.isDraggedElementRanked||this.isDropTargetRanked||this.doRankBetween(w,h,D,this.unselectFromRank)},S.prototype.doRankBetween=function(w,M,h,D){var P=this.parentElement,y=M.indexOf(this.draggedElement),v=h.indexOf(this.dropTarget);-1===v&&(v=h.length),D(P,y,v),this.doUIEffects(w,y,v)},S.prototype.doUIEffects=function(w,M,h){var D=this.parentElement,P="to-container"===this.dropTarget&&D.isEmpty();this.updateDraggedElementShortcut(!this.isDropTargetUnranked||P?h+1:null),M!==h&&(w.classList.remove("sv-dragdrop-moveup"),w.classList.remove("sv-dragdrop-movedown"),D.dropTargetNodeMove=null),M>h&&(D.dropTargetNodeMove="down"),M<h&&(D.dropTargetNodeMove="up")},Object.defineProperty(S.prototype,"isDraggedElementRanked",{get:function(){return-1!==this.parentElement.rankingChoices.indexOf(this.draggedElement)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isDropTargetRanked",{get:function(){return"to-container"===this.dropTarget||-1!==this.parentElement.rankingChoices.indexOf(this.dropTarget)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isDraggedElementUnranked",{get:function(){return!this.isDraggedElementRanked},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"isDropTargetUnranked",{get:function(){return!this.isDropTargetRanked},enumerable:!1,configurable:!0}),S.prototype.selectToRank=function(w,M,h){var D=w.rankingChoices;D.splice(h,0,w.unRankingChoices[M]),w.setPropertyValue("rankingChoices",D)},S.prototype.unselectFromRank=function(w,M,h){var D=w.rankingChoices;D.splice(M,1),w.setPropertyValue("rankingChoices",D)},S.prototype.reorderRankedItem=function(w,M,h){var D=w.rankingChoices,P=D[M];D.splice(M,1),D.splice(h,0,P),w.setPropertyValue("rankingChoices",D)},S}(L.DragDropRankingChoices)},"./src/dropdownListModel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DropdownListModel",function(){return v});var E,L=m("./src/base.ts"),K=m("./src/itemvalue.ts"),j=m("./src/jsonobject.ts"),F=m("./src/list.ts"),S=m("./src/popup.ts"),w=m("./src/question_dropdown.ts"),M=m("./src/utils/cssClassBuilder.ts"),h=m("./src/utils/devices.ts"),D=m("./src/utils/utils.ts"),P=(E=function(g,u){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(l[i]=a[i])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=g}E(g,u),g.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l)}),y=function(E,g,u,l){var o,a=arguments.length,i=a<3?g:null===l?l=Object.getOwnPropertyDescriptor(g,u):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(E,g,u,l);else for(var p=E.length-1;p>=0;p--)(o=E[p])&&(i=(a<3?o(i):a>3?o(g,u,i):o(g,u))||i);return a>3&&i&&Object.defineProperty(g,u,i),i},v=function(E){function g(u,l){var a=E.call(this)||this;return a.question=u,a.onSelectionChanged=l,a.minPageSize=25,a.loadingItemHeight=40,a._markdownMode=!1,a.selectedItemSelector=".sv-list__item--selected",a.itemSelector=".sv-list__item",a.itemsSettings={skip:0,take:0,totalCount:0,items:[]},a.isRunningLoadQuestionChoices=!1,a.popupCssClasses="sv-single-select-list",a.listModelFilterStringChanged=function(i){a.filterString!==i&&(a.filterString=i)},u.onPropertyChanged.add(function(i,o){a.onPropertyChangedHandler(i,o)}),a.showInputFieldComponent=a.question.showInputFieldComponent,a.listModel=a.createListModel(),a.updateAfterListModelCreated(a.listModel),a.setSearchEnabled(a.question.searchEnabled),a.createPopup(),a.resetItemsSettings(),a}return P(g,E),Object.defineProperty(g.prototype,"focusFirstInputSelector",{get:function(){return this.getFocusFirstInputSelector()},enumerable:!1,configurable:!0}),g.prototype.getFocusFirstInputSelector=function(){return h.IsTouch?this.isValueEmpty(this.question.value)?this.itemSelector:this.selectedItemSelector:!this.listModel.showFilter&&this.question.value?this.selectedItemSelector:""},g.prototype.resetItemsSettings=function(){this.itemsSettings.skip=0,this.itemsSettings.take=Math.max(this.minPageSize,this.question.choicesLazyLoadPageSize),this.itemsSettings.totalCount=0,this.itemsSettings.items=[]},g.prototype.setItems=function(u,l){this.itemsSettings.items=[].concat(this.itemsSettings.items,u),this.itemsSettings.totalCount=l,this.listModel.isAllDataLoaded=this.question.choicesLazyLoadEnabled&&this.itemsSettings.items.length==this.itemsSettings.totalCount,this.question.choices=this.itemsSettings.items},g.prototype.updateQuestionChoices=function(u){var l=this;this.isRunningLoadQuestionChoices||(!this.itemsSettings.skip||this.itemsSettings.skip+1<this.itemsSettings.totalCount)&&(this.isRunningLoadQuestionChoices=!0,this.question.survey.loadQuestionChoices({question:this.question,filter:this.filterString,skip:this.itemsSettings.skip,take:this.itemsSettings.take,setItems:function(i,o){l.isRunningLoadQuestionChoices=!1,l.setItems(i||[],o||0),l.popupRecalculatePosition(l.itemsSettings.skip===l.itemsSettings.take),u&&u()}}),this.itemsSettings.skip+=this.itemsSettings.take)},g.prototype.updatePopupFocusFirstInputSelector=function(){this._popupModel.focusFirstInputSelector=this.focusFirstInputSelector},g.prototype.createPopup=function(){var u=this;this._popupModel=new S.PopupModel("sv-list",{model:this.listModel},"bottom","center",!1),this._popupModel.displayMode=h.IsTouch?"overlay":"popup",this._popupModel.positionMode="fixed",this._popupModel.isFocusedContainer=!1,this._popupModel.isFocusedContent=h.IsTouch,this._popupModel.setWidthByTarget=!h.IsTouch,this.updatePopupFocusFirstInputSelector(),this.listModel.registerPropertyChangedHandlers(["showFilter"],function(){u.updatePopupFocusFirstInputSelector()}),this._popupModel.cssClass=this.popupCssClasses,this._popupModel.onVisibilityChanged.add(function(l,a){a.isVisible&&(u.listModel.renderElements=!0),a.isVisible&&u.question.choicesLazyLoadEnabled&&(u.listModel.actions=[],u.updateQuestionChoices()),a.isVisible&&!!u.question.onOpenedCallBack&&(u.updatePopupFocusFirstInputSelector(),u.question.onOpenedCallBack()),a.isVisible||(u.onHidePopup(),u.question.choicesLazyLoadEnabled&&u.resetItemsSettings()),u.question.processPopupVisiblilityChanged(u.popupModel,a.isVisible)})},g.prototype.setFilterStringToListModel=function(u){var l=this;if(this.listModel.filterString=u,this.listModel.resetFocusedItem(),this.question.selectedItem&&this.question.selectedItem.text.indexOf(u)>=0)return this.listModel.focusedItem=this.getAvailableItems().filter(function(a){return a.id==l.question.selectedItem.value})[0],void(this.listModel.filterString&&this.listModel.actions.map(function(a){return a.selectedValue=!1}));(!this.listModel.focusedItem||!this.listModel.isItemVisible(this.listModel.focusedItem))&&this.listModel.focusFirstVisibleItem()},g.prototype.popupRecalculatePosition=function(u){var l=this;setTimeout(function(){l.popupModel.recalculatePosition(u)},1)},g.prototype.onHidePopup=function(){this.resetFilterString(),this.question.suggestedItem=null,this.listModel.refresh()},g.prototype.getAvailableItems=function(){return this.question.visibleChoices},g.prototype.createListModel=function(){var u=this,l=this.getAvailableItems(),a=this.onSelectionChanged;a||(a=function(o){u.question.value=o.id,u.question.searchEnabled&&u.applyInputString(o),u._popupModel.toggleVisibility()});var i=new F.ListModel(l,a,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return i.renderElements=!1,i.forceShowFilter=!0,i.areSameItemsCallback=function(o,p){return o===p},i},g.prototype.updateAfterListModelCreated=function(u){var l=this;u.isItemSelected=function(a){return!!a.selected},u.locOwner=this.question,u.onPropertyChanged.add(function(a,i){"hasVerticalScroller"==i.name&&(l.hasScroll=i.newValue)}),u.isAllDataLoaded=!this.question.choicesLazyLoadEnabled},g.prototype.updateCssClasses=function(u,l){this.popupModel.cssClass=(new M.CssClassBuilder).append(u).append(this.popupCssClasses).toString(),this.listModel.cssClasses=l},g.prototype.resetFilterString=function(){this.filterString&&(this.filterString=void 0)},g.prototype.clear=function(){this.inputString=null,this.hintString="",this.resetFilterString()},g.prototype.onSetFilterString=function(){var u=this;this.filterString&&!this.popupModel.isVisible&&(this.popupModel.isVisible=!0);var l=function(){u.setFilterStringToListModel(u.filterString),u.popupRecalculatePosition(!0)};this.question.choicesLazyLoadEnabled?(this.resetItemsSettings(),this.updateQuestionChoices(l)):l()},Object.defineProperty(g.prototype,"isAllDataLoaded",{get:function(){return!!this.itemsSettings.totalCount&&this.itemsSettings.items.length==this.itemsSettings.totalCount},enumerable:!1,configurable:!0}),g.prototype.applyInputString=function(u){(null==u?void 0:u.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.inputString="",this.hintString=""):(this.inputString=null==u?void 0:u.title,this.hintString=null==u?void 0:u.title)},g.prototype.fixInputCase=function(){var u=this.hintStringMiddle;u&&this.inputString!=u&&(this.inputString=u)},g.prototype.applyHintString=function(u){(null==u?void 0:u.locText.hasHtml)||this.question.inputFieldComponentName?(this._markdownMode=!0,this.hintString=""):this.hintString=null==u?void 0:u.title},Object.defineProperty(g.prototype,"inputStringRendered",{get:function(){return this.inputString||""},set:function(u){this.inputString=u,this.filterString=u,this.applyHintString(this.listModel.focusedItem||this.question.selectedItem)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"placeholderRendered",{get:function(){return this.hintString?"":this.question.readOnlyText},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"listElementId",{get:function(){return this.question.inputId+"_list"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hintStringLC",{get:function(){var u;return(null===(u=this.hintString)||void 0===u?void 0:u.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"inputStringLC",{get:function(){var u;return(null===(u=this.inputString)||void 0===u?void 0:u.toLowerCase())||""},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHintPrefix",{get:function(){return!!this.inputString&&this.hintStringLC.indexOf(this.inputStringLC)>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hintStringPrefix",{get:function(){return this.inputString?this.hintString.substring(0,this.hintStringLC.indexOf(this.inputStringLC)):null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showHintString",{get:function(){return!!this.question.searchEnabled&&this.hintStringLC&&this.hintStringLC.indexOf(this.inputStringLC)>=0||!this.question.searchEnabled&&this.hintStringLC&&this.question.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hintStringSuffix",{get:function(){return this.hintString.substring(this.hintStringLC.indexOf(this.inputStringLC)+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hintStringMiddle",{get:function(){var u=this.hintStringLC.indexOf(this.inputStringLC);return-1==u?null:this.hintString.substring(u,u+this.inputStringLC.length)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"popupModel",{get:function(){return this._popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"inputReadOnly",{get:function(){return this.question.isInputReadOnly||this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"filterStringEnabled",{get:function(){return!this.question.isInputReadOnly&&this.searchEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"inputMode",{get:function(){return h.IsTouch?"none":"text"},enumerable:!1,configurable:!0}),g.prototype.setSearchEnabled=function(u){this.listModel.searchEnabled=h.IsTouch,this.listModel.showSearchClearButton=h.IsTouch,this.searchEnabled=u},g.prototype.updateItems=function(){this.listModel.setItems(this.getAvailableItems())},g.prototype.onClick=function(u){if(this._popupModel.toggleVisibility(),this.focusItemOnClickAndPopup(),this.searchEnabled&&u&&u.target){var l=u.target.querySelector("input");l&&l.focus()}},g.prototype.onPropertyChangedHandler=function(u,l){"value"==l.name&&(this.showInputFieldComponent=this.question.showInputFieldComponent)},g.prototype.focusItemOnClickAndPopup=function(){this._popupModel.isVisible&&this.question.value&&this.changeSelectionWithKeyboard(!1)},g.prototype.onClear=function(u){this.question.clearValue(),this._popupModel.isVisible=!1,u&&(u.preventDefault(),u.stopPropagation())},g.prototype.getSelectedAction=function(){return this.question.selectedItem||null},g.prototype.changeSelectionWithKeyboard=function(u){var l,a=this.listModel.focusedItem;!a&&this.question.selectedItem?K.ItemValue.getItemByValue(this.question.choices,this.question.value)&&(this.listModel.focusedItem=this.question.selectedItem):u?this.listModel.focusPrevVisibleItem():this.listModel.focusNextVisibleItem(),this.beforeScrollToFocusedItem(a),this.scrollToFocusedItem(),this.afterScrollToFocusedItem(),this.ariaActivedescendant=null===(l=this.listModel.focusedItem)||void 0===l?void 0:l.elementId},g.prototype.beforeScrollToFocusedItem=function(u){this.question.value&&u&&(u.selectedValue=!1,this.listModel.focusedItem.selectedValue=!this.listModel.filterString,this.question.suggestedItem=this.listModel.focusedItem)},g.prototype.afterScrollToFocusedItem=function(){var u;this.question.value&&!this.listModel.filterString&&this.question.searchEnabled?this.applyInputString(this.listModel.focusedItem||this.question.selectedItem):this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.fixInputCase(),this.ariaActivedescendant=null===(u=this.listModel.focusedItem)||void 0===u?void 0:u.elementId},g.prototype.keyHandler=function(u){var l=u.which||u.keyCode;if(this.popupModel.isVisible&&38===u.keyCode?(this.changeSelectionWithKeyboard(!0),u.preventDefault(),u.stopPropagation()):40===u.keyCode&&(this.popupModel.isVisible||this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),u.preventDefault(),u.stopPropagation()),9===u.keyCode)this.popupModel.isVisible=!1;else if(this.popupModel.isVisible||13!==u.keyCode&&32!==u.keyCode)if(!this.popupModel.isVisible||13!==u.keyCode&&(32!==u.keyCode||this.question.searchEnabled&&this.inputString))if(46===l||8===l)this.searchEnabled||this.onClear(u);else if(27===u.keyCode)this._popupModel.isVisible=!1,this.hintString="",this.onEscape();else{if((38===u.keyCode||40===u.keyCode||32===u.keyCode&&!this.question.searchEnabled)&&(u.preventDefault(),u.stopPropagation()),32===u.keyCode&&this.question.searchEnabled)return;Object(D.doKey2ClickUp)(u,{processEsc:!1,disableTabStop:this.question.isInputReadOnly})}else 13===u.keyCode&&this.question.searchEnabled&&!this.inputString&&this.question instanceof w.QuestionDropdownModel&&!this._markdownMode&&this.question.value?(this._popupModel.isVisible=!1,this.onClear(u),this.question.survey.questionEditFinishCallback(this.question,u)):(this.listModel.selectFocusedItem(),this.onFocus(u),this.question.survey.questionEditFinishCallback(this.question,u)),u.preventDefault(),u.stopPropagation();else this.popupModel.toggleVisibility(),this.changeSelectionWithKeyboard(!1),u.preventDefault(),u.stopPropagation()},g.prototype.onEscape=function(){this.question.searchEnabled&&this.applyInputString(this.question.selectedItem)},g.prototype.onScroll=function(u){var l=u.target;l.scrollHeight-(l.scrollTop+l.offsetHeight)<=this.loadingItemHeight&&this.updateQuestionChoices()},g.prototype.onBlur=function(u){this.focused=!1,this.popupModel.isVisible&&h.IsTouch?this._popupModel.isVisible=!0:(this.resetFilterString(),this.inputString=null,this.hintString="",Object(D.doKey2ClickBlur)(u),this._popupModel.isVisible=!1,u.stopPropagation())},g.prototype.onFocus=function(u){this.focused=!0,this.setInputStringFromSelectedItem(this.question.selectedItem)},g.prototype.setInputStringFromSelectedItem=function(u){!this.focused||(this.question.searchEnabled&&u?this.applyInputString(u):this.inputString=null)},g.prototype.dispose=function(){E.prototype.dispose.call(this),this.listModel&&this.listModel.dispose(),this.popupModel&&this.popupModel.dispose()},g.prototype.scrollToFocusedItem=function(){this.listModel.scrollToFocusedItem()},y([Object(j.property)({defaultValue:!0})],g.prototype,"searchEnabled",void 0),y([Object(j.property)({defaultValue:"",onSet:function(u,l){l.onSetFilterString()}})],g.prototype,"filterString",void 0),y([Object(j.property)({defaultValue:"",onSet:function(u,l){l.question.inputHasValue=!!u}})],g.prototype,"inputString",void 0),y([Object(j.property)({})],g.prototype,"showInputFieldComponent",void 0),y([Object(j.property)()],g.prototype,"ariaActivedescendant",void 0),y([Object(j.property)({defaultValue:!1,onSet:function(u,l){u?l.listModel.addScrollEventListener(function(a){l.onScroll(a)}):l.listModel.removeScrollEventListener()}})],g.prototype,"hasScroll",void 0),y([Object(j.property)({defaultValue:""})],g.prototype,"hintString",void 0),g}(L.Base)},"./src/dropdownMultiSelectListModel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DropdownMultiSelectListModel",function(){return D});var P,L=m("./src/base.ts"),K=m("./src/dropdownListModel.ts"),j=m("./src/jsonobject.ts"),F=m("./src/multiSelectListModel.ts"),S=m("./src/settings.ts"),w=m("./src/utils/devices.ts"),M=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),h=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},D=function(P){function y(v,E){var g=P.call(this,v,E)||this;return g.popupCssClasses="sv-multi-select-list",g.setHideSelectedItems(v.hideSelectedItems),g.syncFilterStringPlaceholder(),g.closeOnSelect=v.closeOnSelect,g}return M(y,P),y.prototype.updateListState=function(){this.listModel.updateState(),this.syncFilterStringPlaceholder()},y.prototype.syncFilterStringPlaceholder=function(){var v=this.getSelectedActions();this.filterStringPlaceholder=v.length||this.question.selectedItems.length||this.listModel.focusedItem?void 0:this.question.placeholder},y.prototype.getSelectedActions=function(){return this.listModel.actions.filter(function(v){return v.selected})},y.prototype.getFocusFirstInputSelector=function(){return this.listModel.hideSelectedItems&&w.IsTouch&&!this.isValueEmpty(this.question.value)?this.itemSelector:P.prototype.getFocusFirstInputSelector.call(this)},y.prototype.createListModel=function(){var v=this,E=this.getAvailableItems(),g=this.onSelectionChanged;g||(g=function(l,a){v.resetFilterString(),"selectall"===l.value?v.selectAllItems():"added"===a&&l.value===S.settings.noneItemValue?v.selectNoneItem():"added"===a?v.selectItem(l.value):"removed"===a&&v.deselectItem(l.value),v.popupRecalculatePosition(!1),v.closeOnSelect&&(v.popupModel.isVisible=!1)});var u=new F.MultiSelectListModel(E,g,!1,void 0,this.question.choicesLazyLoadEnabled?this.listModelFilterStringChanged:void 0,this.listElementId);return u.forceShowFilter=!0,u},y.prototype.resetFilterString=function(){P.prototype.resetFilterString.call(this),this.inputString=null,this.hintString=""},Object.defineProperty(y.prototype,"shouldResetAfterCancel",{get:function(){return w.IsTouch&&!this.closeOnSelect},enumerable:!1,configurable:!0}),y.prototype.createPopup=function(){var v=this;P.prototype.createPopup.call(this),this.popupModel.onFooterActionsCreated.add(function(E,g){v.shouldResetAfterCancel&&g.actions.push({id:"sv-dropdown-done-button",title:v.doneButtonCaption,innerCss:"sv-popup__button--done",needSpace:!0,action:function(){v.popupModel.isVisible=!1},enabled:new L.ComputedUpdater(function(){return!v.isTwoValueEquals(v.question.renderedValue,v.previousValue)})})}),this.popupModel.onVisibilityChanged.add(function(E,g){v.shouldResetAfterCancel&&g.isVisible&&(v.previousValue=[].concat(v.question.renderedValue||[]))}),this.popupModel.onCancel=function(){v.shouldResetAfterCancel&&(v.question.renderedValue=v.previousValue,v.updateListState())}},y.prototype.selectAllItems=function(){this.question.toggleSelectAll(),this.updateListState()},y.prototype.selectNoneItem=function(){this.question.renderedValue=[S.settings.noneItemValue],this.updateListState()},y.prototype.selectItem=function(v){var E=[].concat(this.question.renderedValue||[]);E.push(v),this.question.renderedValue=E,this.updateListState()},y.prototype.deselectItem=function(v){var E=[].concat(this.question.renderedValue||[]);E.splice(E.indexOf(v),1),this.question.renderedValue=E,this.applyHintString(this.listModel.focusedItem),this.updateListState()},y.prototype.clear=function(){P.prototype.clear.call(this),this.syncFilterStringPlaceholder()},y.prototype.onClear=function(v){P.prototype.onClear.call(this,v),this.updateListState()},y.prototype.setHideSelectedItems=function(v){this.listModel.hideSelectedItems=v,this.updateListState()},y.prototype.removeLastSelectedItem=function(){this.deselectItem(this.question.renderedValue[this.question.renderedValue.length-1]),this.popupRecalculatePosition(!1)},y.prototype.inputKeyHandler=function(v){8===v.keyCode&&!this.filterString&&(this.removeLastSelectedItem(),v.preventDefault(),v.stopPropagation())},y.prototype.setInputStringFromSelectedItem=function(v){this.question.searchEnabled&&(this.inputString=null)},y.prototype.focusItemOnClickAndPopup=function(){},y.prototype.onEscape=function(){},y.prototype.beforeScrollToFocusedItem=function(v){},y.prototype.afterScrollToFocusedItem=function(){var v;(null===(v=this.listModel.focusedItem)||void 0===v?void 0:v.selected)?this.hintString="":this.applyHintString(this.listModel.focusedItem||this.question.selectedItem),this.syncFilterStringPlaceholder()},y.prototype.onPropertyChangedHandler=function(v,E){P.prototype.onPropertyChangedHandler.call(this,v,E),("value"===E.name||"renderedValue"===E.name)&&this.syncFilterStringPlaceholder()},h([Object(j.property)({defaultValue:""})],y.prototype,"filterStringPlaceholder",void 0),h([Object(j.property)({defaultValue:!0})],y.prototype,"closeOnSelect",void 0),h([Object(j.property)()],y.prototype,"previousValue",void 0),h([Object(j.property)({localizable:{defaultStr:"tagboxDoneButtonCaption"}})],y.prototype,"doneButtonCaption",void 0),y}(K.DropdownListModel)},"./src/dxSurveyService.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"dxSurveyService",function(){return K});var L=m("./src/settings.ts"),K=function(){function j(){}return Object.defineProperty(j,"serviceUrl",{get:function(){return L.settings.web.surveyServiceUrl},set:function(F){L.settings.web.surveyServiceUrl=F},enumerable:!1,configurable:!0}),j.prototype.loadSurvey=function(F,S){var w=new XMLHttpRequest;w.open("GET",j.serviceUrl+"/getSurvey?surveyId="+F),w.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),w.onload=function(){var M=JSON.parse(w.response);S(200==w.status,M,w.response)},w.send()},j.prototype.getSurveyJsonAndIsCompleted=function(F,S,w){var M=new XMLHttpRequest;M.open("GET",j.serviceUrl+"/getSurveyAndIsCompleted?surveyId="+F+"&clientId="+S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.onload=function(){var h=JSON.parse(M.response);w(200==M.status,h?h.survey:null,h?h.isCompleted:null,M.response)},M.send()},j.prototype.sendResult=function(F,S,w,M,h){void 0===M&&(M=null),void 0===h&&(h=!1);var D=new XMLHttpRequest;D.open("POST",j.serviceUrl+"/post/"),D.setRequestHeader("Content-Type","application/json; charset=utf-8");var P={postId:F,surveyResult:JSON.stringify(S)};M&&(P.clientId=M),h&&(P.isPartialCompleted=!0);var y=JSON.stringify(P);D.onload=D.onerror=function(){!w||w(200===D.status,D.response,D)},D.send(y)},j.prototype.sendFile=function(F,S,w){var M=new XMLHttpRequest;M.onload=M.onerror=function(){!w||w(200==M.status,JSON.parse(M.response))},M.open("POST",j.serviceUrl+"/upload/",!0);var h=new FormData;h.append("file",S),h.append("postId",F),M.send(h)},j.prototype.getResult=function(F,S,w){var M=new XMLHttpRequest;M.open("GET",j.serviceUrl+"/getResult?resultId="+F+"&name="+S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.onload=function(){var P=null,y=null;if(200==M.status)for(var v in y=[],(P=JSON.parse(M.response)).QuestionResult)y.push({name:v,value:P.QuestionResult[v]});w(200==M.status,P,y,M.response)},M.send()},j.prototype.isCompleted=function(F,S,w){var M=new XMLHttpRequest;M.open("GET",j.serviceUrl+"/isCompleted?resultId="+F+"&clientId="+S),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.onload=function(){var P=null;200==M.status&&(P=JSON.parse(M.response)),w(200==M.status,P,M.response)},M.send()},j}()},"./src/element-helper.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ElementHelper",function(){return L});var L=function(){function K(){}return K.focusElement=function(j){j&&j.focus()},K.visibility=function(j){var F=window.getComputedStyle(j);return"none"!==F.display&&"hidden"!==F.visibility&&(!j.parentElement||this.visibility(j.parentElement))},K.getNextElementPreorder=function(j){var F=j.nextElementSibling?j.nextElementSibling:j.parentElement.firstElementChild;return this.visibility(F)?F:this.getNextElementPreorder(F)},K.getNextElementPostorder=function(j){var F=j.previousElementSibling?j.previousElementSibling:j.parentElement.lastElementChild;return this.visibility(F)?F:this.getNextElementPostorder(F)},K.hasHorizontalScroller=function(j){return!!j&&j.scrollWidth>j.offsetWidth},K.hasVerticalScroller=function(j){return!!j&&j.scrollHeight>j.offsetHeight},K}()},"./src/entries/chunks/model.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Version",function(){return Uo}),m.d(V,"ReleaseDate",function(){return zo}),m.d(V,"checkLibraryVersion",function(){return ws}),m.d(V,"setLicenseKey",function(){return Wo}),m.d(V,"hasLicense",function(){return Ti});var L=m("./src/settings.ts");m.d(V,"settings",function(){return L.settings});var K=m("./src/helpers.ts");m.d(V,"Helpers",function(){return K.Helpers});var j=m("./src/validator.ts");m.d(V,"AnswerCountValidator",function(){return j.AnswerCountValidator}),m.d(V,"EmailValidator",function(){return j.EmailValidator}),m.d(V,"NumericValidator",function(){return j.NumericValidator}),m.d(V,"RegexValidator",function(){return j.RegexValidator}),m.d(V,"SurveyValidator",function(){return j.SurveyValidator}),m.d(V,"TextValidator",function(){return j.TextValidator}),m.d(V,"ValidatorResult",function(){return j.ValidatorResult}),m.d(V,"ExpressionValidator",function(){return j.ExpressionValidator}),m.d(V,"ValidatorRunner",function(){return j.ValidatorRunner});var F=m("./src/itemvalue.ts");m.d(V,"ItemValue",function(){return F.ItemValue});var S=m("./src/base.ts");m.d(V,"Base",function(){return S.Base}),m.d(V,"Event",function(){return S.Event}),m.d(V,"EventBase",function(){return S.EventBase}),m.d(V,"ArrayChanges",function(){return S.ArrayChanges}),m.d(V,"ComputedUpdater",function(){return S.ComputedUpdater});var w=m("./src/survey-error.ts");m.d(V,"SurveyError",function(){return w.SurveyError});var M=m("./src/survey-element.ts");m.d(V,"SurveyElementCore",function(){return M.SurveyElementCore}),m.d(V,"SurveyElement",function(){return M.SurveyElement}),m.d(V,"DragTypeOverMeEnum",function(){return M.DragTypeOverMeEnum});var h=m("./src/calculatedValue.ts");m.d(V,"CalculatedValue",function(){return h.CalculatedValue});var D=m("./src/error.ts");m.d(V,"CustomError",function(){return D.CustomError}),m.d(V,"AnswerRequiredError",function(){return D.AnswerRequiredError}),m.d(V,"OneAnswerRequiredError",function(){return D.OneAnswerRequiredError}),m.d(V,"RequreNumericError",function(){return D.RequreNumericError}),m.d(V,"ExceedSizeError",function(){return D.ExceedSizeError});var P=m("./src/localizablestring.ts");m.d(V,"LocalizableString",function(){return P.LocalizableString}),m.d(V,"LocalizableStrings",function(){return P.LocalizableStrings});var y=m("./src/expressionItems.ts");m.d(V,"HtmlConditionItem",function(){return y.HtmlConditionItem}),m.d(V,"UrlConditionItem",function(){return y.UrlConditionItem});var v=m("./src/choicesRestful.ts");m.d(V,"ChoicesRestful",function(){return v.ChoicesRestful}),m.d(V,"ChoicesRestfull",function(){return v.ChoicesRestfull});var E=m("./src/functionsfactory.ts");m.d(V,"FunctionFactory",function(){return E.FunctionFactory}),m.d(V,"registerFunction",function(){return E.registerFunction});var g=m("./src/conditions.ts");m.d(V,"ConditionRunner",function(){return g.ConditionRunner}),m.d(V,"ExpressionRunner",function(){return g.ExpressionRunner}),m.d(V,"ExpressionExecutor",function(){return g.ExpressionExecutor});var u=m("./src/expressions/expressions.ts");m.d(V,"Operand",function(){return u.Operand}),m.d(V,"Const",function(){return u.Const}),m.d(V,"BinaryOperand",function(){return u.BinaryOperand}),m.d(V,"Variable",function(){return u.Variable}),m.d(V,"FunctionOperand",function(){return u.FunctionOperand}),m.d(V,"ArrayOperand",function(){return u.ArrayOperand}),m.d(V,"UnaryOperand",function(){return u.UnaryOperand});var l=m("./src/conditionsParser.ts");m.d(V,"ConditionsParser",function(){return l.ConditionsParser});var a=m("./src/conditionProcessValue.ts");m.d(V,"ProcessValue",function(){return a.ProcessValue});var i=m("./src/jsonobject.ts");m.d(V,"JsonError",function(){return i.JsonError}),m.d(V,"JsonIncorrectTypeError",function(){return i.JsonIncorrectTypeError}),m.d(V,"JsonMetadata",function(){return i.JsonMetadata}),m.d(V,"JsonMetadataClass",function(){return i.JsonMetadataClass}),m.d(V,"JsonMissingTypeError",function(){return i.JsonMissingTypeError}),m.d(V,"JsonMissingTypeErrorBase",function(){return i.JsonMissingTypeErrorBase}),m.d(V,"JsonObject",function(){return i.JsonObject}),m.d(V,"JsonObjectProperty",function(){return i.JsonObjectProperty}),m.d(V,"JsonRequiredPropertyError",function(){return i.JsonRequiredPropertyError}),m.d(V,"JsonUnknownPropertyError",function(){return i.JsonUnknownPropertyError}),m.d(V,"Serializer",function(){return i.Serializer}),m.d(V,"property",function(){return i.property}),m.d(V,"propertyArray",function(){return i.propertyArray});var o=m("./src/question_matrixdropdownbase.ts");m.d(V,"MatrixDropdownCell",function(){return o.MatrixDropdownCell}),m.d(V,"MatrixDropdownRowModelBase",function(){return o.MatrixDropdownRowModelBase}),m.d(V,"QuestionMatrixDropdownModelBase",function(){return o.QuestionMatrixDropdownModelBase});var p=m("./src/question_matrixdropdowncolumn.ts");m.d(V,"MatrixDropdownColumn",function(){return p.MatrixDropdownColumn}),m.d(V,"matrixDropdownColumnTypes",function(){return p.matrixDropdownColumnTypes});var A=m("./src/question_matrixdropdownrendered.ts");m.d(V,"QuestionMatrixDropdownRenderedCell",function(){return A.QuestionMatrixDropdownRenderedCell}),m.d(V,"QuestionMatrixDropdownRenderedRow",function(){return A.QuestionMatrixDropdownRenderedRow}),m.d(V,"QuestionMatrixDropdownRenderedTable",function(){return A.QuestionMatrixDropdownRenderedTable});var B=m("./src/question_matrixdropdown.ts");m.d(V,"MatrixDropdownRowModel",function(){return B.MatrixDropdownRowModel}),m.d(V,"QuestionMatrixDropdownModel",function(){return B.QuestionMatrixDropdownModel});var O=m("./src/question_matrixdynamic.ts");m.d(V,"MatrixDynamicRowModel",function(){return O.MatrixDynamicRowModel}),m.d(V,"QuestionMatrixDynamicModel",function(){return O.QuestionMatrixDynamicModel});var f=m("./src/question_matrix.ts");m.d(V,"MatrixRowModel",function(){return f.MatrixRowModel}),m.d(V,"MatrixCells",function(){return f.MatrixCells}),m.d(V,"QuestionMatrixModel",function(){return f.QuestionMatrixModel});var b=m("./src/martixBase.ts");m.d(V,"QuestionMatrixBaseModel",function(){return b.QuestionMatrixBaseModel});var C=m("./src/question_multipletext.ts");m.d(V,"MultipleTextItemModel",function(){return C.MultipleTextItemModel}),m.d(V,"QuestionMultipleTextModel",function(){return C.QuestionMultipleTextModel}),m.d(V,"MultipleTextEditorModel",function(){return C.MultipleTextEditorModel});var c=m("./src/panel.ts");m.d(V,"PanelModel",function(){return c.PanelModel}),m.d(V,"PanelModelBase",function(){return c.PanelModelBase}),m.d(V,"QuestionRowModel",function(){return c.QuestionRowModel});var T=m("./src/flowpanel.ts");m.d(V,"FlowPanelModel",function(){return T.FlowPanelModel});var I=m("./src/page.ts");m.d(V,"PageModel",function(){return I.PageModel}),m("./src/template-renderer.ts");var J=m("./src/defaultTitle.ts");m.d(V,"DefaultTitleModel",function(){return J.DefaultTitleModel});var se=m("./src/question.ts");m.d(V,"Question",function(){return se.Question});var he=m("./src/questionnonvalue.ts");m.d(V,"QuestionNonValue",function(){return he.QuestionNonValue});var ie=m("./src/question_empty.ts");m.d(V,"QuestionEmptyModel",function(){return ie.QuestionEmptyModel});var ye=m("./src/question_baseselect.ts");m.d(V,"QuestionCheckboxBase",function(){return ye.QuestionCheckboxBase}),m.d(V,"QuestionSelectBase",function(){return ye.QuestionSelectBase});var Ie=m("./src/question_checkbox.ts");m.d(V,"QuestionCheckboxModel",function(){return Ie.QuestionCheckboxModel});var ue=m("./src/question_tagbox.ts");m.d(V,"QuestionTagboxModel",function(){return ue.QuestionTagboxModel});var fe=m("./src/question_ranking.ts");m.d(V,"QuestionRankingModel",function(){return fe.QuestionRankingModel});var Te=m("./src/question_comment.ts");m.d(V,"QuestionCommentModel",function(){return Te.QuestionCommentModel});var Ae=m("./src/question_dropdown.ts");m.d(V,"QuestionDropdownModel",function(){return Ae.QuestionDropdownModel});var ft=m("./src/questionfactory.ts");m.d(V,"QuestionFactory",function(){return ft.QuestionFactory}),m.d(V,"ElementFactory",function(){return ft.ElementFactory});var Nt=m("./src/question_file.ts");m.d(V,"QuestionFileModel",function(){return Nt.QuestionFileModel});var lr=m("./src/question_html.ts");m.d(V,"QuestionHtmlModel",function(){return lr.QuestionHtmlModel});var gi=m("./src/question_radiogroup.ts");m.d(V,"QuestionRadiogroupModel",function(){return gi.QuestionRadiogroupModel});var Lo=m("./src/question_rating.ts");m.d(V,"QuestionRatingModel",function(){return Lo.QuestionRatingModel}),m.d(V,"RenderedRatingItem",function(){return Lo.RenderedRatingItem});var ja=m("./src/question_expression.ts");m.d(V,"QuestionExpressionModel",function(){return ja.QuestionExpressionModel});var mi=m("./src/question_textbase.ts");m.d(V,"QuestionTextBase",function(){return mi.QuestionTextBase}),m.d(V,"CharacterCounter",function(){return mi.CharacterCounter});var Ha=m("./src/question_text.ts");m.d(V,"QuestionTextModel",function(){return Ha.QuestionTextModel});var yi=m("./src/question_boolean.ts");m.d(V,"QuestionBooleanModel",function(){return yi.QuestionBooleanModel});var bs=m("./src/question_imagepicker.ts");m.d(V,"QuestionImagePickerModel",function(){return bs.QuestionImagePickerModel}),m.d(V,"ImageItemValue",function(){return bs.ImageItemValue});var vi=m("./src/question_image.ts");m.d(V,"QuestionImageModel",function(){return vi.QuestionImageModel});var Ps=m("./src/question_signaturepad.ts");m.d(V,"QuestionSignaturePadModel",function(){return Ps.QuestionSignaturePadModel});var Es=m("./src/question_paneldynamic.ts");m.d(V,"QuestionPanelDynamicModel",function(){return Es.QuestionPanelDynamicModel}),m.d(V,"QuestionPanelDynamicItem",function(){return Es.QuestionPanelDynamicItem});var Qa=m("./src/surveytimer.ts");m.d(V,"SurveyTimer",function(){return Qa.SurveyTimer});var _a=m("./src/surveyTimerModel.ts");m.d(V,"SurveyTimerModel",function(){return _a.SurveyTimerModel});var xn=m("./src/surveyToc.ts");m.d(V,"tryNavigateToPage",function(){return xn.tryNavigateToPage}),m.d(V,"tryFocusPage",function(){return xn.tryFocusPage}),m.d(V,"createTOCListModel",function(){return xn.createTOCListModel}),m.d(V,"getTocRootCss",function(){return xn.getTocRootCss}),m.d(V,"TOCModel",function(){return xn.TOCModel});var Ds=m("./src/surveyProgress.ts");m.d(V,"SurveyProgressModel",function(){return Ds.SurveyProgressModel});var Ua=m("./src/surveyProgressButtons.ts");m.d(V,"SurveyProgressButtonsModel",function(){return Ua.SurveyProgressButtonsModel}),m("./src/themes.ts");var Wa=m("./src/survey.ts");m.d(V,"SurveyModel",function(){return Wa.SurveyModel}),m("./src/survey-events-api.ts");var Pr=m("./src/trigger.ts");m.d(V,"SurveyTrigger",function(){return Pr.SurveyTrigger}),m.d(V,"SurveyTriggerComplete",function(){return Pr.SurveyTriggerComplete}),m.d(V,"SurveyTriggerSetValue",function(){return Pr.SurveyTriggerSetValue}),m.d(V,"SurveyTriggerVisible",function(){return Pr.SurveyTriggerVisible}),m.d(V,"SurveyTriggerCopyValue",function(){return Pr.SurveyTriggerCopyValue}),m.d(V,"SurveyTriggerRunExpression",function(){return Pr.SurveyTriggerRunExpression}),m.d(V,"Trigger",function(){return Pr.Trigger});var Ts=m("./src/popup-survey.ts");m.d(V,"PopupSurveyModel",function(){return Ts.PopupSurveyModel}),m.d(V,"SurveyWindowModel",function(){return Ts.SurveyWindowModel});var $a=m("./src/textPreProcessor.ts");m.d(V,"TextPreProcessor",function(){return $a.TextPreProcessor});var qa=m("./src/notifier.ts");m.d(V,"Notifier",function(){return qa.Notifier});var Ci=m("./src/dxSurveyService.ts");m.d(V,"dxSurveyService",function(){return Ci.dxSurveyService});var bi=m("./src/localization/english.ts");m.d(V,"englishStrings",function(){return bi.englishStrings});var Fo=m("./src/surveyStrings.ts");m.d(V,"surveyLocalization",function(){return Fo.surveyLocalization}),m.d(V,"surveyStrings",function(){return Fo.surveyStrings});var Bo=m("./src/questionCustomWidgets.ts");m.d(V,"QuestionCustomWidget",function(){return Bo.QuestionCustomWidget}),m.d(V,"CustomWidgetCollection",function(){return Bo.CustomWidgetCollection});var _r=m("./src/question_custom.ts");m.d(V,"QuestionCustomModel",function(){return _r.QuestionCustomModel}),m.d(V,"QuestionCompositeModel",function(){return _r.QuestionCompositeModel}),m.d(V,"ComponentQuestionJSON",function(){return _r.ComponentQuestionJSON}),m.d(V,"ComponentCollection",function(){return _r.ComponentCollection});var Is=m("./src/stylesmanager.ts");m.d(V,"StylesManager",function(){return Is.StylesManager});var Pi=m("./src/list.ts");m.d(V,"ListModel",function(){return Pi.ListModel});var Ei=m("./src/multiSelectListModel.ts");m.d(V,"MultiSelectListModel",function(){return Ei.MultiSelectListModel});var No=m("./src/popup.ts");m.d(V,"PopupModel",function(){return No.PopupModel}),m.d(V,"createDialogOptions",function(){return No.createDialogOptions});var jo=m("./src/popup-view-model.ts");m.d(V,"PopupBaseViewModel",function(){return jo.PopupBaseViewModel});var ur=m("./src/popup-dropdown-view-model.ts");m.d(V,"PopupDropdownViewModel",function(){return ur.PopupDropdownViewModel});var xs=m("./src/popup-modal-view-model.ts");m.d(V,"PopupModalViewModel",function(){return xs.PopupModalViewModel});var Di=m("./src/popup-utils.ts");m.d(V,"createPopupViewModel",function(){return Di.createPopupViewModel}),m.d(V,"createPopupModalViewModel",function(){return Di.createPopupModalViewModel});var Os=m("./src/dropdownListModel.ts");m.d(V,"DropdownListModel",function(){return Os.DropdownListModel});var Vs=m("./src/dropdownMultiSelectListModel.ts");m.d(V,"DropdownMultiSelectListModel",function(){return Vs.DropdownMultiSelectListModel});var io=m("./src/question_buttongroup.ts");m.d(V,"QuestionButtonGroupModel",function(){return io.QuestionButtonGroupModel}),m.d(V,"ButtonGroupItemModel",function(){return io.ButtonGroupItemModel}),m.d(V,"ButtonGroupItemValue",function(){return io.ButtonGroupItemValue});var Ho=m("./src/utils/devices.ts");m.d(V,"IsMobile",function(){return Ho.IsMobile}),m.d(V,"IsTouch",function(){return Ho.IsTouch}),m.d(V,"_setIsTouch",function(){return Ho._setIsTouch});var Wn=m("./src/utils/utils.ts");m.d(V,"confirmAction",function(){return Wn.confirmAction}),m.d(V,"detectIEOrEdge",function(){return Wn.detectIEOrEdge}),m.d(V,"doKey2ClickUp",function(){return Wn.doKey2ClickUp}),m.d(V,"doKey2ClickDown",function(){return Wn.doKey2ClickDown}),m.d(V,"doKey2ClickBlur",function(){return Wn.doKey2ClickBlur}),m.d(V,"loadFileFromBase64",function(){return Wn.loadFileFromBase64}),m.d(V,"increaseHeightByContent",function(){return Wn.increaseHeightByContent}),m.d(V,"createSvg",function(){return Wn.createSvg}),m.d(V,"sanitizeEditableContent",function(){return Wn.sanitizeEditableContent});var Yn=m("./src/utils/cssClassBuilder.ts");m.d(V,"CssClassBuilder",function(){return Yn.CssClassBuilder});var Qo=m("./src/defaultCss/defaultV2Css.ts");m.d(V,"surveyCss",function(){return Qo.surveyCss}),m.d(V,"defaultV2Css",function(){return Qo.defaultV2Css}),m.d(V,"defaultV2ThemeName",function(){return Qo.defaultV2ThemeName});var so=m("./src/dragdrop/core.ts");m.d(V,"DragDropCore",function(){return so.DragDropCore});var Ms=m("./src/dragdrop/choices.ts");m.d(V,"DragDropChoices",function(){return Ms.DragDropChoices});var Uo,zo,_o=m("./src/dragdrop/ranking-select-to-rank.ts");function ws(On,lo){Uo!=On&&console.error("survey-core has version '"+Uo+"' and "+lo+" has version '"+On+"'. SurveyJS libraries should have the same versions to work correctly.")}function Wo(On){!function Ii(On,lo,ko){if(On){var Ur=function(cr){var zr,Wr,uo,Er={},Dr=0,$o=0,Et="",co=String.fromCharCode,yt=cr.length,fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(zr=0;zr<64;zr++)Er[fo.charAt(zr)]=zr;for(Wr=0;Wr<yt;Wr++)for(Dr=(Dr<<6)+Er[cr.charAt(Wr)],$o+=6;$o>=8;)((uo=Dr>>>($o-=8)&255)||Wr<yt-2)&&(Et+=co(uo));return Et}(On);if(Ur){var xi=Ur.indexOf(";");xi<0||(Ur=Ur.substring(xi+1)).split(",").forEach(function(cr){var Er=cr.indexOf("=");Er>0&&(lo[cr.substring(0,Er)]=new Date(ko)<=new Date(cr.substring(Er+1)))})}}}(On,ao,zo)}function Ti(On){return!0===ao[On.toString()]}m.d(V,"DragDropRankingSelectToRank",function(){return _o.DragDropRankingSelectToRank}),Uo="1.9.101",zo="2023-08-01";var ao={}},"./src/entries/core-wo-model.ts":function(oe,V,m){"use strict";m.r(V);var L=m("./src/entries/chunks/model.ts");m.d(V,"Version",function(){return L.Version}),m.d(V,"ReleaseDate",function(){return L.ReleaseDate}),m.d(V,"checkLibraryVersion",function(){return L.checkLibraryVersion}),m.d(V,"setLicenseKey",function(){return L.setLicenseKey}),m.d(V,"hasLicense",function(){return L.hasLicense}),m.d(V,"settings",function(){return L.settings}),m.d(V,"Helpers",function(){return L.Helpers}),m.d(V,"AnswerCountValidator",function(){return L.AnswerCountValidator}),m.d(V,"EmailValidator",function(){return L.EmailValidator}),m.d(V,"NumericValidator",function(){return L.NumericValidator}),m.d(V,"RegexValidator",function(){return L.RegexValidator}),m.d(V,"SurveyValidator",function(){return L.SurveyValidator}),m.d(V,"TextValidator",function(){return L.TextValidator}),m.d(V,"ValidatorResult",function(){return L.ValidatorResult}),m.d(V,"ExpressionValidator",function(){return L.ExpressionValidator}),m.d(V,"ValidatorRunner",function(){return L.ValidatorRunner}),m.d(V,"ItemValue",function(){return L.ItemValue}),m.d(V,"Base",function(){return L.Base}),m.d(V,"Event",function(){return L.Event}),m.d(V,"EventBase",function(){return L.EventBase}),m.d(V,"ArrayChanges",function(){return L.ArrayChanges}),m.d(V,"ComputedUpdater",function(){return L.ComputedUpdater}),m.d(V,"SurveyError",function(){return L.SurveyError}),m.d(V,"SurveyElementCore",function(){return L.SurveyElementCore}),m.d(V,"SurveyElement",function(){return L.SurveyElement}),m.d(V,"DragTypeOverMeEnum",function(){return L.DragTypeOverMeEnum}),m.d(V,"CalculatedValue",function(){return L.CalculatedValue}),m.d(V,"CustomError",function(){return L.CustomError}),m.d(V,"AnswerRequiredError",function(){return L.AnswerRequiredError}),m.d(V,"OneAnswerRequiredError",function(){return L.OneAnswerRequiredError}),m.d(V,"RequreNumericError",function(){return L.RequreNumericError}),m.d(V,"ExceedSizeError",function(){return L.ExceedSizeError}),m.d(V,"LocalizableString",function(){return L.LocalizableString}),m.d(V,"LocalizableStrings",function(){return L.LocalizableStrings}),m.d(V,"HtmlConditionItem",function(){return L.HtmlConditionItem}),m.d(V,"UrlConditionItem",function(){return L.UrlConditionItem}),m.d(V,"ChoicesRestful",function(){return L.ChoicesRestful}),m.d(V,"ChoicesRestfull",function(){return L.ChoicesRestfull}),m.d(V,"FunctionFactory",function(){return L.FunctionFactory}),m.d(V,"registerFunction",function(){return L.registerFunction}),m.d(V,"ConditionRunner",function(){return L.ConditionRunner}),m.d(V,"ExpressionRunner",function(){return L.ExpressionRunner}),m.d(V,"ExpressionExecutor",function(){return L.ExpressionExecutor}),m.d(V,"Operand",function(){return L.Operand}),m.d(V,"Const",function(){return L.Const}),m.d(V,"BinaryOperand",function(){return L.BinaryOperand}),m.d(V,"Variable",function(){return L.Variable}),m.d(V,"FunctionOperand",function(){return L.FunctionOperand}),m.d(V,"ArrayOperand",function(){return L.ArrayOperand}),m.d(V,"UnaryOperand",function(){return L.UnaryOperand}),m.d(V,"ConditionsParser",function(){return L.ConditionsParser}),m.d(V,"ProcessValue",function(){return L.ProcessValue}),m.d(V,"JsonError",function(){return L.JsonError}),m.d(V,"JsonIncorrectTypeError",function(){return L.JsonIncorrectTypeError}),m.d(V,"JsonMetadata",function(){return L.JsonMetadata}),m.d(V,"JsonMetadataClass",function(){return L.JsonMetadataClass}),m.d(V,"JsonMissingTypeError",function(){return L.JsonMissingTypeError}),m.d(V,"JsonMissingTypeErrorBase",function(){return L.JsonMissingTypeErrorBase}),m.d(V,"JsonObject",function(){return L.JsonObject}),m.d(V,"JsonObjectProperty",function(){return L.JsonObjectProperty}),m.d(V,"JsonRequiredPropertyError",function(){return L.JsonRequiredPropertyError}),m.d(V,"JsonUnknownPropertyError",function(){return L.JsonUnknownPropertyError}),m.d(V,"Serializer",function(){return L.Serializer}),m.d(V,"property",function(){return L.property}),m.d(V,"propertyArray",function(){return L.propertyArray}),m.d(V,"MatrixDropdownCell",function(){return L.MatrixDropdownCell}),m.d(V,"MatrixDropdownRowModelBase",function(){return L.MatrixDropdownRowModelBase}),m.d(V,"QuestionMatrixDropdownModelBase",function(){return L.QuestionMatrixDropdownModelBase}),m.d(V,"MatrixDropdownColumn",function(){return L.MatrixDropdownColumn}),m.d(V,"matrixDropdownColumnTypes",function(){return L.matrixDropdownColumnTypes}),m.d(V,"QuestionMatrixDropdownRenderedCell",function(){return L.QuestionMatrixDropdownRenderedCell}),m.d(V,"QuestionMatrixDropdownRenderedRow",function(){return L.QuestionMatrixDropdownRenderedRow}),m.d(V,"QuestionMatrixDropdownRenderedTable",function(){return L.QuestionMatrixDropdownRenderedTable}),m.d(V,"MatrixDropdownRowModel",function(){return L.MatrixDropdownRowModel}),m.d(V,"QuestionMatrixDropdownModel",function(){return L.QuestionMatrixDropdownModel}),m.d(V,"MatrixDynamicRowModel",function(){return L.MatrixDynamicRowModel}),m.d(V,"QuestionMatrixDynamicModel",function(){return L.QuestionMatrixDynamicModel}),m.d(V,"MatrixRowModel",function(){return L.MatrixRowModel}),m.d(V,"MatrixCells",function(){return L.MatrixCells}),m.d(V,"QuestionMatrixModel",function(){return L.QuestionMatrixModel}),m.d(V,"QuestionMatrixBaseModel",function(){return L.QuestionMatrixBaseModel}),m.d(V,"MultipleTextItemModel",function(){return L.MultipleTextItemModel}),m.d(V,"QuestionMultipleTextModel",function(){return L.QuestionMultipleTextModel}),m.d(V,"MultipleTextEditorModel",function(){return L.MultipleTextEditorModel}),m.d(V,"PanelModel",function(){return L.PanelModel}),m.d(V,"PanelModelBase",function(){return L.PanelModelBase}),m.d(V,"QuestionRowModel",function(){return L.QuestionRowModel}),m.d(V,"FlowPanelModel",function(){return L.FlowPanelModel}),m.d(V,"PageModel",function(){return L.PageModel}),m.d(V,"DefaultTitleModel",function(){return L.DefaultTitleModel}),m.d(V,"Question",function(){return L.Question}),m.d(V,"QuestionNonValue",function(){return L.QuestionNonValue}),m.d(V,"QuestionEmptyModel",function(){return L.QuestionEmptyModel}),m.d(V,"QuestionCheckboxBase",function(){return L.QuestionCheckboxBase}),m.d(V,"QuestionSelectBase",function(){return L.QuestionSelectBase}),m.d(V,"QuestionCheckboxModel",function(){return L.QuestionCheckboxModel}),m.d(V,"QuestionTagboxModel",function(){return L.QuestionTagboxModel}),m.d(V,"QuestionRankingModel",function(){return L.QuestionRankingModel}),m.d(V,"QuestionCommentModel",function(){return L.QuestionCommentModel}),m.d(V,"QuestionDropdownModel",function(){return L.QuestionDropdownModel}),m.d(V,"QuestionFactory",function(){return L.QuestionFactory}),m.d(V,"ElementFactory",function(){return L.ElementFactory}),m.d(V,"QuestionFileModel",function(){return L.QuestionFileModel}),m.d(V,"QuestionHtmlModel",function(){return L.QuestionHtmlModel}),m.d(V,"QuestionRadiogroupModel",function(){return L.QuestionRadiogroupModel}),m.d(V,"QuestionRatingModel",function(){return L.QuestionRatingModel}),m.d(V,"RenderedRatingItem",function(){return L.RenderedRatingItem}),m.d(V,"QuestionExpressionModel",function(){return L.QuestionExpressionModel}),m.d(V,"QuestionTextBase",function(){return L.QuestionTextBase}),m.d(V,"CharacterCounter",function(){return L.CharacterCounter}),m.d(V,"QuestionTextModel",function(){return L.QuestionTextModel}),m.d(V,"QuestionBooleanModel",function(){return L.QuestionBooleanModel}),m.d(V,"QuestionImagePickerModel",function(){return L.QuestionImagePickerModel}),m.d(V,"ImageItemValue",function(){return L.ImageItemValue}),m.d(V,"QuestionImageModel",function(){return L.QuestionImageModel}),m.d(V,"QuestionSignaturePadModel",function(){return L.QuestionSignaturePadModel}),m.d(V,"QuestionPanelDynamicModel",function(){return L.QuestionPanelDynamicModel}),m.d(V,"QuestionPanelDynamicItem",function(){return L.QuestionPanelDynamicItem}),m.d(V,"SurveyTimer",function(){return L.SurveyTimer}),m.d(V,"SurveyTimerModel",function(){return L.SurveyTimerModel}),m.d(V,"tryNavigateToPage",function(){return L.tryNavigateToPage}),m.d(V,"tryFocusPage",function(){return L.tryFocusPage}),m.d(V,"createTOCListModel",function(){return L.createTOCListModel}),m.d(V,"getTocRootCss",function(){return L.getTocRootCss}),m.d(V,"TOCModel",function(){return L.TOCModel}),m.d(V,"SurveyProgressModel",function(){return L.SurveyProgressModel}),m.d(V,"SurveyProgressButtonsModel",function(){return L.SurveyProgressButtonsModel}),m.d(V,"SurveyModel",function(){return L.SurveyModel}),m.d(V,"SurveyTrigger",function(){return L.SurveyTrigger}),m.d(V,"SurveyTriggerComplete",function(){return L.SurveyTriggerComplete}),m.d(V,"SurveyTriggerSetValue",function(){return L.SurveyTriggerSetValue}),m.d(V,"SurveyTriggerVisible",function(){return L.SurveyTriggerVisible}),m.d(V,"SurveyTriggerCopyValue",function(){return L.SurveyTriggerCopyValue}),m.d(V,"SurveyTriggerRunExpression",function(){return L.SurveyTriggerRunExpression}),m.d(V,"Trigger",function(){return L.Trigger}),m.d(V,"PopupSurveyModel",function(){return L.PopupSurveyModel}),m.d(V,"SurveyWindowModel",function(){return L.SurveyWindowModel}),m.d(V,"TextPreProcessor",function(){return L.TextPreProcessor}),m.d(V,"Notifier",function(){return L.Notifier}),m.d(V,"dxSurveyService",function(){return L.dxSurveyService}),m.d(V,"englishStrings",function(){return L.englishStrings}),m.d(V,"surveyLocalization",function(){return L.surveyLocalization}),m.d(V,"surveyStrings",function(){return L.surveyStrings}),m.d(V,"QuestionCustomWidget",function(){return L.QuestionCustomWidget}),m.d(V,"CustomWidgetCollection",function(){return L.CustomWidgetCollection}),m.d(V,"QuestionCustomModel",function(){return L.QuestionCustomModel}),m.d(V,"QuestionCompositeModel",function(){return L.QuestionCompositeModel}),m.d(V,"ComponentQuestionJSON",function(){return L.ComponentQuestionJSON}),m.d(V,"ComponentCollection",function(){return L.ComponentCollection}),m.d(V,"StylesManager",function(){return L.StylesManager}),m.d(V,"ListModel",function(){return L.ListModel}),m.d(V,"MultiSelectListModel",function(){return L.MultiSelectListModel}),m.d(V,"PopupModel",function(){return L.PopupModel}),m.d(V,"createDialogOptions",function(){return L.createDialogOptions}),m.d(V,"PopupBaseViewModel",function(){return L.PopupBaseViewModel}),m.d(V,"PopupDropdownViewModel",function(){return L.PopupDropdownViewModel}),m.d(V,"PopupModalViewModel",function(){return L.PopupModalViewModel}),m.d(V,"createPopupViewModel",function(){return L.createPopupViewModel}),m.d(V,"createPopupModalViewModel",function(){return L.createPopupModalViewModel}),m.d(V,"DropdownListModel",function(){return L.DropdownListModel}),m.d(V,"DropdownMultiSelectListModel",function(){return L.DropdownMultiSelectListModel}),m.d(V,"QuestionButtonGroupModel",function(){return L.QuestionButtonGroupModel}),m.d(V,"ButtonGroupItemModel",function(){return L.ButtonGroupItemModel}),m.d(V,"ButtonGroupItemValue",function(){return L.ButtonGroupItemValue}),m.d(V,"IsMobile",function(){return L.IsMobile}),m.d(V,"IsTouch",function(){return L.IsTouch}),m.d(V,"_setIsTouch",function(){return L._setIsTouch}),m.d(V,"confirmAction",function(){return L.confirmAction}),m.d(V,"detectIEOrEdge",function(){return L.detectIEOrEdge}),m.d(V,"doKey2ClickUp",function(){return L.doKey2ClickUp}),m.d(V,"doKey2ClickDown",function(){return L.doKey2ClickDown}),m.d(V,"doKey2ClickBlur",function(){return L.doKey2ClickBlur}),m.d(V,"loadFileFromBase64",function(){return L.loadFileFromBase64}),m.d(V,"increaseHeightByContent",function(){return L.increaseHeightByContent}),m.d(V,"createSvg",function(){return L.createSvg}),m.d(V,"sanitizeEditableContent",function(){return L.sanitizeEditableContent}),m.d(V,"CssClassBuilder",function(){return L.CssClassBuilder}),m.d(V,"surveyCss",function(){return L.surveyCss}),m.d(V,"defaultV2Css",function(){return L.defaultV2Css}),m.d(V,"defaultV2ThemeName",function(){return L.defaultV2ThemeName}),m.d(V,"DragDropCore",function(){return L.DragDropCore}),m.d(V,"DragDropChoices",function(){return L.DragDropChoices}),m.d(V,"DragDropRankingSelectToRank",function(){return L.DragDropRankingSelectToRank});var K=m("./src/defaultCss/cssstandard.ts");m.d(V,"defaultStandardCss",function(){return K.defaultStandardCss});var j=m("./src/defaultCss/cssmodern.ts");m.d(V,"modernCss",function(){return j.modernCss});var F=m("./src/svgbundle.ts");m.d(V,"SvgIconRegistry",function(){return F.SvgIconRegistry}),m.d(V,"SvgRegistry",function(){return F.SvgRegistry}),m.d(V,"SvgBundleViewModel",function(){return F.SvgBundleViewModel});var S=m("./src/rendererFactory.ts");m.d(V,"RendererFactory",function(){return S.RendererFactory});var w=m("./src/utils/responsivity-manager.ts");m.d(V,"ResponsivityManager",function(){return w.ResponsivityManager}),m.d(V,"VerticalResponsivityManager",function(){return w.VerticalResponsivityManager});var M=m("./src/utils/utils.ts");m.d(V,"unwrap",function(){return M.unwrap}),m.d(V,"getOriginalEvent",function(){return M.getOriginalEvent}),m.d(V,"getElement",function(){return M.getElement});var h=m("./src/actions/action.ts");m.d(V,"createDropdownActionModel",function(){return h.createDropdownActionModel}),m.d(V,"createDropdownActionModelAdvanced",function(){return h.createDropdownActionModelAdvanced}),m.d(V,"getActionDropdownButtonTarget",function(){return h.getActionDropdownButtonTarget}),m.d(V,"BaseAction",function(){return h.BaseAction}),m.d(V,"Action",function(){return h.Action}),m.d(V,"ActionDropdownViewModel",function(){return h.ActionDropdownViewModel});var D=m("./src/actions/adaptive-container.ts");m.d(V,"AdaptiveActionContainer",function(){return D.AdaptiveActionContainer});var P=m("./src/actions/container.ts");m.d(V,"defaultActionBarCss",function(){return P.defaultActionBarCss}),m.d(V,"ActionContainer",function(){return P.ActionContainer});var y=m("./src/utils/tooltip.ts");m.d(V,"TooltipManager",function(){return y.TooltipManager});var v=m("./src/utils/dragOrClickHelper.ts");m.d(V,"DragOrClickHelper",function(){return v.DragOrClickHelper})},"./src/entries/core.ts":function(oe,V,m){"use strict";m.r(V);var L=m("./src/entries/core-wo-model.ts");m.d(V,"Version",function(){return L.Version}),m.d(V,"ReleaseDate",function(){return L.ReleaseDate}),m.d(V,"checkLibraryVersion",function(){return L.checkLibraryVersion}),m.d(V,"setLicenseKey",function(){return L.setLicenseKey}),m.d(V,"hasLicense",function(){return L.hasLicense}),m.d(V,"settings",function(){return L.settings}),m.d(V,"Helpers",function(){return L.Helpers}),m.d(V,"AnswerCountValidator",function(){return L.AnswerCountValidator}),m.d(V,"EmailValidator",function(){return L.EmailValidator}),m.d(V,"NumericValidator",function(){return L.NumericValidator}),m.d(V,"RegexValidator",function(){return L.RegexValidator}),m.d(V,"SurveyValidator",function(){return L.SurveyValidator}),m.d(V,"TextValidator",function(){return L.TextValidator}),m.d(V,"ValidatorResult",function(){return L.ValidatorResult}),m.d(V,"ExpressionValidator",function(){return L.ExpressionValidator}),m.d(V,"ValidatorRunner",function(){return L.ValidatorRunner}),m.d(V,"ItemValue",function(){return L.ItemValue}),m.d(V,"Base",function(){return L.Base}),m.d(V,"Event",function(){return L.Event}),m.d(V,"EventBase",function(){return L.EventBase}),m.d(V,"ArrayChanges",function(){return L.ArrayChanges}),m.d(V,"ComputedUpdater",function(){return L.ComputedUpdater}),m.d(V,"SurveyError",function(){return L.SurveyError}),m.d(V,"SurveyElementCore",function(){return L.SurveyElementCore}),m.d(V,"SurveyElement",function(){return L.SurveyElement}),m.d(V,"DragTypeOverMeEnum",function(){return L.DragTypeOverMeEnum}),m.d(V,"CalculatedValue",function(){return L.CalculatedValue}),m.d(V,"CustomError",function(){return L.CustomError}),m.d(V,"AnswerRequiredError",function(){return L.AnswerRequiredError}),m.d(V,"OneAnswerRequiredError",function(){return L.OneAnswerRequiredError}),m.d(V,"RequreNumericError",function(){return L.RequreNumericError}),m.d(V,"ExceedSizeError",function(){return L.ExceedSizeError}),m.d(V,"LocalizableString",function(){return L.LocalizableString}),m.d(V,"LocalizableStrings",function(){return L.LocalizableStrings}),m.d(V,"HtmlConditionItem",function(){return L.HtmlConditionItem}),m.d(V,"UrlConditionItem",function(){return L.UrlConditionItem}),m.d(V,"ChoicesRestful",function(){return L.ChoicesRestful}),m.d(V,"ChoicesRestfull",function(){return L.ChoicesRestfull}),m.d(V,"FunctionFactory",function(){return L.FunctionFactory}),m.d(V,"registerFunction",function(){return L.registerFunction}),m.d(V,"ConditionRunner",function(){return L.ConditionRunner}),m.d(V,"ExpressionRunner",function(){return L.ExpressionRunner}),m.d(V,"ExpressionExecutor",function(){return L.ExpressionExecutor}),m.d(V,"Operand",function(){return L.Operand}),m.d(V,"Const",function(){return L.Const}),m.d(V,"BinaryOperand",function(){return L.BinaryOperand}),m.d(V,"Variable",function(){return L.Variable}),m.d(V,"FunctionOperand",function(){return L.FunctionOperand}),m.d(V,"ArrayOperand",function(){return L.ArrayOperand}),m.d(V,"UnaryOperand",function(){return L.UnaryOperand}),m.d(V,"ConditionsParser",function(){return L.ConditionsParser}),m.d(V,"ProcessValue",function(){return L.ProcessValue}),m.d(V,"JsonError",function(){return L.JsonError}),m.d(V,"JsonIncorrectTypeError",function(){return L.JsonIncorrectTypeError}),m.d(V,"JsonMetadata",function(){return L.JsonMetadata}),m.d(V,"JsonMetadataClass",function(){return L.JsonMetadataClass}),m.d(V,"JsonMissingTypeError",function(){return L.JsonMissingTypeError}),m.d(V,"JsonMissingTypeErrorBase",function(){return L.JsonMissingTypeErrorBase}),m.d(V,"JsonObject",function(){return L.JsonObject}),m.d(V,"JsonObjectProperty",function(){return L.JsonObjectProperty}),m.d(V,"JsonRequiredPropertyError",function(){return L.JsonRequiredPropertyError}),m.d(V,"JsonUnknownPropertyError",function(){return L.JsonUnknownPropertyError}),m.d(V,"Serializer",function(){return L.Serializer}),m.d(V,"property",function(){return L.property}),m.d(V,"propertyArray",function(){return L.propertyArray}),m.d(V,"MatrixDropdownCell",function(){return L.MatrixDropdownCell}),m.d(V,"MatrixDropdownRowModelBase",function(){return L.MatrixDropdownRowModelBase}),m.d(V,"QuestionMatrixDropdownModelBase",function(){return L.QuestionMatrixDropdownModelBase}),m.d(V,"MatrixDropdownColumn",function(){return L.MatrixDropdownColumn}),m.d(V,"matrixDropdownColumnTypes",function(){return L.matrixDropdownColumnTypes}),m.d(V,"QuestionMatrixDropdownRenderedCell",function(){return L.QuestionMatrixDropdownRenderedCell}),m.d(V,"QuestionMatrixDropdownRenderedRow",function(){return L.QuestionMatrixDropdownRenderedRow}),m.d(V,"QuestionMatrixDropdownRenderedTable",function(){return L.QuestionMatrixDropdownRenderedTable}),m.d(V,"MatrixDropdownRowModel",function(){return L.MatrixDropdownRowModel}),m.d(V,"QuestionMatrixDropdownModel",function(){return L.QuestionMatrixDropdownModel}),m.d(V,"MatrixDynamicRowModel",function(){return L.MatrixDynamicRowModel}),m.d(V,"QuestionMatrixDynamicModel",function(){return L.QuestionMatrixDynamicModel}),m.d(V,"MatrixRowModel",function(){return L.MatrixRowModel}),m.d(V,"MatrixCells",function(){return L.MatrixCells}),m.d(V,"QuestionMatrixModel",function(){return L.QuestionMatrixModel}),m.d(V,"QuestionMatrixBaseModel",function(){return L.QuestionMatrixBaseModel}),m.d(V,"MultipleTextItemModel",function(){return L.MultipleTextItemModel}),m.d(V,"QuestionMultipleTextModel",function(){return L.QuestionMultipleTextModel}),m.d(V,"MultipleTextEditorModel",function(){return L.MultipleTextEditorModel}),m.d(V,"PanelModel",function(){return L.PanelModel}),m.d(V,"PanelModelBase",function(){return L.PanelModelBase}),m.d(V,"QuestionRowModel",function(){return L.QuestionRowModel}),m.d(V,"FlowPanelModel",function(){return L.FlowPanelModel}),m.d(V,"PageModel",function(){return L.PageModel}),m.d(V,"DefaultTitleModel",function(){return L.DefaultTitleModel}),m.d(V,"Question",function(){return L.Question}),m.d(V,"QuestionNonValue",function(){return L.QuestionNonValue}),m.d(V,"QuestionEmptyModel",function(){return L.QuestionEmptyModel}),m.d(V,"QuestionCheckboxBase",function(){return L.QuestionCheckboxBase}),m.d(V,"QuestionSelectBase",function(){return L.QuestionSelectBase}),m.d(V,"QuestionCheckboxModel",function(){return L.QuestionCheckboxModel}),m.d(V,"QuestionTagboxModel",function(){return L.QuestionTagboxModel}),m.d(V,"QuestionRankingModel",function(){return L.QuestionRankingModel}),m.d(V,"QuestionCommentModel",function(){return L.QuestionCommentModel}),m.d(V,"QuestionDropdownModel",function(){return L.QuestionDropdownModel}),m.d(V,"QuestionFactory",function(){return L.QuestionFactory}),m.d(V,"ElementFactory",function(){return L.ElementFactory}),m.d(V,"QuestionFileModel",function(){return L.QuestionFileModel}),m.d(V,"QuestionHtmlModel",function(){return L.QuestionHtmlModel}),m.d(V,"QuestionRadiogroupModel",function(){return L.QuestionRadiogroupModel}),m.d(V,"QuestionRatingModel",function(){return L.QuestionRatingModel}),m.d(V,"RenderedRatingItem",function(){return L.RenderedRatingItem}),m.d(V,"QuestionExpressionModel",function(){return L.QuestionExpressionModel}),m.d(V,"QuestionTextBase",function(){return L.QuestionTextBase}),m.d(V,"CharacterCounter",function(){return L.CharacterCounter}),m.d(V,"QuestionTextModel",function(){return L.QuestionTextModel}),m.d(V,"QuestionBooleanModel",function(){return L.QuestionBooleanModel}),m.d(V,"QuestionImagePickerModel",function(){return L.QuestionImagePickerModel}),m.d(V,"ImageItemValue",function(){return L.ImageItemValue}),m.d(V,"QuestionImageModel",function(){return L.QuestionImageModel}),m.d(V,"QuestionSignaturePadModel",function(){return L.QuestionSignaturePadModel}),m.d(V,"QuestionPanelDynamicModel",function(){return L.QuestionPanelDynamicModel}),m.d(V,"QuestionPanelDynamicItem",function(){return L.QuestionPanelDynamicItem}),m.d(V,"SurveyTimer",function(){return L.SurveyTimer}),m.d(V,"SurveyTimerModel",function(){return L.SurveyTimerModel}),m.d(V,"tryNavigateToPage",function(){return L.tryNavigateToPage}),m.d(V,"tryFocusPage",function(){return L.tryFocusPage}),m.d(V,"createTOCListModel",function(){return L.createTOCListModel}),m.d(V,"getTocRootCss",function(){return L.getTocRootCss}),m.d(V,"TOCModel",function(){return L.TOCModel}),m.d(V,"SurveyProgressModel",function(){return L.SurveyProgressModel}),m.d(V,"SurveyProgressButtonsModel",function(){return L.SurveyProgressButtonsModel}),m.d(V,"SurveyModel",function(){return L.SurveyModel}),m.d(V,"SurveyTrigger",function(){return L.SurveyTrigger}),m.d(V,"SurveyTriggerComplete",function(){return L.SurveyTriggerComplete}),m.d(V,"SurveyTriggerSetValue",function(){return L.SurveyTriggerSetValue}),m.d(V,"SurveyTriggerVisible",function(){return L.SurveyTriggerVisible}),m.d(V,"SurveyTriggerCopyValue",function(){return L.SurveyTriggerCopyValue}),m.d(V,"SurveyTriggerRunExpression",function(){return L.SurveyTriggerRunExpression}),m.d(V,"Trigger",function(){return L.Trigger}),m.d(V,"PopupSurveyModel",function(){return L.PopupSurveyModel}),m.d(V,"SurveyWindowModel",function(){return L.SurveyWindowModel}),m.d(V,"TextPreProcessor",function(){return L.TextPreProcessor}),m.d(V,"Notifier",function(){return L.Notifier}),m.d(V,"dxSurveyService",function(){return L.dxSurveyService}),m.d(V,"englishStrings",function(){return L.englishStrings}),m.d(V,"surveyLocalization",function(){return L.surveyLocalization}),m.d(V,"surveyStrings",function(){return L.surveyStrings}),m.d(V,"QuestionCustomWidget",function(){return L.QuestionCustomWidget}),m.d(V,"CustomWidgetCollection",function(){return L.CustomWidgetCollection}),m.d(V,"QuestionCustomModel",function(){return L.QuestionCustomModel}),m.d(V,"QuestionCompositeModel",function(){return L.QuestionCompositeModel}),m.d(V,"ComponentQuestionJSON",function(){return L.ComponentQuestionJSON}),m.d(V,"ComponentCollection",function(){return L.ComponentCollection}),m.d(V,"StylesManager",function(){return L.StylesManager}),m.d(V,"ListModel",function(){return L.ListModel}),m.d(V,"MultiSelectListModel",function(){return L.MultiSelectListModel}),m.d(V,"PopupModel",function(){return L.PopupModel}),m.d(V,"createDialogOptions",function(){return L.createDialogOptions}),m.d(V,"PopupBaseViewModel",function(){return L.PopupBaseViewModel}),m.d(V,"PopupDropdownViewModel",function(){return L.PopupDropdownViewModel}),m.d(V,"PopupModalViewModel",function(){return L.PopupModalViewModel}),m.d(V,"createPopupViewModel",function(){return L.createPopupViewModel}),m.d(V,"createPopupModalViewModel",function(){return L.createPopupModalViewModel}),m.d(V,"DropdownListModel",function(){return L.DropdownListModel}),m.d(V,"DropdownMultiSelectListModel",function(){return L.DropdownMultiSelectListModel}),m.d(V,"QuestionButtonGroupModel",function(){return L.QuestionButtonGroupModel}),m.d(V,"ButtonGroupItemModel",function(){return L.ButtonGroupItemModel}),m.d(V,"ButtonGroupItemValue",function(){return L.ButtonGroupItemValue}),m.d(V,"IsMobile",function(){return L.IsMobile}),m.d(V,"IsTouch",function(){return L.IsTouch}),m.d(V,"_setIsTouch",function(){return L._setIsTouch}),m.d(V,"confirmAction",function(){return L.confirmAction}),m.d(V,"detectIEOrEdge",function(){return L.detectIEOrEdge}),m.d(V,"doKey2ClickUp",function(){return L.doKey2ClickUp}),m.d(V,"doKey2ClickDown",function(){return L.doKey2ClickDown}),m.d(V,"doKey2ClickBlur",function(){return L.doKey2ClickBlur}),m.d(V,"loadFileFromBase64",function(){return L.loadFileFromBase64}),m.d(V,"increaseHeightByContent",function(){return L.increaseHeightByContent}),m.d(V,"createSvg",function(){return L.createSvg}),m.d(V,"sanitizeEditableContent",function(){return L.sanitizeEditableContent}),m.d(V,"CssClassBuilder",function(){return L.CssClassBuilder}),m.d(V,"surveyCss",function(){return L.surveyCss}),m.d(V,"defaultV2Css",function(){return L.defaultV2Css}),m.d(V,"defaultV2ThemeName",function(){return L.defaultV2ThemeName}),m.d(V,"DragDropCore",function(){return L.DragDropCore}),m.d(V,"DragDropChoices",function(){return L.DragDropChoices}),m.d(V,"DragDropRankingSelectToRank",function(){return L.DragDropRankingSelectToRank}),m.d(V,"defaultStandardCss",function(){return L.defaultStandardCss}),m.d(V,"modernCss",function(){return L.modernCss}),m.d(V,"SvgIconRegistry",function(){return L.SvgIconRegistry}),m.d(V,"SvgRegistry",function(){return L.SvgRegistry}),m.d(V,"SvgBundleViewModel",function(){return L.SvgBundleViewModel}),m.d(V,"RendererFactory",function(){return L.RendererFactory}),m.d(V,"ResponsivityManager",function(){return L.ResponsivityManager}),m.d(V,"VerticalResponsivityManager",function(){return L.VerticalResponsivityManager}),m.d(V,"unwrap",function(){return L.unwrap}),m.d(V,"getOriginalEvent",function(){return L.getOriginalEvent}),m.d(V,"getElement",function(){return L.getElement}),m.d(V,"createDropdownActionModel",function(){return L.createDropdownActionModel}),m.d(V,"createDropdownActionModelAdvanced",function(){return L.createDropdownActionModelAdvanced}),m.d(V,"getActionDropdownButtonTarget",function(){return L.getActionDropdownButtonTarget}),m.d(V,"BaseAction",function(){return L.BaseAction}),m.d(V,"Action",function(){return L.Action}),m.d(V,"ActionDropdownViewModel",function(){return L.ActionDropdownViewModel}),m.d(V,"AdaptiveActionContainer",function(){return L.AdaptiveActionContainer}),m.d(V,"defaultActionBarCss",function(){return L.defaultActionBarCss}),m.d(V,"ActionContainer",function(){return L.ActionContainer}),m.d(V,"TooltipManager",function(){return L.TooltipManager}),m.d(V,"DragOrClickHelper",function(){return L.DragOrClickHelper});var K=m("./src/survey.ts");m.d(V,"Model",function(){return K.SurveyModel})},"./src/error.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"AnswerRequiredError",function(){return F}),m.d(V,"OneAnswerRequiredError",function(){return S}),m.d(V,"RequreNumericError",function(){return w}),m.d(V,"ExceedSizeError",function(){return M}),m.d(V,"WebRequestError",function(){return h}),m.d(V,"WebRequestEmptyError",function(){return D}),m.d(V,"OtherEmptyError",function(){return P}),m.d(V,"UploadingFileError",function(){return y}),m.d(V,"RequiredInAllRowsError",function(){return v}),m.d(V,"MinRowCountError",function(){return E}),m.d(V,"KeyDuplicationError",function(){return g}),m.d(V,"CustomError",function(){return u});var l,L=m("./src/surveyStrings.ts"),K=m("./src/survey-error.ts"),j=(l=function(a,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,p){o.__proto__=p}||function(o,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(o[A]=p[A])})(a,i)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=a}l(a,i),a.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),F=function(l){function a(i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"required"},a.prototype.getDefaultText=function(){return this.getLocalizationString("requiredError")},a}(K.SurveyError),S=function(l){function a(i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"requireoneanswer"},a.prototype.getDefaultText=function(){return this.getLocalizationString("requiredErrorInPanel")},a}(K.SurveyError),w=function(l){function a(i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"requirenumeric"},a.prototype.getDefaultText=function(){return this.getLocalizationString("numericError")},a}(K.SurveyError),M=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,null,o)||this;return p.maxSize=i,p.locText.text=p.getText(),p}return j(a,l),a.prototype.getErrorType=function(){return"exceedsize"},a.prototype.getDefaultText=function(){return L.surveyLocalization.getString("exceedMaxSize").format(this.getTextSize())},a.prototype.getTextSize=function(){if(0===this.maxSize)return"0 Byte";var p=Math.floor(Math.log(this.maxSize)/Math.log(1024));return(this.maxSize/Math.pow(1024,p)).toFixed([0,0,2,3,3][p])+" "+["Bytes","KB","MB","GB","TB"][p]},a}(K.SurveyError),h=function(l){function a(i,o,p){void 0===p&&(p=null);var A=l.call(this,null,p)||this;return A.status=i,A.response=o,A}return j(a,l),a.prototype.getErrorType=function(){return"webrequest"},a.prototype.getDefaultText=function(){var i=this.getLocalizationString("urlRequestError");return i?i.format(this.status,this.response):""},a}(K.SurveyError),D=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"webrequestempty"},a.prototype.getDefaultText=function(){return this.getLocalizationString("urlGetChoicesError")},a}(K.SurveyError),P=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"otherempty"},a.prototype.getDefaultText=function(){return this.getLocalizationString("otherRequiredError")},a}(K.SurveyError),y=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"uploadingfile"},a.prototype.getDefaultText=function(){return this.getLocalizationString("uploadingFile")},a}(K.SurveyError),v=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"requiredinallrowserror"},a.prototype.getDefaultText=function(){return this.getLocalizationString("requiredInAllRowsError")},a}(K.SurveyError),E=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,null,o)||this;return p.minRowCount=i,p}return j(a,l),a.prototype.getErrorType=function(){return"minrowcounterror"},a.prototype.getDefaultText=function(){return L.surveyLocalization.getString("minRowCountError").format(this.minRowCount)},a}(K.SurveyError),g=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"keyduplicationerror"},a.prototype.getDefaultText=function(){return this.getLocalizationString("keyDuplicationError")},a}(K.SurveyError),u=function(l){function a(i,o){void 0===o&&(o=null);var p=l.call(this,i,o)||this;return p.text=i,p}return j(a,l),a.prototype.getErrorType=function(){return"custom"},a}(K.SurveyError)},"./src/expressionItems.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ExpressionItem",function(){return S}),m.d(V,"HtmlConditionItem",function(){return w}),m.d(V,"UrlConditionItem",function(){return M});var h,L=m("./src/jsonobject.ts"),K=m("./src/base.ts"),j=m("./src/conditions.ts"),F=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),S=function(h){function D(P){void 0===P&&(P=null);var y=h.call(this)||this;return y.expression=P,y}return F(D,h),D.prototype.getType=function(){return"expressionitem"},D.prototype.runCondition=function(P,y){return!!this.expression&&new j.ConditionRunner(this.expression).run(P,y)},Object.defineProperty(D.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(P){this.setPropertyValue("expression",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),D.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},D.prototype.getMarkdownHtml=function(P,y){return this.locOwner?this.locOwner.getMarkdownHtml(P,y):void 0},D.prototype.getRenderer=function(P){return this.locOwner?this.locOwner.getRenderer(P):null},D.prototype.getRendererContext=function(P){return this.locOwner?this.locOwner.getRendererContext(P):P},D.prototype.getProcessedText=function(P){return this.locOwner?this.locOwner.getProcessedText(P):P},D.prototype.getSurvey=function(P){return void 0===P&&(P=!1),this.locOwner},D}(K.Base),w=function(h){function D(P,y){void 0===P&&(P=null),void 0===y&&(y=null);var v=h.call(this,P)||this;return v.createLocalizableString("html",v),v.html=y,v}return F(D,h),D.prototype.getType=function(){return"htmlconditionitem"},Object.defineProperty(D.prototype,"html",{get:function(){return this.getLocalizableStringText("html")},set:function(P){this.setLocalizableStringText("html",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),D}(S),M=function(h){function D(P,y){void 0===P&&(P=null),void 0===y&&(y=null);var v=h.call(this,P)||this;return v.createLocalizableString("url",v),v.url=y,v}return F(D,h),D.prototype.getType=function(){return"urlconditionitem"},Object.defineProperty(D.prototype,"url",{get:function(){return this.getLocalizableStringText("url")},set:function(P){this.setLocalizableStringText("url",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locUrl",{get:function(){return this.getLocalizableString("url")},enumerable:!1,configurable:!0}),D}(S);L.Serializer.addClass("expressionitem",["expression:condition"],function(){return new S},"base"),L.Serializer.addClass("htmlconditionitem",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new w},"expressionitem"),L.Serializer.addClass("urlconditionitem",[{name:"url:string",serializationProperty:"locUrl"}],function(){return new M},"expressionitem")},"./src/expressions/expressionParser.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SyntaxError",function(){return j}),m.d(V,"parse",function(){return S});var w,L=m("./src/expressions/expressions.ts"),K=(w=function(M,h){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(D[y]=P[y])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function D(){this.constructor=M}w(M,h),M.prototype=null===h?Object.create(h):(D.prototype=h.prototype,new D)}),j=function(w){function M(h,D,P,y){var v=w.call(this)||this;return v.message=h,v.expected=D,v.found=P,v.location=y,v.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(v,M),v}return K(M,w),M.buildMessage=function(h,D){function P(l){return l.charCodeAt(0).toString(16).toUpperCase()}function y(l){return l.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+P(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+P(a)})}function v(l){return l.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+P(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+P(a)})}function E(l){switch(l.type){case"literal":return'"'+y(l.text)+'"';case"class":var a=l.parts.map(function(i){return Array.isArray(i)?v(i[0])+"-"+v(i[1]):v(i)});return"["+(l.inverted?"^":"")+a+"]";case"any":return"any character";case"end":return"end of input";case"other":return l.description}}return"Expected "+function g(l){var i,o,a=l.map(E);if(a.sort(),a.length>0){for(i=1,o=1;i<a.length;i++)a[i-1]!==a[i]&&(a[o]=a[i],o++);a.length=o}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(h)+" but "+function u(l){return l?'"'+y(l)+'"':"end of input"}(D)+" found."},M}(Error);var S=function F(w,M){M=void 0!==M?M:{};var Go,h={},D={Expression:Ht},P=Ht,y=function(z,q){return rl(z,q,!0)},E=je("||",!1),u=je("or",!0),i=je("&&",!1),p=je("and",!0),B=function(z,q){return rl(z,q)},f=je("<=",!1),C=je("lessorequal",!0),I=je(">=",!1),J=je("greaterorequal",!0),ie=je("==",!1),Ie=je("equal",!0),Te=je("=",!1),ft=je("!=",!1),lr=je("notequal",!0),ja=je("<",!1),Ha=je("less",!0),vi=je(">",!1),Es=je("greater",!0),xn=je("+",!1),za=je("-",!1),Pr=je("*",!1),qa=je("/",!1),Fo=je("%",!1),Is=je("^",!1),Ei=je("power",!0),ur=je("*=",!1),Di=je("contains",!0),Vs=je("contain",!0),Wn=je("notcontains",!0),Qo=je("notcontain",!0),_o=je("anyof",!0),ws=je("allof",!0),ao=je("(",!1),On=je(")",!1),Ur=je("!",!1),cr=je("negate",!0),Ka=je("empty",!0),$o="notempty",uo=je("notempty",!0),co="undefined",yt=je("undefined",!1),Rs=je("null",!1),Qp=je("{",!1),As=je("}",!1),_p=je("''",!1),Vn=je('""',!1),Za=je("'",!1),Wu=function(z){return"'"+z+"'"},ku=je('"',!1),zp=je("[",!1),$u=je("]",!1),qu=je(",",!1),$p=je("true",!0),pt=je("false",!0),Ls=je("0x",!1),Ku=/^[\-]/,Gu=jt(["-"],!1,!1),Fs=je(".",!1),Bs=je("0",!1),dr=function(z){return z.join("")},Jp=je("\\'",!1),Zp=je('\\"',!1),er=/^[^"']/,Yu=jt(['"',"'"],!0,!1),js=function(){return pn()},Xu=/^[^{}]/,Xp=jt(["{","}"],!0,!1),xt=/^[0-9]/,ec=jt([["0","9"]],!1,!1),tc=/^[1-9]/,kr=jt([["1","9"]],!1,!1),Mt=/^[a-zA-Z_]/,Ko=jt([["a","z"],["A","Z"],"_"],!1,!1),Hs=function wn(z){return{type:"other",description:z}}("whitespace"),Vi=/^[ \t\n\r]/,Qs=jt([" ","\t","\n","\r"],!1,!1),W=0,_e=0,Mi=[{line:1,column:1}],me=0,_s=[],Re=0,Qe={};if(void 0!==M.startRule){if(!(M.startRule in D))throw new Error("Can't start parsing from rule \""+M.startRule+'".');P=D[M.startRule]}function pn(){return w.substring(_e,W)}function je(z,q){return{type:"literal",text:z,ignoreCase:q}}function jt(z,q,ce){return{type:"class",parts:z,inverted:q,ignoreCase:ce}}function Jo(z){var ce,q=Mi[z];if(q)return q;for(ce=z-1;!Mi[ce];)ce--;for(q={line:(q=Mi[ce]).line,column:q.column};ce<z;)10===w.charCodeAt(ce)?(q.line++,q.column=1):q.column++,ce++;return Mi[z]=q,q}function we(z){W<me||(W>me&&(me=W,_s=[]),_s.push(z))}function Ht(){var z,ce,X,de,Ee,Le,Ue,Dt,Ot=34*W+0,ol=Qe[Ot];if(ol)return W=ol.nextPos,ol.result;if(z=W,lt()!==h)if((ce=bn())!==h){for(X=[],de=W,(Ee=lt())!==h&&(Le=nl())!==h&&(Ue=lt())!==h&&(Dt=bn())!==h?de=Ee=[Ee,Le,Ue,Dt]:(W=de,de=h);de!==h;)X.push(de),de=W,(Ee=lt())!==h&&(Le=nl())!==h&&(Ue=lt())!==h&&(Dt=bn())!==h?de=Ee=[Ee,Le,Ue,Dt]:(W=de,de=h);X!==h&&(de=lt())!==h?(_e=z,z=y(ce,X)):(W=z,z=h)}else W=z,z=h;else W=z,z=h;return Qe[Ot]={nextPos:W,result:z},z}function nl(){var z,q,ce=34*W+1,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"||"===w.substr(W,2)?(q="||",W+=2):(q=h,0===Re&&we(E)),q===h&&("or"===w.substr(W,2).toLowerCase()?(q=w.substr(W,2),W+=2):(q=h,0===Re&&we(u))),q!==h&&(_e=z,q="or"),Qe[ce]={nextPos:W,result:z=q},z)}function bn(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+2,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=ct())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=Fe())!==h&&(Le=lt())!==h&&(Ue=ct())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=Fe())!==h&&(Le=lt())!==h&&(Ue=ct())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);ce!==h?(_e=z,z=q=y(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function Fe(){var z,q,ce=34*W+3,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"&&"===w.substr(W,2)?(q="&&",W+=2):(q=h,0===Re&&we(i)),q===h&&("and"===w.substr(W,3).toLowerCase()?(q=w.substr(W,3),W+=3):(q=h,0===Re&&we(p))),q!==h&&(_e=z,q="and"),Qe[ce]={nextPos:W,result:z=q},z)}function ct(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+4,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=hn())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=At())!==h&&(Le=lt())!==h&&(Ue=hn())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=At())!==h&&(Le=lt())!==h&&(Ue=hn())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);ce!==h?(_e=z,z=q=B(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function At(){var z,q,ce=34*W+5,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"<="===w.substr(W,2)?(q="<=",W+=2):(q=h,0===Re&&we(f)),q===h&&("lessorequal"===w.substr(W,11).toLowerCase()?(q=w.substr(W,11),W+=11):(q=h,0===Re&&we(C))),q!==h&&(_e=z,q="lessorequal"),(z=q)===h&&(z=W,">="===w.substr(W,2)?(q=">=",W+=2):(q=h,0===Re&&we(I)),q===h&&("greaterorequal"===w.substr(W,14).toLowerCase()?(q=w.substr(W,14),W+=14):(q=h,0===Re&&we(J))),q!==h&&(_e=z,q="greaterorequal"),(z=q)===h&&(z=W,"=="===w.substr(W,2)?(q="==",W+=2):(q=h,0===Re&&we(ie)),q===h&&("equal"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(Ie))),q!==h&&(_e=z,q="equal"),(z=q)===h&&(z=W,61===w.charCodeAt(W)?(q="=",W++):(q=h,0===Re&&we(Te)),q===h&&("equal"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(Ie))),q!==h&&(_e=z,q="equal"),(z=q)===h&&(z=W,"!="===w.substr(W,2)?(q="!=",W+=2):(q=h,0===Re&&we(ft)),q===h&&("notequal"===w.substr(W,8).toLowerCase()?(q=w.substr(W,8),W+=8):(q=h,0===Re&&we(lr))),q!==h&&(_e=z,q="notequal"),(z=q)===h&&(z=W,60===w.charCodeAt(W)?(q="<",W++):(q=h,0===Re&&we(ja)),q===h&&("less"===w.substr(W,4).toLowerCase()?(q=w.substr(W,4),W+=4):(q=h,0===Re&&we(Ha))),q!==h&&(_e=z,q="less"),(z=q)===h&&(z=W,62===w.charCodeAt(W)?(q=">",W++):(q=h,0===Re&&we(vi)),q===h&&("greater"===w.substr(W,7).toLowerCase()?(q=w.substr(W,7),W+=7):(q=h,0===Re&&we(Es))),q!==h&&(_e=z,q="greater"),z=q)))))),Qe[ce]={nextPos:W,result:z},z)}function hn(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+6,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=kt())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=xr())!==h&&(Le=lt())!==h&&(Ue=kt())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=xr())!==h&&(Le=lt())!==h&&(Ue=kt())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);ce!==h?(_e=z,z=q=y(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function xr(){var z,q,ce=34*W+7,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,43===w.charCodeAt(W)?(q="+",W++):(q=h,0===Re&&we(xn)),q!==h&&(_e=z,q="plus"),(z=q)===h&&(z=W,45===w.charCodeAt(W)?(q="-",W++):(q=h,0===Re&&we(za)),q!==h&&(_e=z,q="minus"),z=q),Qe[ce]={nextPos:W,result:z},z)}function kt(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+8,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=Lt())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=Or())!==h&&(Le=lt())!==h&&(Ue=Lt())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=Or())!==h&&(Le=lt())!==h&&(Ue=Lt())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);ce!==h?(_e=z,z=q=y(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function Or(){var z,q,ce=34*W+9,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,42===w.charCodeAt(W)?(q="*",W++):(q=h,0===Re&&we(Pr)),q!==h&&(_e=z,q="mul"),(z=q)===h&&(z=W,47===w.charCodeAt(W)?(q="/",W++):(q=h,0===Re&&we(qa)),q!==h&&(_e=z,q="div"),(z=q)===h&&(z=W,37===w.charCodeAt(W)?(q="%",W++):(q=h,0===Re&&we(Fo)),q!==h&&(_e=z,q="mod"),z=q)),Qe[ce]={nextPos:W,result:z},z)}function Lt(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+10,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=Vr())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=po())!==h&&(Le=lt())!==h&&(Ue=Vr())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=po())!==h&&(Le=lt())!==h&&(Ue=Vr())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h);ce!==h?(_e=z,z=q=y(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function po(){var z,q,ce=34*W+11,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,94===w.charCodeAt(W)?(q="^",W++):(q=h,0===Re&&we(Is)),q===h&&("power"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(Ei))),q!==h&&(_e=z,q="power"),Qe[ce]={nextPos:W,result:z=q},z)}function Vr(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+12,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=ho())!==h){for(ce=[],X=W,(de=lt())!==h&&(Ee=rt())!==h&&(Le=lt())!==h?((Ue=ho())===h&&(Ue=null),Ue!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h)):(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h&&(Ee=rt())!==h&&(Le=lt())!==h?((Ue=ho())===h&&(Ue=null),Ue!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h)):(W=X,X=h);ce!==h?(_e=z,z=q=B(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function rt(){var z,q,ce=34*W+13,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"*="===w.substr(W,2)?(q="*=",W+=2):(q=h,0===Re&&we(ur)),q===h&&("contains"===w.substr(W,8).toLowerCase()?(q=w.substr(W,8),W+=8):(q=h,0===Re&&we(Di)),q===h&&("contain"===w.substr(W,7).toLowerCase()?(q=w.substr(W,7),W+=7):(q=h,0===Re&&we(Vs)))),q!==h&&(_e=z,q="contains"),(z=q)===h&&(z=W,"notcontains"===w.substr(W,11).toLowerCase()?(q=w.substr(W,11),W+=11):(q=h,0===Re&&we(Wn)),q===h&&("notcontain"===w.substr(W,10).toLowerCase()?(q=w.substr(W,10),W+=10):(q=h,0===Re&&we(Qo))),q!==h&&(_e=z,q="notcontains"),(z=q)===h&&(z=W,"anyof"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(_o)),q!==h&&(_e=z,q="anyof"),(z=q)===h&&(z=W,"allof"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(ws)),q!==h&&(_e=z,q="allof"),z=q))),Qe[ce]={nextPos:W,result:z},z)}function ho(){var z,q,X,Ee,Le=34*W+14,Ue=Qe[Le];return Ue?(W=Ue.nextPos,Ue.result):(z=W,40===w.charCodeAt(W)?(q="(",W++):(q=h,0===Re&&we(ao)),q!==h&&lt()!==h&&(X=Ht())!==h&&lt()!==h?(41===w.charCodeAt(W)?(Ee=")",W++):(Ee=h,0===Re&&we(On)),Ee===h&&(Ee=null),Ee!==h?(_e=z,z=q=X):(W=z,z=h)):(W=z,z=h),z===h&&(z=function go(){var z,q,ce,X,de,Ee=34*W+15,Le=Qe[Ee];return Le?(W=Le.nextPos,Le.result):(z=W,(q=Xo())!==h?(40===w.charCodeAt(W)?(ce="(",W++):(ce=h,0===Re&&we(ao)),ce!==h&&(X=Qn())!==h?(41===w.charCodeAt(W)?(de=")",W++):(de=h,0===Re&&we(On)),de===h&&(de=null),de!==h?(_e=z,z=q=function(z,q){return new L.FunctionOperand(z,q)}(q,X)):(W=z,z=h)):(W=z,z=h)):(W=z,z=h),Qe[Ee]={nextPos:W,result:z},z)}())===h&&(z=function Us(){var z,q,X,de=34*W+16,Ee=Qe[de];return Ee?(W=Ee.nextPos,Ee.result):(z=W,33===w.charCodeAt(W)?(q="!",W++):(q=h,0===Re&&we(Ur)),q===h&&("negate"===w.substr(W,6).toLowerCase()?(q=w.substr(W,6),W+=6):(q=h,0===Re&&we(cr))),q!==h&&lt()!==h&&(X=Ht())!==h?(_e=z,z=q=function(z){return new L.UnaryOperand(z,"negate")}(X)):(W=z,z=h),z===h&&(z=W,(q=dn())!==h&&lt()!==h&&(X=function mo(){var z,q,ce=34*W+17,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"empty"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(Ka)),q!==h&&(_e=z,q="empty"),(z=q)===h&&(z=W,w.substr(W,8).toLowerCase()===$o?(q=w.substr(W,8),W+=8):(q=h,0===Re&&we(uo)),q!==h&&(_e=z,q="notempty"),z=q),Qe[ce]={nextPos:W,result:z},z)}())!==h?(_e=z,z=q=function(z,q){return new L.UnaryOperand(z,q)}(q,X)):(W=z,z=h)),Qe[de]={nextPos:W,result:z},z)}())===h&&(z=dn())===h&&(z=function yo(){var z,q,ce,X,de=34*W+20,Ee=Qe[de];return Ee?(W=Ee.nextPos,Ee.result):(z=W,91===w.charCodeAt(W)?(q="[",W++):(q=h,0===Re&&we(zp)),q!==h&&(ce=Qn())!==h?(93===w.charCodeAt(W)?(X="]",W++):(X=h,0===Re&&we($u)),X!==h?(_e=z,z=q=ce):(W=z,z=h)):(W=z,z=h),Qe[de]={nextPos:W,result:z},z)}()),Qe[Le]={nextPos:W,result:z},z)}function dn(){var z,ce,X,de,Ee=34*W+18,Le=Qe[Ee];return Le?(W=Le.nextPos,Le.result):(z=W,lt()!==h?(w.substr(W,9)===co?(ce=co,W+=9):(ce=h,0===Re&&we(yt)),ce===h&&("null"===w.substr(W,4)?(ce="null",W+=4):(ce=h,0===Re&&we(Rs))),ce!==h?(_e=z,z=null):(W=z,z=h)):(W=z,z=h),z===h&&(z=W,lt()!==h&&(ce=function Zo(){var z,q,ce,X,de=34*W+19,Ee=Qe[de];return Ee?(W=Ee.nextPos,Ee.result):(z=W,(q=function St(){var z,q,ce=34*W+22,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"true"===w.substr(W,4).toLowerCase()?(q=w.substr(W,4),W+=4):(q=h,0===Re&&we($p)),q!==h&&(_e=z,q=!0),(z=q)===h&&(z=W,"false"===w.substr(W,5).toLowerCase()?(q=w.substr(W,5),W+=5):(q=h,0===Re&&we(pt)),q!==h&&(_e=z,q=!1),z=q),Qe[ce]={nextPos:W,result:z},z)}())!==h&&(_e=z),(z=q)===h&&(z=W,(q=function rc(){var z,q,ce,X=34*W+23,de=Qe[X];return de?(W=de.nextPos,de.result):(z=W,"0x"===w.substr(W,2)?(q="0x",W+=2):(q=h,0===Re&&we(Ls)),q!==h&&(ce=fn())!==h?(_e=z,z=q=parseInt(pn(),16)):(W=z,z=h),z===h&&(z=W,Ku.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Gu)),q===h&&(q=null),q!==h&&(ce=function oc(){var z,q,ce,de=34*W+24,Ee=Qe[de];return Ee?(W=Ee.nextPos,Ee.result):(z=W,(q=fn())!==h?(46===w.charCodeAt(W)?(ce=".",W++):(ce=h,0===Re&&we(Fs)),ce!==h&&fn()!==h?(_e=z,z=q=parseFloat(pn())):(W=z,z=h)):(W=z,z=h),z===h&&(z=W,(q=function ic(){var z,q,ce=34*W+31,X=Qe[ce];if(X)return W=X.nextPos,X.result;if(z=[],tc.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(kr)),q!==h)for(;q!==h;)z.push(q),tc.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(kr));else z=h;return Qe[ce]={nextPos:W,result:z},z}())!==h?((ce=fn())===h&&(ce=null),ce!==h?(_e=z,z=q=parseInt(pn(),10)):(W=z,z=h)):(W=z,z=h),z===h&&(z=W,48===w.charCodeAt(W)?(q="0",W++):(q=h,0===Re&&we(Bs)),q!==h&&(_e=z,q=0),z=q)),Qe[de]={nextPos:W,result:z},z)}())!==h?(_e=z,z=q=function(z,q){return null==z?q:-q}(q,ce)):(W=z,z=h)),Qe[X]={nextPos:W,result:z},z)}())!==h&&(_e=z),(z=q)===h&&(z=W,(q=Xo())!==h&&(_e=z),(z=q)===h&&(z=W,"''"===w.substr(W,2)?(q="''",W+=2):(q=h,0===Re&&we(_p)),q!==h&&(_e=z,q=""),(z=q)===h&&(z=W,'""'===w.substr(W,2)?(q='""',W+=2):(q=h,0===Re&&we(Vn)),q!==h&&(_e=z,q=""),(z=q)===h&&(z=W,39===w.charCodeAt(W)?(q="'",W++):(q=h,0===Re&&we(Za)),q!==h&&(ce=_n())!==h?(39===w.charCodeAt(W)?(X="'",W++):(X=h,0===Re&&we(Za)),X!==h?(_e=z,z=q=Wu(ce)):(W=z,z=h)):(W=z,z=h),z===h&&(z=W,34===w.charCodeAt(W)?(q='"',W++):(q=h,0===Re&&we(ku)),q!==h&&(ce=_n())!==h?(34===w.charCodeAt(W)?(X='"',W++):(X=h,0===Re&&we(ku)),X!==h?(_e=z,z=q=Wu(ce)):(W=z,z=h)):(W=z,z=h))))))),Qe[de]={nextPos:W,result:z},z)}())!==h?(_e=z,z=function(z){return new L.Const(z)}(ce)):(W=z,z=h),z===h&&(z=W,lt()!==h?(123===w.charCodeAt(W)?(ce="{",W++):(ce=h,0===Re&&we(Qp)),ce!==h&&(X=function tr(){var z,q,ce,X=34*W+25,de=Qe[X];if(de)return W=de.nextPos,de.result;if(z=W,q=[],(ce=Yo())!==h)for(;ce!==h;)q.push(ce),ce=Yo();else q=h;return q!==h&&(_e=z,q=dr(q)),Qe[X]={nextPos:W,result:z=q},z}())!==h?(125===w.charCodeAt(W)?(de="}",W++):(de=h,0===Re&&we(As)),de!==h?(_e=z,z=function(z){return new L.Variable(z)}(X)):(W=z,z=h)):(W=z,z=h)):(W=z,z=h))),Qe[Ee]={nextPos:W,result:z},z)}function Qn(){var z,q,ce,X,de,Ee,Le,Ue,Dt=34*W+21,Ot=Qe[Dt];if(Ot)return W=Ot.nextPos,Ot.result;if(z=W,(q=Ht())===h&&(q=null),q!==h){for(ce=[],X=W,(de=lt())!==h?(44===w.charCodeAt(W)?(Ee=",",W++):(Ee=h,0===Re&&we(qu)),Ee!==h&&(Le=lt())!==h&&(Ue=Ht())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h)):(W=X,X=h);X!==h;)ce.push(X),X=W,(de=lt())!==h?(44===w.charCodeAt(W)?(Ee=",",W++):(Ee=h,0===Re&&we(qu)),Ee!==h&&(Le=lt())!==h&&(Ue=Ht())!==h?X=de=[de,Ee,Le,Ue]:(W=X,X=h)):(W=X,X=h);ce!==h?(_e=z,z=q=function(z,q){if(null==z)return new L.ArrayOperand([]);var ce=[z];if(Array.isArray(q))for(var X=function th(z){return[].concat.apply([],z)}(q),de=3;de<X.length;de+=4)ce.push(X[de]);return new L.ArrayOperand(ce)}(q,ce)):(W=z,z=h)}else W=z,z=h;return Qe[Dt]={nextPos:W,result:z},z}function _n(){var z,q,ce,X=34*W+26,de=Qe[X];if(de)return W=de.nextPos,de.result;if(z=W,q=[],(ce=Si())!==h)for(;ce!==h;)q.push(ce),ce=Si();else q=h;return q!==h&&(_e=z,q=dr(q)),Qe[X]={nextPos:W,result:z=q},z}function Si(){var z,q,ce=34*W+27,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,"\\'"===w.substr(W,2)?(q="\\'",W+=2):(q=h,0===Re&&we(Jp)),q!==h&&(_e=z,q="'"),(z=q)===h&&(z=W,'\\"'===w.substr(W,2)?(q='\\"',W+=2):(q=h,0===Re&&we(Zp)),q!==h&&(_e=z,q='"'),(z=q)===h&&(z=W,er.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Yu)),q!==h&&(_e=z,q=js()),z=q)),Qe[ce]={nextPos:W,result:z},z)}function Yo(){var z,q,ce=34*W+28,X=Qe[ce];return X?(W=X.nextPos,X.result):(z=W,Xu.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Xp)),q!==h&&(_e=z,q=js()),Qe[ce]={nextPos:W,result:z=q},z)}function Xo(){var z,ce,X,de,Ee,Le,Ue=34*W+29,Dt=Qe[Ue];if(Dt)return W=Dt.nextPos,Dt.result;if(z=W,Ri()!==h){if(ce=[],X=W,(de=fn())!==h){for(Ee=[],Le=Ri();Le!==h;)Ee.push(Le),Le=Ri();Ee!==h?X=de=[de,Ee]:(W=X,X=h)}else W=X,X=h;for(;X!==h;)if(ce.push(X),X=W,(de=fn())!==h){for(Ee=[],Le=Ri();Le!==h;)Ee.push(Le),Le=Ri();Ee!==h?X=de=[de,Ee]:(W=X,X=h)}else W=X,X=h;ce!==h?(_e=z,z=js()):(W=z,z=h)}else W=z,z=h;return Qe[Ue]={nextPos:W,result:z},z}function fn(){var z,q,ce=34*W+30,X=Qe[ce];if(X)return W=X.nextPos,X.result;if(z=[],xt.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(ec)),q!==h)for(;q!==h;)z.push(q),xt.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(ec));else z=h;return Qe[ce]={nextPos:W,result:z},z}function Ri(){var z,q,ce=34*W+32,X=Qe[ce];if(X)return W=X.nextPos,X.result;if(z=[],Mt.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Ko)),q!==h)for(;q!==h;)z.push(q),Mt.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Ko));else z=h;return Qe[ce]={nextPos:W,result:z},z}function lt(){var z,q,ce=34*W+33,X=Qe[ce];if(X)return W=X.nextPos,X.result;for(Re++,z=[],Vi.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Qs));q!==h;)z.push(q),Vi.test(w.charAt(W))?(q=w.charAt(W),W++):(q=h,0===Re&&we(Qs));return Re--,z===h&&(q=h,0===Re&&we(Hs)),Qe[ce]={nextPos:W,result:z},z}function rl(z,q,ce){return void 0===ce&&(ce=!1),q.reduce(function(X,de){return new L.BinaryOperand(de[1],X,de[3],ce)},z)}if((Go=P())!==h&&W===w.length)return Go;throw Go!==h&&W<w.length&&we({type:"end"}),function Ir(z,q,ce){return new j(j.buildMessage(z,q),z,q,ce)}(_s,me<w.length?w.charAt(me):null,function Kr(z,q){var ce=Jo(z),X=Jo(q);return{start:{offset:z,line:ce.line,column:ce.column},end:{offset:q,line:X.line,column:X.column}}}(me,me<w.length?me+1:me))}},"./src/expressions/expressions.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Operand",function(){return w}),m.d(V,"BinaryOperand",function(){return M}),m.d(V,"UnaryOperand",function(){return h}),m.d(V,"ArrayOperand",function(){return D}),m.d(V,"Const",function(){return P}),m.d(V,"Variable",function(){return y}),m.d(V,"FunctionOperand",function(){return v}),m.d(V,"OperandMaker",function(){return E});var g,L=m("./src/helpers.ts"),K=m("./src/functionsfactory.ts"),j=m("./src/conditionProcessValue.ts"),F=m("./src/settings.ts"),S=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),w=function(){function g(){}return g.prototype.toString=function(u){return void 0===u&&(u=void 0),""},g.prototype.hasFunction=function(){return!1},g.prototype.hasAsyncFunction=function(){return!1},g.prototype.addToAsyncList=function(u){},g.prototype.isEqual=function(u){return!!u&&u.getType()===this.getType()&&this.isContentEqual(u)},g.prototype.areOperatorsEquals=function(u,l){return!u&&!l||!!u&&u.isEqual(l)},g}(),M=function(g){function u(l,a,i,o){void 0===a&&(a=null),void 0===i&&(i=null),void 0===o&&(o=!1);var p=g.call(this)||this;return p.operatorName=l,p.left=a,p.right=i,p.isArithmeticValue=o,p.consumer=o?E.binaryFunctions.arithmeticOp(l):E.binaryFunctions[l],null==p.consumer&&E.throwInvalidOperatorError(l),p}return S(u,g),u.prototype.getType=function(){return"binary"},Object.defineProperty(u.prototype,"isArithmetic",{get:function(){return this.isArithmeticValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isConjunction",{get:function(){return"or"==this.operatorName||"and"==this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"conjunction",{get:function(){return this.isConjunction?this.operatorName:""},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leftOperand",{get:function(){return this.left},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rightOperand",{get:function(){return this.right},enumerable:!1,configurable:!0}),u.prototype.isContentEqual=function(l){var a=l;return a.operator===this.operator&&this.areOperatorsEquals(this.left,a.left)&&this.areOperatorsEquals(this.right,a.right)},u.prototype.evaluateParam=function(l,a){return null==l?null:l.evaluate(a)},u.prototype.evaluate=function(l){return this.consumer.call(this,this.evaluateParam(this.left,l),this.evaluateParam(this.right,l))},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return"("+E.safeToString(this.left,l)+" "+E.operatorToString(this.operatorName)+" "+E.safeToString(this.right,l)+")"},u.prototype.setVariables=function(l){null!=this.left&&this.left.setVariables(l),null!=this.right&&this.right.setVariables(l)},u.prototype.hasFunction=function(){return!!this.left&&this.left.hasFunction()||!!this.right&&this.right.hasFunction()},u.prototype.hasAsyncFunction=function(){return!!this.left&&this.left.hasAsyncFunction()||!!this.right&&this.right.hasAsyncFunction()},u.prototype.addToAsyncList=function(l){this.left&&this.left.addToAsyncList(l),this.right&&this.right.addToAsyncList(l)},u}(w),h=function(g){function u(l,a){var i=g.call(this)||this;return i.expressionValue=l,i.operatorName=a,i.consumer=E.unaryFunctions[a],null==i.consumer&&E.throwInvalidOperatorError(a),i}return S(u,g),Object.defineProperty(u.prototype,"operator",{get:function(){return this.operatorName},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"expression",{get:function(){return this.expressionValue},enumerable:!1,configurable:!0}),u.prototype.getType=function(){return"unary"},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return E.operatorToString(this.operatorName)+" "+this.expression.toString(l)},u.prototype.isContentEqual=function(l){return l.operator==this.operator&&this.areOperatorsEquals(this.expression,l.expression)},u.prototype.evaluate=function(l){var a=this.expression.evaluate(l);return this.consumer.call(this,a)},u.prototype.setVariables=function(l){this.expression.setVariables(l)},u}(w),D=function(g){function u(l){var a=g.call(this)||this;return a.values=l,a}return S(u,g),u.prototype.getType=function(){return"array"},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return"["+this.values.map(function(i){return i.toString(l)}).join(", ")+"]"},u.prototype.evaluate=function(l){return this.values.map(function(a){return a.evaluate(l)})},u.prototype.setVariables=function(l){this.values.forEach(function(a){a.setVariables(l)})},u.prototype.hasFunction=function(){return this.values.some(function(l){return l.hasFunction()})},u.prototype.hasAsyncFunction=function(){return this.values.some(function(l){return l.hasAsyncFunction()})},u.prototype.addToAsyncList=function(l){this.values.forEach(function(a){return a.addToAsyncList(l)})},u.prototype.isContentEqual=function(l){var a=l;if(a.values.length!==this.values.length)return!1;for(var i=0;i<this.values.length;i++)if(!a.values[i].isEqual(this.values[i]))return!1;return!0},u}(w),P=function(g){function u(l){var a=g.call(this)||this;return a.value=l,a}return S(u,g),u.prototype.getType=function(){return"const"},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return this.value.toString()},Object.defineProperty(u.prototype,"correctValue",{get:function(){return this.getCorrectValue(this.value)},enumerable:!1,configurable:!0}),u.prototype.evaluate=function(){return this.getCorrectValue(this.value)},u.prototype.setVariables=function(l){},u.prototype.getCorrectValue=function(l){return l&&"string"==typeof l?this.isBooleanValue(l)?"true"===l.toLowerCase():l.length>1&&this.isQuote(l[0])&&this.isQuote(l[l.length-1])?l.substring(1,l.length-1):E.isNumeric(l)?0==l.indexOf("0x")?parseInt(l):l.length>1&&"0"==l[0]?l:parseFloat(l):l:l},u.prototype.isContentEqual=function(l){return l.value==this.value},u.prototype.isQuote=function(l){return"'"==l||'"'==l},u.prototype.isBooleanValue=function(l){return l&&("true"===l.toLowerCase()||"false"===l.toLowerCase())},u}(w),y=function(g){function u(l){var a=g.call(this,l)||this;return a.variableName=l,a.valueInfo={},a.useValueAsItIs=!1,!!a.variableName&&a.variableName.length>1&&a.variableName[0]===u.DisableConversionChar&&(a.variableName=a.variableName.substring(1),a.useValueAsItIs=!0),a}return S(u,g),Object.defineProperty(u,"DisableConversionChar",{get:function(){return F.settings.expressionDisableConversionChar},set:function(l){F.settings.expressionDisableConversionChar=l},enumerable:!1,configurable:!0}),u.prototype.getType=function(){return"variable"},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return"{"+(this.useValueAsItIs?u.DisableConversionChar:"")+this.variableName+"}"},Object.defineProperty(u.prototype,"variable",{get:function(){return this.variableName},enumerable:!1,configurable:!0}),u.prototype.evaluate=function(l){return this.valueInfo.name=this.variableName,l.getValueInfo(this.valueInfo),this.valueInfo.hasValue?this.getCorrectValue(this.valueInfo.value):null},u.prototype.setVariables=function(l){l.push(this.variableName)},u.prototype.getCorrectValue=function(l){return this.useValueAsItIs?l:g.prototype.getCorrectValue.call(this,l)},u.prototype.isContentEqual=function(l){return l.variable==this.variable},u}(P),v=function(g){function u(l,a){var i=g.call(this)||this;return i.originalValue=l,i.parameters=a,i.isReadyValue=!1,Array.isArray(a)&&0===a.length&&(i.parameters=new D([])),i}return S(u,g),u.prototype.getType=function(){return"function"},u.prototype.evaluateAsync=function(l){var a=this;this.isReadyValue=!1;var i=new j.ProcessValue;i.values=L.Helpers.createCopy(l.values),i.properties=L.Helpers.createCopy(l.properties),i.properties.returnResult=function(o){a.asynResult=o,a.isReadyValue=!0,a.onAsyncReady()},this.evaluateCore(i)},u.prototype.evaluate=function(l){return this.isReady?this.asynResult:this.evaluateCore(l)},u.prototype.evaluateCore=function(l){return K.FunctionFactory.Instance.run(this.originalValue,this.parameters.evaluate(l),l.properties)},u.prototype.toString=function(l){if(void 0===l&&(l=void 0),l){var a=l(this);if(a)return a}return this.originalValue+"("+this.parameters.toString(l)+")"},u.prototype.setVariables=function(l){this.parameters.setVariables(l)},Object.defineProperty(u.prototype,"isReady",{get:function(){return this.isReadyValue},enumerable:!1,configurable:!0}),u.prototype.hasFunction=function(){return!0},u.prototype.hasAsyncFunction=function(){return K.FunctionFactory.Instance.isAsyncFunction(this.originalValue)},u.prototype.addToAsyncList=function(l){this.hasAsyncFunction()&&l.push(this)},u.prototype.isContentEqual=function(l){return l.originalValue==this.originalValue&&this.areOperatorsEquals(l.parameters,this.parameters)},u}(w),E=function(){function g(){}return g.throwInvalidOperatorError=function(u){throw new Error("Invalid operator: '"+u+"'")},g.safeToString=function(u,l){return null==u?"":u.toString(l)},g.toOperandString=function(u){return!!u&&!g.isNumeric(u)&&!g.isBooleanValue(u)&&(u="'"+u+"'"),u},g.isSpaceString=function(u){return!!u&&!u.replace(" ","")},g.isNumeric=function(u){return!(u&&(u.indexOf("-")>-1||u.indexOf("+")>1||u.indexOf("*")>-1||u.indexOf("^")>-1||u.indexOf("/")>-1||u.indexOf("%")>-1)||g.isSpaceString(u))&&L.Helpers.isNumber(u)},g.isBooleanValue=function(u){return!!u&&("true"===u.toLowerCase()||"false"===u.toLowerCase())},g.countDecimals=function(u){if(L.Helpers.isNumber(u)&&Math.floor(u)!==u){var l=u.toString().split(".");return l.length>1&&l[1].length||0}return 0},g.plusMinus=function(u,l,a){var i=g.countDecimals(u),o=g.countDecimals(l);if(i>0||o>0){var p=Math.max(i,o);a=parseFloat(a.toFixed(p))}return a},g.isTwoValueEquals=function(u,l){return"undefined"===u&&(u=void 0),"undefined"===l&&(l=void 0),L.Helpers.isTwoValueEquals(u,l,!0)},g.operatorToString=function(u){var l=g.signs[u];return null==l?u:l},g.convertValForDateCompare=function(u,l){if(l instanceof Date&&"string"==typeof u){var a=new Date(u);return a.setHours(0,0,0),a}return u},g.unaryFunctions={empty:function(u){return L.Helpers.isValueEmpty(u)},notempty:function(u){return!g.unaryFunctions.empty(u)},negate:function(u){return!u}},g.binaryFunctions={arithmeticOp:function(u){var l=function(a,i){return L.Helpers.isValueEmpty(a)?"number"==typeof i?0:"string"==typeof a?a:"string"==typeof i?"":Array.isArray(i)?[]:0:a};return function(a,i){a=l(a,i),i=l(i,a);var o=g.binaryFunctions[u];return null==o?null:o.call(this,a,i)}},and:function(u,l){return u&&l},or:function(u,l){return u||l},plus:function(u,l){return L.Helpers.sumAnyValues(u,l)},minus:function(u,l){return L.Helpers.correctAfterPlusMinis(u,l,u-l)},mul:function(u,l){return L.Helpers.correctAfterMultiple(u,l,u*l)},div:function(u,l){return l?u/l:null},mod:function(u,l){return l?u%l:null},power:function(u,l){return Math.pow(u,l)},greater:function(u,l){return null!=u&&null!=l&&(u=g.convertValForDateCompare(u,l))>g.convertValForDateCompare(l,u)},less:function(u,l){return null!=u&&null!=l&&(u=g.convertValForDateCompare(u,l))<g.convertValForDateCompare(l,u)},greaterorequal:function(u,l){return!!g.binaryFunctions.equal(u,l)||g.binaryFunctions.greater(u,l)},lessorequal:function(u,l){return!!g.binaryFunctions.equal(u,l)||g.binaryFunctions.less(u,l)},equal:function(u,l){return u=g.convertValForDateCompare(u,l),l=g.convertValForDateCompare(l,u),g.isTwoValueEquals(u,l)},notequal:function(u,l){return!g.binaryFunctions.equal(u,l)},contains:function(u,l){return g.binaryFunctions.containsCore(u,l,!0)},notcontains:function(u,l){return!u&&!L.Helpers.isValueEmpty(l)||g.binaryFunctions.containsCore(u,l,!1)},anyof:function(u,l){if(L.Helpers.isValueEmpty(u)&&L.Helpers.isValueEmpty(l))return!0;if(L.Helpers.isValueEmpty(u)||!Array.isArray(u)&&0===u.length)return!1;if(L.Helpers.isValueEmpty(l))return!0;if(!Array.isArray(u))return g.binaryFunctions.contains(l,u);if(!Array.isArray(l))return g.binaryFunctions.contains(u,l);for(var a=0;a<l.length;a++)if(g.binaryFunctions.contains(u,l[a]))return!0;return!1},allof:function(u,l){if(!u&&!L.Helpers.isValueEmpty(l))return!1;if(!Array.isArray(l))return g.binaryFunctions.contains(u,l);for(var a=0;a<l.length;a++)if(!g.binaryFunctions.contains(u,l[a]))return!1;return!0},containsCore:function(u,l,a){if(!u&&0!==u&&!1!==u)return!1;if(u.length||(u=u.toString(),("string"==typeof l||l instanceof String)&&(u=u.toUpperCase(),l=l.toUpperCase())),"string"==typeof u||u instanceof String){if(!l)return!1;l=l.toString();var i=u.indexOf(l)>-1;return a?i:!i}for(var o=Array.isArray(l)?l:[l],p=0;p<o.length;p++){var A=0;for(l=o[p];A<u.length&&!g.isTwoValueEquals(u[A],l);A++);if(A==u.length)return!a}return a}},g.signs={less:"<",lessorequal:"<=",greater:">",greaterorequal:">=",equal:"==",notequal:"!=",plus:"+",minus:"-",mul:"*",div:"/",and:"and",or:"or",power:"^",mod:"%",negate:"!"},g}()},"./src/flowpanel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"FlowPanelModel",function(){return F});var S,L=m("./src/jsonobject.ts"),K=m("./src/panel.ts"),j=(S=function(w,M){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(h[P]=D[P])})(w,M)},function(w,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function h(){this.constructor=w}S(w,M),w.prototype=null===M?Object.create(M):(h.prototype=M.prototype,new h)}),F=function(S){function w(M){void 0===M&&(M="");var h=S.call(this,M)||this;return h.createLocalizableString("content",h,!0),h.registerPropertyChangedHandlers(["content"],function(){h.onContentChanged()}),h}return j(w,S),w.prototype.getType=function(){return"flowpanel"},w.prototype.getChildrenLayoutType=function(){return"flow"},w.prototype.onSurveyLoad=function(){S.prototype.onSurveyLoad.call(this),this.onContentChanged()},Object.defineProperty(w.prototype,"content",{get:function(){return this.getLocalizableStringText("content")},set:function(M){this.setLocalizableStringText("content",M)},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"locContent",{get:function(){return this.getLocalizableString("content")},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"html",{get:function(){return this.getPropertyValue("html","")},set:function(M){this.setPropertyValue("html",M)},enumerable:!1,configurable:!0}),w.prototype.onContentChanged=function(){var M;M=this.onCustomHtmlProducing?this.onCustomHtmlProducing():this.produceHtml(),this.html=M,this.contentChangedCallback&&this.contentChangedCallback()},w.prototype.produceHtml=function(){for(var M=[],h=/{(.*?(element:)[^$].*?)}/g,D=this.content,P=0,y=null;null!==(y=h.exec(D));){y.index>P&&(M.push(D.substring(P,y.index)),P=y.index);var v=this.getQuestionFromText(y[0]);M.push(v?this.getHtmlForQuestion(v):D.substring(P,y.index+y[0].length)),P=y.index+y[0].length}return P<D.length&&M.push(D.substring(P,D.length)),M.join("").replace(new RegExp("<br>","g"),"<br/>")},w.prototype.getQuestionFromText=function(M){return M=(M=M.substring(1,M.length-1)).replace(w.contentElementNamePrefix,"").trim(),this.getQuestionByName(M)},w.prototype.getHtmlForQuestion=function(M){return this.onGetHtmlForQuestion?this.onGetHtmlForQuestion(M):""},w.prototype.getQuestionHtmlId=function(M){return this.name+"_"+M.id},w.prototype.onAddElement=function(M,h){S.prototype.onAddElement.call(this,M,h),this.addElementToContent(M),M.renderWidth=""},w.prototype.onRemoveElement=function(M){var h=this.getElementContentText(M);this.content=this.content.replace(h,""),S.prototype.onRemoveElement.call(this,M)},w.prototype.dragDropMoveElement=function(M,h,D){},w.prototype.addElementToContent=function(M){if(!this.isLoadingFromJson){var h=this.getElementContentText(M);this.insertTextAtCursor(h)||(this.content=this.content+h)}},w.prototype.insertTextAtCursor=function(M,h){if(void 0===h&&(h=null),!this.isDesignMode||"undefined"==typeof document||!window.getSelection)return!1;var D=window.getSelection();if(D.getRangeAt&&D.rangeCount){var P=D.getRangeAt(0);P.deleteContents(),P.insertNode(document.createTextNode(M));if(this.getContent){var v=this.getContent(h);this.content=v}return!0}return!1},w.prototype.getElementContentText=function(M){return"{"+w.contentElementNamePrefix+M.name+"}"},w.contentElementNamePrefix="element:",w}(K.PanelModel);L.Serializer.addClass("flowpanel",[{name:"content:html",serializationProperty:"locContent"}],function(){return new F},"panel")},"./src/functionsfactory.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"FunctionFactory",function(){return j}),m.d(V,"registerFunction",function(){return F});var L=m("./src/helpers.ts"),K=m("./src/settings.ts"),j=function(){function ue(){this.functionHash={},this.isAsyncHash={}}return ue.prototype.register=function(fe,Te,Ae){void 0===Ae&&(Ae=!1),this.functionHash[fe]=Te,Ae&&(this.isAsyncHash[fe]=!0)},ue.prototype.unregister=function(fe){delete this.functionHash[fe],delete this.isAsyncHash[fe]},ue.prototype.hasFunction=function(fe){return!!this.functionHash[fe]},ue.prototype.isAsyncFunction=function(fe){return!!this.isAsyncHash[fe]},ue.prototype.clear=function(){this.functionHash={}},ue.prototype.getAll=function(){var fe=[];for(var Te in this.functionHash)fe.push(Te);return fe.sort()},ue.prototype.run=function(fe,Te,Ae){void 0===Ae&&(Ae=null);var ft=this.functionHash[fe];if(!ft)return null;var Nt={func:ft};if(Ae)for(var lr in Ae)Nt[lr]=Ae[lr];return Nt.func(Te)},ue.Instance=new ue,ue}(),F=j.Instance.register;function S(ue,fe){if(null!=ue)if(Array.isArray(ue))for(var Te=0;Te<ue.length;Te++)S(ue[Te],fe);else L.Helpers.isNumber(ue)&&(ue=L.Helpers.getNumber(ue)),fe.push(ue)}function w(ue){var fe=[];S(ue,fe);for(var Te=0,Ae=0;Ae<fe.length;Ae++)Te=L.Helpers.correctAfterPlusMinis(Te,fe[Ae],Te+fe[Ae]);return Te}function M(ue,fe){var Te=[];S(ue,Te);for(var Ae=void 0,ft=0;ft<Te.length;ft++)void 0===Ae&&(Ae=Te[ft]),fe?Ae>Te[ft]&&(Ae=Te[ft]):Ae<Te[ft]&&(Ae=Te[ft]);return Ae}function g(ue,fe,Te,Ae,ft){return!ue||L.Helpers.isValueEmpty(ue[fe])?Te:Ae(Te,ft?function E(ue){return"string"==typeof ue?L.Helpers.isNumber(ue)?L.Helpers.getNumber(ue):void 0:ue}(ue[fe]):1)}function u(ue,fe,Te){void 0===Te&&(Te=!0);var Ae=function v(ue){if(2!=ue.length)return null;var fe=ue[0];if(!fe||!Array.isArray(fe)&&!Array.isArray(Object.keys(fe)))return null;var Te=ue[1];return"string"==typeof Te||Te instanceof String?{data:fe,name:Te}:null}(ue);if(Ae){var ft=void 0;if(Array.isArray(Ae.data))for(var Nt=0;Nt<Ae.data.length;Nt++)ft=g(Ae.data[Nt],Ae.name,ft,fe,Te);else for(var lr in Ae.data)ft=g(Ae.data[lr],Ae.name,ft,fe,Te);return ft}}function l(ue){var fe=u(ue,function(Te,Ae){return null==Te&&(Te=0),null==Ae||null==Ae?Te:L.Helpers.correctAfterPlusMinis(Te,Ae,Te+Ae)});return void 0!==fe?fe:0}function o(ue){var fe=u(ue,function(Te,Ae){return null==Te&&(Te=0),null==Ae||null==Ae?Te:Te+1},!1);return void 0!==fe?fe:0}function f(ue){if(!ue)return!1;for(var fe=ue.questions,Te=0;Te<fe.length;Te++)if(!fe[Te].validate(!1))return!1;return!0}function T(ue){var fe=new Date;return K.settings.localization.useLocalTimeZone?fe.setHours(0,0,0,0):fe.setUTCHours(0,0,0,0),Array.isArray(ue)&&1==ue.length&&fe.setDate(fe.getDate()+ue[0]),fe}function se(ue){var fe=T(void 0);return ue&&ue[0]&&(fe=new Date(ue[0])),fe}j.Instance.register("sum",w),j.Instance.register("min",function h(ue){return M(ue,!0)}),j.Instance.register("max",function D(ue){return M(ue,!1)}),j.Instance.register("count",function P(ue){var fe=[];return S(ue,fe),fe.length}),j.Instance.register("avg",function y(ue){var fe=[];S(ue,fe);var Te=w(ue);return fe.length>0?Te/fe.length:0}),j.Instance.register("sumInArray",l),j.Instance.register("minInArray",function a(ue){return u(ue,function(fe,Te){return null==fe?Te:null==Te||null==Te||fe<Te?fe:Te})}),j.Instance.register("maxInArray",function i(ue){return u(ue,function(fe,Te){return null==fe?Te:null==Te||null==Te||fe>Te?fe:Te})}),j.Instance.register("countInArray",o),j.Instance.register("avgInArray",function p(ue){var fe=o(ue);return 0==fe?0:l(ue)/fe}),j.Instance.register("iif",function A(ue){return ue||3===ue.length?ue[0]?ue[1]:ue[2]:""}),j.Instance.register("getDate",function B(ue){return!ue&&ue.length<1||!ue[0]?null:new Date(ue[0])}),j.Instance.register("age",function O(ue){if(!ue&&ue.length<1||!ue[0])return null;var fe=new Date(ue[0]),Te=new Date,Ae=Te.getFullYear()-fe.getFullYear(),ft=Te.getMonth()-fe.getMonth();return(ft<0||0===ft&&Te.getDate()<fe.getDate())&&(Ae-=Ae>0?1:0),Ae}),j.Instance.register("isContainerReady",function b(ue){if(!ue&&ue.length<1||!ue[0]||!this.survey)return!1;var fe=ue[0],Te=this.survey.getPageByName(fe);if(Te||(Te=this.survey.getPanelByName(fe)),!Te){var Ae=this.survey.getQuestionByName(fe);if(!Ae||!Array.isArray(Ae.panels))return!1;if(!(ue.length>1)){for(var ft=0;ft<Ae.panels.length;ft++)if(!f(Ae.panels[ft]))return!1;return!0}ue[1]<Ae.panels.length&&(Te=Ae.panels[ue[1]])}return f(Te)}),j.Instance.register("isDisplayMode",function C(){return this.survey&&this.survey.isDisplayMode}),j.Instance.register("currentDate",function c(){return new Date}),j.Instance.register("today",T),j.Instance.register("getYear",function I(ue){if(1===ue.length&&ue[0])return new Date(ue[0]).getFullYear()}),j.Instance.register("currentYear",function H(){return(new Date).getFullYear()}),j.Instance.register("diffDays",function J(ue){if(!Array.isArray(ue)||2!==ue.length||!ue[0]||!ue[1])return 0;var fe=new Date(ue[0]),Te=new Date(ue[1]),Ae=Math.abs(Te-fe);return Math.ceil(Ae/864e5)}),j.Instance.register("year",function he(ue){return se(ue).getFullYear()}),j.Instance.register("month",function ie(ue){return se(ue).getMonth()+1}),j.Instance.register("day",function ye(ue){return se(ue).getDate()}),j.Instance.register("weekday",function Ie(ue){return se(ue).getDay()})},"./src/helpers.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Helpers",function(){return K});var L=m("./src/settings.ts"),K=function(){function j(){}return j.isValueEmpty=function(F){if(Array.isArray(F)&&0===F.length)return!0;if(F&&"object"==typeof F&&F.constructor===Object){for(var S in F)if(!j.isValueEmpty(F[S]))return!1;return!0}return!F&&0!==F&&!1!==F},j.isArrayContainsEqual=function(F,S){if(!Array.isArray(F)||!Array.isArray(S)||F.length!==S.length)return!1;for(var w=0;w<F.length;w++){for(var M=0;M<S.length&&!j.isTwoValueEquals(F[w],S[M]);M++);if(M===S.length)return!1}return!0},j.isArraysEqual=function(F,S,w,M,h){if(void 0===w&&(w=!1),!Array.isArray(F)||!Array.isArray(S)||F.length!==S.length)return!1;if(w){for(var D=[],P=[],y=0;y<F.length;y++)D.push(F[y]),P.push(S[y]);D.sort(),P.sort(),F=D,S=P}for(y=0;y<F.length;y++)if(!j.isTwoValueEquals(F[y],S[y],w,M,h))return!1;return!0},j.compareStrings=function(F,S){var w=L.settings.comparator.normalizeTextCallback;if(F&&(F=w(F,"compare").trim()),S&&(S=w(S,"compare").trim()),!F&&!S)return 0;if(!F)return-1;if(!S)return 1;if(F===S)return 0;for(var M=-1,h=0;h<F.length&&h<S.length;h++){if(this.isCharDigit(F[h])&&this.isCharDigit(S[h])){M=h;break}if(F[h]!==S[h])break}if(M>-1){var D=this.getNumberFromStr(F,M),P=this.getNumberFromStr(S,M);if(!Number.isNaN(D)&&!Number.isNaN(P)&&D!==P)return D>P?1:-1}return F>S?1:-1},j.isTwoValueEquals=function(F,S,w,M,h){if(void 0===w&&(w=!1),F===S||Array.isArray(F)&&0===F.length&&void 0===S||Array.isArray(S)&&0===S.length&&void 0===F||null==F&&""===S||null==S&&""===F)return!0;if(void 0===h&&(h=L.settings.comparator.trimStrings),void 0===M&&(M=L.settings.comparator.caseSensitive),"string"==typeof F&&"string"==typeof S){var D=L.settings.comparator.normalizeTextCallback;return F=D(F,"compare"),S=D(S,"compare"),h&&(F=F.trim(),S=S.trim()),M||(F=F.toLowerCase(),S=S.toLowerCase()),F===S}if(F instanceof Date&&S instanceof Date)return F.getTime()==S.getTime();if(j.isConvertibleToNumber(F)&&j.isConvertibleToNumber(S)&&parseInt(F)===parseInt(S)&&parseFloat(F)===parseFloat(S))return!0;if(!j.isValueEmpty(F)&&j.isValueEmpty(S)||j.isValueEmpty(F)&&!j.isValueEmpty(S))return!1;if((!0===F||!1===F)&&"string"==typeof S)return F.toString()===S.toLocaleLowerCase();if((!0===S||!1===S)&&"string"==typeof F)return S.toString()===F.toLocaleLowerCase();if(!(F instanceof Object||S instanceof Object))return F==S;if(!(F instanceof Object&&S instanceof Object))return!1;if(F.equals)return F.equals(S);if(F.toJSON&&S.toJSON&&F.getType&&S.getType)return!(F.isDiposed||S.isDiposed||F.getType()!==S.getType()||F.name&&F.name!==S.name)&&this.isTwoValueEquals(F.toJSON(),S.toJSON(),w,M,h);if(Array.isArray(F)&&Array.isArray(S))return j.isArraysEqual(F,S,w,M,h);if(F.equalsTo&&S.equalsTo)return F.equalsTo(S);for(var P in F)if(F.hasOwnProperty(P)&&(!S.hasOwnProperty(P)||!this.isTwoValueEquals(F[P],S[P],w,M,h)))return!1;for(P in S)if(S.hasOwnProperty(P)&&!F.hasOwnProperty(P))return!1;return!0},j.randomizeArray=function(F){for(var S=F.length-1;S>0;S--){var w=Math.floor(Math.random()*(S+1)),M=F[S];F[S]=F[w],F[w]=M}return F},j.getUnbindValue=function(F){if(Array.isArray(F)){for(var S=[],w=0;w<F.length;w++)S.push(j.getUnbindValue(F[w]));return S}return F&&F instanceof Object&&!(F instanceof Date)?JSON.parse(JSON.stringify(F)):F},j.createCopy=function(F){var S={};if(!F)return S;for(var w in F)S[w]=F[w];return S},j.isConvertibleToNumber=function(F){return null!=F&&!Array.isArray(F)&&!isNaN(F)},j.isNumber=function(F){return!isNaN(this.getNumber(F))},j.getNumber=function(F){if("string"==typeof F&&F&&0==F.indexOf("0x")&&F.length>32)return NaN;F=this.prepareStringToNumber(F);var S=parseFloat(F);return isNaN(S)||!isFinite(F)?NaN:S},j.prepareStringToNumber=function(F){if("string"!=typeof F||!F)return F;var S=F.indexOf(",");return S>-1&&F.indexOf(",",S+1)<0?F.replace(",","."):F},j.getMaxLength=function(F,S){return F<0&&(F=S),F>0?F:null},j.getRemainingCharacterCounterText=function(F,S){return!S||S<=0||!L.settings.showMaxLengthIndicator?"":[F?F.length:"0",S].join("/")},j.getNumberByIndex=function(F,S){if(F<0)return"";var w=1,M="",h=".",D=!0,P="A",y="";if(S){for(var v=(y=S).length-1,E=!1,g=0;g<y.length;g++)if(j.isCharDigit(y[g])){E=!0;break}for(var u=function(){return E&&!j.isCharDigit(y[v])||j.isCharNotLetterAndDigit(y[v])};v>=0&&u();)v--;var l="";for(v<y.length-1&&(l=y.substring(v+1),y=y.substring(0,v+1)),v=y.length-1;v>=0&&!u()&&(v--,E););P=y.substring(v+1),M=y.substring(0,v+1),parseInt(P)?w=parseInt(P):1==P.length&&(D=!1),(l||M)&&(h=l)}if(D){for(var a=(F+w).toString();a.length<P.length;)a="0"+a;return M+a+h}return M+String.fromCharCode(P.charCodeAt(0)+F)+h},j.isCharNotLetterAndDigit=function(F){return F.toUpperCase()==F.toLowerCase()&&!j.isCharDigit(F)},j.isCharDigit=function(F){return F>="0"&&F<="9"},j.getNumberFromStr=function(F,S){if(!this.isCharDigit(F[S]))return NaN;for(var w="";S<F.length&&this.isCharDigit(F[S]);)w+=F[S],S++;return w?this.getNumber(w):NaN},j.countDecimals=function(F){if(j.isNumber(F)&&Math.floor(F)!==F){var S=F.toString().split(".");return S.length>1&&S[1].length||0}return 0},j.correctAfterPlusMinis=function(F,S,w){var M=j.countDecimals(F),h=j.countDecimals(S);if(M>0||h>0){var D=Math.max(M,h);w=parseFloat(w.toFixed(D))}return w},j.sumAnyValues=function(F,S){if(!j.isNumber(F)||!j.isNumber(S)){if(Array.isArray(F)&&Array.isArray(S))return[].concat(F).concat(S);if(Array.isArray(F)||Array.isArray(S)){var w=Array.isArray(F)?F:S,M=w===F?S:F;if("string"==typeof M){var h=w.join(", ");return w===F?h+M:M+h}if("number"==typeof M){for(var D=0,P=0;P<w.length;P++)"number"==typeof w[P]&&(D=j.correctAfterPlusMinis(D,w[P],D+w[P]));return j.correctAfterPlusMinis(D,M,D+M)}}return F+S}return j.correctAfterPlusMinis(F,S,F+S)},j.correctAfterMultiple=function(F,S,w){var M=j.countDecimals(F)+j.countDecimals(S);return M>0&&(w=parseFloat(w.toFixed(M))),w},j.convertArrayValueToObject=function(F,S,w){void 0===w&&(w=void 0);var M=new Array;if(!F||!Array.isArray(F))return M;for(var h=0;h<F.length;h++){var D=void 0;Array.isArray(w)&&(D=j.findObjByPropValue(w,S,F[h])),D||((D={})[S]=F[h]),M.push(D)}return M},j.findObjByPropValue=function(F,S,w){for(var M=0;M<F.length;M++)if(j.isTwoValueEquals(F[M][S],w))return F[M]},j.convertArrayObjectToValue=function(F,S){var w=new Array;if(!F||!Array.isArray(F))return w;for(var M=0;M<F.length;M++){var h=F[M]?F[M][S]:void 0;j.isValueEmpty(h)||w.push(h)}return w},j.convertDateToString=function(F){var S=function(w){return w<10?"0"+w.toString():w.toString()};return F.getFullYear()+"-"+S(F.getMonth()+1)+"-"+S(F.getDate())},j.convertDateTimeToString=function(F){var S=function(w){return w<10?"0"+w.toString():w.toString()};return this.convertDateToString(F)+" "+S(F.getHours())+":"+S(F.getMinutes())},j.convertValToQuestionVal=function(F,S){return F instanceof Date?"datetime-local"===S?j.convertDateTimeToString(F):j.convertDateToString(F):F},j}();String.prototype.format||(String.prototype.format=function(){var j=arguments;return this.replace(/{(\d+)}/g,function(F,S){return void 0!==j[S]?j[S]:F})})},"./src/images sync \\.svg$":function(oe,V,m){var L={"./ArrowDown_34x34.svg":"./src/images/ArrowDown_34x34.svg","./ArrowLeft.svg":"./src/images/ArrowLeft.svg","./ArrowRight.svg":"./src/images/ArrowRight.svg","./Arrow_downGREY_10x10.svg":"./src/images/Arrow_downGREY_10x10.svg","./ChooseFile.svg":"./src/images/ChooseFile.svg","./Clear.svg":"./src/images/Clear.svg","./DefaultFile.svg":"./src/images/DefaultFile.svg","./Delete.svg":"./src/images/Delete.svg","./Down_34x34.svg":"./src/images/Down_34x34.svg","./Left.svg":"./src/images/Left.svg","./ModernBooleanCheckChecked.svg":"./src/images/ModernBooleanCheckChecked.svg","./ModernBooleanCheckInd.svg":"./src/images/ModernBooleanCheckInd.svg","./ModernBooleanCheckUnchecked.svg":"./src/images/ModernBooleanCheckUnchecked.svg","./ModernCheck.svg":"./src/images/ModernCheck.svg","./ModernRadio.svg":"./src/images/ModernRadio.svg","./More.svg":"./src/images/More.svg","./NavMenu_24x24.svg":"./src/images/NavMenu_24x24.svg","./ProgressButton.svg":"./src/images/ProgressButton.svg","./ProgressButtonV2.svg":"./src/images/ProgressButtonV2.svg","./RemoveFile.svg":"./src/images/RemoveFile.svg","./Right.svg":"./src/images/Right.svg","./SearchClear.svg":"./src/images/SearchClear.svg","./TimerCircle.svg":"./src/images/TimerCircle.svg","./V2Check.svg":"./src/images/V2Check.svg","./V2Check_24x24.svg":"./src/images/V2Check_24x24.svg","./V2DragElement_16x16.svg":"./src/images/V2DragElement_16x16.svg","./chevron.svg":"./src/images/chevron.svg","./clear_16x16.svg":"./src/images/clear_16x16.svg","./collapseDetail.svg":"./src/images/collapseDetail.svg","./expandDetail.svg":"./src/images/expandDetail.svg","./no-image.svg":"./src/images/no-image.svg","./rating-star-2.svg":"./src/images/rating-star-2.svg","./rating-star-small-2.svg":"./src/images/rating-star-small-2.svg","./rating-star-small.svg":"./src/images/rating-star-small.svg","./rating-star.svg":"./src/images/rating-star.svg","./search.svg":"./src/images/search.svg"};function K(F){var S=j(F);return m(S)}function j(F){if(!m.o(L,F)){var S=new Error("Cannot find module '"+F+"'");throw S.code="MODULE_NOT_FOUND",S}return L[F]}K.keys=function(){return Object.keys(L)},K.resolve=j,oe.exports=K,K.id="./src/images sync \\.svg$"},"./src/images/ArrowDown_34x34.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><polygon class="st0" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></svg>'},"./src/images/ArrowLeft.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/ArrowRight.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.99999H11.6L7.3 2.69999L8.7 1.29999L15.4 7.99999L8.7 14.7L7.3 13.3L11.6 8.99999H1V6.99999Z"></path></svg>'},"./src/images/Arrow_downGREY_10x10.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 10 10" xml:space="preserve"><polygon class="st0" points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ChooseFile.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 9V7C22 5.9 21.1 5 20 5H12L10 3H4C2.9 3 2 3.9 2 5V9V10V21H22L24 9H22ZM4 5H9.2L10.6 6.4L11.2 7H12H20V9H4V5ZM20.3 19H4V11H21.6L20.3 19Z"></path></svg>'},"./src/images/Clear.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.6 8.6L16.4 2.4C16 2 15.5 1.8 15 1.8C14.5 1.8 14 2 13.6 2.4L1.4 14.6C0.600003 15.4 0.600003 16.6 1.4 17.4L6 22H12L22.6 11.4C23.3 10.6 23.3 9.3 22.6 8.6ZM11.1 20H6.8L2.8 16L6.2 12.6L12.4 18.8L11.1 20ZM13.8 17.4L7.6 11.2L15 3.8L21.2 10L13.8 17.4ZM16 20H23V22H14L16 20Z"></path></svg>'},"./src/images/DefaultFile.svg":function(oe,V){oe.exports='<svg viewBox="0 0 56 68" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_9011_41219)"><path d="M54.83 10.83L45.17 1.17C44.7982 0.798664 44.357 0.504208 43.8714 0.303455C43.3858 0.102703 42.8654 -0.000411943 42.34 1.2368e-06H6C4.4087 1.2368e-06 2.88257 0.632142 1.75735 1.75736C0.632136 2.88258 0 4.4087 0 6V62C0 63.5913 0.632136 65.1174 1.75735 66.2426C2.88257 67.3679 4.4087 68 6 68H50C51.5913 68 53.1174 67.3679 54.2426 66.2426C55.3679 65.1174 56 63.5913 56 62V13.66C56.0004 13.1346 55.8973 12.6142 55.6965 12.1286C55.4958 11.643 55.2013 11.2018 54.83 10.83ZM44 2.83L53.17 12H48C46.9391 12 45.9217 11.5786 45.1716 10.8284C44.4214 10.0783 44 9.06087 44 8V2.83ZM54 62C54 63.0609 53.5786 64.0783 52.8284 64.8284C52.0783 65.5786 51.0609 66 50 66H6C4.93913 66 3.92172 65.5786 3.17157 64.8284C2.42142 64.0783 2 63.0609 2 62V6C2 4.93914 2.42142 3.92172 3.17157 3.17157C3.92172 2.42143 4.93913 2 6 2H42V8C42 9.5913 42.6321 11.1174 43.7574 12.2426C44.8826 13.3679 46.4087 14 48 14H54V62ZM14 24H42V26H14V24ZM14 30H42V32H14V30ZM14 36H42V38H14V36ZM14 42H42V44H14V42Z" fill="#909090"></path></g><defs><clipPath id="clip0_9011_41219"><rect width="56" height="68" fill="white"></rect></clipPath></defs></svg>'},"./src/images/Delete.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22 4H20H16V2C16 0.9 15.1 0 14 0H10C8.9 0 8 0.9 8 2V4H4H2V6H4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V6H22V4ZM10 2H14V4H10V2ZM18 20H6V6H8H16H18V20ZM14 8H16V18H14V8ZM11 8H13V18H11V8ZM8 8H10V18H8V8Z"></path></svg>'},"./src/images/Down_34x34.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 34 34" xml:space="preserve"><g><path class="st0" d="M33,34H0V0h33c0.6,0,1,0.4,1,1v32C34,33.6,33.6,34,33,34z"></path><polygon class="st1" points="12,16 14,14 17,17 20,14 22,16 17,21 "></polygon></g></svg>'},"./src/images/Left.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="11,12 9,14 3,8 9,2 11,4 7,8 "></polygon></svg>'},"./src/images/ModernBooleanCheckChecked.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><polygon points="19,10 14,10 14,5 10,5 10,10 5,10 5,14 10,14 10,19 14,19 14,14 19,14 "></polygon></svg>'},"./src/images/ModernBooleanCheckInd.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M22,0H2C0.9,0,0,0.9,0,2v20c0,1.1,0.9,2,2,2h20c1.1,0,2-0.9,2-2V2C24,0.9,23.1,0,22,0z M21,18L6,3h15V18z M3,6l15,15H3V6z"></path></svg>'},"./src/images/ModernBooleanCheckUnchecked.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><rect x="5" y="10" width="14" height="4"></rect></svg>'},"./src/images/ModernCheck.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24"><path d="M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"></path></svg>'},"./src/images/ModernRadio.svg":function(oe,V){oe.exports='<svg viewBox="-12 -12 24 24"><circle r="6" cx="0" cy="0"></circle></svg>'},"./src/images/More.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M6 12C6 13.1 5.1 14 4 14C2.9 14 2 13.1 2 12C2 10.9 2.9 10 4 10C5.1 10 6 10.9 6 12ZM12 10C10.9 10 10 10.9 10 12C10 13.1 10.9 14 12 14C13.1 14 14 13.1 14 12C14 10.9 13.1 10 12 10ZM20 10C18.9 10 18 10.9 18 12C18 13.1 18.9 14 20 14C21.1 14 22 13.1 22 12C22 10.9 21.1 10 20 10Z"></path></svg>'},"./src/images/NavMenu_24x24.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 7H2V5H16V7ZM2 11V13H22V11H2ZM2 19H10V17H2V19Z" fill="black" fill-opacity="0.45"></path></svg>'},"./src/images/ProgressButton.svg":function(oe,V){oe.exports='<svg viewBox="0 0 10 10"><polygon points="2,2 0,4 5,9 10,4 8,2 5,5 "></polygon></svg>'},"./src/images/ProgressButtonV2.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16"><path d="M15 8.99999H4.39998L8.69998 13.3L7.29998 14.7L0.599976 7.99999L7.29998 1.29999L8.69998 2.69999L4.39998 6.99999H15V8.99999Z"></path></svg>'},"./src/images/RemoveFile.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16"><path d="M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z M11,10l-1,1L8,9l-2,2l-1-1l2-2L5,6l1-1l2,2l2-2l1,1L9,8 L11,10z"></path></svg>'},"./src/images/Right.svg":function(oe,V){oe.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><polygon points="5,4 7,2 13,8 7,14 5,12 9,8 "></polygon></svg>'},"./src/images/SearchClear.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/TimerCircle.svg":function(oe,V){oe.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 160 160"><circle cx="80" cy="80" r="70" style="stroke: var(--sd-timer-stroke-background-color); stroke-width: var(--sd-timer-stroke-background-width)" stroke-dasharray="none" stroke-dashoffset="none"></circle><circle cx="80" cy="80" r="70"></circle></svg>'},"./src/images/V2Check.svg":function(oe,V){oe.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.00001 15.8L2.60001 10.4L4.00001 9L8.00001 13L16 5L17.4 6.4L8.00001 15.8Z"></path></svg>'},"./src/images/V2Check_24x24.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9 20.1L1 12L3.1 9.9L9 15.9L20.9 4L23 6.1L9 20.1Z"></path></svg>'},"./src/images/V2DragElement_16x16.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M2 4C2 3.73478 2.10536 3.48043 2.29289 3.29289C2.48043 3.10536 2.73478 3 3 3H13C13.2652 3 13.5196 3.10536 13.7071 3.29289C13.8946 3.48043 14 3.73478 14 4C14 4.26522 13.8946 4.51957 13.7071 4.70711C13.5196 4.89464 13.2652 5 13 5H3C2.73478 5 2.48043 4.89464 2.29289 4.70711C2.10536 4.51957 2 4.26522 2 4ZM13 7H3C2.73478 7 2.48043 7.10536 2.29289 7.29289C2.10536 7.48043 2 7.73478 2 8C2 8.26522 2.10536 8.51957 2.29289 8.70711C2.48043 8.89464 2.73478 9 3 9H13C13.2652 9 13.5196 8.89464 13.7071 8.70711C13.8946 8.51957 14 8.26522 14 8C14 7.73478 13.8946 7.48043 13.7071 7.29289C13.5196 7.10536 13.2652 7 13 7ZM13 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348 2 12C2 12.2652 2.10536 12.5196 2.29289 12.7071C2.48043 12.8946 2.73478 13 3 13H13C13.2652 13 13.5196 12.8946 13.7071 12.7071C13.8946 12.5196 14 12.2652 14 12C14 11.7348 13.8946 11.4804 13.7071 11.2929C13.5196 11.1054 13.2652 11 13 11Z"></path></svg>'},"./src/images/chevron.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 15L17 10H7L12 15Z"></path></svg>'},"./src/images/clear_16x16.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13.35 3.34999L12.65 2.64999L8.05002 7.24999L3.35002 2.64999L2.65002 3.34999L7.25002 8.04999L2.65002 12.65L3.35002 13.35L8.05002 8.74999L12.65 13.35L13.35 12.65L8.75002 8.04999L13.35 3.34999Z"></path></svg>'},"./src/images/collapseDetail.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H3V9H13V7Z"></path></svg>'},"./src/images/expandDetail.svg":function(oe,V){oe.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M13 7H9V3H7V7H3V9H7V13H9V9H13V7Z"></path></svg>'},"./src/images/no-image.svg":function(oe,V){oe.exports='<svg viewBox="0 0 48 48"><g opacity="0.5"><path d="M14 17.01C14 16.4167 14.1759 15.8366 14.5056 15.3433C14.8352 14.8499 15.3038 14.4654 15.8519 14.2384C16.4001 14.0113 17.0033 13.9519 17.5853 14.0676C18.1672 14.1834 18.7018 14.4691 19.1213 14.8887C19.5409 15.3082 19.8266 15.8428 19.9424 16.4247C20.0581 17.0067 19.9987 17.6099 19.7716 18.1581C19.5446 18.7062 19.1601 19.1748 18.6667 19.5044C18.1734 19.8341 17.5933 20.01 17 20.01C16.2044 20.01 15.4413 19.6939 14.8787 19.1313C14.3161 18.5687 14 17.8056 14 17.01ZM27.09 24.14L20 36.01H36L27.09 24.14ZM36.72 8.14L35.57 10.01H36C36.5304 10.01 37.0391 10.2207 37.4142 10.5958C37.7893 10.9709 38 11.4796 38 12.01V36.01C38 36.5404 37.7893 37.0491 37.4142 37.4242C37.0391 37.7993 36.5304 38.01 36 38.01H18.77L17.57 40.01H36C37.0609 40.01 38.0783 39.5886 38.8284 38.8384C39.5786 38.0883 40 37.0709 40 36.01V12.01C39.9966 11.0765 39.6668 10.1737 39.0678 9.45778C38.4688 8.74188 37.6382 8.25802 36.72 8.09V8.14ZM36.86 4.5L12.86 44.5L11.14 43.5L13.23 40.01H12C10.9391 40.01 9.92172 39.5886 9.17157 38.8384C8.42143 38.0883 8 37.0709 8 36.01V12.01C8 10.9491 8.42143 9.93172 9.17157 9.18157C9.92172 8.43143 10.9391 8.01 12 8.01H32.43L35.14 3.5L36.86 4.5ZM14.43 38.01L15.63 36.01H12L19 27.01L20.56 27.8L31.23 10.01H12C11.4696 10.01 10.9609 10.2207 10.5858 10.5958C10.2107 10.9709 10 11.4796 10 12.01V36.01C10 36.5404 10.2107 37.0491 10.5858 37.4242C10.9609 37.7993 11.4696 38.01 12 38.01H14.43Z"></path></g></svg>'},"./src/images/rating-star-2.svg":function(oe,V){oe.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" fill="none" stroke-width="2"></path><path d="M24.4663 34.6154L24 34.3695L23.5336 34.6154L14.4788 39.389L16.2156 29.2691L16.3044 28.7517L15.9289 28.3848L8.57358 21.1966L18.7249 19.7094L19.245 19.6332L19.4772 19.1616L24 9.97413L28.5228 19.1616L28.755 19.6332L29.275 19.7094L39.4264 21.1966L32.0711 28.3848L31.6956 28.7517L31.7844 29.2691L33.5211 39.389L24.4663 34.6154Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star-small-2.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" fill="none" stroke-width="2"></path><path d="M12 15.9472L8.58001 17.7572L9.23001 13.9272L6.45001 11.2072L10.29 10.6472L12 7.17725L13.71 10.6472L17.55 11.2072L14.77 13.9272L15.42 17.7572L12 15.9472Z"></path></svg>'},"./src/images/rating-star-small.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g><path d="M12 19.3373L6.13001 22.4373C5.50001 22.7673 4.77001 22.2373 4.89001 21.5373L6.01001 14.9773L1.26001 10.3273C0.750007 9.83728 1.03001 8.96728 1.73001 8.86728L8.29001 7.90728L11.23 1.93728C11.54 1.29728 12.45 1.29728 12.77 1.93728L15.7 7.90728L22.26 8.86728C22.96 8.96728 23.24 9.83728 22.73 10.3273L17.98 14.9773L19.1 21.5373C19.22 22.2373 18.49 22.7773 17.86 22.4373L11.99 19.3373H12Z" stroke-width="2"></path></g></svg>'},"./src/images/rating-star.svg":function(oe,V){oe.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"><g><path d="M24 39.5057L11.7226 45.9839C10.4095 46.6739 8.87606 45.5622 9.12525 44.096L11.4734 30.373L1.54411 20.6556C0.480254 19.6207 1.06489 17.8095 2.53128 17.5986L16.2559 15.5957L22.3994 3.10891C23.0512 1.77685 24.9488 1.77685 25.6102 3.10891L31.7441 15.5957L45.4687 17.5986C46.9351 17.8095 47.5197 19.6207 46.4559 20.6556L36.5266 30.373L38.8748 44.096C39.1239 45.5622 37.5905 46.6835 36.2774 45.9839L24 39.5057Z" stroke-width="2"></path></g></svg>'},"./src/images/search.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M14 2C9.6 2 6 5.6 6 10C6 11.8 6.6 13.5 7.7 14.9L2.3 20.3C1.9 20.7 1.9 21.3 2.3 21.7C2.5 21.9 2.7 22 3 22C3.3 22 3.5 21.9 3.7 21.7L9.1 16.3C10.5 17.4 12.2 18 14 18C18.4 18 22 14.4 22 10C22 5.6 18.4 2 14 2ZM14 16C10.7 16 8 13.3 8 10C8 6.7 10.7 4 14 4C17.3 4 20 6.7 20 10C20 13.3 17.3 16 14 16Z"></path></svg>'},"./src/images/smiley sync \\.svg$":function(oe,V,m){var L={"./average.svg":"./src/images/smiley/average.svg","./excellent.svg":"./src/images/smiley/excellent.svg","./good.svg":"./src/images/smiley/good.svg","./normal.svg":"./src/images/smiley/normal.svg","./not-good.svg":"./src/images/smiley/not-good.svg","./perfect.svg":"./src/images/smiley/perfect.svg","./poor.svg":"./src/images/smiley/poor.svg","./terrible.svg":"./src/images/smiley/terrible.svg","./very-good.svg":"./src/images/smiley/very-good.svg","./very-poor.svg":"./src/images/smiley/very-poor.svg"};function K(F){var S=j(F);return m(S)}function j(F){if(!m.o(L,F)){var S=new Error("Cannot find module '"+F+"'");throw S.code="MODULE_NOT_FOUND",S}return L[F]}K.keys=function(){return Object.keys(L)},K.resolve=j,oe.exports=K,K.id="./src/images/smiley sync \\.svg$"},"./src/images/smiley/average.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.00572 7C6.45572 7 6.00572 6.55 6.00572 6V2C6.00572 1.45 6.45572 1 7.00572 1C7.55572 1 8.00572 1.45 8.00572 2V6C8.00572 6.55 7.55572 7 7.00572 7ZM18.0057 6V2C18.0057 1.45 17.5557 1 17.0057 1C16.4557 1 16.0057 1.45 16.0057 2V6C16.0057 6.55 16.4557 7 17.0057 7C17.5557 7 18.0057 6.55 18.0057 6ZM19.9457 21.33C20.1257 20.81 19.8557 20.24 19.3357 20.05C14.5457 18.35 9.45572 18.35 4.66572 20.05C4.14572 20.23 3.87572 20.81 4.05572 21.33C4.23572 21.85 4.80572 22.12 5.33572 21.94C9.69572 20.4 14.3057 20.4 18.6657 21.94C18.7757 21.98 18.8857 22 18.9957 22C19.4057 22 19.7957 21.74 19.9357 21.33H19.9457Z"></path></svg>'},"./src/images/smiley/excellent.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85767 24 1.15509 20.96 0.0145752 14.16C-0.0354475 13.87 0.0445888 13.57 0.234675 13.35C0.424761 13.13 0.704888 13 0.995019 13H23.005C23.2951 13 23.5752 13.13 23.7653 13.35C23.9554 13.57 24.0354 13.87 23.9854 14.16C22.8549 20.95 17.1423 24 11.99 24H12.01ZM2.25559 15C3.61621 19.82 8.0182 22 12.01 22C16.0018 22 20.4038 19.82 21.7644 15H2.25559ZM8.00819 6V2C8.00819 1.45 7.55799 1 7.00774 1C6.45749 1 6.00729 1.45 6.00729 2V6C6.00729 6.55 6.45749 7 7.00774 7C7.55799 7 8.00819 6.55 8.00819 6ZM18.0127 6V2C18.0127 1.45 17.5625 1 17.0123 1C16.462 1 16.0118 1.45 16.0118 2V6C16.0118 6.55 16.462 7 17.0123 7C17.5625 7 18.0127 6.55 18.0127 6Z"></path></svg>'},"./src/images/smiley/good.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.0022 23.99C11.452 23.99 11.0018 23.5402 11.0018 22.9904C11.0018 22.4407 11.452 21.9909 12.0022 21.9909C16.3137 21.9909 21.0755 19.472 22.0158 13.8344C22.1058 13.2947 22.616 12.9248 23.1662 13.0148C23.7064 13.1047 24.0765 13.6245 23.9865 14.1643C22.8561 20.9513 17.144 24 11.9922 24L12.0022 23.99ZM8.00072 5.99783V1.99957C8.00072 1.4498 7.55056 1 7.00036 1C6.45016 1 6 1.4498 6 1.99957V5.99783C6 6.54759 6.45016 6.99739 7.00036 6.99739C7.55056 6.99739 8.00072 6.54759 8.00072 5.99783ZM18.0043 5.99783V1.99957C18.0043 1.4498 17.5542 1 17.004 1C16.4538 1 16.0036 1.4498 16.0036 1.99957V5.99783C16.0036 6.54759 16.4538 6.99739 17.004 6.99739C17.5542 6.99739 18.0043 6.54759 18.0043 5.99783Z"></path></svg>'},"./src/images/smiley/normal.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7 7C6.45 7 6 6.55 6 6V2C6 1.45 6.45 1 7 1C7.55 1 8 1.45 8 2V6C8 6.55 7.55 7 7 7ZM18 6V2C18 1.45 17.55 1 17 1C16.45 1 16 1.45 16 2V6C16 6.55 16.45 7 17 7C17.55 7 18 6.55 18 6ZM21 21C21 20.45 20.55 20 20 20H4C3.45 20 3 20.45 3 21C3 21.55 3.45 22 4 22H20C20.55 22 21 21.55 21 21Z"></path></svg>'},"./src/images/smiley/not-good.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.06927 7C6.51927 7 6.06927 6.55 6.06927 6V2C6.06927 1.45 6.51927 1 7.06927 1C7.61927 1 8.06927 1.45 8.06927 2V6C8.06927 6.55 7.61927 7 7.06927 7ZM18.0693 6V2C18.0693 1.45 17.6193 1 17.0693 1C16.5193 1 16.0693 1.45 16.0693 2V6C16.0693 6.55 16.5193 7 17.0693 7C17.6193 7 18.0693 6.55 18.0693 6ZM22.5693 21.9C23.0693 21.66 23.2793 21.07 23.0393 20.57C21.1093 16.52 16.9093 14 12.0693 14C7.22927 14 3.02927 16.52 1.09927 20.57C0.859273 21.07 1.06927 21.67 1.56927 21.9C2.06927 22.14 2.65927 21.93 2.89927 21.43C4.49927 18.08 8.00927 16 12.0593 16C16.1093 16 19.6293 18.08 21.2193 21.43C21.3893 21.79 21.7493 22 22.1193 22C22.2593 22 22.4093 21.97 22.5493 21.9H22.5693Z"></path></svg>'},"./src/images/smiley/perfect.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 23C6.85721 23 1.15412 19.9621 0.0134987 13.1669C-0.0765501 12.6272 0.293651 12.1076 0.833944 12.0177C1.38424 11.9277 1.89452 12.2975 1.98457 12.8371C2.92508 18.4732 7.69767 20.9914 12 20.9914C16.3023 20.9914 21.0749 18.4732 22.0154 12.8371C22.1055 12.2975 22.6158 11.9277 23.1661 12.0177C23.7063 12.1076 24.0765 12.6272 23.9865 13.1669C22.8559 19.9521 17.1428 23 11.99 23H12.01ZM21.165 6.15177C22.3056 5.01257 22.3056 3.16386 21.165 2.02465L21.0049 1.85477C19.9143 0.765533 18.1633 0.725561 17.0227 1.71487C15.8821 0.715568 14.1312 0.765533 13.0406 1.85477L12.8705 2.01466C11.7299 3.15386 11.7299 5.00257 12.8705 6.14178L17.0227 10.2889L21.175 6.14178L21.165 6.15177ZM15.742 3.27378L17.0127 4.54289L18.2834 3.27378C18.6436 2.91403 19.2239 2.91403 19.5841 3.27378L19.7442 3.43367C20.1044 3.79342 20.1044 4.37301 19.7442 4.73276L17.0127 7.46086L14.2812 4.73276C13.921 4.37301 13.921 3.79342 14.2812 3.43367L14.4413 3.27378C14.6214 3.09391 14.8515 3.00397 15.0917 3.00397C15.3318 3.00397 15.5619 3.09391 15.742 3.27378ZM11.1595 6.15177C12.3002 5.01257 12.3002 3.16386 11.1595 2.02465L10.9995 1.85477C9.90886 0.765533 8.15792 0.725561 7.0173 1.71487C5.87668 0.715568 4.12573 0.765533 3.03514 1.85477L2.86505 2.01466C1.72443 3.15386 1.72443 5.00257 2.86505 6.14178L7.0173 10.2889L11.1695 6.14178L11.1595 6.15177ZM5.7366 3.27378L7.00729 4.54289L8.27798 3.27378C8.63818 2.91403 9.21849 2.91403 9.57869 3.27378L9.73877 3.43367C10.099 3.79342 10.099 4.37301 9.73877 4.73276L7.00729 7.46086L4.27581 4.73276C3.91562 4.37301 3.91562 3.79342 4.27581 3.43367L4.4359 3.27378C4.61599 3.09391 4.84612 3.00397 5.08625 3.00397C5.32638 3.00397 5.5565 3.09391 5.7366 3.27378Z"></path></svg>'},"./src/images/smiley/poor.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M7.01915 7C6.46961 7 6.01998 6.55 6.01998 6V2C6.01998 1.45 6.46961 1 7.01915 1C7.56869 1 8.01832 1.45 8.01832 2V6C8.01832 6.55 7.56869 7 7.01915 7ZM18.01 6V2C18.01 1.45 17.5604 1 17.0108 1C16.4613 1 16.0117 1.45 16.0117 2V6C16.0117 6.55 16.4613 7 17.0108 7C17.5604 7 18.01 6.55 18.01 6ZM16.4213 21.58L18.01 19.99L19.2989 21.28C19.6886 21.67 20.3181 21.67 20.7077 21.28C21.0974 20.89 21.0974 20.26 20.7077 19.87L19.4188 18.58C18.6395 17.8 17.3705 17.8 16.5912 18.58L15.0025 20.17L13.4138 18.58C12.6345 17.8 11.3655 17.8 10.5862 18.58L8.9975 20.17L7.40883 18.58C6.62948 17.8 5.36053 17.8 4.58118 18.58L3.29226 19.87C2.90258 20.26 2.90258 20.89 3.29226 21.28C3.68193 21.67 4.31141 21.67 4.70108 21.28L5.99001 19.99L7.57868 21.58C8.35803 22.36 9.62698 22.36 10.4063 21.58L11.995 19.99L13.5837 21.58C13.9734 21.97 14.4829 22.16 14.9925 22.16C15.5021 22.16 16.0117 21.97 16.4013 21.58H16.4213Z"></path></svg>'},"./src/images/smiley/terrible.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 4.9938C4 4.44362 4.45 3.99348 5 3.99348H6.59L5.3 2.70306C4.91 2.31293 4.91 1.68272 5.3 1.2926C5.69 0.902468 6.32 0.902468 6.71 1.2926L9.71 4.29357C9.8 4.3836 9.88 4.49364 9.93 4.62368C10.03 4.86376 10.03 5.14385 9.93 5.38393C9.88 5.50397 9.81 5.614 9.71 5.71404L6.71 8.71501C6.51 8.91508 6.26 9.00511 6 9.00511C5.74 9.00511 5.49 8.90508 5.29 8.71501C4.9 8.32489 4.9 7.69468 5.29 7.30456L6.58 6.01413H4.99C4.44 6.01413 3.99 5.56399 3.99 5.01381L4 4.9938ZM14.08 5.37393C14.13 5.49397 14.2 5.604 14.3 5.70403L17.3 8.70501C17.5 8.90508 17.75 8.99511 18.01 8.99511C18.27 8.99511 18.52 8.89507 18.72 8.70501C19.11 8.31488 19.11 7.68468 18.72 7.29455L17.43 6.00413H19.02C19.57 6.00413 20.02 5.55399 20.02 5.00381C20.02 4.45363 19.57 4.00348 19.02 4.00348H17.43L18.72 2.71306C19.11 2.32293 19.11 1.69273 18.72 1.3026C18.33 0.912471 17.7 0.912471 17.31 1.3026L14.31 4.30358C14.22 4.39361 14.14 4.50364 14.09 4.63368C13.99 4.87376 13.99 5.15385 14.09 5.39393L14.08 5.37393ZM22 14.9971V20.999C22 22.6496 20.65 24 19 24H5C3.35 24 2 22.6496 2 20.999V14.9971C2 13.3465 3.35 11.9961 5 11.9961H19C20.65 11.9961 22 13.3465 22 14.9971ZM19 13.9967H16V16.9977H20V14.9971C20 14.4469 19.55 13.9967 19 13.9967ZM14 16.9977V13.9967H10V16.9977H14ZM10 18.9984V21.9993H14V18.9984H10ZM4 14.9971V16.9977H8V13.9967H5C4.45 13.9967 4 14.4469 4 14.9971ZM5 21.9993H8V18.9984H4V20.999C4 21.5492 4.45 21.9993 5 21.9993ZM20 20.999V18.9984H16V21.9993H19C19.55 21.9993 20 21.5492 20 20.999Z"></path></svg>'},"./src/images/smiley/very-good.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.01 24C6.85721 24 1.15412 20.96 0.0134987 14.16C-0.0765501 13.62 0.293651 13.1 0.833944 13.01C1.38424 12.92 1.89452 13.29 1.98457 13.83C2.92508 19.47 7.69767 21.99 12 21.99C16.3023 21.99 21.0749 19.47 22.0154 13.83C22.1055 13.29 22.6158 12.92 23.1661 13.01C23.7063 13.1 24.0765 13.62 23.9865 14.16C22.8559 20.95 17.1428 24 11.99 24H12.01ZM8.00783 6V2C8.00783 1.45 7.55759 1 7.00729 1C6.45699 1 6.00675 1.45 6.00675 2V6C6.00675 6.55 6.45699 7 7.00729 7C7.55759 7 8.00783 6.55 8.00783 6ZM18.0133 6V2C18.0133 1.45 17.563 1 17.0127 1C16.4624 1 16.0122 1.45 16.0122 2V6C16.0122 6.55 16.4624 7 17.0127 7C17.563 7 18.0133 6.55 18.0133 6Z"></path></svg>'},"./src/images/smiley/very-poor.svg":function(oe,V){oe.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_15894_140103)"><path d="M4.88291 4.50999C4.47291 4.50999 4.08291 4.24999 3.94291 3.83999C3.76291 3.31999 4.03291 2.74999 4.55291 2.56999L8.32291 1.24999C8.84291 1.05999 9.41291 1.33999 9.59291 1.85999C9.77291 2.37999 9.50291 2.94999 8.98291 3.12999L5.20291 4.44999C5.09291 4.48999 4.98291 4.50999 4.87291 4.50999H4.88291ZM19.8129 3.88999C20.0229 3.37999 19.7729 2.78999 19.2629 2.58999L15.5529 1.06999C15.0429 0.859992 14.4529 1.10999 14.2529 1.61999C14.0429 2.12999 14.2929 2.71999 14.8029 2.91999L18.5029 4.42999C18.6229 4.47999 18.7529 4.49999 18.8829 4.49999C19.2729 4.49999 19.6529 4.26999 19.8129 3.87999V3.88999ZM3.50291 5.99999C2.64291 6.36999 1.79291 6.87999 1.00291 7.47999C0.79291 7.63999 0.64291 7.86999 0.59291 8.13999C0.48291 8.72999 0.87291 9.28999 1.45291 9.39999C2.04291 9.50999 2.60291 9.11999 2.71291 8.53999C2.87291 7.68999 3.12291 6.82999 3.50291 5.98999V5.99999ZM21.0429 8.54999C21.6029 10.48 24.2429 8.83999 22.7529 7.47999C21.9629 6.87999 21.1129 6.36999 20.2529 5.99999C20.6329 6.83999 20.8829 7.69999 21.0429 8.54999ZM21.5729 13.2C21.2529 14.2 22.5429 15.09 23.3629 14.39C23.8529 14 23.9229 13.29 23.5429 12.81C21.7429 10.67 22.1329 10.55 21.5829 13.2H21.5729ZM1.75291 11C1.22291 11.79 -0.14709 12.64 0.0129102 13.75C0.15291 14.36 0.75291 14.74 1.35291 14.6C2.98291 14.1 1.80291 12.22 1.75291 11ZM19.8829 17C19.8829 13.14 16.2929 9.99999 11.8829 9.99999C7.47291 9.99999 3.88291 13.14 3.88291 17C3.88291 20.86 7.47291 24 11.8829 24C16.2929 24 19.8829 20.86 19.8829 17ZM17.8829 17C17.8829 19.76 15.1929 22 11.8829 22C8.57291 22 5.88291 19.76 5.88291 17C5.88291 14.24 8.57291 12 11.8829 12C15.1929 12 17.8829 14.24 17.8829 17Z"></path></g><defs><clipPath id="clip0_15894_140103"><rect width="24" height="24" fill="white"></rect></clipPath></defs></svg>'},"./src/itemvalue.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ItemValue",function(){return y});var v,L=m("./src/localizablestring.ts"),K=m("./src/jsonobject.ts"),j=m("./src/helpers.ts"),F=m("./src/conditions.ts"),S=m("./src/base.ts"),w=m("./src/settings.ts"),M=m("./src/actions/action.ts"),h=m("./src/question.ts"),D=(v=function(E,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(u[a]=l[a])})(E,g)},function(E,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function u(){this.constructor=E}v(E,g),E.prototype=null===g?Object.create(g):(u.prototype=g.prototype,new u)}),P=function(v,E,g,u){var i,l=arguments.length,a=l<3?E:null===u?u=Object.getOwnPropertyDescriptor(E,g):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(v,E,g,u);else for(var o=v.length-1;o>=0;o--)(i=v[o])&&(a=(l<3?i(a):l>3?i(E,g,a):i(E,g))||a);return l>3&&a&&Object.defineProperty(E,g,a),a},y=function(v){function E(g,u,l){void 0===u&&(u=null),void 0===l&&(l="itemvalue");var a=v.call(this)||this;return a.typeName=l,a.ownerPropertyName="",a.locTextValue=new L.LocalizableString(a,!0,"text"),a.locTextValue.onStrChanged=function(i,o){o==a.value&&(o=void 0),a.propertyValueChanged("text",i,o)},a.locTextValue.onGetTextCallback=function(i){return i||(j.Helpers.isValueEmpty(a.value)?null:a.value.toString())},u&&(a.locText.text=u),g&&"object"==typeof g?a.setData(g):a.value=g,"itemvalue"!=a.getType()&&K.CustomPropertiesCollection.createProperties(a),a.data=a,a.onCreating(),a}return D(E,v),E.prototype.getMarkdownHtml=function(g,u){return this.locOwner?this.locOwner.getMarkdownHtml(g,u):void 0},E.prototype.getRenderer=function(g){return this.locOwner?this.locOwner.getRenderer(g):null},E.prototype.getRendererContext=function(g){return this.locOwner?this.locOwner.getRendererContext(g):g},E.prototype.getProcessedText=function(g){return this.locOwner?this.locOwner.getProcessedText(g):g},Object.defineProperty(E,"Separator",{get:function(){return w.settings.itemValueSeparator},set:function(g){w.settings.itemValueSeparator=g},enumerable:!1,configurable:!0}),E.setData=function(g,u,l){g.length=0;for(var a=0;a<u.length;a++){var i=u[a],o=i&&"function"==typeof i.getType?i.getType():null!=l?l:"itemvalue",p=K.Serializer.createClass(o);p.setData(i),i.originalItem&&(p.originalItem=i.originalItem),g.push(p)}},E.getData=function(g){for(var u=[],l=0;l<g.length;l++)u.push(g[l].getData());return u},E.getItemByValue=function(g,u){if(!Array.isArray(g))return null;for(var l=j.Helpers.isValueEmpty(u),a=0;a<g.length;a++)if(l&&j.Helpers.isValueEmpty(g[a].value)||j.Helpers.isTwoValueEquals(g[a].value,u,!1,!0,!1))return g[a];return null},E.getTextOrHtmlByValue=function(g,u){var l=E.getItemByValue(g,u);return null!==l?l.locText.textOrHtml:""},E.locStrsChanged=function(g){for(var u=0;u<g.length;u++)g[u].locStrsChanged()},E.runConditionsForItems=function(g,u,l,a,i,o,p){return void 0===o&&(o=!0),E.runConditionsForItemsCore(g,u,l,a,i,!0,o,p)},E.runEnabledConditionsForItems=function(g,u,l,a,i){return E.runConditionsForItemsCore(g,null,u,l,a,!1,!0,i)},E.runConditionsForItemsCore=function(g,u,l,a,i,o,p,A){void 0===p&&(p=!0),a||(a={});for(var B=a.item,O=a.choice,f=!1,b=0;b<g.length;b++){var C=g[b];a.item=C.value,a.choice=C.value;var c=!(!p||!C.getConditionRunner)&&C.getConditionRunner(o);c||(c=l);var T=!0;c&&(T=c.run(a,i)),A&&(T=A(C,T)),u&&T&&u.push(C),T!=(o?C.isVisible:C.isEnabled)&&(f=!0,o?C.setIsVisible&&C.setIsVisible(T):C.setIsEnabled&&C.setIsEnabled(T))}return B?a.item=B:delete a.item,O?a.choice=O:delete a.choice,f},E.prototype.onCreating=function(){},E.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},E.prototype.getSurvey=function(g){return void 0===g&&(g=!1),this.locOwner&&this.locOwner.getSurvey?this.locOwner.getSurvey():null},E.prototype.getLocale=function(){return this.locOwner&&this.locOwner.getLocale?this.locOwner.getLocale():""},Object.defineProperty(E.prototype,"isInternal",{get:function(){return!0===this.isGhost},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"locText",{get:function(){return this.locTextValue},enumerable:!1,configurable:!0}),E.prototype.setLocText=function(g){this.locTextValue=g},Object.defineProperty(E.prototype,"locOwner",{get:function(){return this._locOwner},set:function(g){this._locOwner=g},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(g){var u=void 0;if(!j.Helpers.isValueEmpty(g)){var l=g.toString(),a=l.indexOf(w.settings.itemValueSeparator);a>-1&&(g=l.slice(0,a),u=l.slice(a+1))}this.setPropertyValue("value",g),u&&(this.text=u),this.id=this.value},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"hasText",{get:function(){return!!this.locText.pureText},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"pureText",{get:function(){return this.locText.pureText},set:function(g){this.text=g},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"text",{get:function(){return this.locText.calculatedText},set:function(g){this.locText.text=g},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"calculatedText",{get:function(){return this.locText.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"shortcutText",{get:function(){return this.text},enumerable:!1,configurable:!0}),E.prototype.canSerializeValue=function(){var g=this.value;return null!=g&&!Array.isArray(g)&&"object"!=typeof g},E.prototype.getData=function(){var g=this.toJSON();if(!!g.value&&!!g.value.pos&&delete g.value.pos,j.Helpers.isValueEmpty(g.value))return g;var u=this.canSerializeValue();return u&&(w.settings.serialization.itemValueSerializeAsObject||w.settings.serialization.itemValueSerializeDisplayText)||1!=Object.keys(g).length?(w.settings.serialization.itemValueSerializeDisplayText&&void 0===g.text&&u&&(g.text=this.value.toString()),g):this.value},E.prototype.toJSON=function(){var g={},u=K.Serializer.getProperties(this.getType());(!u||0==u.length)&&(u=K.Serializer.getProperties("itemvalue"));for(var l=new K.JsonObject,a=0;a<u.length;a++){var i=u[a];"text"===i.name&&!this.locText.hasNonDefaultText()&&j.Helpers.isTwoValueEquals(this.value,this.text,!1,!0,!1)||l.valueToJson(this,g,i)}return g},E.prototype.setData=function(g){if(!j.Helpers.isValueEmpty(g)){if(void 0===g.value&&void 0!==g.text&&1===Object.keys(g).length&&(g.value=g.text),void 0!==g.value){var u;u="function"==typeof g.toJSON?g.toJSON():g,(new K.JsonObject).toObject(u,this)}else this.value=g;this.locText.strChanged()}},Object.defineProperty(E.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(g){this.setPropertyValue("visibleIf",g)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(g){this.setPropertyValue("enableIf",g)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!0)},enumerable:!1,configurable:!0}),E.prototype.setIsVisible=function(g){this.setPropertyValue("isVisible",g)},Object.defineProperty(E.prototype,"isEnabled",{get:function(){return this.getPropertyValue("isEnabled",!0)},enumerable:!1,configurable:!0}),E.prototype.setIsEnabled=function(g){this.setPropertyValue("isEnabled",g)},E.prototype.addUsedLocales=function(g){this.AddLocStringToUsedLocales(this.locTextValue,g)},E.prototype.locStrsChanged=function(){v.prototype.locStrsChanged.call(this),this.locText.strChanged()},E.prototype.onPropertyValueChanged=function(g,u,l){"value"===g&&!this.hasText&&this.locText.strChanged();var a="itemValuePropertyChanged";!this.locOwner||!this.locOwner[a]||this.locOwner[a](this,g,u,l)},E.prototype.getConditionRunner=function(g){return g?this.getVisibleConditionRunner():this.getEnableConditionRunner()},E.prototype.getVisibleConditionRunner=function(){return this.visibleIf?(this.visibleConditionRunner||(this.visibleConditionRunner=new F.ConditionRunner(this.visibleIf)),this.visibleConditionRunner.expression=this.visibleIf,this.visibleConditionRunner):null},E.prototype.getEnableConditionRunner=function(){return this.enableIf?(this.enableConditionRunner||(this.enableConditionRunner=new F.ConditionRunner(this.enableIf)),this.enableConditionRunner.expression=this.enableIf,this.enableConditionRunner):null},Object.defineProperty(E.prototype,"selected",{get:function(){var g=this,u=this._locOwner;return u instanceof h.Question&&u.isItemSelected&&void 0===this.selectedValue&&(this.selectedValue=new S.ComputedUpdater(function(){return u.isItemSelected(g)})),this.selectedValue},enumerable:!1,configurable:!0}),E.prototype.getComponent=function(){return this._locOwner instanceof h.Question?this.componentValue||this._locOwner.itemComponent:this.componentValue},E.prototype.setComponent=function(g){this.componentValue=g},E.prototype.getEnabled=function(){return this.isEnabled},E.prototype.setEnabled=function(g){this.setIsEnabled(g)},E.prototype.getVisible=function(){return(void 0===this.isVisible||this.isVisible)&&(void 0===this._visible||this._visible)},E.prototype.setVisible=function(g){this._visible=g},E.prototype.getLocTitle=function(){return this.locText},E.prototype.getTitle=function(){return this.text},E.prototype.setLocTitle=function(g){},E.prototype.setTitle=function(g){},P([Object(K.property)({defaultValue:!0})],E.prototype,"_visible",void 0),P([Object(K.property)()],E.prototype,"selectedValue",void 0),P([Object(K.property)()],E.prototype,"icon",void 0),E}(M.BaseAction);S.Base.createItemValue=function(v,E){var g=null;return(g=E?K.JsonObject.metaData.createClass(E,{}):"function"==typeof v.getType?new y(null,void 0,v.getType()):new y(null)).setData(v),g},S.Base.itemValueLocStrChanged=function(v){y.locStrsChanged(v)},K.JsonObjectProperty.getItemValuesDefaultValue=function(v,E){var g=new Array;return y.setData(g,Array.isArray(v)?v:[],E),g},K.Serializer.addClass("itemvalue",[{name:"!value",isUnique:!0},{name:"text",serializationProperty:"locText"},{name:"visibleIf:condition",showMode:"form"},{name:"enableIf:condition",showMode:"form",visibleIf:function(v){return!v||"rateValues"!==v.ownerPropertyName}}],function(v){return new y(v)})},"./src/jsonobject.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"property",function(){return h}),m.d(V,"propertyArray",function(){return P}),m.d(V,"JsonObjectProperty",function(){return y}),m.d(V,"CustomPropertiesCollection",function(){return v}),m.d(V,"JsonMetadataClass",function(){return E}),m.d(V,"JsonMetadata",function(){return g}),m.d(V,"JsonError",function(){return u}),m.d(V,"JsonUnknownPropertyError",function(){return l}),m.d(V,"JsonMissingTypeErrorBase",function(){return a}),m.d(V,"JsonMissingTypeError",function(){return i}),m.d(V,"JsonIncorrectTypeError",function(){return o}),m.d(V,"JsonRequiredPropertyError",function(){return p}),m.d(V,"JsonObject",function(){return A}),m.d(V,"Serializer",function(){return B});var O,L=m("./src/surveyStrings.ts"),K=m("./src/base.ts"),j=m("./src/helpers.ts"),F=(O=function(f,b){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var T in c)Object.prototype.hasOwnProperty.call(c,T)&&(C[T]=c[T])})(f,b)},function(f,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function C(){this.constructor=f}O(f,b),f.prototype=null===b?Object.create(b):(C.prototype=b.prototype,new C)});function w(O,f,b){var C=O.getLocalizableString(b);C||(C=O.createLocalizableString(b,O,!0),"object"==typeof f.localizable&&"function"==typeof f.localizable.onGetTextCallback&&(C.onGetTextCallback=f.localizable.onGetTextCallback))}function h(O){return function(f,b){var C=function(c,T){if(T&&"object"==typeof T&&T.type===K.ComputedUpdater.ComputedUpdaterType){K.Base.startCollectDependencies(function(){return c[b]=T.updater()},c,b);var I=T.updater(),H=K.Base.finishCollectDependencies();return T.setDependencies(H),I}return T};O&&O.localizable?(Object.defineProperty(f,b,{get:function(){return function M(O,f,b){w(O,f,b);var C=O.getLocalizableStringText(b);if(C)return C;if("object"==typeof f.localizable&&f.localizable.defaultStr){var c=O.getLocale?O.getLocale():"";return L.surveyLocalization.getString(f.localizable.defaultStr,c)}return""}(this,O,b)},set:function(c){w(this,O,b);var T=C(this,c);this.setLocalizableStringText(b,T),O&&O.onSet&&O.onSet(T,this)}}),Object.defineProperty(f,"object"==typeof O.localizable&&O.localizable.name?O.localizable.name:"loc"+b.charAt(0).toUpperCase()+b.slice(1),{get:function(){return w(this,O,b),this.getLocalizableString(b)}})):Object.defineProperty(f,b,{get:function(){var c=null;return O&&("function"==typeof O.getDefaultValue&&(c=O.getDefaultValue(this)),void 0!==O.defaultValue&&(c=O.defaultValue)),this.getPropertyValue(b,c)},set:function(c){var T=C(this,c);this.setPropertyValue(b,T),O&&O.onSet&&O.onSet(T,this)}})}}function D(O,f,b){O.ensureArray(b,function(C,c){var T=f?f.onPush:null;T&&T(C,c,O)},function(C,c){var T=f?f.onRemove:null;T&&T(C,c,O)})}function P(O){return function(f,b){Object.defineProperty(f,b,{get:function(){return D(this,O,b),this.getPropertyValue(b)},set:function(C){D(this,O,b);var c=this.getPropertyValue(b);C!==c&&(c?c.splice.apply(c,function(O,f){for(var b=0,C=f.length,c=O.length;b<C;b++,c++)O[c]=f[b];return O}([0,c.length],C||[])):this.setPropertyValue(b,C),O&&O.onSet&&O.onSet(C,this))}})}}var y=function(){function O(f,b,C){void 0===C&&(C=!1),this.name=b,this.isRequiredValue=!1,this.isUniqueValue=!1,this.isSerializable=!0,this.isLightSerializable=!0,this.isCustom=!1,this.isDynamicChoices=!1,this.isBindable=!1,this.category="",this.categoryIndex=-1,this.visibleIndex=-1,this.maxLength=-1,this.isArray=!1,this.classInfoValue=f,this.isRequiredValue=C,this.idValue=O.Index++}return Object.defineProperty(O.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"classInfo",{get:function(){return this.classInfoValue},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"type",{get:function(){return this.typeValue?this.typeValue:"string"},set:function(f){"itemvalues"===f&&(f="itemvalue[]"),"textitems"===f&&(f="textitem[]"),this.typeValue=f,this.typeValue.indexOf("[]")===this.typeValue.length-2&&(this.isArray=!0,this.className=this.typeValue.substring(0,this.typeValue.length-2))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRequired",{get:function(){return this.isRequiredValue},set:function(f){this.isRequiredValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isUnique",{get:function(){return this.isUniqueValue},set:function(f){this.isUniqueValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"uniquePropertyName",{get:function(){return this.uniquePropertyValue},set:function(f){this.uniquePropertyValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"hasToUseGetValue",{get:function(){return this.onGetValue||this.serializationProperty},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"defaultValue",{get:function(){var f=this.defaultValueFunc?this.defaultValueFunc():this.defaultValueValue;return!!O.getItemValuesDefaultValue&&A.metaData.isDescendantOf(this.className,"itemvalue")&&(f=O.getItemValuesDefaultValue(this.defaultValueValue||[],this.className)),f},set:function(f){this.defaultValueValue=f},enumerable:!1,configurable:!0}),O.prototype.isDefaultValue=function(f){return j.Helpers.isValueEmpty(this.defaultValue)?!1===f&&("boolean"==this.type||"switch"==this.type)||""===f||j.Helpers.isValueEmpty(f):j.Helpers.isTwoValueEquals(f,this.defaultValue,!1,!0,!1)},O.prototype.getValue=function(f){return this.onGetValue?this.onGetValue(f):this.serializationProperty&&f[this.serializationProperty]?f[this.serializationProperty].getJson():f[this.name]},O.prototype.getPropertyValue=function(f){return this.isLocalizable?f[this.serializationProperty]?f[this.serializationProperty].text:null:this.getValue(f)},Object.defineProperty(O.prototype,"hasToUseSetValue",{get:function(){return this.onSetValue||this.serializationProperty},enumerable:!1,configurable:!0}),O.prototype.settingValue=function(f,b){return!this.onSettingValue||f.isLoadingFromJson?b:this.onSettingValue(f,b)},O.prototype.setValue=function(f,b,C){this.onSetValue?this.onSetValue(f,b,C):this.serializationProperty&&f[this.serializationProperty]?f[this.serializationProperty].setJson(b):(b&&"string"==typeof b&&("number"==this.type&&(b=parseInt(b)),("boolean"==this.type||"switch"==this.type)&&(b="true"===b.toLowerCase())),f[this.name]=b)},O.prototype.getObjType=function(f){return this.classNamePart?f.replace(this.classNamePart,""):f},Object.defineProperty(O.prototype,"choices",{get:function(){return this.getChoices(null)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"hasChoices",{get:function(){return!!this.choicesValue||!!this.choicesfunc},enumerable:!1,configurable:!0}),O.prototype.getChoices=function(f,b){return void 0===b&&(b=null),null!=this.choicesValue?this.choicesValue:null!=this.choicesfunc?this.choicesfunc(f,b):null},O.prototype.setChoices=function(f,b){void 0===b&&(b=null),this.choicesValue=f,this.choicesfunc=b},O.prototype.getBaseValue=function(){return this.baseValue?"function"==typeof this.baseValue?this.baseValue():this.baseValue:""},O.prototype.setBaseValue=function(f){this.baseValue=f},Object.defineProperty(O.prototype,"readOnly",{get:function(){return null!=this.readOnlyValue&&this.readOnlyValue},set:function(f){this.readOnlyValue=f},enumerable:!1,configurable:!0}),O.prototype.isVisible=function(f,b){return void 0===b&&(b=null),!(!this.visible||this.layout&&this.layout!=f)&&(!this.visibleIf||!b||this.visibleIf(b))},Object.defineProperty(O.prototype,"visible",{get:function(){return null==this.visibleValue||this.visibleValue},set:function(f){this.visibleValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isLocalizable",{get:function(){return null!=this.isLocalizableValue&&this.isLocalizableValue},set:function(f){this.isLocalizableValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"dataList",{get:function(){return Array.isArray(this.dataListValue)?this.dataListValue:[]},set:function(f){this.dataListValue=f},enumerable:!1,configurable:!0}),O.prototype.mergeWith=function(f){for(var b=O.mergableValues,C=0;C<b.length;C++)this.mergeValue(f,b[C])},O.prototype.addDependedProperty=function(f){this.dependedProperties||(this.dependedProperties=[]),this.dependedProperties.indexOf(f)<0&&this.dependedProperties.push(f)},O.prototype.getDependedProperties=function(){return this.dependedProperties?this.dependedProperties:[]},O.prototype.schemaType=function(){if("choicesByUrl"!==this.className)return"string"===this.className?this.className:this.className||this.baseClassName?"array":"switch"==this.type?"boolean":"boolean"==this.type||"number"==this.type?this.type:"string"},O.prototype.schemaRef=function(){if(this.className)return this.className},O.prototype.mergeValue=function(f,b){null==this[b]&&null!=f[b]&&(this[b]=f[b])},O.Index=1,O.mergableValues=["typeValue","choicesValue","baseValue","readOnlyValue","visibleValue","isSerializable","isLightSerializable","isCustom","isBindable","isUnique","uniquePropertyName","isDynamicChoices","isLocalizableValue","className","alternativeName","layout","classNamePart","baseClassName","defaultValue","defaultValueFunc","serializationProperty","onGetValue","onSetValue","onSettingValue","displayName","category","categoryIndex","visibleIndex","nextToProperty","overridingProperty","showMode","dependedProperties","visibleIf","onExecuteExpression","onPropertyEditorUpdate","maxLength","maxValue","minValue","dataListValue"],O}(),v=function(){function O(){}return O.addProperty=function(f,b){f=f.toLowerCase();var C=O.properties;C[f]||(C[f]=[]),C[f].push(b)},O.removeProperty=function(f,b){f=f.toLowerCase();var C=O.properties;if(C[f])for(var c=C[f],T=0;T<c.length;T++)if(c[T].name==b){C[f].splice(T,1);break}},O.removeAllProperties=function(f){f=f.toLowerCase(),delete O.properties[f]},O.addClass=function(f,b){f=f.toLowerCase(),b&&(b=b.toLowerCase()),O.parentClasses[f]=b},O.getProperties=function(f){f=f.toLowerCase();for(var b=[],C=O.properties;f;){var c=C[f];if(c)for(var T=0;T<c.length;T++)b.push(c[T]);f=O.parentClasses[f]}return b},O.createProperties=function(f){!f||!f.getType||O.createPropertiesCore(f,f.getType())},O.createPropertiesCore=function(f,b){var C=O.properties;C[b]&&O.createPropertiesInObj(f,C[b]);var c=O.parentClasses[b];c&&O.createPropertiesCore(f,c)},O.createPropertiesInObj=function(f,b){for(var C=0;C<b.length;C++)O.createPropertyInObj(f,b[C])},O.createPropertyInObj=function(f,b){if(!(O.checkIsPropertyExists(f,b.name)||b.serializationProperty&&O.checkIsPropertyExists(f,b.serializationProperty))){if(b.isLocalizable&&b.serializationProperty&&f.createCustomLocalizableObj){f.createCustomLocalizableObj(b.name);var C={get:function(){return f.getLocalizableString(b.name)}};Object.defineProperty(f,b.serializationProperty,C);var c={get:function(){return f.getLocalizableStringText(b.name,b.defaultValue)},set:function(H){f.setLocalizableStringText(b.name,H)}};Object.defineProperty(f,b.name,c)}else{var T=b.defaultValue,I=b.isArray||"multiplevalues"===b.type;"function"==typeof f.createNewArray&&(A.metaData.isDescendantOf(b.className,"itemvalue")?(f.createNewArray(b.name,function(H){H.locOwner=f,H.ownerPropertyName=b.name}),I=!0):I&&f.createNewArray(b.name),I&&(Array.isArray(T)&&f.setPropertyValue(b.name,T),T=null)),f.getPropertyValue&&f.setPropertyValue&&(c={get:function(){return b.onGetValue?b.onGetValue(f):f.getPropertyValue(b.name,T)},set:function(J){b.onSetValue?b.onSetValue(f,J,null):f.setPropertyValue(b.name,J)}},Object.defineProperty(f,b.name,c))}("condition"===b.type||"expression"===b.type)&&b.onExecuteExpression&&f.addExpressionProperty(b.name,b.onExecuteExpression)}},O.checkIsPropertyExists=function(f,b){return f.hasOwnProperty(b)||f[b]},O.properties={},O.parentClasses={},O}(),E=function(){function O(f,b,C,c){void 0===C&&(C=null),void 0===c&&(c=null),this.name=f,this.creator=C,this.parentName=c,f=f.toLowerCase(),this.isCustomValue=!C&&"survey"!==f,this.parentName&&(this.parentName=this.parentName.toLowerCase(),v.addClass(f,this.parentName),C&&this.makeParentRegularClass()),this.properties=new Array;for(var T=0;T<b.length;T++)this.createProperty(b[T],this.isCustom)}return O.prototype.find=function(f){for(var b=0;b<this.properties.length;b++)if(this.properties[b].name==f)return this.properties[b];return null},O.prototype.findProperty=function(f){return this.fillAllProperties(),this.hashProperties[f]},O.prototype.getAllProperties=function(){return this.fillAllProperties(),this.allProperties},O.prototype.resetAllProperties=function(){this.allProperties=void 0,this.hashProperties=void 0;for(var f=B.getChildrenClasses(this.name),b=0;b<f.length;b++)f[b].resetAllProperties()},Object.defineProperty(O.prototype,"isCustom",{get:function(){return this.isCustomValue},enumerable:!1,configurable:!0}),O.prototype.fillAllProperties=function(){var f=this;if(!this.allProperties){this.allProperties=[],this.hashProperties={};var b={};this.properties.forEach(function(T){return b[T.name]=T});var C=this.parentName?B.findClass(this.parentName):null;C&&C.getAllProperties().forEach(function(T){var I=b[T.name];I?(I.mergeWith(T),f.addPropCore(I)):f.addPropCore(T)}),this.properties.forEach(function(T){f.hashProperties[T.name]||f.addPropCore(T)})}},O.prototype.addPropCore=function(f){this.allProperties.push(f),this.hashProperties[f.name]=f,f.alternativeName&&(this.hashProperties[f.alternativeName]=f)},O.prototype.isOverridedProp=function(f){return!!this.parentName&&!!B.findProperty(this.parentName,f)},O.prototype.hasRegularChildClass=function(){if(this.isCustom){this.isCustomValue=!1;for(var f=0;f<this.properties.length;f++)this.properties[f].isCustom=!1;v.removeAllProperties(this.name),this.makeParentRegularClass()}},O.prototype.makeParentRegularClass=function(){if(this.parentName){var f=B.findClass(this.parentName);f&&f.hasRegularChildClass()}},O.prototype.createProperty=function(f,b){void 0===b&&(b=!1);var C="string"==typeof f?f:f.name;if(C){var c=null,T=C.indexOf(O.typeSymbol);T>-1&&(c=C.substring(T+1),C=C.substring(0,T));var I=this.getIsPropertyNameRequired(C)||!!f.isRequired;C=this.getPropertyName(C);var H=new y(this,C,I);return c&&(H.type=c),"object"==typeof f&&(f.type&&(H.type=f.type),void 0!==f.default&&(H.defaultValue=f.default),void 0!==f.defaultFunc&&(H.defaultValueFunc=f.defaultFunc),j.Helpers.isValueEmpty(f.isSerializable)||(H.isSerializable=f.isSerializable),j.Helpers.isValueEmpty(f.isLightSerializable)||(H.isLightSerializable=f.isLightSerializable),j.Helpers.isValueEmpty(f.maxLength)||(H.maxLength=f.maxLength),j.Helpers.isValueEmpty(f.displayName)||(H.displayName=f.displayName),j.Helpers.isValueEmpty(f.category)||(H.category=f.category),j.Helpers.isValueEmpty(f.categoryIndex)||(H.categoryIndex=f.categoryIndex),j.Helpers.isValueEmpty(f.nextToProperty)||(H.nextToProperty=f.nextToProperty),j.Helpers.isValueEmpty(f.overridingProperty)||(H.overridingProperty=f.overridingProperty),j.Helpers.isValueEmpty(f.visibleIndex)||(H.visibleIndex=f.visibleIndex),j.Helpers.isValueEmpty(f.showMode)||(H.showMode=f.showMode),j.Helpers.isValueEmpty(f.maxValue)||(H.maxValue=f.maxValue),j.Helpers.isValueEmpty(f.minValue)||(H.minValue=f.minValue),j.Helpers.isValueEmpty(f.dataList)||(H.dataList=f.dataList),j.Helpers.isValueEmpty(f.isDynamicChoices)||(H.isDynamicChoices=f.isDynamicChoices),j.Helpers.isValueEmpty(f.isBindable)||(H.isBindable=f.isBindable),j.Helpers.isValueEmpty(f.isUnique)||(H.isUnique=f.isUnique),j.Helpers.isValueEmpty(f.uniqueProperty)||(H.uniquePropertyName=f.uniqueProperty),j.Helpers.isValueEmpty(f.isArray)||(H.isArray=f.isArray),(!0===f.visible||!1===f.visible)&&(H.visible=f.visible),f.visibleIf&&(H.visibleIf=f.visibleIf),f.onExecuteExpression&&(H.onExecuteExpression=f.onExecuteExpression),f.onPropertyEditorUpdate&&(H.onPropertyEditorUpdate=f.onPropertyEditorUpdate),!0===f.readOnly&&(H.readOnly=!0),f.choices&&H.setChoices("function"!=typeof f.choices?f.choices:null,"function"==typeof f.choices?f.choices:null),f.baseValue&&H.setBaseValue(f.baseValue),f.onGetValue&&(H.onGetValue=f.onGetValue),f.onSetValue&&(H.onSetValue=f.onSetValue),f.onSettingValue&&(H.onSettingValue=f.onSettingValue),f.isLocalizable&&(f.serializationProperty="loc"+H.name),f.serializationProperty&&(H.serializationProperty=f.serializationProperty,H.serializationProperty&&0==H.serializationProperty.indexOf("loc")&&(H.isLocalizable=!0)),f.isLocalizable&&(H.isLocalizable=f.isLocalizable),f.className&&(H.className=f.className),f.baseClassName&&(H.baseClassName=f.baseClassName),f.classNamePart&&(H.classNamePart=f.classNamePart),f.alternativeName&&(H.alternativeName=f.alternativeName),f.layout&&(H.layout=f.layout),f.dependsOn&&this.addDependsOnProperties(H,f.dependsOn)),this.properties.push(H),b&&!this.isOverridedProp(H.name)&&(H.isCustom=!0,v.addProperty(this.name,H)),H}},O.prototype.addDependsOnProperties=function(f,b){if(Array.isArray(b))for(var C=0;C<b.length;C++)this.addDependsOnProperty(f,b[C]);else this.addDependsOnProperty(f,b)},O.prototype.addDependsOnProperty=function(f,b){var C=this.find(b);C||(C=B.findProperty(this.parentName,b)),C&&C.addDependedProperty(f.name)},O.prototype.getIsPropertyNameRequired=function(f){return f.length>0&&f[0]==O.requiredSymbol},O.prototype.getPropertyName=function(f){return this.getIsPropertyNameRequired(f)&&(f=f.slice(1)),f},O.requiredSymbol="!",O.typeSymbol=":",O}(),g=function(){function O(){this.classes={},this.alternativeNames={},this.childrenClasses={}}return O.prototype.getObjPropertyValue=function(f,b){if(this.isObjWrapper(f)){var C=f.getOriginalObj();if(c=B.findProperty(C.getType(),b))return this.getObjPropertyValueCore(C,c)}var c;return(c=B.findProperty(f.getType(),b))?this.getObjPropertyValueCore(f,c):f[b]},O.prototype.setObjPropertyValue=function(f,b,C){if(f[b]!==C)if(f[b]&&f[b].setJson)f[b].setJson(C);else{if(Array.isArray(C)){for(var c=[],T=0;T<C.length;T++)c.push(C[T]);C=c}f[b]=C}},O.prototype.getObjPropertyValueCore=function(f,b){if(!b.isSerializable)return f[b.name];if(b.isLocalizable){if(b.isArray)return f[b.name];if(b.serializationProperty)return f[b.serializationProperty].text}return f.getPropertyValue(b.name)},O.prototype.isObjWrapper=function(f){return!!f.getOriginalObj&&!!f.getOriginalObj()},O.prototype.addClass=function(f,b,C,c){void 0===C&&(C=null),void 0===c&&(c=null),f=f.toLowerCase();var T=new E(f,b,C,c);return this.classes[f]=T,c&&(c=c.toLowerCase(),this.childrenClasses[c]||(this.childrenClasses[c]=[]),this.childrenClasses[c].push(T)),T},O.prototype.removeClass=function(f){var b=this.findClass(f);if(b&&(delete this.classes[b.name],b.parentName)){var C=this.childrenClasses[b.parentName].indexOf(b);C>-1&&this.childrenClasses[b.parentName].splice(C,1)}},O.prototype.overrideClassCreatore=function(f,b){this.overrideClassCreator(f,b)},O.prototype.overrideClassCreator=function(f,b){f=f.toLowerCase();var C=this.findClass(f);C&&(C.creator=b)},O.prototype.getProperties=function(f){var b=this.findClass(f);return b?b.getAllProperties():[]},O.prototype.getPropertiesByObj=function(f){if(!f||!f.getType)return[];for(var b={},C=this.getProperties(f.getType()),c=0;c<C.length;c++)b[C[c].name]=C[c];var T=f.getDynamicType?this.getProperties(f.getDynamicType()):null;if(T&&T.length>0)for(c=0;c<T.length;c++){var I=T[c];b[I.name]||(b[I.name]=I)}return Object.keys(b).map(function(H){return b[H]})},O.prototype.getDynamicPropertiesByObj=function(f,b){if(void 0===b&&(b=null),!f||!f.getType||!f.getDynamicType&&!b)return[];var C=b||f.getDynamicType();if(!C)return[];var c=this.getProperties(C);if(!c||0==c.length)return[];for(var T={},I=this.getProperties(f.getType()),H=0;H<I.length;H++)T[I[H].name]=I[H];var J=[];for(H=0;H<c.length;H++){var se=c[H];T[se.name]||J.push(se)}return J},O.prototype.hasOriginalProperty=function(f,b){return!!this.getOriginalProperty(f,b)},O.prototype.getOriginalProperty=function(f,b){return this.findProperty(f.getType(),b)||(this.isObjWrapper(f)?this.findProperty(f.getOriginalObj().getType(),b):null)},O.prototype.getProperty=function(f,b){var C=this.findProperty(f,b);if(!C)return C;var c=this.findClass(f);if(C.classInfo===c)return C;var T=new y(c,C.name,C.isRequired);return T.mergeWith(C),T.isArray=C.isArray,c.properties.push(T),c.resetAllProperties(),T},O.prototype.findProperty=function(f,b){var C=this.findClass(f);return C?C.findProperty(b):null},O.prototype.findProperties=function(f,b){var C=new Array,c=this.findClass(f);if(!c)return C;for(var T=0;T<b.length;T++){var I=c.findProperty(b[T]);I&&C.push(I)}return C},O.prototype.getAllPropertiesByName=function(f){for(var b=new Array,C=this.getAllClasses(),c=0;c<C.length;c++)for(var T=this.findClass(C[c]),I=0;I<T.properties.length;I++)if(T.properties[I].name==f){b.push(T.properties[I]);break}return b},O.prototype.getAllClasses=function(){var f=new Array;for(var b in this.classes)f.push(b);return f},O.prototype.createClass=function(f,b){void 0===b&&(b=void 0),f=f.toLowerCase();var C=this.findClass(f);if(!C)return null;if(C.creator)return C.creator(b);for(var c=C.parentName;c;){if(!(C=this.findClass(c)))return null;if(c=C.parentName,C.creator)return this.createCustomType(f,C.creator,b)}return null},O.prototype.createCustomType=function(f,b,C){void 0===C&&(C=void 0),f=f.toLowerCase();var c=b(C),T=f,I=c.getTemplate?c.getTemplate():c.getType();return c.getType=function(){return T},c.getTemplate=function(){return I},v.createProperties(c),c},O.prototype.getChildrenClasses=function(f,b){void 0===b&&(b=!1),f=f.toLowerCase();var C=[];return this.fillChildrenClasses(f,b,C),C},O.prototype.getRequiredProperties=function(f){for(var b=this.getProperties(f),C=[],c=0;c<b.length;c++)b[c].isRequired&&C.push(b[c].name);return C},O.prototype.addProperties=function(f,b){f=f.toLowerCase();for(var C=this.findClass(f),c=0;c<b.length;c++)this.addCustomPropertyCore(C,b[c])},O.prototype.addProperty=function(f,b){return this.addCustomPropertyCore(this.findClass(f),b)},O.prototype.addCustomPropertyCore=function(f,b){if(!f)return null;var C=f.createProperty(b,!0);return C&&f.resetAllProperties(),C},O.prototype.removeProperty=function(f,b){var C=this.findClass(f);if(!C)return!1;var c=C.find(b);c&&(this.removePropertyFromClass(C,c),C.resetAllProperties(),v.removeProperty(C.name,b))},O.prototype.removePropertyFromClass=function(f,b){var C=f.properties.indexOf(b);C<0||f.properties.splice(C,1)},O.prototype.fillChildrenClasses=function(f,b,C){var c=this.childrenClasses[f];if(c)for(var T=0;T<c.length;T++)(!b||c[T].creator)&&C.push(c[T]),this.fillChildrenClasses(c[T].name,b,C)},O.prototype.findClass=function(f){f=f.toLowerCase();var b=this.classes[f];if(!b){var C=this.alternativeNames[f];if(C&&C!=f)return this.findClass(C)}return b},O.prototype.isDescendantOf=function(f,b){if(!f||!b)return!1;f=f.toLowerCase(),b=b.toLowerCase();var C=this.findClass(f);if(!C)return!1;var c=C;do{if(c.name===b)return!0;c=this.classes[c.parentName]}while(c);return!1},O.prototype.addAlterNativeClassName=function(f,b){this.alternativeNames[b.toLowerCase()]=f.toLowerCase()},O.prototype.generateSchema=function(f){void 0===f&&(f=void 0),f||(f="survey");var b=this.findClass(f);if(!b)return null;var C={$schema:"http://json-schema.org/draft-07/schema#",title:"SurveyJS Library json schema",type:"object",properties:{},definitions:{locstring:this.generateLocStrClass()}};return this.generateSchemaProperties(b,C,C.definitions,!0),C},O.prototype.generateLocStrClass=function(){var f={},b=B.findProperty("survey","locale");if(b){var C=b.getChoices(null);Array.isArray(C)&&(C.indexOf("en")<0&&C.splice(0,0,"en"),C.splice(0,0,"default"),C.forEach(function(c){c&&(f[c]={type:"string"})}))}return{$id:"locstring",type:"object",properties:f}},O.prototype.generateSchemaProperties=function(f,b,C,c){if(f){var T=b.properties,I=[];("question"===f.name||"panel"===f.name)&&(T.type={type:"string"},I.push("type"));for(var H=0;H<f.properties.length;H++){var J=f.properties[H];f.parentName&&B.findProperty(f.parentName,J.name)||(T[J.name]=this.generateSchemaProperty(J,C,c),J.isRequired&&I.push(J.name))}I.length>0&&(b.required=I)}},O.prototype.generateSchemaProperty=function(f,b,C){if(f.isLocalizable)return{oneOf:[{type:"string"},{$ref:this.getChemeRefName("locstring",C)}]};var c=f.schemaType(),T=f.schemaRef(),I={};if(c&&(I.type=c),f.hasChoices){var H=f.getChoices(null);Array.isArray(H)&&H.length>0&&(I.enum=H)}if(T&&("array"===c?I.items="string"===f.className?{type:f.className}:{$ref:this.getChemeRefName(f.className,C)}:I.$ref=this.getChemeRefName(T,C),this.generateChemaClass(f.className,b,!1)),f.baseClassName){var J=this.getChildrenClasses(f.baseClassName,!0);"question"==f.baseClassName&&J.push(this.findClass("panel")),I.items={anyOf:[]};for(var se=0;se<J.length;se++){var he=J[se].name;I.items.anyOf.push({$ref:this.getChemeRefName(he,C)}),this.generateChemaClass(he,b,!1)}}return I},O.prototype.getChemeRefName=function(f,b){return"#/definitions/"+f},O.prototype.generateChemaClass=function(f,b,C){if(!b[f]){var c=this.findClass(f);if(c){var T=!!c.parentName&&"base"!=c.parentName;T&&this.generateChemaClass(c.parentName,b,C);var I={type:"object",$id:f};b[f]=I;var H={properties:{}};this.generateSchemaProperties(c,H,b,C),T?I.allOf=[{$ref:this.getChemeRefName(c.parentName,C)},{properties:H.properties}]:I.properties=H.properties,Array.isArray(H.required)&&(I.required=H.required)}}},O}(),u=function(){function O(f,b){this.type=f,this.message=b,this.description="",this.at=-1,this.end=-1}return O.prototype.getFullDescription=function(){return this.message+(this.description?"\n"+this.description:"")},O}(),l=function(O){function f(b,C){var c=O.call(this,"unknownproperty","The property '"+b+"' in class '"+C+"' is unknown.")||this;c.propertyName=b,c.className=C;var T=A.metaData.getProperties(C);if(T){c.description="The list of available properties are: ";for(var I=0;I<T.length;I++)I>0&&(c.description+=", "),c.description+=T[I].name;c.description+="."}return c}return F(f,O),f}(u),a=function(O){function f(b,C,c){var T=O.call(this,C,c)||this;T.baseClassName=b,T.type=C,T.message=c,T.description="The following types are available: ";for(var I=A.metaData.getChildrenClasses(b,!0),H=0;H<I.length;H++)H>0&&(T.description+=", "),T.description+="'"+I[H].name+"'";return T.description+=".",T}return F(f,O),f}(u),i=function(O){function f(b,C){var c=O.call(this,C,"missingtypeproperty","The property type is missing in the object. Please take a look at property: '"+b+"'.")||this;return c.propertyName=b,c.baseClassName=C,c}return F(f,O),f}(a),o=function(O){function f(b,C){var c=O.call(this,C,"incorrecttypeproperty","The property type is incorrect in the object. Please take a look at property: '"+b+"'.")||this;return c.propertyName=b,c.baseClassName=C,c}return F(f,O),f}(a),p=function(O){function f(b,C){var c=O.call(this,"requiredproperty","The property '"+b+"' is required in class '"+C+"'.")||this;return c.propertyName=b,c.className=C,c}return F(f,O),f}(u),A=function(){function O(){this.errors=new Array,this.lightSerializing=!1}return Object.defineProperty(O,"metaData",{get:function(){return O.metaDataValue},enumerable:!1,configurable:!0}),O.prototype.toJsonObject=function(f,b){return void 0===b&&(b=!1),this.toJsonObjectCore(f,null,b)},O.prototype.toObject=function(f,b){this.toObjectCore(f,b);var C=this.getRequiredError(b,f);C&&this.addNewError(C,f,b)},O.prototype.toObjectCore=function(f,b){if(f){var C=null,c=void 0,T=!0;if(b.getType&&(c=b.getType(),C=O.metaData.getProperties(c),T=!!c&&!O.metaData.isDescendantOf(c,"itemvalue")),C){for(var I in b.startLoadingFromJson&&b.startLoadingFromJson(f),C=this.addDynamicProperties(b,f,C),f)if(I!==O.typePropertyName){if(I===O.positionPropertyName){b[I]=f[I];continue}var H=this.findProperty(C,I);if(!H){T&&this.addNewError(new l(I.toString(),c),f,b);continue}this.valueToObj(f[I],b,H)}b.endLoadingFromJson&&b.endLoadingFromJson()}}},O.prototype.toJsonObjectCore=function(f,b,C){if(void 0===C&&(C=!1),!f||!f.getType)return f;if("function"==typeof f.getData)return f.getData();var c={};return null!=b&&!b.className&&(c[O.typePropertyName]=b.getObjType(f.getType())),this.propertiesToJson(f,O.metaData.getProperties(f.getType()),c,C),this.propertiesToJson(f,this.getDynamicProperties(f),c,C),c},O.prototype.getDynamicProperties=function(f){return B.getDynamicPropertiesByObj(f)},O.prototype.addDynamicProperties=function(f,b,C){if(!f.getDynamicPropertyName)return C;var c=f.getDynamicPropertyName();if(!c)return C;b[c]&&(f[c]=b[c]);for(var T=this.getDynamicProperties(f),I=[],H=0;H<C.length;H++)I.push(C[H]);for(H=0;H<T.length;H++)I.push(T[H]);return I},O.prototype.propertiesToJson=function(f,b,C,c){void 0===c&&(c=!1);for(var T=0;T<b.length;T++)this.valueToJson(f,C,b[T],c)},O.prototype.valueToJson=function(f,b,C,c){if(void 0===c&&(c=!1),!(!1===C.isSerializable||!1===C.isLightSerializable&&this.lightSerializing)){var T=C.getValue(f);if(c||!C.isDefaultValue(T)){if(this.isValueArray(T)){for(var I=[],H=0;H<T.length;H++)I.push(this.toJsonObjectCore(T[H],C,c));T=I.length>0?I:null}else T=this.toJsonObjectCore(T,C,c);var J="function"==typeof f.getPropertyValue&&null!==f.getPropertyValue(C.name,null);(c&&J||!C.isDefaultValue(T))&&(!B.onSerializingProperty||!B.onSerializingProperty(f,C,T,b))&&(b[C.name]=T)}}},O.prototype.valueToObj=function(f,b,C){if(null!=f){if(this.removePos(C,f),null!=C&&C.hasToUseSetValue)return void C.setValue(b,f,this);if(this.isValueArray(f))return void this.valueToArray(f,b,C.name,C);var c=this.createNewObj(f,C);c.newObj&&(this.toObjectCore(f,c.newObj),f=c.newObj),c.error||(null!=C?C.setValue(b,f,this):b[C.name]=f)}},O.prototype.removePos=function(f,b){!f||!f.type||f.type.indexOf("value")<0||this.removePosFromObj(b)},O.prototype.removePosFromObj=function(f){if(f){if(Array.isArray(f))for(var b=0;b<f.length;b++)this.removePosFromObj(f[b]);f[O.positionPropertyName]&&delete f[O.positionPropertyName]}},O.prototype.isValueArray=function(f){return f&&Array.isArray(f)},O.prototype.createNewObj=function(f,b){var C={newObj:null,error:null},c=this.getClassNameForNewObj(f,b);return C.newObj=c?O.metaData.createClass(c,f):null,C.error=this.checkNewObjectOnErrors(C.newObj,f,b,c),C},O.prototype.getClassNameForNewObj=function(f,b){var C=null!=b&&b.className?b.className:void 0;if(C||(C=f[O.typePropertyName]),!C)return C;C=C.toLowerCase();var c=b.classNamePart;return c&&C.indexOf(c)<0&&(C+=c),C},O.prototype.checkNewObjectOnErrors=function(f,b,C,c){var T=null;return f?T=this.getRequiredError(f,b):C.baseClassName&&(T=c?new o(C.name,C.baseClassName):new i(C.name,C.baseClassName)),T&&this.addNewError(T,b,f),T},O.prototype.getRequiredError=function(f,b){if(!f.getType||"function"==typeof f.getData)return null;var C=f.getType(),c=O.metaData.getRequiredProperties(C);if(!Array.isArray(c))return null;for(var T=0;T<c.length;T++){var I=B.findProperty(C,c[T]);if(I&&j.Helpers.isValueEmpty(I.defaultValue)&&!b[I.name])return new p(I.name,C)}return null},O.prototype.addNewError=function(f,b,C){if(f.jsonObj=b,f.element=C,this.errors.push(f),b){var c=b[O.positionPropertyName];!c||(f.at=c.start,f.end=c.end)}},O.prototype.valueToArray=function(f,b,C,c){if(!b[C]||this.isValueArray(b[C])){b[C]&&f.length>0&&b[C].splice(0,b[C].length);var T=b[C]?b[C]:[];this.addValuesIntoArray(f,T,c),b[C]||(b[C]=T)}},O.prototype.addValuesIntoArray=function(f,b,C){for(var c=0;c<f.length;c++){var T=this.createNewObj(f[c],C);T.newObj?(f[c].name&&(T.newObj.name=f[c].name),f[c].valueName&&(T.newObj.valueName=f[c].valueName.toString()),b.push(T.newObj),this.toObjectCore(f[c],T.newObj)):T.error||b.push(f[c])}},O.prototype.findProperty=function(f,b){if(!f)return null;for(var C=0;C<f.length;C++){var c=f[C];if(c.name==b||c.alternativeName==b)return c}return null},O.typePropertyName="type",O.positionPropertyName="pos",O.metaDataValue=new g,O}(),B=A.metaData},"./src/list.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"defaultListCss",function(){return P}),m.d(V,"ListModel",function(){return y});var v,L=m("./src/jsonobject.ts"),K=m("./src/actions/container.ts"),j=m("./src/actions/action.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/element-helper.ts"),w=m("./src/utils/utils.ts"),M=m("./src/settings.ts"),h=(v=function(E,g){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,l){u.__proto__=l}||function(u,l){for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(u[a]=l[a])})(E,g)},function(E,g){if("function"!=typeof g&&null!==g)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");function u(){this.constructor=E}v(E,g),E.prototype=null===g?Object.create(g):(u.prototype=g.prototype,new u)}),D=function(v,E,g,u){var i,l=arguments.length,a=l<3?E:null===u?u=Object.getOwnPropertyDescriptor(E,g):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(v,E,g,u);else for(var o=v.length-1;o>=0;o--)(i=v[o])&&(a=(l<3?i(a):l>3?i(E,g,a):i(E,g))||a);return l>3&&a&&Object.defineProperty(E,g,a),a},P={root:"sv-list__container",item:"sv-list__item",searchClearButtonIcon:"sv-list__filter-clear-button",loadingIndicator:"sv-list__loading-indicator",itemSelected:"sv-list__item--selected",itemWithIcon:"sv-list__item--with-icon",itemDisabled:"sv-list__item--disabled",itemFocused:"sv-list__item--focused",itemIcon:"sv-list__item-icon",itemSeparator:"sv-list__item-separator",itemBody:"sv-list__item-body",itemsContainer:"sv-list",itemsContainerFiltering:"sv-list--filtering",filter:"sv-list__filter",filterIcon:"sv-list__filter-icon",filterInput:"sv-list__input",emptyContainer:"sv-list__empty-container",emptyText:"sv-list__empty-text"},y=function(v){function E(g,u,l,a,i,o){var p=v.call(this)||this;return p.onSelectionChanged=u,p.allowSelection=l,p.onFilterStringChangedCallback=i,p.elementId=o,p.onItemClick=function(A){p.isItemDisabled(A)||(p.isExpanded=!1,p.allowSelection&&(p.selectedItem=A),p.onSelectionChanged&&p.onSelectionChanged(A))},p.isItemDisabled=function(A){return void 0!==A.enabled&&!A.enabled},p.isItemSelected=function(A){return p.areSameItems(p.selectedItem,A)},p.isItemFocused=function(A){return p.areSameItems(p.focusedItem,A)},p.getListClass=function(){return(new F.CssClassBuilder).append(p.cssClasses.itemsContainer).append(p.cssClasses.itemsContainerFiltering,!!p.filterString&&p.visibleActions.length!==p.visibleItems.length).toString()},p.getItemClass=function(A){return(new F.CssClassBuilder).append(p.cssClasses.item).append(p.cssClasses.itemWithIcon,!!A.iconName).append(p.cssClasses.itemDisabled,p.isItemDisabled(A)).append(p.cssClasses.itemFocused,p.isItemFocused(A)).append(p.cssClasses.itemSelected,p.isItemSelected(A)).append(A.css).toString()},p.getItemIndent=function(A){return((A.level||0)+1)*E.INDENT+"px"},p.setItems(g),p.selectedItem=a,p}return h(E,v),E.prototype.hasText=function(g,u){if(!u)return!0;var l=(g.title||"").toLocaleLowerCase();return(l=M.settings.comparator.normalizeTextCallback(l,"filter")).indexOf(u.toLocaleLowerCase())>-1},E.prototype.isItemVisible=function(g){return g.visible&&(!this.shouldProcessFilter||this.hasText(g,this.filterString))},Object.defineProperty(E.prototype,"visibleItems",{get:function(){var g=this;return this.visibleActions.filter(function(u){return g.isItemVisible(u)})},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"shouldProcessFilter",{get:function(){return!this.onFilterStringChangedCallback},enumerable:!1,configurable:!0}),E.prototype.onFilterStringChanged=function(g){var u=this;this.onFilterStringChangedCallback&&this.onFilterStringChangedCallback(g),this.isEmpty=0===this.renderedActions.filter(function(l){return u.isItemVisible(l)}).length},E.prototype.scrollToItem=function(g,u){var l=this;void 0===u&&(u=0),setTimeout(function(){if(l.listContainerHtmlElement){var a=l.listContainerHtmlElement.querySelector("."+g);a&&setTimeout(function(){a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},u)}},u)},E.prototype.setItems=function(g,u){var l=this;void 0===u&&(u=!0),v.prototype.setItems.call(this,g,u),this.elementId&&this.renderedActions.forEach(function(a){a.elementId=l.elementId+a.id}),!this.isAllDataLoaded&&this.actions.length&&this.actions.push(this.loadingIndicator)},E.prototype.onSet=function(){this.showFilter=this.searchEnabled&&(this.forceShowFilter||(this.actions||[]).length>E.MINELEMENTCOUNT),v.prototype.onSet.call(this)},E.prototype.getDefaultCssClasses=function(){return P},E.prototype.areSameItems=function(g,u){return this.areSameItemsCallback?this.areSameItemsCallback(g,u):!!g&&!!u&&g.id==u.id},Object.defineProperty(E.prototype,"filterStringPlaceholder",{get:function(){return this.getLocalizationString("filterStringPlaceholder")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"emptyMessage",{get:function(){return this.isAllDataLoaded?this.getLocalizationString("emptyMessage"):this.loadingText},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"scrollableContainer",{get:function(){return this.listContainerHtmlElement.querySelector("."+this.getDefaultCssClasses().itemsContainer)},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"loadingText",{get:function(){return this.getLocalizationString("loadingFile")},enumerable:!1,configurable:!0}),Object.defineProperty(E.prototype,"loadingIndicator",{get:function(){return this.loadingIndicatorValue||(this.loadingIndicatorValue=new j.Action({id:"loadingIndicator",title:this.loadingText,action:function(){},css:this.cssClasses.loadingIndicator})),this.loadingIndicatorValue},enumerable:!1,configurable:!0}),E.prototype.goToItems=function(g){if("ArrowDown"===g.key||40===g.keyCode){var l=g.target.parentElement.parentElement.querySelector("ul"),a=Object(w.getFirstVisibleChild)(l);l&&a&&(S.ElementHelper.focusElement(a),g.preventDefault())}},E.prototype.onMouseMove=function(g){this.resetFocusedItem()},E.prototype.onKeyDown=function(g){var u=g.target;"ArrowDown"===g.key||40===g.keyCode?(S.ElementHelper.focusElement(S.ElementHelper.getNextElementPreorder(u)),g.preventDefault()):("ArrowUp"===g.key||38===g.keyCode)&&(S.ElementHelper.focusElement(S.ElementHelper.getNextElementPostorder(u)),g.preventDefault())},E.prototype.onPointerDown=function(g,u){},E.prototype.refresh=function(){this.filterString="",this.resetFocusedItem()},E.prototype.onClickSearchClearButton=function(g){g.currentTarget.parentElement.querySelector("input").focus(),this.refresh()},E.prototype.resetFocusedItem=function(){this.focusedItem=void 0},E.prototype.focusFirstVisibleItem=function(){this.focusedItem=this.visibleItems[0]},E.prototype.focusLastVisibleItem=function(){this.focusedItem=this.visibleItems[this.visibleItems.length-1]},E.prototype.initFocusedItem=function(){var g=this;this.focusedItem=this.visibleItems.filter(function(u){return u.visible&&g.isItemSelected(u)})[0],this.focusedItem||this.focusFirstVisibleItem()},E.prototype.focusNextVisibleItem=function(){if(this.focusedItem){var g=this.visibleItems,u=g.indexOf(this.focusedItem),l=g[u+1];l?this.focusedItem=l:this.focusFirstVisibleItem()}else this.initFocusedItem()},E.prototype.focusPrevVisibleItem=function(){if(this.focusedItem){var g=this.visibleItems,u=g.indexOf(this.focusedItem),l=g[u-1];l?this.focusedItem=l:this.focusLastVisibleItem()}else this.initFocusedItem()},E.prototype.selectFocusedItem=function(){this.focusedItem&&this.onItemClick(this.focusedItem)},E.prototype.initListContainerHtmlElement=function(g){this.listContainerHtmlElement=g},E.prototype.onLastItemRended=function(g){this.isAllDataLoaded||g===this.actions[this.actions.length-1]&&this.listContainerHtmlElement&&(this.hasVerticalScroller=S.ElementHelper.hasVerticalScroller(this.scrollableContainer))},E.prototype.scrollToFocusedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemFocused)},E.prototype.scrollToSelectedItem=function(){this.scrollToItem(this.getDefaultCssClasses().itemSelected,110)},E.prototype.addScrollEventListener=function(g){g&&(this.scrollHandler=g),this.scrollHandler&&this.scrollableContainer.addEventListener("scroll",this.scrollHandler)},E.prototype.removeScrollEventListener=function(){this.scrollHandler&&this.scrollableContainer.removeEventListener("scroll",this.scrollHandler)},E.prototype.dispose=function(){v.prototype.dispose.call(this),this.loadingIndicatorValue&&this.loadingIndicatorValue.dispose()},E.INDENT=16,E.MINELEMENTCOUNT=10,D([Object(L.property)({defaultValue:!0,onSet:function(g,u){u.onSet()}})],E.prototype,"searchEnabled",void 0),D([Object(L.property)({defaultValue:!1})],E.prototype,"showFilter",void 0),D([Object(L.property)({defaultValue:!1})],E.prototype,"forceShowFilter",void 0),D([Object(L.property)({defaultValue:!1})],E.prototype,"isExpanded",void 0),D([Object(L.property)({})],E.prototype,"selectedItem",void 0),D([Object(L.property)()],E.prototype,"focusedItem",void 0),D([Object(L.property)({onSet:function(g,u){u.onFilterStringChanged(u.filterString)}})],E.prototype,"filterString",void 0),D([Object(L.property)({defaultValue:!1})],E.prototype,"hasVerticalScroller",void 0),D([Object(L.property)({defaultValue:!0})],E.prototype,"isAllDataLoaded",void 0),D([Object(L.property)({defaultValue:!1})],E.prototype,"showSearchClearButton",void 0),D([Object(L.property)({defaultValue:!0})],E.prototype,"renderElements",void 0),E}(K.ActionContainer)},"./src/localizablestring.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"LocalizableString",function(){return S}),m.d(V,"LocalizableStrings",function(){return w});var L=m("./src/helpers.ts"),K=m("./src/surveyStrings.ts"),j=m("./src/settings.ts"),F=m("./src/base.ts"),S=function(){function M(h,D,P){void 0===D&&(D=!1),this.owner=h,this.useMarkdown=D,this.name=P,this.values={},this.htmlValues={},this.onStringChanged=new F.EventBase,this.onCreating()}return Object.defineProperty(M,"defaultLocale",{get:function(){return j.settings.localization.defaultLocaleName},set:function(h){j.settings.localization.defaultLocaleName=h},enumerable:!1,configurable:!0}),M.prototype.getIsMultiple=function(){return!1},Object.defineProperty(M.prototype,"locale",{get:function(){if(this.owner&&this.owner.getLocale){var h=this.owner.getLocale();if(h||!this.sharedData)return h}return this.sharedData?this.sharedData.locale:""},enumerable:!1,configurable:!0}),M.prototype.strChanged=function(){this.searchableText=void 0,void 0!==this.renderedText&&(this.calculatedTextValue=this.calcText(),this.renderedText!==this.calculatedTextValue&&(this.renderedText=void 0,this.calculatedTextValue=void 0),this.htmlValues={},this.onChanged(),this.onStringChanged.fire(this,{}))},Object.defineProperty(M.prototype,"text",{get:function(){return this.pureText},set:function(h){this.setLocaleText(this.locale,h)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"calculatedText",{get:function(){return this.renderedText=void 0!==this.calculatedTextValue?this.calculatedTextValue:this.calcText(),this.calculatedTextValue=void 0,this.renderedText},enumerable:!1,configurable:!0}),M.prototype.calcText=function(){var h=this.pureText;return h&&this.owner&&this.owner.getProcessedText&&h.indexOf("{")>-1&&(h=this.owner.getProcessedText(h)),this.onGetTextCallback&&(h=this.onGetTextCallback(h)),h},Object.defineProperty(M.prototype,"pureText",{get:function(){var h=this.locale;h||(h=this.defaultLoc);var D=this.getValue(h);if(!D&&h===this.defaultLoc&&(D=this.getValue(K.surveyLocalization.defaultLocale)),!D){var P=this.getRootDialect(h);P&&(D=this.getValue(P))}return!D&&h!==this.defaultLoc&&(D=this.getValue(this.defaultLoc)),!D&&!!this.getLocalizationName()&&(D=this.getLocalizationStr(),this.onGetLocalizationTextCallback&&(D=this.onGetLocalizationTextCallback(D))),D||(D=""),D},enumerable:!1,configurable:!0}),M.prototype.getRootDialect=function(h){if(!h)return h;var D=h.indexOf("-");return D>-1?h.substring(0,D):""},M.prototype.getLocalizationName=function(){return this.sharedData?this.sharedData.localizationName:this.localizationName},M.prototype.getLocalizationStr=function(){var h=this.getLocalizationName();return h?K.surveyLocalization.getString(h,this.locale):""},Object.defineProperty(M.prototype,"hasHtml",{get:function(){return this.hasHtmlValue()},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"html",{get:function(){return this.hasHtml?this.getHtmlValue():""},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"textOrHtml",{get:function(){return this.hasHtml?this.getHtmlValue():this.calculatedText},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"renderedHtml",{get:function(){return this.textOrHtml},enumerable:!1,configurable:!0}),M.prototype.getLocaleText=function(h){return h||(h=this.defaultLoc),this.getValue(h)||""},M.prototype.getLocaleTextWithDefault=function(h){var D=this.getLocaleText(h);return!D&&this.onGetDefaultTextCallback?this.onGetDefaultTextCallback():D},M.prototype.setLocaleText=function(h,D){if(h=this.getValueLoc(h),this.storeDefaultText||D!=this.getLocaleTextWithDefault(h)){if(j.settings.localization.storeDuplicatedTranslations||!D||!h||h==this.defaultLoc||this.getValue(h)||D!=this.getLocaleText(this.defaultLoc)){h||(h=this.defaultLoc);var E=this.onStrChanged&&h===this.curLocale?this.pureText:void 0;delete this.htmlValues[h],D?"string"==typeof D&&(this.canRemoveLocValue(h,D)?this.setLocaleText(h,null):(this.setValue(h,D),h==this.defaultLoc&&this.deleteValuesEqualsToDefault(D))):this.getValue(h)&&this.deleteValue(h),this.fireStrChanged(h,E)}}else{if(D||h&&h!==this.defaultLoc)return;var P=K.surveyLocalization.defaultLocale,y=this.getValue(P);P&&y&&(this.setValue(P,D),this.fireStrChanged(P,y))}},Object.defineProperty(M.prototype,"curLocale",{get:function(){return this.locale?this.locale:this.defaultLoc},enumerable:!1,configurable:!0}),M.prototype.canRemoveLocValue=function(h,D){if(j.settings.localization.storeDuplicatedTranslations||h===this.defaultLoc)return!1;var P=this.getRootDialect(h);if(P){var y=this.getLocaleText(P);return y?y==D:this.canRemoveLocValue(P,D)}return D==this.getLocaleText(this.defaultLoc)},M.prototype.fireStrChanged=function(h,D){if(this.strChanged(),this.onStrChanged){var P=this.pureText;(h!==this.curLocale||D!==P)&&this.onStrChanged(D,P)}},M.prototype.hasNonDefaultText=function(){var h=this.getValuesKeys();return 0!=h.length&&(h.length>1||h[0]!=this.defaultLoc)},M.prototype.getLocales=function(){var h=this.getValuesKeys();return 0==h.length?[]:h},M.prototype.getJson=function(){if(this.sharedData)return this.sharedData.getJson();var h=this.getValuesKeys();return 0==h.length?null:1!=h.length||h[0]!=j.settings.localization.defaultLocaleName||j.settings.serialization.localizableStringSerializeAsObject?this.values:this.values[h[0]]},M.prototype.setJson=function(h){if(this.sharedData)this.sharedData.setJson(h);else if(this.values={},this.htmlValues={},h){if("string"==typeof h)this.setLocaleText(null,h);else for(var D in h)this.setLocaleText(D,h[D]);this.strChanged()}},Object.defineProperty(M.prototype,"renderAs",{get:function(){return this.owner&&"function"==typeof this.owner.getRenderer&&this.owner.getRenderer(this.name)||M.defaultRenderer},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"renderAsData",{get:function(){return this.owner&&"function"==typeof this.owner.getRendererContext&&this.owner.getRendererContext(this)||this},enumerable:!1,configurable:!0}),M.prototype.equals=function(h){return this.sharedData?this.sharedData.equals(h):!(!h||!h.values)&&L.Helpers.isTwoValueEquals(this.values,h.values,!1,!0,!1)},M.prototype.setFindText=function(h){if(this.searchText!=h){if(this.searchText=h,!this.searchableText){var D=this.textOrHtml;this.searchableText=D?D.toLowerCase():""}var P=this.searchableText,y=P&&h?P.indexOf(h):void 0;return y<0&&(y=void 0),(null!=y||this.searchIndex!=y)&&(this.searchIndex=y,this.onSearchChanged&&this.onSearchChanged()),null!=this.searchIndex}},M.prototype.onChanged=function(){},M.prototype.onCreating=function(){},M.prototype.hasHtmlValue=function(){if(!this.owner||!this.useMarkdown)return!1;var h=this.locale;if(h||(h=this.defaultLoc),void 0!==this.htmlValues[h])return!!this.htmlValues[h];var D=this.calculatedText;if(!D||this.getLocalizationName()&&D===this.getLocalizationStr())return!1;var P=this.owner.getMarkdownHtml(D,this.name);return this.htmlValues[h]=P,!!P},M.prototype.getHtmlValue=function(){var h=this.locale;return h||(h=this.defaultLoc),this.htmlValues[h]},M.prototype.deleteValuesEqualsToDefault=function(h){if(!j.settings.localization.storeDuplicatedTranslations)for(var D=this.getValuesKeys(),P=0;P<D.length;P++)D[P]!=this.defaultLoc&&this.getValue(D[P])==h&&this.deleteValue(D[P])},M.prototype.getValue=function(h){return this.sharedData?this.sharedData.getValue(h):this.values[this.getValueLoc(h)]},M.prototype.setValue=function(h,D){this.sharedData?this.sharedData.setValue(h,D):this.values[this.getValueLoc(h)]=D},M.prototype.deleteValue=function(h){this.sharedData?this.sharedData.deleteValue(h):delete this.values[this.getValueLoc(h)]},M.prototype.getValueLoc=function(h){return this.disableLocalization?j.settings.localization.defaultLocaleName:h},M.prototype.getValuesKeys=function(){return this.sharedData?this.sharedData.getValuesKeys():Object.keys(this.values)},Object.defineProperty(M.prototype,"defaultLoc",{get:function(){return j.settings.localization.defaultLocaleName},enumerable:!1,configurable:!0}),M.SerializeAsObject=!1,M.defaultRenderer="sv-string-viewer",M.editableRenderer="sv-string-editor",M}(),w=function(){function M(h){this.owner=h,this.values={}}return M.prototype.getIsMultiple=function(){return!0},Object.defineProperty(M.prototype,"locale",{get:function(){return this.owner&&this.owner.getLocale?this.owner.getLocale():""},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"value",{get:function(){return this.getValue("")},set:function(h){this.setValue("",h)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"text",{get:function(){return Array.isArray(this.value)?this.value.join("\n"):""},set:function(h){this.value=h?h.split("\n"):[]},enumerable:!1,configurable:!0}),M.prototype.getLocaleText=function(h){var D=this.getValueCore(h,!h||h===this.locale);return D&&Array.isArray(D)&&0!=D.length?D.join("\n"):""},M.prototype.setLocaleText=function(h,D){var P=D?D.split("\n"):null;this.setValue(h,P)},M.prototype.getValue=function(h){return this.getValueCore(h)},M.prototype.getValueCore=function(h,D){if(void 0===D&&(D=!0),h=this.getLocale(h),this.values[h])return this.values[h];if(D){var P=j.settings.localization.defaultLocaleName;if(h!==P&&this.values[P])return this.values[P]}return[]},M.prototype.setValue=function(h,D){h=this.getLocale(h);var P=L.Helpers.createCopy(this.values);D&&0!=D.length?this.values[h]=D:delete this.values[h],this.onValueChanged&&this.onValueChanged(P,this.values)},M.prototype.hasValue=function(h){return void 0===h&&(h=""),!this.isEmpty&&this.getValue(h).length>0},Object.defineProperty(M.prototype,"isEmpty",{get:function(){return 0==this.getValuesKeys().length},enumerable:!1,configurable:!0}),M.prototype.getLocale=function(h){return h||(h=this.locale)||j.settings.localization.defaultLocaleName},M.prototype.getLocales=function(){var h=this.getValuesKeys();return 0==h.length?[]:h},M.prototype.getJson=function(){var h=this.getValuesKeys();return 0==h.length?null:1!=h.length||h[0]!=j.settings.localization.defaultLocaleName||j.settings.serialization.localizableStringSerializeAsObject?L.Helpers.createCopy(this.values):this.values[h[0]]},M.prototype.setJson=function(h){if(this.values={},h)if(Array.isArray(h))this.setValue(null,h);else for(var D in h)this.setValue(D,h[D])},M.prototype.getValuesKeys=function(){return Object.keys(this.values)},M}()},"./src/localization/english.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"englishStrings",function(){return L});var L={pagePrevText:"Previous",pageNextText:"Next",completeText:"Complete",previewText:"Preview",editText:"Edit",startSurveyText:"Start",otherItemText:"Other (describe)",noneItemText:"None",selectAllItemText:"Select All",progressText:"Page {0} of {1}",indexText:"{0} of {1}",panelDynamicProgressText:"{0} of {1}",panelDynamicTabTextFormat:"Panel {panelIndex}",questionsProgressText:"Answered {0}/{1} questions",emptySurvey:"The survey doesn't contain visible pages or questions.",completingSurvey:"Thank you for completing the survey",completingSurveyBefore:"Our records show that you have already completed this survey.",loadingSurvey:"Loading Survey...",placeholder:"Select...",ratingOptionsCaption:"Select...",value:"value",requiredError:"Response required.",requiredErrorInPanel:"Response required: answer at least one question.",requiredInAllRowsError:"Response required: answer questions in all rows.",numericError:"The value should be numeric.",minError:"The value should not be less than {0}",maxError:"The value should not be greater than {0}",textMinLength:"Please enter at least {0} character(s).",textMaxLength:"Please enter no more than {0} character(s).",textMinMaxLength:"Please enter at least {0} and no more than {1} characters.",minRowCountError:"Please fill in at least {0} row(s).",minSelectError:"Please select at least {0} variant(s).",maxSelectError:"Please select no more than {0} variant(s).",numericMinMax:"The '{0}' should be at least {1} and at most {2}",numericMin:"The '{0}' should be at least {1}",numericMax:"The '{0}' should be at most {1}",invalidEmail:"Please enter a valid e-mail address.",invalidExpression:"The expression: {0} should return 'true'.",urlRequestError:"The request returned error '{0}'. {1}",urlGetChoicesError:"The request returned empty data or the 'path' property is incorrect",exceedMaxSize:"The file size should not exceed {0}.",otherRequiredError:"Response required: enter another value.",uploadingFile:"Your file is uploading. Please wait several seconds and try again.",loadingFile:"Loading...",chooseFile:"Choose file(s)...",noFileChosen:"No file chosen",fileDragAreaPlaceholder:"Drag and drop a file here or click the button below and choose a file to upload.",confirmDelete:"Do you want to delete the record?",keyDuplicationError:"This value should be unique.",addColumn:"Add Column",addRow:"Add Row",removeRow:"Remove",emptyRowsText:"There are no rows.",addPanel:"Add new",removePanel:"Remove",choices_Item:"item",matrix_column:"Column",matrix_row:"Row",multipletext_itemname:"text",savingData:"The results are being saved on the server...",savingDataError:"An error occurred and we could not save the results.",savingDataSuccess:"The results were saved successfully!",saveAgainButton:"Try again",timerMin:"min",timerSec:"sec",timerSpentAll:"You have spent {0} on this page and {1} in total.",timerSpentPage:"You have spent {0} on this page.",timerSpentSurvey:"You have spent {0} in total.",timerLimitAll:"You have spent {0} of {1} on this page and {2} of {3} in total.",timerLimitPage:"You have spent {0} of {1} on this page.",timerLimitSurvey:"You have spent {0} of {1} in total.",clearCaption:"Clear",signaturePlaceHolder:"Sign here",chooseFileCaption:"Choose file",removeFileCaption:"Remove this file",booleanCheckedLabel:"Yes",booleanUncheckedLabel:"No",confirmRemoveFile:"Are you sure that you want to remove this file: {0}?",confirmRemoveAllFiles:"Are you sure that you want to remove all files?",questionTitlePatternText:"Question Title",modalCancelButtonText:"Cancel",modalApplyButtonText:"Apply",filterStringPlaceholder:"Type to search...",emptyMessage:"No data to display",noEntriesText:"There are no entries yet.\nClick the button below to add a new entry.",noEntriesReadonlyText:"There are no entries.",more:"More",tagboxDoneButtonCaption:"OK",selectToRankEmptyRankedAreaText:"All choices are ranked",selectToRankEmptyUnrankedAreaText:"Drag and drop choices here to rank them"}},"./src/martixBase.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionMatrixBaseModel",function(){return D});var P,L=m("./src/itemvalue.ts"),K=m("./src/question.ts"),j=m("./src/jsonobject.ts"),F=m("./src/conditions.ts"),S=m("./src/helpers.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),h=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},D=function(P){function y(v){var E=P.call(this,v)||this;return E.generatedVisibleRows=null,E.generatedTotalRow=null,E.filteredRows=null,E.filteredColumns=null,E.columns=E.createColumnValues(),E.rows=E.createItemValues("rows"),E}return M(y,P),y.prototype.createColumnValues=function(){return this.createItemValues("columns")},y.prototype.getType=function(){return"matrixbase"},y.prototype.endLoadingFromJson=function(){P.prototype.endLoadingFromJson.call(this),this.updateVisibilityBasedOnRows()},Object.defineProperty(y.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},set:function(v){this.setPropertyValue("showHeader",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"columns",{get:function(){return this.getPropertyValue("columns")},set:function(v){this.setPropertyValue("columns",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"visibleColumns",{get:function(){return this.filteredColumns?this.filteredColumns:this.columns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(v){var E=this.processRowsOnSet(v);this.setPropertyValue("rows",E),this.filterItems()},enumerable:!1,configurable:!0}),y.prototype.processRowsOnSet=function(v){return v},y.prototype.getVisibleRows=function(){return[]},Object.defineProperty(y.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rowsVisibleIf",{get:function(){return this.getPropertyValue("rowsVisibleIf","")},set:function(v){this.setPropertyValue("rowsVisibleIf",v),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"columnsVisibleIf",{get:function(){return this.getPropertyValue("columnsVisibleIf","")},set:function(v){this.setPropertyValue("columnsVisibleIf",v),this.filterItems()},enumerable:!1,configurable:!0}),y.prototype.runCondition=function(v,E){P.prototype.runCondition.call(this,v,E),this.runItemsCondition(v,E)},y.prototype.filterItems=function(){return this.areInvisibleElementsShowing?(this.onRowsChanged(),!1):!(this.isLoadingFromJson||!this.data)&&this.runItemsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},y.prototype.onColumnsChanged=function(){},y.prototype.onRowsChanged=function(){this.updateVisibilityBasedOnRows(),this.fireCallback(this.visibleRowsChangedCallback)},y.prototype.updateVisibilityBasedOnRows=function(){this.hideIfRowsEmpty&&(this.visible=this.rows.length>0&&(!this.filteredRows||this.filteredRows.length>0))},y.prototype.shouldRunColumnExpression=function(){return!this.survey||!this.survey.areInvisibleElementsShowing},y.prototype.hasRowsAsItems=function(){return!0},y.prototype.runItemsCondition=function(v,E){var g=null;if(this.filteredRows&&!S.Helpers.isValueEmpty(this.defaultValue)){g=[];for(var u=0;u<this.filteredRows.length;u++)g.push(this.filteredRows[u])}var l=this.hasRowsAsItems()&&this.runConditionsForRows(v,E),a=this.runConditionsForColumns(v,E);return(l=a||l)&&(this.isClearValueOnHidden&&(!!this.filteredColumns||!!this.filteredRows)&&this.clearIncorrectValues(),g&&this.restoreNewVisibleRowsValues(g),this.clearGeneratedRows(),a&&this.onColumnsChanged(),this.onRowsChanged()),l},y.prototype.clearGeneratedRows=function(){this.generatedVisibleRows=null},y.prototype.runConditionsForRows=function(v,E){var g=!!this.survey&&this.survey.areInvisibleElementsShowing,u=!g&&this.rowsVisibleIf?new F.ConditionRunner(this.rowsVisibleIf):null;this.filteredRows=[];var l=L.ItemValue.runConditionsForItems(this.rows,this.filteredRows,u,v,E,!g);return this.filteredRows.length===this.rows.length&&(this.filteredRows=null),l},y.prototype.runConditionsForColumns=function(v,E){var u=this.survey&&!this.survey.areInvisibleElementsShowing&&this.columnsVisibleIf?new F.ConditionRunner(this.columnsVisibleIf):null;this.filteredColumns=[];var l=L.ItemValue.runConditionsForItems(this.columns,this.filteredColumns,u,v,E,this.shouldRunColumnExpression());return this.filteredColumns.length===this.columns.length&&(this.filteredColumns=null),l},y.prototype.clearIncorrectValues=function(){var v=this.value;if(v){var E=null,g=!1,u=this.filteredRows?this.filteredRows:this.rows,l=this.filteredColumns?this.filteredColumns:this.columns;for(var a in v)L.ItemValue.getItemByValue(u,a)&&L.ItemValue.getItemByValue(l,v[a])?(null==E&&(E={}),E[a]=v[a]):g=!0;g&&(this.value=E),P.prototype.clearIncorrectValues.call(this)}},y.prototype.clearInvisibleValuesInRows=function(){if(!this.isEmpty()){for(var v=this.getUnbindValue(this.value),E=this.rows,g=0;g<E.length;g++){var u=E[g].value;v[u]&&!E[g].isVisible&&delete v[u]}this.isTwoValueEquals(v,this.value)||(this.value=v)}},y.prototype.restoreNewVisibleRowsValues=function(v){var E=this.filteredRows?this.filteredRows:this.rows,g=this.defaultValue,u=this.getUnbindValue(this.value),l=!1;for(var a in g)L.ItemValue.getItemByValue(E,a)&&!L.ItemValue.getItemByValue(v,a)&&(null==u&&(u={}),u[a]=g[a],l=!0);l&&(this.value=u)},y.prototype.needResponsiveWidth=function(){return!0},y.prototype.getTableCss=function(){return(new w.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootAlternateRows,this.alternateRows).append(this.cssClasses.rootVerticalAlignTop,"top"===this.verticalAlign).append(this.cssClasses.rootVerticalAlignMiddle,"middle"===this.verticalAlign).toString()},Object.defineProperty(y.prototype,"columnMinWidth",{get:function(){return this.getPropertyValue("columnMinWidth","")},set:function(v){this.setPropertyValue("columnMinWidth",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"rowTitleWidth",{get:function(){return this.getPropertyValue("rowTitleWidth","")},set:function(v){this.setPropertyValue("rowTitleWidth",v)},enumerable:!1,configurable:!0}),h([Object(j.property)({defaultValue:"middle"})],y.prototype,"verticalAlign",void 0),h([Object(j.property)()],y.prototype,"alternateRows",void 0),y}(K.Question);j.Serializer.addClass("matrixbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"columnsVisibleIf:condition","rowsVisibleIf:condition","columnMinWidth",{name:"showHeader:boolean",default:!0},{name:"verticalAlign",choices:["top","middle"],default:"middle"},{name:"alternateRows:boolean",default:!1}],void 0,"question")},"./src/multiSelectListModel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MultiSelectListModel",function(){return S});var w,L=m("./src/jsonobject.ts"),K=m("./src/list.ts"),j=(w=function(M,h){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(D[y]=P[y])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function D(){this.constructor=M}w(M,h),M.prototype=null===h?Object.create(h):(D.prototype=h.prototype,new D)}),S=function(w){function M(h,D,P,y,v,E){var g=w.call(this,h,D,P,void 0,v,E)||this;return g.onItemClick=function(u){g.isItemDisabled(u)||(g.isExpanded=!1,g.isItemSelected(u)?(g.selectedItems.splice(g.selectedItems.indexOf(u),1),g.onSelectionChanged&&g.onSelectionChanged(u,"removed")):(g.selectedItems.push(u),g.onSelectionChanged&&g.onSelectionChanged(u,"added")))},g.isItemDisabled=function(u){return void 0!==u.enabled&&!u.enabled},g.isItemSelected=function(u){return!!g.allowSelection&&g.selectedItems.filter(function(l){return g.areSameItems(l,u)}).length>0},g.setSelectedItems(y||[]),g}return j(M,w),M.prototype.updateItemState=function(){var h=this;this.actions.forEach(function(D){var P=h.isItemSelected(D);D.visible=!h.hideSelectedItems||!P})},M.prototype.updateState=function(){var h=this;this.updateItemState(),this.isEmpty=0===this.renderedActions.filter(function(D){return h.isItemVisible(D)}).length},M.prototype.setSelectedItems=function(h){this.selectedItems=h,this.updateState()},M.prototype.selectFocusedItem=function(){w.prototype.selectFocusedItem.call(this),this.hideSelectedItems&&this.focusNextVisibleItem()},function(w,M,h,D){var v,P=arguments.length,y=P<3?M:null===D?D=Object.getOwnPropertyDescriptor(M,h):D;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(w,M,h,D);else for(var E=w.length-1;E>=0;E--)(v=w[E])&&(y=(P<3?v(y):P>3?v(M,h,y):v(M,h))||y);P>3&&y&&Object.defineProperty(M,h,y)}([Object(L.property)()],M.prototype,"hideSelectedItems",void 0),M}(K.ListModel)},"./src/notifier.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Notifier",function(){return h});var D,L=m("./src/base.ts"),K=m("./src/settings.ts"),j=m("./src/jsonobject.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/actions/container.ts"),w=(D=function(P,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(v[g]=E[g])})(P,y)},function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=P}D(P,y),P.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}),M=function(D,P,y,v){var u,E=arguments.length,g=E<3?P:null===v?v=Object.getOwnPropertyDescriptor(P,y):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(D,P,y,v);else for(var l=D.length-1;l>=0;l--)(u=D[l])&&(g=(E<3?u(g):E>3?u(P,y,g):u(P,y))||g);return E>3&&g&&Object.defineProperty(P,y,g),g},h=function(D){function P(y){var v=D.call(this)||this;return v.cssClasses=y,v.timeout=K.settings.notifications.lifetime,v.timer=void 0,v.actionsVisibility={},v.actionBar=new S.ActionContainer,v.actionBar.updateCallback=function(E){v.actionBar.actions.forEach(function(g){return g.cssClasses={}})},v.css=v.cssClasses.root,v}return w(P,D),P.prototype.getCssClass=function(y){return(new F.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.info,"error"!==y&&"success"!==y).append(this.cssClasses.error,"error"===y).append(this.cssClasses.success,"success"===y).append(this.cssClasses.shown,this.active).toString()},P.prototype.updateActionsVisibility=function(y){var v=this;this.actionBar.actions.forEach(function(E){return E.visible=v.actionsVisibility[E.id]===y})},P.prototype.notify=function(y,v,E){var g=this;void 0===v&&(v="info"),void 0===E&&(E=!1),this.isDisplayed=!0,setTimeout(function(){g.updateActionsVisibility(v),g.message=y,g.active=!0,g.css=g.getCssClass(v),g.timer&&(clearTimeout(g.timer),g.timer=void 0),E||(g.timer=setTimeout(function(){g.timer=void 0,g.active=!1,g.css=g.getCssClass(v)},g.timeout))},1)},P.prototype.addAction=function(y,v){y.visible=!1,y.innerCss=this.cssClasses.button;var E=this.actionBar.addAction(y);this.actionsVisibility[E.id]=v},M([Object(j.property)({defaultValue:!1})],P.prototype,"active",void 0),M([Object(j.property)({defaultValue:!1})],P.prototype,"isDisplayed",void 0),M([Object(j.property)()],P.prototype,"message",void 0),M([Object(j.property)()],P.prototype,"css",void 0),P}(L.Base)},"./src/page.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PageModel",function(){return M});var h,L=m("./src/jsonobject.ts"),K=m("./src/panel.ts"),j=m("./src/utils/cssClassBuilder.ts"),F=m("./src/drag-drop-page-helper-v1.ts"),S=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),M=function(h){function D(P){void 0===P&&(P="");var y=h.call(this,P)||this;return y.hasShownValue=!1,y.timeSpent=0,y.locTitle.onGetTextCallback=function(v){return y.canShowPageNumber()&&v?y.num+". "+v:v},y.createLocalizableString("navigationTitle",y,!0),y.createLocalizableString("navigationDescription",y,!0),y.dragDropPageHelper=new F.DragDropPageHelperV1(y),y}return S(D,h),D.prototype.getType=function(){return"page"},D.prototype.toString=function(){return this.name},Object.defineProperty(D.prototype,"isPage",{get:function(){return!0},enumerable:!1,configurable:!0}),D.prototype.canShowPageNumber=function(){return this.survey&&this.survey.showPageNumbers},D.prototype.canShowTitle=function(){return this.survey&&this.survey.showPageTitles},Object.defineProperty(D.prototype,"navigationTitle",{get:function(){return this.getLocalizableStringText("navigationTitle")},set:function(P){this.setLocalizableStringText("navigationTitle",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locNavigationTitle",{get:function(){return this.getLocalizableString("navigationTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"navigationDescription",{get:function(){return this.getLocalizableStringText("navigationDescription")},set:function(P){this.setLocalizableStringText("navigationDescription",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locNavigationDescription",{get:function(){return this.getLocalizableString("navigationDescription")},enumerable:!1,configurable:!0}),D.prototype.navigationLocStrChanged=function(){this.locNavigationTitle.strChanged(),this.locNavigationDescription.strChanged()},Object.defineProperty(D.prototype,"passed",{get:function(){return this.getPropertyValue("passed",!1)},set:function(P){this.setPropertyValue("passed",P)},enumerable:!1,configurable:!0}),D.prototype.delete=function(){this.survey&&this.removeSelfFromList(this.survey.pages)},D.prototype.onFirstRendering=function(){this.wasShown||h.prototype.onFirstRendering.call(this)},Object.defineProperty(D.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},set:function(P){this.setPropertyValue("visibleIndex",P)},enumerable:!1,configurable:!0}),D.prototype.canRenderFirstRows=function(){return!this.isDesignMode||0==this.visibleIndex},Object.defineProperty(D.prototype,"isStartPage",{get:function(){return this.survey&&this.survey.isPageStarted(this)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isStarted",{get:function(){return this.isStartPage},enumerable:!1,configurable:!0}),D.prototype.calcCssClasses=function(P){var y={page:{},pageTitle:"",pageDescription:"",row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(y.page,P.page),P.pageTitle&&(y.pageTitle=P.pageTitle),P.pageDescription&&(y.pageDescription=P.pageDescription),P.row&&(y.row=P.row),P.pageRow&&(y.pageRow=P.pageRow),P.rowMultiple&&(y.rowMultiple=P.rowMultiple),P.rowCompact&&(y.rowCompact=P.rowCompact),this.survey&&this.survey.updatePageCssClasses(this,y),y},Object.defineProperty(D.prototype,"cssTitle",{get:function(){return this.cssClasses.page?(new j.CssClassBuilder).append(this.cssClasses.page.title).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssRoot",{get:function(){return this.cssClasses.page&&this.survey?(new j.CssClassBuilder).append(this.cssClasses.page.root).append(this.cssClasses.page.emptyHeaderRoot,!(this.survey.renderedHasHeader||this.survey.isShowProgressBarOnTop&&!this.survey.isStaring)).toString():""},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"navigationButtonsVisibility",{get:function(){return this.getPropertyValue("navigationButtonsVisibility")},set:function(P){this.setPropertyValue("navigationButtonsVisibility",P.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isActive",{get:function(){return!!this.survey&&this.survey.currentPage===this},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"wasShown",{get:function(){return this.hasShownValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"hasShown",{get:function(){return this.wasShown},enumerable:!1,configurable:!0}),D.prototype.setWasShown=function(P){if(P!=this.hasShownValue&&(this.hasShownValue=P,!this.isDesignMode&&!0===P)){for(var y=this.elements,v=0;v<y.length;v++)y[v].isPanel&&y[v].randomizeElements(this.areQuestionsRandomized);this.randomizeElements(this.areQuestionsRandomized)}},D.prototype.scrollToTop=function(){this.survey&&this.survey.scrollElementToTop(this,null,this,this.id)},D.prototype.getAllPanels=function(P,y){void 0===P&&(P=!1),void 0===y&&(y=!1);var v=new Array;return this.addPanelsIntoList(v,P,y),v},D.prototype.getPanels=function(P,y){return void 0===P&&(P=!1),void 0===y&&(y=!1),this.getAllPanels(P,y)},Object.defineProperty(D.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(P){this.setPropertyValue("maxTimeToFinish",P)},enumerable:!1,configurable:!0}),D.prototype.onNumChanged=function(P){},D.prototype.onVisibleChanged=function(){this.isRandomizing||(h.prototype.onVisibleChanged.call(this),null!=this.survey&&this.survey.pageVisibilityChanged(this,this.isVisible))},D.prototype.getDragDropInfo=function(){return this.dragDropPageHelper.getDragDropInfo()},D.prototype.dragDropStart=function(P,y,v){void 0===v&&(v=-1),this.dragDropPageHelper.dragDropStart(P,y,v)},D.prototype.dragDropMoveTo=function(P,y,v){return void 0===y&&(y=!1),void 0===v&&(v=!1),this.dragDropPageHelper.dragDropMoveTo(P,y,v)},D.prototype.dragDropFinish=function(P){return void 0===P&&(P=!1),this.dragDropPageHelper.dragDropFinish(P)},D.prototype.ensureRowsVisibility=function(){h.prototype.ensureRowsVisibility.call(this),this.getPanels().forEach(function(P){return P.ensureRowsVisibility()})},function(h,D,P,y){var g,v=arguments.length,E=v<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,P):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(h,D,P,y);else for(var u=h.length-1;u>=0;u--)(g=h[u])&&(E=(v<3?g(E):v>3?g(D,P,E):g(D,P))||E);v>3&&E&&Object.defineProperty(D,P,E)}([Object(L.property)({defaultValue:-1,onSet:function(P,y){return y.onNumChanged(P)}})],D.prototype,"num",void 0),D}(K.PanelModelBase);L.Serializer.addClass("page",[{name:"navigationButtonsVisibility",default:"inherit",choices:["inherit","show","hide"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"navigationTitle",visibleIf:function(h){return!!h.survey&&("buttons"===h.survey.progressBarType||h.survey.showTOC)},serializationProperty:"locNavigationTitle"},{name:"navigationDescription",visibleIf:function(h){return!!h.survey&&"buttons"===h.survey.progressBarType},serializationProperty:"locNavigationDescription"},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"}],function(){return new M},"panelbase")},"./src/panel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionRowModel",function(){return g}),m.d(V,"PanelModelBase",function(){return u}),m.d(V,"PanelModel",function(){return l});var a,L=m("./src/jsonobject.ts"),K=m("./src/helpers.ts"),j=m("./src/base.ts"),F=m("./src/survey-element.ts"),S=m("./src/question.ts"),w=m("./src/questionfactory.ts"),M=m("./src/error.ts"),h=m("./src/settings.ts"),D=m("./src/utils/utils.ts"),P=m("./src/utils/cssClassBuilder.ts"),y=m("./src/drag-drop-panel-helper-v1.ts"),v=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),E=function(a,i,o,p){var O,A=arguments.length,B=A<3?i:null===p?p=Object.getOwnPropertyDescriptor(i,o):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(a,i,o,p);else for(var f=a.length-1;f>=0;f--)(O=a[f])&&(B=(A<3?O(B):A>3?O(i,o,B):O(i,o))||B);return A>3&&B&&Object.defineProperty(i,o,B),B},g=function(a){function i(o){var p=a.call(this)||this;return p.panel=o,p._scrollableParent=void 0,p._updateVisibility=void 0,p.idValue=i.getRowId(),p.visible=o.areInvisibleElementsShowing,p.createNewArray("elements"),p.createNewArray("visibleElements"),p}return v(i,a),i.getRowId=function(){return"pr_"+i.rowCounter++},i.prototype.startLazyRendering=function(o,p){var A=this;void 0===p&&(p=D.findScrollableParent),this._scrollableParent=p(o),this._scrollableParent===document.documentElement&&(this._scrollableParent=window);var B=this._scrollableParent.scrollHeight>this._scrollableParent.clientHeight;this.isNeedRender=!B,B&&(this._updateVisibility=function(){var O=Object(D.isElementVisible)(o,50);!A.isNeedRender&&O&&(A.isNeedRender=!0,A.stopLazyRendering())},setTimeout(function(){!!A._scrollableParent&&!!A._scrollableParent.addEventListener&&A._scrollableParent.addEventListener("scroll",A._updateVisibility),A.ensureVisibility()},10))},i.prototype.ensureVisibility=function(){this._updateVisibility&&this._updateVisibility()},i.prototype.stopLazyRendering=function(){!!this._scrollableParent&&!!this._updateVisibility&&!!this._scrollableParent.removeEventListener&&this._scrollableParent.removeEventListener("scroll",this._updateVisibility),this._scrollableParent=void 0,this._updateVisibility=void 0},i.prototype.setIsLazyRendering=function(o){this.isLazyRenderingValue=o,this.isNeedRender=!o},i.prototype.isLazyRendering=function(){return!0===this.isLazyRenderingValue},Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"elements",{get:function(){return this.getPropertyValue("elements")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleElements",{get:function(){return this.getPropertyValue("visibleElements")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){this.setPropertyValue("visible",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isNeedRender",{get:function(){return this.getPropertyValue("isneedrender",!0)},set:function(o){this.setPropertyValue("isneedrender",o)},enumerable:!1,configurable:!0}),i.prototype.updateVisible=function(){var o=this.calcVisible();this.setWidth(),this.visible=o},i.prototype.addElement=function(o){this.elements.push(o),this.updateVisible()},Object.defineProperty(i.prototype,"index",{get:function(){return this.panel.rows.indexOf(this)},enumerable:!1,configurable:!0}),i.prototype.setWidth=function(){var o,p=this.visibleElements.length;if(0!=p){for(var A=1===this.visibleElements.length,B=0,O=[],f=0;f<this.elements.length;f++)if(this.setElementMaxMinWidth(b=this.elements[f]),b.isVisible){b.isSingleInRow=A;var C=this.getElementWidth(b);C&&(b.renderWidth=this.getRenderedWidthFromWidth(C),O.push(b)),b.rightIndent=B<p-1&&!this.panel.isDefaultV2Theme&&!(null===(o=this.panel.parentQuestion)||void 0===o?void 0:o.isDefaultV2Theme)?1:0,B++}else b.renderWidth="";for(f=0;f<this.elements.length;f++){var b;!(b=this.elements[f]).isVisible||O.indexOf(b)>-1||(b.renderWidth=0==O.length?Number.parseFloat((100/p).toFixed(6))+"%":this.getRenderedCalcWidth(b,O,p))}}},i.prototype.setElementMaxMinWidth=function(o){o.width&&"string"==typeof o.width&&-1===o.width.indexOf("%")&&(o.minWidth=o.width,o.maxWidth=o.width)},i.prototype.getRenderedCalcWidth=function(o,p,A){for(var B="100%",O=0;O<p.length;O++)B+=" - "+p[O].renderWidth;var f=A-p.length;return f>1&&(B="("+B+")/"+f.toString()),"calc("+B+")"},i.prototype.getElementWidth=function(o){var p=o.width;return p&&"string"==typeof p?p.trim():""},i.prototype.getRenderedWidthFromWidth=function(o){return K.Helpers.isNumber(o)?o+"px":o},i.prototype.calcVisible=function(){for(var o=[],p=0;p<this.elements.length;p++)this.elements[p].isVisible&&o.push(this.elements[p]);return this.needToUpdateVisibleElements(o)&&this.setPropertyValue("visibleElements",o),o.length>0},i.prototype.needToUpdateVisibleElements=function(o){if(o.length!==this.visibleElements.length)return!0;for(var p=0;p<o.length;p++)if(o[p]!==this.visibleElements[p])return!0;return!1},i.prototype.dispose=function(){a.prototype.dispose.call(this),this.stopLazyRendering()},i.prototype.getRowCss=function(){return(new P.CssClassBuilder).append(this.panel.cssClasses.row).append(this.panel.cssClasses.rowCompact,this.panel.isCompact).append(this.panel.cssClasses.pageRow,this.panel.isPage||!!this.panel.originalPage&&!this.panel.survey.isShowingPreview).append(this.panel.cssClasses.rowMultiple,this.visibleElements.length>1).toString()},i.rowCounter=100,E([Object(L.property)({defaultValue:null})],i.prototype,"dragTypeOverMe",void 0),i}(j.Base),u=function(a){function i(o){void 0===o&&(o="");var p=a.call(this,o)||this;return p.isQuestionsReady=!1,p.questionsValue=new Array,p.isRandomizing=!1,p.createNewArray("rows"),p.elementsValue=p.createNewArray("elements",p.onAddElement.bind(p),p.onRemoveElement.bind(p)),p.id=i.getPanelId(),p.addExpressionProperty("visibleIf",function(A,B){p.visible=!0===B},function(A){return!p.areInvisibleElementsShowing}),p.addExpressionProperty("enableIf",function(A,B){p.readOnly=!1===B}),p.addExpressionProperty("requiredIf",function(A,B){p.isRequired=!0===B}),p.createLocalizableString("requiredErrorText",p),p.registerPropertyChangedHandlers(["questionTitleLocation"],function(){p.onVisibleChanged.bind(p),p.updateElementCss(!0)}),p.registerPropertyChangedHandlers(["questionStartIndex","showQuestionNumbers"],function(){p.updateVisibleIndexes()}),p.dragDropPanelHelper=new y.DragDropPanelHelperV1(p),p}return v(i,a),i.getPanelId=function(){return"sp_"+i.panelCounter++},i.prototype.getType=function(){return"panelbase"},i.prototype.setSurveyImpl=function(o,p){a.prototype.setSurveyImpl.call(this,o,p),this.isDesignMode&&this.onVisibleChanged();for(var A=0;A<this.elements.length;A++)this.elements[A].setSurveyImpl(o,p)},i.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.updateDescriptionVisibility(this.description),this.markQuestionListDirty(),this.onRowsChanged()},Object.defineProperty(i.prototype,"hasTitle",{get:function(){return this.canShowTitle()&&this.locTitle.textOrHtml.length>0||this.showTitle&&this.isDesignMode&&h.settings.designMode.showEmptyTitles},enumerable:!1,configurable:!0}),i.prototype.canShowTitle=function(){return!0},Object.defineProperty(i.prototype,"_showDescription",{get:function(){return this.survey&&this.survey.showPageTitles&&this.hasDescription||this.showDescription&&this.isDesignMode&&h.settings.designMode.showEmptyTitles&&h.settings.designMode.showEmptyDescriptions},enumerable:!1,configurable:!0}),i.prototype.localeChanged=function(){a.prototype.localeChanged.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].localeChanged()},i.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].locStrsChanged()},Object.defineProperty(i.prototype,"requiredText",{get:function(){return this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(o){this.setLocalizableStringText("requiredErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(o){this.setPropertyValue("questionsOrder",o)},enumerable:!1,configurable:!0}),i.prototype.canRandomize=function(o){return o&&"initial"!==this.questionsOrder||"random"===this.questionsOrder},i.prototype.randomizeElements=function(o){if(this.canRandomize(o)&&!this.isRandomizing){this.isRandomizing=!0;for(var p=[],A=this.elements,B=0;B<A.length;B++)p.push(A[B]);var O=K.Helpers.randomizeArray(p);this.setArrayPropertyDirectly("elements",O,!1),this.updateRows(),this.updateVisibleIndexes(),this.isRandomizing=!1}},Object.defineProperty(i.prototype,"areQuestionsRandomized",{get:function(){return"random"==("default"==this.questionsOrder&&this.survey?this.survey.questionsOrder:this.questionsOrder)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(o){this.setPropertyValue("parent",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"depth",{get:function(){return null==this.parent?0:this.parent.depth+1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(o){this.setPropertyValue("visibleIf",o)},enumerable:!1,configurable:!0}),i.prototype.calcCssClasses=function(o){var p={panel:{},error:{},row:"",rowMultiple:"",pageRow:"",rowCompact:""};return this.copyCssClasses(p.panel,o.panel),this.copyCssClasses(p.error,o.error),o.pageRow&&(p.pageRow=o.pageRow),o.rowCompact&&(p.rowCompact=o.rowCompact),o.row&&(p.row=o.row),o.rowMultiple&&(p.rowMultiple=o.rowMultiple),this.survey&&this.survey.updatePanelCssClasses(this,p),p},Object.defineProperty(i.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(o){this.setPropertyValue("id",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.getPanel=function(){return this},i.prototype.getLayoutType=function(){return"row"},i.prototype.isLayoutTypeSupported=function(o){return"flow"!==o},Object.defineProperty(i.prototype,"questions",{get:function(){if(!this.isQuestionsReady){this.questionsValue=[];for(var o=0;o<this.elements.length;o++){var p=this.elements[o];if(p.isPanel)for(var A=p.questions,B=0;B<A.length;B++)this.questionsValue.push(A[B]);else this.questionsValue.push(p)}this.isQuestionsReady=!0}return this.questionsValue},enumerable:!1,configurable:!0}),i.prototype.getQuestions=function(o){var p=this.questions;if(!o)return p;var A=[];return p.forEach(function(B){A.push(B),B.getNestedQuestions().forEach(function(O){return A.push(O)})}),A},i.prototype.getValidName=function(o){return o&&o.trim()},i.prototype.getQuestionByName=function(o){for(var p=this.questions,A=0;A<p.length;A++)if(p[A].name==o)return p[A];return null},i.prototype.getElementByName=function(o){for(var p=this.elements,A=0;A<p.length;A++){var B=p[A];if(B.name==o)return B;var O=B.getPanel();if(O){var f=O.getElementByName(o);if(f)return f}}return null},i.prototype.getQuestionByValueName=function(o){for(var p=this.questions,A=0;A<p.length;A++)if(p[A].getValueName()==o)return p[A];return null},i.prototype.getValue=function(){var o={};return this.collectValues(o,0),o},i.prototype.collectValues=function(o,p){var A=this.elements;0===p&&(A=this.questions);for(var O=0;O<A.length;O++){var f=A[O];if(f.isPanel||f.isPage){var b={};f.collectValues(b,p-1)&&(o[f.name]=b)}else{var C=f;if(!C.isEmpty()){var c=C.getValueName();if(o[c]=C.value,this.data){var T=this.data.getComment(c);T&&(o[c+j.Base.commentSuffix]=T)}}}}return!0},i.prototype.getDisplayValue=function(o){for(var p={},A=this.questions,B=0;B<A.length;B++){var O=A[B];O.isEmpty()||(p[o?O.title:O.getValueName()]=O.getDisplayValue(o))}return p},i.prototype.getComments=function(){var o={};if(!this.data)return o;for(var p=this.questions,A=0;A<p.length;A++){var B=p[A],O=this.data.getComment(B.getValueName());O&&(o[B.getValueName()]=O)}return o},i.prototype.clearIncorrectValues=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].clearIncorrectValues()},i.prototype.clearErrors=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].clearErrors();this.errors=[]},i.prototype.markQuestionListDirty=function(){this.isQuestionsReady=!1,this.parent&&this.parent.markQuestionListDirty()},Object.defineProperty(i.prototype,"elements",{get:function(){return this.elementsValue},enumerable:!1,configurable:!0}),i.prototype.getElementsInDesign=function(o){return void 0===o&&(o=!1),this.elements},i.prototype.containsElement=function(o){for(var p=0;p<this.elements.length;p++){var A=this.elements[p];if(A==o)return!0;var B=A.getPanel();if(B&&B.containsElement(o))return!0}return!1},Object.defineProperty(i.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(o){this.setPropertyValue("isRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(o){this.setPropertyValue("requiredIf",o)},enumerable:!1,configurable:!0}),i.prototype.searchText=function(o,p){a.prototype.searchText.call(this,o,p);for(var A=0;A<this.elements.length;A++)this.elements[A].searchText(o,p)},i.prototype.hasErrors=function(o,p,A){return void 0===o&&(o=!0),void 0===p&&(p=!1),void 0===A&&(A=null),!this.validate(o,p,A)},i.prototype.validate=function(o,p,A){return void 0===o&&(o=!0),void 0===p&&(p=!1),void 0===A&&(A=null),!0!==(A=A||{fireCallback:o,focuseOnFirstError:p,firstErrorQuestion:null,result:!1}).result&&(A.result=!1),this.hasErrorsCore(A),A.firstErrorQuestion&&A.firstErrorQuestion.focus(!0),!A.result},i.prototype.validateContainerOnly=function(){this.hasErrorsInPanels({fireCallback:!0}),this.parent&&this.parent.validateContainerOnly()},i.prototype.hasErrorsInPanels=function(o){var p=[];if(this.hasRequiredError(o,p),this.survey){var A=this.survey.validatePanel(this);A&&(p.push(A),o.result=!0)}o.fireCallback&&(this.survey&&this.survey.beforeSettingPanelErrors(this,p),this.errors=p)},i.prototype.getErrorCustomText=function(o,p){return this.survey?this.survey.getSurveyErrorCustomText(this,o,p):o},i.prototype.hasRequiredError=function(o,p){if(this.isRequired){var A=[];if(this.addQuestionsToList(A,!0),0!=A.length){for(var B=0;B<A.length;B++)if(!A[B].isEmpty())return;o.result=!0,p.push(new M.OneAnswerRequiredError(this.requiredErrorText,this)),o.focuseOnFirstError&&!o.firstErrorQuestion&&(o.firstErrorQuestion=A[0])}}},i.prototype.hasErrorsCore=function(o){for(var p=this.elements,A=null,B=0;B<p.length;B++)if((A=p[B]).isVisible)if(A.isPanel)A.hasErrorsCore(o);else{var O=A;if(O.isReadOnly)continue;O.validate(o.fireCallback,o)||(o.focuseOnFirstError&&null==o.firstErrorQuestion&&(o.firstErrorQuestion=O),o.result=!0)}this.hasErrorsInPanels(o),this.updateContainsErrors()},i.prototype.getContainsErrors=function(){var o=a.prototype.getContainsErrors.call(this);if(o)return o;for(var p=this.elements,A=0;A<p.length;A++)if(p[A].containsErrors)return!0;return!1},i.prototype.updateElementVisibility=function(){for(var o=0;o<this.elements.length;o++){var p=this.elements[o];p.setPropertyValue("isVisible",p.isVisible),p.isPanel&&p.updateElementVisibility()}},i.prototype.getFirstQuestionToFocus=function(o,p){if(void 0===o&&(o=!1),void 0===p&&(p=!1),!o&&!p&&this.isCollapsed)return null;for(var A=this.elements,B=0;B<A.length;B++){var O=A[B];if(O.isVisible&&(p||!O.isCollapsed))if(O.isPanel){var f=O.getFirstQuestionToFocus(o,p);if(f)return f}else{var b=O.getFirstQuestionToFocus(o);if(b)return b}}return null},i.prototype.focusFirstQuestion=function(){var o=this.getFirstQuestionToFocus();o&&o.focus()},i.prototype.focusFirstErrorQuestion=function(){var o=this.getFirstQuestionToFocus(!0);o&&o.focus()},i.prototype.addQuestionsToList=function(o,p,A){void 0===p&&(p=!1),void 0===A&&(A=!1),this.addElementsToList(o,p,A,!1)},i.prototype.addPanelsIntoList=function(o,p,A){void 0===p&&(p=!1),void 0===A&&(A=!1),this.addElementsToList(o,p,A,!0)},i.prototype.addElementsToList=function(o,p,A,B){p&&!this.visible||this.addElementsToListCore(o,this.elements,p,A,B)},i.prototype.addElementsToListCore=function(o,p,A,B,O){for(var f=0;f<p.length;f++){var b=p[f];A&&!b.visible||((O&&b.isPanel||!O&&!b.isPanel)&&o.push(b),b.isPanel?b.addElementsToListCore(o,b.elements,A,B,O):B&&this.addElementsToListCore(o,b.getElementsInDesign(!1),A,B,O))}},i.prototype.updateCustomWidgets=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].updateCustomWidgets()},Object.defineProperty(i.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(o){this.setPropertyValue("questionTitleLocation",o.toLowerCase())},enumerable:!1,configurable:!0}),i.prototype.getQuestionTitleLocation=function(){return this.onGetQuestionTitleLocation?this.onGetQuestionTitleLocation():"default"!=this.questionTitleLocation?this.questionTitleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},i.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},i.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},i.prototype.getChildrenLayoutType=function(){return"row"},i.prototype.getProgressInfo=function(){return F.SurveyElement.getProgressInfoByElements(this.elements,this.isRequired)},Object.defineProperty(i.prototype,"root",{get:function(){for(var o=this;o.parent;)o=o.parent;return o},enumerable:!1,configurable:!0}),i.prototype.childVisibilityChanged=function(){this.getIsPageVisible(null)!==this.getPropertyValue("isVisible",!0)&&this.onVisibleChanged()},i.prototype.createRowAndSetLazy=function(o){var p=this.createRow();return p.setIsLazyRendering(this.isLazyRenderInRow(o)),p},i.prototype.createRow=function(){return new g(this)},i.prototype.onSurveyLoad=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].onSurveyLoad();this.onElementVisibilityChanged(this)},i.prototype.onFirstRendering=function(){a.prototype.onFirstRendering.call(this);for(var o=0;o<this.elements.length;o++)this.elements[o].onFirstRendering();this.onRowsChanged()},i.prototype.updateRows=function(){if(!this.isLoadingFromJson){for(var o=0;o<this.elements.length;o++)this.elements[o].isPanel&&this.elements[o].updateRows();this.onRowsChanged()}},Object.defineProperty(i.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},enumerable:!1,configurable:!0}),i.prototype.ensureRowsVisibility=function(){this.rows.forEach(function(o){o.ensureVisibility()})},i.prototype.onRowsChanged=function(){this.isLoadingFromJson||this.setArrayPropertyDirectly("rows",this.buildRows())},i.prototype.onAddElement=function(o,p){var A=this;if(o.setSurveyImpl(this.surveyImpl),o.parent=this,this.markQuestionListDirty(),this.canBuildRows()){var B=h.settings.supportCreatorV2?this.getDragDropInfo():void 0;this.dragDropPanelHelper.updateRowsOnElementAdded(o,p,B,this)}o.isPanel?this.survey&&this.survey.panelAdded(o,p,this,this.root):this.survey&&this.survey.questionAdded(o,p,this,this.root),this.addElementCallback&&this.addElementCallback(o),o.registerPropertyChangedHandlers(["visible","isVisible"],function(){A.onElementVisibilityChanged(o)},this.id),o.registerPropertyChangedHandlers(["startWithNewLine"],function(){A.onElementStartWithNewLineChanged(o)},this.id),this.onElementVisibilityChanged(this)},i.prototype.onRemoveElement=function(o){o.parent=null,this.markQuestionListDirty(),o.unregisterPropertyChangedHandlers(["visible","isVisible","startWithNewLine"],this.id),this.updateRowsOnElementRemoved(o),!this.isRandomizing&&(o.isPanel?this.survey&&this.survey.panelRemoved(o):this.survey&&this.survey.questionRemoved(o),this.removeElementCallback&&this.removeElementCallback(o),this.onElementVisibilityChanged(this))},i.prototype.onElementVisibilityChanged=function(o){this.isLoadingFromJson||this.isRandomizing||(this.updateRowsVisibility(o),this.childVisibilityChanged(),this.parent&&this.parent.onElementVisibilityChanged(this))},i.prototype.onElementStartWithNewLineChanged=function(o){this.onRowsChanged()},i.prototype.updateRowsVisibility=function(o){for(var p=this.rows,A=0;A<p.length;A++){var B=p[A];if(B.elements.indexOf(o)>-1){B.updateVisible(),B.visible&&!B.isNeedRender&&(B.isNeedRender=!0);break}}},i.prototype.canBuildRows=function(){return!this.isLoadingFromJson&&"row"==this.getChildrenLayoutType()},i.prototype.buildRows=function(){if(!this.canBuildRows())return[];for(var o=new Array,p=0;p<this.elements.length;p++){var A=this.elements[p],B=0==p||A.startWithNewLine,O=B?this.createRowAndSetLazy(o.length):o[o.length-1];B&&o.push(O),O.addElement(A)}for(p=0;p<o.length;p++)o[p].updateVisible();return o},i.prototype.isLazyRenderInRow=function(o){return!(!this.survey||!this.survey.isLazyRendering)&&(o>=h.settings.lazyRender.firstBatchSize||!this.canRenderFirstRows())},i.prototype.canRenderFirstRows=function(){return this.isPage},i.prototype.getDragDropInfo=function(){var o=this.getPage(this.parent);return o?o.getDragDropInfo():void 0},i.prototype.updateRowsOnElementRemoved=function(o){!this.canBuildRows()||this.updateRowsRemoveElementFromRow(o,this.findRowByElement(o))},i.prototype.updateRowsRemoveElementFromRow=function(o,p){if(p&&p.panel){var A=p.elements.indexOf(o);A<0||(p.elements.splice(A,1),p.elements.length>0?(p.elements[0].startWithNewLine=!0,p.updateVisible()):p.index>=0&&p.panel.rows.splice(p.index,1))}},i.prototype.findRowByElement=function(o){for(var p=this.rows,A=0;A<p.length;A++)if(p[A].elements.indexOf(o)>-1)return p[A];return null},i.prototype.elementWidthChanged=function(o){if(!this.isLoadingFromJson){var p=this.findRowByElement(o);p&&p.updateVisible()}},Object.defineProperty(i.prototype,"processedTitle",{get:function(){return this.getRenderedTitle(this.locTitle.textOrHtml)},enumerable:!1,configurable:!0}),i.prototype.getRenderedTitle=function(o){return null!=this.textProcessor?this.textProcessor.processText(o,!0):o},Object.defineProperty(i.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){o!==this.visible&&(this.setPropertyValue("visible",o),this.setPropertyValue("isVisible",this.isVisible),this.isLoadingFromJson||this.onVisibleChanged())},enumerable:!1,configurable:!0}),i.prototype.onVisibleChanged=function(){if(!this.isRandomizing&&(this.setPropertyValue("isVisible",this.isVisible),this.survey&&"none"!==this.survey.getQuestionClearIfInvisible("default")&&!this.isLoadingFromJson))for(var o=this.questions,p=this.isVisible,A=0;A<o.length;A++)p?o[A].updateValueWithDefaults():o[A].clearValueIfInvisible("onHiddenContainer")},Object.defineProperty(i.prototype,"isVisible",{get:function(){return this.areInvisibleElementsShowing||this.getIsPageVisible(null)},enumerable:!1,configurable:!0}),i.prototype.getIsPageVisible=function(o){if(!this.visible)return!1;for(var p=0;p<this.elements.length;p++)if(this.elements[p]!=o&&this.elements[p].isVisible)return!0;return!1},i.prototype.setVisibleIndex=function(o){if(!this.isVisible||o<0)return this.resetVisibleIndexes(),0;this.lastVisibleIndex=o;var p=o;o+=this.beforeSetVisibleIndex(o);for(var A=this.getPanelStartIndex(o),B=A,O=0;O<this.elements.length;O++)B+=this.elements[O].setVisibleIndex(B);return this.isContinueNumbering()&&(o+=B-A),o-p},i.prototype.updateVisibleIndexes=function(){void 0!==this.lastVisibleIndex&&(this.resetVisibleIndexes(),this.setVisibleIndex(this.lastVisibleIndex))},i.prototype.resetVisibleIndexes=function(){for(var o=0;o<this.elements.length;o++)this.elements[o].setVisibleIndex(-1)},i.prototype.beforeSetVisibleIndex=function(o){return 0},i.prototype.getPanelStartIndex=function(o){return o},i.prototype.isContinueNumbering=function(){return!0},Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode},enumerable:!1,configurable:!0}),i.prototype.onReadOnlyChanged=function(){for(var o=0;o<this.elements.length;o++){var p=this.elements[o];p.setPropertyValue("isReadOnly",p.isReadOnly)}a.prototype.onReadOnlyChanged.call(this)},i.prototype.updateElementCss=function(o){a.prototype.updateElementCss.call(this,o);for(var p=0;p<this.elements.length;p++)this.elements[p].updateElementCss(o)},Object.defineProperty(i.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(o){this.setPropertyValue("enableIf",o)},enumerable:!1,configurable:!0}),i.prototype.addElement=function(o,p){return void 0===p&&(p=-1),!!this.canAddElement(o)&&(p<0||p>=this.elements.length?this.elements.push(o):this.elements.splice(p,0,o),!0)},i.prototype.insertElementAfter=function(o,p){var A=this.elements.indexOf(p);A>=0&&this.addElement(o,A+1)},i.prototype.insertElementBefore=function(o,p){var A=this.elements.indexOf(p);A>=0&&this.addElement(o,A)},i.prototype.canAddElement=function(o){return!!o&&o.isLayoutTypeSupported(this.getChildrenLayoutType())},i.prototype.addQuestion=function(o,p){return void 0===p&&(p=-1),this.addElement(o,p)},i.prototype.addPanel=function(o,p){return void 0===p&&(p=-1),this.addElement(o,p)},i.prototype.addNewQuestion=function(o,p,A){void 0===p&&(p=null),void 0===A&&(A=-1);var B=w.QuestionFactory.Instance.createQuestion(o,p);return this.addQuestion(B,A)?B:null},i.prototype.addNewPanel=function(o){void 0===o&&(o=null);var p=this.createNewPanel(o);return this.addPanel(p)?p:null},i.prototype.indexOf=function(o){return this.elements.indexOf(o)},i.prototype.createNewPanel=function(o){var p=L.Serializer.createClass("panel");return p.name=o,p},i.prototype.removeElement=function(o){var p=this.elements.indexOf(o);if(p<0){for(var A=0;A<this.elements.length;A++)if(this.elements[A].removeElement(o))return!0;return!1}return this.elements.splice(p,1),!0},i.prototype.removeQuestion=function(o){this.removeElement(o)},i.prototype.runCondition=function(o,p){if(!this.isDesignMode&&!this.isLoadingFromJson){for(var A=this.elements.slice(),B=0;B<A.length;B++)A[B].runCondition(o,p);this.runConditionCore(o,p)}},i.prototype.onAnyValueChanged=function(o){for(var p=this.elements,A=0;A<p.length;A++)p[A].onAnyValueChanged(o)},i.prototype.checkBindings=function(o,p){for(var A=this.elements,B=0;B<A.length;B++)A[B].checkBindings(o,p)},i.prototype.dragDropAddTarget=function(o){this.dragDropPanelHelper.dragDropAddTarget(o)},i.prototype.dragDropFindRow=function(o){return this.dragDropPanelHelper.dragDropFindRow(o)},i.prototype.dragDropMoveElement=function(o,p,A){this.dragDropPanelHelper.dragDropMoveElement(o,p,A)},i.prototype.needResponsiveWidth=function(){var o=!1;return this.elements.forEach(function(p){p.needResponsiveWidth()&&(o=!0)}),this.rows.forEach(function(p){p.elements.length>1&&(o=!0)}),o},Object.defineProperty(i.prototype,"hasDescriptionUnderTitle",{get:function(){return this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssHeader",{get:function(){return this.cssClasses.panel.header},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssDescription",{get:function(){return this.cssClasses.panel.description},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"no",{get:function(){return""},enumerable:!1,configurable:!0}),i.prototype.dispose=function(){if(a.prototype.dispose.call(this),this.rows){for(var o=0;o<this.rows.length;o++)this.rows[o].dispose();this.rows.splice(0,this.rows.length)}for(o=0;o<this.elements.length;o++)this.elements[o].dispose();this.elements.splice(0,this.elements.length)},i.panelCounter=100,E([Object(L.property)({defaultValue:!0})],i.prototype,"showTitle",void 0),E([Object(L.property)({defaultValue:!0})],i.prototype,"showDescription",void 0),i}(F.SurveyElement),l=function(a){function i(o){void 0===o&&(o="");var p=a.call(this,o)||this;return p.createNewArray("footerActions"),p.registerPropertyChangedHandlers(["width"],function(){p.parent&&p.parent.elementWidthChanged(p)}),p.registerPropertyChangedHandlers(["indent","innerIndent","rightIndent"],function(){p.onIndentChanged()}),p}return v(i,a),i.prototype.getType=function(){return"panel"},Object.defineProperty(i.prototype,"contentId",{get:function(){return this.id+"_content"},enumerable:!1,configurable:!0}),i.prototype.getSurvey=function(o){return void 0===o&&(o=!1),o?this.parent?this.parent.getSurvey(o):null:a.prototype.getSurvey.call(this,o)},i.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.onIndentChanged()},i.prototype.onSetData=function(){a.prototype.onSetData.call(this),this.onIndentChanged()},Object.defineProperty(i.prototype,"isPanel",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"page",{get:function(){return this.getPage(this.parent)},set:function(o){this.setPage(this.parent,o)},enumerable:!1,configurable:!0}),i.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},i.prototype.moveTo=function(o,p){return void 0===p&&(p=null),this.moveToBase(this.parent,o,p)},Object.defineProperty(i.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),i.prototype.getTitleOwner=function(){return this},Object.defineProperty(i.prototype,"showNumber",{get:function(){return this.getPropertyValue("showNumber")},set:function(o){this.setPropertyValue("showNumber",o),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(o){this.setPropertyValue("showQuestionNumbers",o),this.notifySurveyOnVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(o){this.setPropertyValue("questionStartIndex",o)},enumerable:!1,configurable:!0}),i.prototype.getQuestionStartIndex=function(){return this.questionStartIndex?this.questionStartIndex:a.prototype.getQuestionStartIndex.call(this)},Object.defineProperty(i.prototype,"no",{get:function(){return this.getPropertyValue("no","")},enumerable:!1,configurable:!0}),i.prototype.setNo=function(o){this.setPropertyValue("no",K.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex()))},i.prototype.createLocTitleProperty=function(){var o=this,p=a.prototype.createLocTitleProperty.call(this);return p.onGetTextCallback=function(A){return!A&&(o.isExpanded||o.isCollapsed)&&(A=o.name),A},p},i.prototype.beforeSetVisibleIndex=function(o){var p=-1;return this.showNumber&&(this.isDesignMode||!this.locTitle.isEmpty)&&(p=o),this.setPropertyValue("visibleIndex",p),this.setNo(p),p<0?0:1},i.prototype.getPanelStartIndex=function(o){return"off"==this.showQuestionNumbers?-1:"onpanel"==this.showQuestionNumbers?0:o},i.prototype.isContinueNumbering=function(){return"off"!=this.showQuestionNumbers&&"onpanel"!=this.showQuestionNumbers},i.prototype.notifySurveyOnVisibilityChanged=function(){null!=this.survey&&!this.isLoadingFromJson&&this.survey.panelVisibilityChanged(this,this.isVisible)},i.prototype.hasErrorsCore=function(o){a.prototype.hasErrorsCore.call(this,o),this.isCollapsed&&o.result&&o.fireCallback&&this.expand()},i.prototype.getRenderedTitle=function(o){if(!o){if(this.isCollapsed||this.isExpanded)return this.name;if(this.isDesignMode)return"["+this.name+"]"}return a.prototype.getRenderedTitle.call(this,o)},Object.defineProperty(i.prototype,"innerIndent",{get:function(){return this.getPropertyValue("innerIndent")},set:function(o){this.setPropertyValue("innerIndent",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(o){this.setPropertyValue("startWithNewLine",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(o){this.setPropertyValue("allowAdaptiveActions",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"innerPaddingLeft",{get:function(){return this.getPropertyValue("innerPaddingLeft","")},set:function(o){this.setPropertyValue("innerPaddingLeft",o)},enumerable:!1,configurable:!0}),i.prototype.onIndentChanged=function(){!this.getSurvey()||(this.innerPaddingLeft=this.getIndentSize(this.innerIndent),this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent))},i.prototype.getIndentSize=function(o){if(o<1)return"";var p=this.survey.css;return p&&p.question.indent?o*p.question.indent+"px":""},i.prototype.clearOnDeletingContainer=function(){this.elements.forEach(function(o){(o instanceof S.Question||o instanceof i)&&o.clearOnDeletingContainer()})},Object.defineProperty(i.prototype,"footerActions",{get:function(){return this.getPropertyValue("footerActions")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"footerToolbarCss",{get:function(){var o;return this.footerToolbarCssValue||(null===(o=this.cssClasses.panel)||void 0===o?void 0:o.footer)},set:function(o){this.footerToolbarCssValue=o},enumerable:!1,configurable:!0}),i.prototype.getFooterToolbar=function(){var p,o=this;if(!this.footerToolbarValue){var A=this.footerActions;this.hasEditButton&&A.push({id:"cancel-preview",locTitle:this.survey.locEditText,innerCss:this.survey.cssNavigationEdit,action:function(){o.cancelPreview()}}),A=this.onGetFooterActionsCallback?this.onGetFooterActionsCallback():null===(p=this.survey)||void 0===p?void 0:p.getUpdatedPanelFooterActions(this,A),this.footerToolbarValue=this.createActionContainer(this.allowAdaptiveActions),this.footerToolbarValue.containerCss=this.footerToolbarCss,this.footerToolbarValue.setItems(A)}return this.footerToolbarValue},Object.defineProperty(i.prototype,"hasEditButton",{get:function(){return!(!this.survey||"preview"!==this.survey.state)&&1===this.depth},enumerable:!1,configurable:!0}),i.prototype.cancelPreview=function(){!this.hasEditButton||this.survey.cancelPreviewByPage(this)},Object.defineProperty(i.prototype,"cssTitle",{get:function(){return this.getCssTitle(this.cssClasses.panel)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssError",{get:function(){return this.getCssError(this.cssClasses)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showErrorsAbovePanel",{get:function(){return this.isDefaultV2Theme},enumerable:!1,configurable:!0}),i.prototype.getCssError=function(o){var p=this.isDefaultV2Theme,A=(new P.CssClassBuilder).append(this.cssClasses.error.root).append(this.cssClasses.error.outsideQuestion,p).append(this.cssClasses.error.aboveQuestion,p);return A.append("panel-error-root",A.isEmpty()).toString()},i.prototype.onVisibleChanged=function(){a.prototype.onVisibleChanged.call(this),this.notifySurveyOnVisibilityChanged()},i.prototype.needResponsiveWidth=function(){return!this.startWithNewLine||a.prototype.needResponsiveWidth.call(this)},i.prototype.focusIn=function(){!this.survey||this.survey.whenPanelFocusIn(this)},i.prototype.getHasFrameV2=function(){return a.prototype.getHasFrameV2.call(this)&&(!this.originalPage||this.survey.isShowingPreview)},i.prototype.getIsNested=function(){return a.prototype.getIsNested.call(this)&&void 0!==this.parent},i.prototype.getCssRoot=function(o){return(new P.CssClassBuilder).append(a.prototype.getCssRoot.call(this,o)).append(o.container).append(o.asPage,!!this.originalPage&&!this.survey.isShowingPreview).append(o.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},i.prototype.getContainerCss=function(){return this.getCssRoot(this.cssClasses.panel)},i}(u);L.Serializer.addClass("panelbase",["name",{name:"elements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"visible:switch",default:!0},"visibleIf:condition","enableIf:condition","requiredIf:condition","readOnly:boolean",{name:"questionTitleLocation",default:"default",choices:["default","top","bottom","left","hidden"]},{name:"title:text",serializationProperty:"locTitle"},{name:"description:text",serializationProperty:"locDescription"},{name:"questionsOrder",default:"default",choices:["default","initial","random"]}],function(){return new u}),L.Serializer.addClass("panel",[{name:"state",default:"default",choices:["default","collapsed","expanded"]},"isRequired:switch",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"startWithNewLine:boolean",default:!0},"width",{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"maxWidth",defaultFunc:function(){return h.settings.maxWidth}},{name:"innerIndent:number",default:0,choices:[0,1,2,3]},{name:"indent:number",default:0,choices:[0,1,2,3]},{name:"page",isSerializable:!1,visibleIf:function(a){var i=a?a.survey:null;return!i||!i.pages||i.pages.length>1},choices:function(a){var i=a?a.survey:null;return i?i.pages.map(function(o){return{value:o.name,text:o.title}}):[]}},"showNumber:boolean",{name:"showQuestionNumbers",default:"default",choices:["default","onpanel","off"]},"questionStartIndex",{name:"allowAdaptiveActions:boolean",default:!0,visible:!1}],function(){return new l},"panelbase"),w.ElementFactory.Instance.registerElement("panel",function(a){return new l(a)})},"./src/popup-dropdown-view-model.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PopupDropdownViewModel",function(){return h});var D,L=m("./src/jsonobject.ts"),K=m("./src/utils/popup.ts"),j=m("./src/popup-view-model.ts"),F=m("./src/utils/devices.ts"),S=m("./src/settings.ts"),w=(D=function(P,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(v[g]=E[g])})(P,y)},function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=P}D(P,y),P.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}),M=function(D,P,y,v){var u,E=arguments.length,g=E<3?P:null===v?v=Object.getOwnPropertyDescriptor(P,y):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(D,P,y,v);else for(var l=D.length-1;l>=0;l--)(u=D[l])&&(g=(E<3?u(g):E>3?u(P,y,g):u(P,y))||g);return E>3&&g&&Object.defineProperty(P,y,g),g},h=function(D){function P(y,v){var E=D.call(this,y)||this;return E.targetElement=v,E.scrollEventCallBack=function(g){if(E.isOverlay&&F.IsTouch)return g.stopPropagation(),void g.preventDefault();E.hidePopup()},E.resizeEventCallback=function(){var g=window.visualViewport;document.documentElement.style.setProperty("--sv-popup-overlay-height",g.height*g.scale+"px")},E.resizeWindowCallback=function(){E.isOverlay||E.updatePosition(!0,!1)},E.clientY=0,E.isTablet=!1,E.touchStartEventCallback=function(g){E.clientY=g.touches[0].clientY},E.touchMoveEventCallback=function(g){E.preventScrollOuside(g,E.clientY-g.changedTouches[0].clientY)},E.model.onRecalculatePosition.add(function(g,u){E.isOverlay||E.updatePosition(u.isResetHeight)}),E}return w(P,D),P.prototype.calculateIsTablet=function(y,v){var E=Math.min(y,v);this.isTablet=E>=P.tabletSizeBreakpoint},P.prototype._updatePosition=function(){var y,v,E;if(this.targetElement){var g=this.targetElement.getBoundingClientRect(),u=null===(y=this.container)||void 0===y?void 0:y.querySelector(this.containerSelector);if(u){var l=null===(v=this.container)||void 0===v?void 0:v.querySelector(this.fixedPopupContainer),a=u.querySelector(this.scrollingContentSelector),i=window.getComputedStyle(u),o=parseFloat(i.marginLeft)||0,p=parseFloat(i.marginRight)||0,A=u.offsetHeight-a.offsetHeight+a.scrollHeight,B=u.getBoundingClientRect().width;this.model.setWidthByTarget&&(this.minWidth=g.width+"px");var O=this.model.verticalPosition,f=this.getActualHorizontalPosition();if(window){var b=[A,.9*window.innerHeight,null===(E=window.visualViewport)||void 0===E?void 0:E.height];A=Math.ceil(Math.min.apply(Math,b.filter(function(H){return"number"==typeof H}))),O=K.PopupUtils.updateVerticalPosition(g,A,this.model.verticalPosition,this.model.showPointer,window.innerHeight)}this.popupDirection=K.PopupUtils.calculatePopupDirection(O,f);var C=K.PopupUtils.calculatePosition(g,A,B+o+p,O,f,this.showHeader,this.model.positionMode);if(window){var c=K.PopupUtils.updateVerticalDimensions(C.top,A,window.innerHeight);c&&(this.height=c.height+"px",C.top=c.top);var T=K.PopupUtils.updateHorizontalDimensions(C.left,B,window.innerWidth,f,this.model.positionMode,{left:o,right:p});T&&(this.width=T.width?T.width+"px":void 0,C.left=T.left)}if(l){var I=l.getBoundingClientRect();C.top-=I.top,C.left-=I.left}this.left=C.left+"px",this.top=C.top+"px",this.showHeader&&(this.pointerTarget=K.PopupUtils.calculatePointerTarget(g,C.top,C.left,O,f,o,p),this.pointerTarget.top+="px",this.pointerTarget.left+="px")}}},P.prototype.getActualHorizontalPosition=function(){var y=this.model.horizontalPosition;return!!document&&"rtl"==document.defaultView.getComputedStyle(document.body).direction&&("left"===this.model.horizontalPosition?y="right":"right"===this.model.horizontalPosition&&(y="left")),y},P.prototype.getStyleClass=function(){return D.prototype.getStyleClass.call(this).append("sv-popup--dropdown",!this.isOverlay).append("sv-popup--tablet",this.isTablet&&this.isOverlay).append("sv-popup--show-pointer",!this.isOverlay&&this.showHeader).append("sv-popup--"+this.popupDirection,!this.isOverlay&&this.showHeader)},P.prototype.getShowHeader=function(){return this.model.showPointer&&!this.isOverlay},P.prototype.getPopupHeaderTemplate=function(){return"popup-pointer"},P.prototype.setComponentElement=function(y,v){D.prototype.setComponentElement.call(this,y),y&&y.parentElement&&!this.isModal&&(this.targetElement=v||y.parentElement)},P.prototype.updateOnShowing=function(){this.prevActiveElement=S.settings.environment.root.activeElement,this.isOverlay?this.resetDimensionsAndPositionStyleProperties():this.updatePosition(!0,!1),this.switchFocus(),window.addEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.addEventListener("resize",this.resizeEventCallback),this.container&&(this.container.addEventListener("touchstart",this.touchStartEventCallback),this.container.addEventListener("touchmove",this.touchMoveEventCallback)),this.calculateIsTablet(window.innerWidth,window.innerHeight),this.resizeEventCallback()),window.addEventListener("scroll",this.scrollEventCallBack)},Object.defineProperty(P.prototype,"shouldCreateResizeCallback",{get:function(){return!!window.visualViewport&&this.isOverlay&&F.IsTouch},enumerable:!1,configurable:!0}),P.prototype.updatePosition=function(y,v){var E=this;void 0===v&&(v=!0),y&&(this.height="auto"),v?setTimeout(function(){E._updatePosition()},1):this._updatePosition()},P.prototype.updateOnHiding=function(){D.prototype.updateOnHiding.call(this),window.removeEventListener("resize",this.resizeWindowCallback),this.shouldCreateResizeCallback&&(window.visualViewport.removeEventListener("resize",this.resizeEventCallback),this.container&&(this.container.removeEventListener("touchstart",this.touchStartEventCallback),this.container.removeEventListener("touchmove",this.touchMoveEventCallback))),window.removeEventListener("scroll",this.scrollEventCallBack),this.isDisposed||(this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.minWidth=void 0)},P.tabletSizeBreakpoint=600,M([Object(L.property)()],P.prototype,"isTablet",void 0),M([Object(L.property)({defaultValue:"left"})],P.prototype,"popupDirection",void 0),M([Object(L.property)({defaultValue:{left:"0px",top:"0px"}})],P.prototype,"pointerTarget",void 0),P}(j.PopupBaseViewModel)},"./src/popup-modal-view-model.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PopupModalViewModel",function(){return j});var F,L=m("./src/popup-view-model.ts"),K=(F=function(S,w){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,h){M.__proto__=h}||function(M,h){for(var D in h)Object.prototype.hasOwnProperty.call(h,D)&&(M[D]=h[D])})(S,w)},function(S,w){if("function"!=typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");function M(){this.constructor=S}F(S,w),S.prototype=null===w?Object.create(w):(M.prototype=w.prototype,new M)}),j=function(F){function S(w){var M=F.call(this,w)||this;return M.onScrollOutsideCallback=function(h){M.preventScrollOuside(h,h.deltaY)},M}return K(S,F),S.prototype.getStyleClass=function(){return F.prototype.getStyleClass.call(this).append("sv-popup--modal",!this.isOverlay)},S.prototype.getShowFooter=function(){return!0},S.prototype.createFooterActionBar=function(){var w=this;F.prototype.createFooterActionBar.call(this),this.footerToolbarValue.addAction({id:"apply",visibleIndex:20,title:this.applyButtonText,innerCss:"sv-popup__body-footer-item sv-popup__button sv-popup__button--apply sd-btn sd-btn--action",action:function(){w.apply()}})},Object.defineProperty(S.prototype,"applyButtonText",{get:function(){return this.getLocalizationString("modalApplyButtonText")},enumerable:!1,configurable:!0}),S.prototype.apply=function(){this.model.onApply&&!this.model.onApply()||this.hidePopup()},S.prototype.clickOutside=function(){},S.prototype.onKeyDown=function(w){("Escape"===w.key||27===w.keyCode)&&this.model.onCancel(),F.prototype.onKeyDown.call(this,w)},S.prototype.updateOnShowing=function(){this.container&&this.container.addEventListener("wheel",this.onScrollOutsideCallback,{passive:!1}),F.prototype.updateOnShowing.call(this)},S.prototype.updateOnHiding=function(){this.container&&this.container.removeEventListener("wheel",this.onScrollOutsideCallback),F.prototype.updateOnHiding.call(this)},S}(L.PopupBaseViewModel)},"./src/popup-survey.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PopupSurveyModel",function(){return w}),m.d(V,"SurveyWindowModel",function(){return M});var h,L=m("./src/base.ts"),K=m("./src/survey.ts"),j=m("./src/jsonobject.ts"),F=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),w=function(h){function D(P,y){void 0===y&&(y=null);var v=h.call(this)||this;return v.closeOnCompleteTimeout=0,v.surveyValue=y||v.createSurvey(P),v.surveyValue.showTitle=!1,"undefined"!=typeof document&&(v.windowElement=document.createElement("div")),v.survey.onComplete.add(function(E,g){v.onSurveyComplete()}),v.registerPropertyChangedHandlers(["isShowing"],function(){v.showingChangedCallback&&v.showingChangedCallback()}),v.registerPropertyChangedHandlers(["isExpanded"],function(){v.onExpandedChanged()}),v.width=new L.ComputedUpdater(function(){return v.survey.width}),v.width=v.survey.width,v.updateCss(),v.onCreating(),v.survey.onPopupVisibleChanged.add(function(E,g){v.onScrollCallback=g.visible?function(){g.popup.toggleVisibility()}:void 0}),v}return F(D,h),D.prototype.onCreating=function(){},D.prototype.getType=function(){return"popupsurvey"},Object.defineProperty(D.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isShowing",{get:function(){return this.getPropertyValue("isShowing",!1)},set:function(P){this.setPropertyValue("isShowing",P)},enumerable:!1,configurable:!0}),D.prototype.show=function(){this.isShowing=!0},D.prototype.hide=function(){this.isShowing=!1},Object.defineProperty(D.prototype,"isExpanded",{get:function(){return this.getPropertyValue("isExpanded",!1)},set:function(P){this.setPropertyValue("isExpanded",P)},enumerable:!1,configurable:!0}),D.prototype.onExpandedChanged=function(){this.expandedChangedCallback&&this.expandedChangedCallback(),this.updateCssButton()},Object.defineProperty(D.prototype,"title",{get:function(){return this.survey.title},set:function(P){this.survey.title=P},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locTitle",{get:function(){return this.survey.locTitle},enumerable:!1,configurable:!0}),D.prototype.expand=function(){this.isExpanded=!0},D.prototype.collapse=function(){this.isExpanded=!1},D.prototype.changeExpandCollapse=function(){this.isExpanded=!this.isExpanded},Object.defineProperty(D.prototype,"allowClose",{get:function(){return this.getPropertyValue("allowClose",!1)},set:function(P){this.setPropertyValue("allowClose",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"css",{get:function(){return this.survey.css},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssButton",{get:function(){return this.getPropertyValue("cssButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssRoot",{get:function(){return this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssBody",{get:function(){return this.getPropertyValue("cssBody","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssHeaderRoot",{get:function(){return this.getPropertyValue("cssHeaderRoot","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssHeaderTitle",{get:function(){return this.getPropertyValue("cssHeaderTitle","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cssHeaderButton",{get:function(){return this.getPropertyValue("cssHeaderButton","")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"renderedWidth",{get:function(){var P=this.getPropertyValue("width","60%");return P&&!isNaN(P)&&(P+="px"),P},enumerable:!1,configurable:!0}),D.prototype.updateCss=function(){if(this.css&&this.css.window){var P=this.css.window;this.setPropertyValue("cssRoot",P.root),this.setPropertyValue("cssBody",P.body);var y=P.header;!y||(this.setPropertyValue("cssHeaderRoot",y.root),this.setPropertyValue("cssHeaderTitle",y.title),this.setPropertyValue("cssHeaderButton",y.button),this.updateCssButton())}},D.prototype.updateCssButton=function(){var P=this.css.window?this.css.window.header:null;!P||this.setCssButton(this.isExpanded?P.buttonExpanded:P.buttonCollapsed)},D.prototype.setCssButton=function(P){!P||this.setPropertyValue("cssButton",P)},D.prototype.createSurvey=function(P){return new K.SurveyModel(P)},D.prototype.onSurveyComplete=function(){if(!(this.closeOnCompleteTimeout<0))if(0==this.closeOnCompleteTimeout)this.hide();else{var P=this,y=null;y="undefined"!=typeof window?window.setInterval(function(){P.hide(),"undefined"!=typeof window&&window.clearInterval(y)},1e3*this.closeOnCompleteTimeout):0}},D.prototype.onScroll=function(){this.onScrollCallback&&this.onScrollCallback()},function(h,D,P,y){var g,v=arguments.length,E=v<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,P):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(h,D,P,y);else for(var u=h.length-1;u>=0;u--)(g=h[u])&&(E=(v<3?g(E):v>3?g(D,P,E):g(D,P))||E);v>3&&E&&Object.defineProperty(D,P,E)}([Object(j.property)()],D.prototype,"width",void 0),D}(L.Base),M=function(h){function D(){return null!==h&&h.apply(this,arguments)||this}return F(D,h),D}(w)},"./src/popup-utils.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"createPopupModalViewModel",function(){return F}),m.d(V,"createPopupViewModel",function(){return S});var L=m("./src/popup.ts"),K=m("./src/popup-dropdown-view-model.ts"),j=m("./src/popup-modal-view-model.ts");function F(w,M){var h=new L.PopupModel(w.componentName,w.data,"top","left",!1,!0,w.onCancel,w.onApply,function(){w.onHide(),P&&D.resetComponentElement()},w.onShow,w.cssClass,w.title);h.displayMode=w.displayMode||"popup";var D=new j.PopupModalViewModel(h);if(M&&M.appendChild){var P=document.createElement("div");M.appendChild(P),D.setComponentElement(P)}return D.container||D.initializePopupContainer(),D}function S(w,M){return w.isModal?new j.PopupModalViewModel(w):new K.PopupDropdownViewModel(w,M)}},"./src/popup-view-model.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"FOCUS_INPUT_SELECTOR",function(){return D}),m.d(V,"PopupBaseViewModel",function(){return P});var y,L=m("./src/base.ts"),K=m("./src/jsonobject.ts"),j=m("./src/utils/cssClassBuilder.ts"),F=m("./src/actions/container.ts"),S=m("./src/settings.ts"),w=m("./src/utils/utils.ts"),M=(y=function(v,E){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,u){g.__proto__=u}||function(g,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(g[l]=u[l])})(v,E)},function(v,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function g(){this.constructor=v}y(v,E),v.prototype=null===E?Object.create(E):(g.prototype=E.prototype,new g)}),h=function(y,v,E,g){var a,u=arguments.length,l=u<3?v:null===g?g=Object.getOwnPropertyDescriptor(v,E):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(y,v,E,g);else for(var i=y.length-1;i>=0;i--)(a=y[i])&&(l=(u<3?a(l):u>3?a(v,E,l):a(v,E))||l);return u>3&&l&&Object.defineProperty(v,E,l),l},D='input:not(:disabled):not([readonly]):not([type=hidden]),select:not(:disabled):not([readonly]),textarea:not(:disabled):not([readonly]), button:not(:disabled):not([readonly]), [tabindex]:not([tabindex^="-"])',P=function(y){function v(E){var g=y.call(this)||this;return g.popupSelector=".sv-popup",g.fixedPopupContainer=".sv-popup",g.containerSelector=".sv-popup__container",g.scrollingContentSelector=".sv-popup__scrolling-content",g.model=E,g}return M(v,y),Object.defineProperty(v.prototype,"container",{get:function(){return this.containerElement||this.createdContainer},enumerable:!1,configurable:!0}),v.prototype.getLocale=function(){return this.locale?this.locale:y.prototype.getLocale.call(this)},v.prototype.hidePopup=function(){this.model.isVisible=!1},v.prototype.getStyleClass=function(){return(new j.CssClassBuilder).append(this.model.cssClass).append("sv-popup--"+this.model.displayMode,this.isOverlay)},v.prototype.getShowFooter=function(){return this.isOverlay},v.prototype.getShowHeader=function(){return!1},v.prototype.getPopupHeaderTemplate=function(){},v.prototype.createFooterActionBar=function(){var E=this;this.footerToolbarValue=new F.ActionContainer,this.footerToolbar.updateCallback=function(u){E.footerToolbarValue.actions.forEach(function(l){return l.cssClasses={item:"sv-popup__body-footer-item sv-popup__button sd-btn"}})};var g=[{id:"cancel",visibleIndex:10,title:this.cancelButtonText,innerCss:"sv-popup__button--cancel sd-btn",action:function(){E.cancel()}}];g=this.model.updateFooterActions(g),this.footerToolbarValue.setItems(g)},v.prototype.resetDimensionsAndPositionStyleProperties=function(){var E="inherit";this.top=E,this.left=E,this.height=E,this.width=E,this.minWidth=E},v.prototype.setupModel=function(E){var g=this;this.model&&this.model.unregisterPropertyChangedHandlers(["isVisible"],"PopupBaseViewModel"),this._model=E;var u=function(){E.isVisible||g.updateOnHiding(),g.isVisible=E.isVisible};E.registerPropertyChangedHandlers(["isVisible"],u,"PopupBaseViewModel"),u()},Object.defineProperty(v.prototype,"model",{get:function(){return this._model},set:function(E){this.setupModel(E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"title",{get:function(){return this.model.title},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"contentComponentName",{get:function(){return this.model.contentComponentName},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"contentComponentData",{get:function(){return this.model.contentComponentData},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isModal",{get:function(){return this.model.isModal},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isFocusedContent",{get:function(){return this.model.isFocusedContent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isFocusedContainer",{get:function(){return this.model.isFocusedContainer},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showFooter",{get:function(){return this.getShowFooter()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showHeader",{get:function(){return this.getShowHeader()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"popupHeaderTemplate",{get:function(){return this.getPopupHeaderTemplate()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"isOverlay",{get:function(){return"overlay"===this.model.displayMode},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"styleClass",{get:function(){return this.getStyleClass().toString()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"cancelButtonText",{get:function(){return this.getLocalizationString("modalCancelButtonText")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.createFooterActionBar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),v.prototype.onKeyDown=function(E){"Tab"===E.key||9===E.keyCode?this.trapFocus(E):("Escape"===E.key||27===E.keyCode)&&this.hidePopup()},v.prototype.trapFocus=function(E){var g=this.container.querySelectorAll(D),u=g[0],l=g[g.length-1];E.shiftKey?S.settings.environment.root.activeElement===u&&(l.focus(),E.preventDefault()):S.settings.environment.root.activeElement===l&&(u.focus(),E.preventDefault())},v.prototype.switchFocus=function(){this.isFocusedContent?this.focusFirstInput():this.isFocusedContainer&&this.focusContainer()},v.prototype.updateOnShowing=function(){this.prevActiveElement=S.settings.environment.root.activeElement,this.isOverlay&&this.resetDimensionsAndPositionStyleProperties(),this.switchFocus()},v.prototype.updateOnHiding=function(){this.isFocusedContent&&this.prevActiveElement&&this.prevActiveElement.focus()},v.prototype.focusContainer=function(){if(this.container){var E=this.container.querySelector(this.popupSelector);null==E||E.focus()}},v.prototype.focusFirstInput=function(){var E=this;setTimeout(function(){if(E.container){var g=E.container.querySelector(E.model.focusFirstInputSelector||D);g?g.focus():E.focusContainer()}},100)},v.prototype.clickOutside=function(E){this.hidePopup(),null==E||E.stopPropagation()},v.prototype.cancel=function(){this.model.onCancel(),this.hidePopup()},v.prototype.dispose=function(){y.prototype.dispose.call(this),this.createdContainer&&(this.createdContainer.remove(),this.createdContainer=void 0),this.footerToolbarValue&&this.footerToolbarValue.dispose()},v.prototype.initializePopupContainer=function(){if(!this.container){var E=document.createElement("div");this.createdContainer=E,Object(w.getElement)(S.settings.environment.popupMountContainer).appendChild(E)}},v.prototype.setComponentElement=function(E,g){E&&(this.containerElement=E)},v.prototype.resetComponentElement=function(){this.containerElement=void 0},v.prototype.preventScrollOuside=function(E,g){for(var u=E.target;u!==this.container;){if("auto"===window.getComputedStyle(u).overflowY&&u.scrollHeight!==u.offsetHeight){var a=u.scrollTop;if(!(g>0&&Math.abs(u.scrollHeight-u.clientHeight-a)<1||g<0&&a<=0))return}u=u.parentElement}E.preventDefault()},h([Object(K.property)({defaultValue:"0px"})],v.prototype,"top",void 0),h([Object(K.property)({defaultValue:"0px"})],v.prototype,"left",void 0),h([Object(K.property)({defaultValue:"auto"})],v.prototype,"height",void 0),h([Object(K.property)({defaultValue:"auto"})],v.prototype,"width",void 0),h([Object(K.property)({defaultValue:"auto"})],v.prototype,"minWidth",void 0),h([Object(K.property)({defaultValue:!1})],v.prototype,"isVisible",void 0),h([Object(K.property)()],v.prototype,"locale",void 0),v}(L.Base)},"./src/popup.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PopupModel",function(){return S}),m.d(V,"createDialogOptions",function(){return w});var M,L=m("./src/base.ts"),K=m("./src/jsonobject.ts"),j=(M=function(h,D){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,y){P.__proto__=y}||function(P,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(P[v]=y[v])})(h,D)},function(h,D){if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");function P(){this.constructor=h}M(h,D),h.prototype=null===D?Object.create(D):(P.prototype=D.prototype,new P)}),F=function(M,h,D,P){var E,y=arguments.length,v=y<3?h:null===P?P=Object.getOwnPropertyDescriptor(h,D):P;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)v=Reflect.decorate(M,h,D,P);else for(var g=M.length-1;g>=0;g--)(E=M[g])&&(v=(y<3?E(v):y>3?E(h,D,v):E(h,D))||v);return y>3&&v&&Object.defineProperty(h,D,v),v},S=function(M){function h(D,P,y,v,E,g,u,l,a,i,o,p){void 0===y&&(y="bottom"),void 0===v&&(v="left"),void 0===E&&(E=!0),void 0===g&&(g=!1),void 0===u&&(u=function(){}),void 0===l&&(l=function(){return!0}),void 0===a&&(a=function(){}),void 0===i&&(i=function(){}),void 0===o&&(o=""),void 0===p&&(p="");var A=M.call(this)||this;return A.focusFirstInputSelector="",A.onVisibilityChanged=A.addEvent(),A.onFooterActionsCreated=A.addEvent(),A.onRecalculatePosition=A.addEvent(),A.contentComponentName=D,A.contentComponentData=P,A.verticalPosition=y,A.horizontalPosition=v,A.showPointer=E,A.isModal=g,A.onCancel=u,A.onApply=l,A.onHide=a,A.onShow=i,A.cssClass=o,A.title=p,A}return j(h,M),h.prototype.refreshInnerModel=function(){var D=this.contentComponentData.model;D&&D.refresh&&D.refresh()},Object.defineProperty(h.prototype,"isVisible",{get:function(){return this.getPropertyValue("isVisible",!1)},set:function(D){this.isVisible!==D&&(this.setPropertyValue("isVisible",D),this.onVisibilityChanged.fire(this,{model:this,isVisible:D}),this.isVisible?this.onShow():(this.refreshInnerModel(),this.onHide()))},enumerable:!1,configurable:!0}),h.prototype.toggleVisibility=function(){this.isVisible=!this.isVisible},h.prototype.recalculatePosition=function(D){this.onRecalculatePosition.fire(this,{isResetHeight:D})},h.prototype.updateFooterActions=function(D){var P={actions:D};return this.onFooterActionsCreated.fire(this,P),P.actions},F([Object(K.property)()],h.prototype,"contentComponentName",void 0),F([Object(K.property)()],h.prototype,"contentComponentData",void 0),F([Object(K.property)({defaultValue:"bottom"})],h.prototype,"verticalPosition",void 0),F([Object(K.property)({defaultValue:"left"})],h.prototype,"horizontalPosition",void 0),F([Object(K.property)({defaultValue:!1})],h.prototype,"showPointer",void 0),F([Object(K.property)({defaultValue:!1})],h.prototype,"isModal",void 0),F([Object(K.property)({defaultValue:!0})],h.prototype,"isFocusedContent",void 0),F([Object(K.property)({defaultValue:!0})],h.prototype,"isFocusedContainer",void 0),F([Object(K.property)({defaultValue:function(){}})],h.prototype,"onCancel",void 0),F([Object(K.property)({defaultValue:function(){return!0}})],h.prototype,"onApply",void 0),F([Object(K.property)({defaultValue:function(){}})],h.prototype,"onHide",void 0),F([Object(K.property)({defaultValue:function(){}})],h.prototype,"onShow",void 0),F([Object(K.property)({defaultValue:""})],h.prototype,"cssClass",void 0),F([Object(K.property)({defaultValue:""})],h.prototype,"title",void 0),F([Object(K.property)({defaultValue:"popup"})],h.prototype,"displayMode",void 0),F([Object(K.property)({defaultValue:"flex"})],h.prototype,"positionMode",void 0),h}(L.Base);function w(M,h,D,P,y,v,E,g,u){return void 0===y&&(y=function(){}),void 0===v&&(v=function(){}),void 0===u&&(u="popup"),{componentName:M,data:h,onApply:D,onCancel:P,onHide:y,onShow:v,cssClass:E,title:g,displayMode:u}}},"./src/question.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Question",function(){return u});var a,L=m("./src/helpers.ts"),K=m("./src/jsonobject.ts"),j=m("./src/survey-element.ts"),F=m("./src/error.ts"),S=m("./src/validator.ts"),w=m("./src/localizablestring.ts"),M=m("./src/conditions.ts"),h=m("./src/questionCustomWidgets.ts"),D=m("./src/settings.ts"),P=m("./src/rendererFactory.ts"),y=m("./src/utils/cssClassBuilder.ts"),v=m("./src/utils/utils.ts"),E=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),g=function(a,i,o,p){var O,A=arguments.length,B=A<3?i:null===p?p=Object.getOwnPropertyDescriptor(i,o):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(a,i,o,p);else for(var f=a.length-1;f>=0;f--)(O=a[f])&&(B=(A<3?O(B):A>3?O(i,o,B):O(i,o))||B);return A>3&&B&&Object.defineProperty(i,o,B),B},u=function(a){function i(o){var p=a.call(this,o)||this;return p.customWidgetData={isNeedRender:!0},p.isReadyValue=!0,p.onReadyChanged=p.addEvent(),p.isRunningValidatorsValue=!1,p.isValueChangedInSurvey=!1,p.allowNotifyValueChanged=!0,p.id=i.getQuestionId(),p.onCreating(),p.createNewArray("validators",function(A){A.errorOwner=p}),p.addExpressionProperty("visibleIf",function(A,B){p.visible=!0===B},function(A){return!p.areInvisibleElementsShowing}),p.addExpressionProperty("enableIf",function(A,B){p.readOnly=!1===B}),p.addExpressionProperty("requiredIf",function(A,B){p.isRequired=!0===B}),p.createLocalizableString("commentText",p,!0,"otherItemText"),p.locTitle.onGetDefaultTextCallback=function(){return p.name},p.locTitle.storeDefaultText=!0,p.createLocalizableString("requiredErrorText",p),p.registerPropertyChangedHandlers(["width"],function(){p.updateQuestionCss(),p.parent&&p.parent.elementWidthChanged(p)}),p.registerPropertyChangedHandlers(["isRequired"],function(){!p.isRequired&&p.errors.length>0&&p.validate(),p.locTitle.strChanged(),p.clearCssClasses()}),p.registerPropertyChangedHandlers(["indent","rightIndent"],function(){p.onIndentChanged()}),p.registerPropertyChangedHandlers(["showCommentArea","showOtherItem"],function(){p.initCommentFromSurvey()}),p.registerFunctionOnPropertiesValueChanged(["no","readOnly"],function(){p.updateQuestionCss()}),p.registerPropertyChangedHandlers(["isMobile"],function(){p.onMobileChanged()}),p}return E(i,a),i.getQuestionId=function(){return"sq_"+i.questionCounter++},i.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===D.settings.readOnly.commentRenderMode},i.prototype.setIsMobile=function(o){},i.prototype.createLocTitleProperty=function(){var o=this,p=a.prototype.createLocTitleProperty.call(this);return p.onGetTextCallback=function(A){return A||(A=o.name),o.survey?o.survey.getUpdatedQuestionTitle(o,A):A},this.locProcessedTitle=new w.LocalizableString(this,!0),this.locProcessedTitle.sharedData=p,p},i.prototype.getSurvey=function(o){return void 0===o&&(o=!1),o?this.parent?this.parent.getSurvey(o):null:this.onGetSurvey?this.onGetSurvey():a.prototype.getSurvey.call(this)},i.prototype.getValueName=function(){return this.valueName?this.valueName.toString():this.name},Object.defineProperty(i.prototype,"valueName",{get:function(){return this.getPropertyValue("valueName","")},set:function(o){var p=this.getValueName();this.setPropertyValue("valueName",o),this.onValueNameChanged(p)},enumerable:!1,configurable:!0}),i.prototype.onValueNameChanged=function(o){!this.survey||(this.survey.questionRenamed(this,this.name,o||this.name),this.initDataFromSurvey())},i.prototype.onNameChanged=function(o){this.locTitle.strChanged(),this.survey&&this.survey.questionRenamed(this,o,this.valueName?this.valueName:o)},Object.defineProperty(i.prototype,"isReady",{get:function(){return this.isReadyValue},set:function(o){var p=this.isReadyValue;this.isReadyValue=o,p!=o&&this.onReadyChanged.fire(this,{question:this,isReady:o,oldIsReady:p})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaLabelledBy",{get:function(){return this.hasTitle?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaExpanded",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),i.prototype.choicesLoaded=function(){},Object.defineProperty(i.prototype,"page",{get:function(){return this.parentQuestion?this.parentQuestion.page:this.getPage(this.parent)},set:function(o){this.setPage(this.parent,o)},enumerable:!1,configurable:!0}),i.prototype.getPanel=function(){return null},i.prototype.delete=function(){this.parent&&this.removeSelfFromList(this.parent.elements)},Object.defineProperty(i.prototype,"isFlowLayout",{get:function(){return"flow"===this.getLayoutType()},enumerable:!1,configurable:!0}),i.prototype.getLayoutType=function(){return this.parent?this.parent.getChildrenLayoutType():"row"},i.prototype.isLayoutTypeSupported=function(o){return"flow"!==o},Object.defineProperty(i.prototype,"visible",{get:function(){return this.getPropertyValue("visible",!0)},set:function(o){o!=this.visible&&(this.setPropertyValue("visible",o),this.onVisibleChanged(),this.notifySurveyVisibilityChanged())},enumerable:!1,configurable:!0}),i.prototype.onVisibleChanged=function(){this.setPropertyValue("isVisible",this.isVisible),!this.isVisible&&this.errors&&this.errors.length>0&&(this.errors=[])},Object.defineProperty(i.prototype,"useDisplayValuesInDynamicTexts",{get:function(){return this.getPropertyValue("useDisplayValuesInDynamicTexts")},set:function(o){this.setPropertyValue("useDisplayValuesInDynamicTexts",o)},enumerable:!1,configurable:!0}),i.prototype.getUseDisplayValuesInDynamicTexts=function(){return this.useDisplayValuesInDynamicTexts},Object.defineProperty(i.prototype,"visibleIf",{get:function(){return this.getPropertyValue("visibleIf","")},set:function(o){this.setPropertyValue("visibleIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVisible",{get:function(){return!(this.survey&&this.survey.areEmptyElementsHidden&&this.isEmpty())&&(!!this.areInvisibleElementsShowing||this.isVisibleCore())},enumerable:!1,configurable:!0}),i.prototype.isVisibleCore=function(){return this.visible},Object.defineProperty(i.prototype,"visibleIndex",{get:function(){return this.getPropertyValue("visibleIndex",-1)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hideNumber",{get:function(){return this.getPropertyValue("hideNumber")},set:function(o){this.setPropertyValue("hideNumber",o),this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isAllowTitleLeft",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return"question"},Object.defineProperty(i.prototype,"isQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),i.prototype.moveTo=function(o,p){return void 0===p&&(p=null),this.moveToBase(this.parent,o,p)},i.prototype.getProgressInfo=function(){return this.hasInput?{questionCount:1,answeredQuestionCount:this.isEmpty()?0:1,requiredQuestionCount:this.isRequired?1:0,requiredAnsweredQuestionCount:!this.isEmpty()&&this.isRequired?1:0}:a.prototype.getProgressInfo.call(this)},i.prototype.runConditions=function(){this.data&&!this.isLoadingFromJson&&(this.isDesignMode||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.locStrsChanged())},i.prototype.setSurveyImpl=function(o,p){a.prototype.setSurveyImpl.call(this,o),this.survey&&(this.survey.questionCreated(this),!0!==p&&this.runConditions())},Object.defineProperty(i.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(o){this.parent!==o&&(this.delete(),this.setPropertyValue("parent",o),this.updateQuestionCss(),this.onParentChanged())},enumerable:!1,configurable:!0}),i.prototype.onParentChanged=function(){},Object.defineProperty(i.prototype,"hasTitle",{get:function(){return"hidden"!==this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"titleLocation",{get:function(){return this.getPropertyValue("titleLocation")},set:function(o){var p="hidden"==this.titleLocation||"hidden"==o;this.setPropertyValue("titleLocation",o.toLowerCase()),this.updateQuestionCss(),p&&this.notifySurveyVisibilityChanged()},enumerable:!1,configurable:!0}),i.prototype.getTitleOwner=function(){return this},i.prototype.getIsTitleRenderedAsString=function(){return"hidden"===this.titleLocation},i.prototype.notifySurveyVisibilityChanged=function(){if(this.survey&&!this.isLoadingFromJson){this.survey.questionVisibilityChanged(this,this.isVisible);var o=this.isClearValueOnHidden;this.visible||this.clearValueOnHidding(o),o&&this.isVisible&&this.updateValueWithDefaults()}},i.prototype.clearValueOnHidding=function(o){o&&this.clearValueIfInvisible()},i.prototype.getTitleLocation=function(){if(this.isFlowLayout)return"hidden";var o=this.getTitleLocationCore();return"left"===o&&!this.isAllowTitleLeft&&(o="top"),o},i.prototype.getTitleLocationCore=function(){return"default"!==this.titleLocation?this.titleLocation:this.parent?this.parent.getQuestionTitleLocation():this.survey?this.survey.questionTitleLocation:"top"},Object.defineProperty(i.prototype,"hasTitleOnLeft",{get:function(){return this.hasTitle&&"left"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasTitleOnTop",{get:function(){return this.hasTitle&&"top"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasTitleOnBottom",{get:function(){return this.hasTitle&&"bottom"===this.getTitleLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasTitleOnLeftTop",{get:function(){if(!this.hasTitle)return!1;var o=this.getTitleLocation();return"left"===o||"top"===o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"errorLocation",{get:function(){return this.survey?this.survey.questionErrorLocation:"top"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasInput",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasSingleInput",{get:function(){return this.hasInput},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputId",{get:function(){return this.id+"i"},enumerable:!1,configurable:!0}),i.prototype.getDefaultTitleValue=function(){return this.name},i.prototype.getDefaultTitleTagName=function(){return D.settings.titleTags.question},Object.defineProperty(i.prototype,"descriptionLocation",{get:function(){return this.getPropertyValue("descriptionLocation")},set:function(o){this.setPropertyValue("descriptionLocation",o),this.updateQuestionCss()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasDescriptionUnderTitle",{get:function(){return"underTitle"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasDescriptionUnderInput",{get:function(){return"underInput"==this.getDescriptionLocation()},enumerable:!1,configurable:!0}),i.prototype.getDescriptionLocation=function(){return"default"!==this.descriptionLocation?this.descriptionLocation:this.survey?this.survey.questionDescriptionLocation:"underTitle"},i.prototype.needClickTitleFunction=function(){return a.prototype.needClickTitleFunction.call(this)||this.hasInput},i.prototype.processTitleClick=function(){var o=this;if(a.prototype.processTitleClick.call(this),!this.isCollapsed)return setTimeout(function(){o.focus()},1),!0},Object.defineProperty(i.prototype,"requiredErrorText",{get:function(){return this.getLocalizableStringText("requiredErrorText")},set:function(o){this.setLocalizableStringText("requiredErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locRequiredErrorText",{get:function(){return this.getLocalizableString("requiredErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"commentText",{get:function(){return this.getLocalizableStringText("commentText")},set:function(o){this.setLocalizableStringText("commentText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locCommentText",{get:function(){return this.getLocalizableString("commentText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"commentPlaceHolder",{get:function(){return this.commentPlaceholder},set:function(o){this.commentPlaceholder=o},enumerable:!1,configurable:!0}),i.prototype.getAllErrors=function(){return this.errors.slice()},i.prototype.getErrorByType=function(o){for(var p=0;p<this.errors.length;p++)if(this.errors[p].getErrorType()===o)return this.errors[p];return null},Object.defineProperty(i.prototype,"customWidget",{get:function(){return!this.isCustomWidgetRequested&&!this.customWidgetValue&&(this.isCustomWidgetRequested=!0,this.updateCustomWidget()),this.customWidgetValue},enumerable:!1,configurable:!0}),i.prototype.updateCustomWidget=function(){this.customWidgetValue=h.CustomWidgetCollection.Instance.getCustomWidget(this)},i.prototype.localeChanged=function(){a.prototype.localeChanged.call(this),this.localeChangedCallback&&this.localeChangedCallback()},Object.defineProperty(i.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),i.prototype.updateCommentElements=function(){if(this.autoGrowComment&&Array.isArray(this.commentElements))for(var o=0;o<this.commentElements.length;o++){var p=this.commentElements[o];p&&Object(v.increaseHeightByContent)(p)}},i.prototype.onCommentInput=function(o){this.isInputTextUpdate?o.target&&(this.comment=o.target.value):this.updateCommentElements()},i.prototype.onCommentChange=function(o){this.comment=o.target.value,this.comment!==o.target.value&&(o.target.value=this.comment)},i.prototype.afterRenderQuestionElement=function(o){!this.survey||!this.hasSingleInput||this.survey.afterRenderQuestionInput(this,o)},i.prototype.afterRender=function(o){var p=this;!this.survey||(this.survey.afterRenderQuestion(this,o),this.afterRenderQuestionCallback&&this.afterRenderQuestionCallback(this,o),(this.supportComment()||this.supportOther())&&(this.commentElements=[],this.getCommentElementsId().forEach(function(A){var O=D.settings.environment.root.getElementById(A);O&&p.commentElements.push(O)}),this.updateCommentElements()),this.checkForResponsiveness(o))},i.prototype.getCommentElementsId=function(){return[this.commentId]},i.prototype.beforeDestroyQuestionElement=function(o){this.commentElements=void 0},Object.defineProperty(i.prototype,"processedTitle",{get:function(){return this.locProcessedTitle.textOrHtml||this.name},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"titlePattern",{get:function(){return this.survey?this.survey.questionTitlePattern:"numTitleRequire"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextOnStart",{get:function(){return this.isRequired&&"requireNumTitle"==this.titlePattern},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextBeforeTitle",{get:function(){return this.isRequired&&"numRequireTitle"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRequireTextAfterTitle",{get:function(){return this.isRequired&&"numTitleRequire"==this.titlePattern&&""!==this.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"startWithNewLine",{get:function(){return this.getPropertyValue("startWithNewLine")},set:function(o){this.startWithNewLine!=o&&this.setPropertyValue("startWithNewLine",o)},enumerable:!1,configurable:!0}),i.prototype.calcCssClasses=function(o){var p={error:{}};return this.copyCssClasses(p,o.question),this.copyCssClasses(p.error,o.error),this.updateCssClasses(p,o),this.survey&&this.survey.updateQuestionCssClasses(this,p),this.onUpdateCssClassesCallback&&this.onUpdateCssClassesCallback(p),p},Object.defineProperty(i.prototype,"cssRoot",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssRoot","")},enumerable:!1,configurable:!0}),i.prototype.setCssRoot=function(o){this.setPropertyValue("cssRoot",o)},i.prototype.getCssRoot=function(o){return(new y.CssClassBuilder).append(a.prototype.getCssRoot.call(this,o)).append(this.isFlowLayout&&!this.isDesignMode?o.flowRoot:o.mainRoot).append(o.titleLeftRoot,!this.isFlowLayout&&this.hasTitleOnLeft).append(o.hasError,this.errors.length>0).append(o.small,!this.width).append(o.answered,this.isAnswered).toString()},Object.defineProperty(i.prototype,"cssHeader",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssHeader","")},enumerable:!1,configurable:!0}),i.prototype.setCssHeader=function(o){this.setPropertyValue("cssHeader",o)},i.prototype.getCssHeader=function(o){return(new y.CssClassBuilder).append(o.header).append(o.headerTop,this.hasTitleOnTop).append(o.headerLeft,this.hasTitleOnLeft).append(o.headerBottom,this.hasTitleOnBottom).toString()},Object.defineProperty(i.prototype,"cssContent",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssContent","")},enumerable:!1,configurable:!0}),i.prototype.setCssContent=function(o){this.setPropertyValue("cssContent",o)},i.prototype.getCssContent=function(o){return(new y.CssClassBuilder).append(o.content).append(o.contentLeft,this.hasTitleOnLeft).toString()},Object.defineProperty(i.prototype,"cssTitle",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssTitle","")},enumerable:!1,configurable:!0}),i.prototype.setCssTitle=function(o){this.setPropertyValue("cssTitle",o)},i.prototype.getCssTitle=function(o){return(new y.CssClassBuilder).append(a.prototype.getCssTitle.call(this,o)).append(o.titleOnAnswer,!this.containsErrors&&this.isAnswered).toString()},Object.defineProperty(i.prototype,"cssDescription",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssDescription","")},enumerable:!1,configurable:!0}),i.prototype.setCssDescription=function(o){this.setPropertyValue("cssDescription",o)},i.prototype.getCssDescription=function(o){return(new y.CssClassBuilder).append(o.description,this.hasDescriptionUnderTitle).append(o.descriptionUnderInput,this.hasDescriptionUnderInput).toString()},i.prototype.getIsErrorsModeTooltip=function(){return a.prototype.getIsErrorsModeTooltip.call(this)&&!this.customWidget},i.prototype.showErrorOnCore=function(o){return!this.isErrorsModeTooltip&&!this.showErrorsAboveQuestion&&!this.showErrorsBelowQuestion&&this.errorLocation===o},Object.defineProperty(i.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),i.prototype.getIsTooltipErrorSupportedByParent=function(){return this.parentQuestion?this.parentQuestion.getIsTooltipErrorInsideSupported():a.prototype.getIsTooltipErrorSupportedByParent.call(this)},Object.defineProperty(i.prototype,"showErrorsOutsideQuestion",{get:function(){return this.isDefaultV2Theme&&!(this.hasParent&&this.getIsTooltipErrorSupportedByParent())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showErrorsAboveQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"top"===this.errorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showErrorsBelowQuestion",{get:function(){return this.showErrorsOutsideQuestion&&"bottom"===this.errorLocation},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cssError",{get:function(){return this.ensureElementCss(),this.getPropertyValue("cssError","")},enumerable:!1,configurable:!0}),i.prototype.setCssError=function(o){this.setPropertyValue("cssError",o)},i.prototype.getCssError=function(o){return(new y.CssClassBuilder).append(o.error.root).append(o.error.outsideQuestion,this.showErrorsBelowQuestion||this.showErrorsAboveQuestion).append(o.error.belowQuestion,this.showErrorsBelowQuestion).append(o.error.aboveQuestion,this.showErrorsAboveQuestion).append(o.error.tooltip,this.isErrorsModeTooltip).append(o.error.locationTop,this.showErrorOnTop).append(o.error.locationBottom,this.showErrorOnBottom).toString()},i.prototype.getRootCss=function(){return(new y.CssClassBuilder).append(this.cssRoot).append(this.cssClasses.disabled,this.isReadOnly).append(this.cssClasses.invisible,!this.isDesignMode&&this.areInvisibleElementsShowing&&!this.visible).toString()},i.prototype.updateElementCss=function(o){a.prototype.updateElementCss.call(this,o),o&&this.updateQuestionCss(!0),this.onIndentChanged()},i.prototype.updateQuestionCss=function(o){this.isLoadingFromJson||!this.survey||!0!==o&&!this.cssClassesValue||this.updateElementCssCore(this.cssClasses)},i.prototype.ensureElementCss=function(){this.cssClassesValue||this.updateQuestionCss(!0)},i.prototype.updateElementCssCore=function(o){this.setCssRoot(this.getCssRoot(o)),this.setCssHeader(this.getCssHeader(o)),this.setCssContent(this.getCssContent(o)),this.setCssTitle(this.getCssTitle(o)),this.setCssDescription(this.getCssDescription(o)),this.setCssError(this.getCssError(o))},i.prototype.updateCssClasses=function(o,p){if(p.question){var A=p[this.getCssType()],B=(new y.CssClassBuilder).append(o.title).append(p.question.titleRequired,this.isRequired);o.title=B.toString();var O=(new y.CssClassBuilder).append(o.root).append(A,this.isRequired&&!!p.question.required);if(null==A)o.root=O.toString();else if("string"==typeof A||A instanceof String)o.root=O.append(A.toString()).toString();else for(var f in o.root=O.toString(),A)o[f]=A[f]}},i.prototype.getCssType=function(){return this.getType()},Object.defineProperty(i.prototype,"renderCssRoot",{get:function(){return this.cssClasses.root||void 0},enumerable:!1,configurable:!0}),i.prototype.onIndentChanged=function(){this.paddingLeft=this.getIndentSize(this.indent),this.paddingRight=this.getIndentSize(this.rightIndent)},i.prototype.getIndentSize=function(o){return o<1||!this.getSurvey()||!this.cssClasses||!this.cssClasses.indent?"":o*this.cssClasses.indent+"px"},i.prototype.focus=function(o){if(void 0===o&&(o=!1),!this.isDesignMode&&this.isVisible&&this.survey){var p=this.page;p&&this.survey.activePage!==p?this.survey.focusQuestionByInstance(this,o):this.focuscore(o)}},i.prototype.focuscore=function(o){void 0===o&&(o=!1),this.survey&&(this.expandAllParents(this),this.survey.scrollElementToTop(this,this,null,this.id));var p=o?this.getFirstErrorInputElementId():this.getFirstInputElementId();j.SurveyElement.FocusElement(p)&&this.fireCallback(this.focusCallback)},i.prototype.expandAllParents=function(o){!o||(o.isCollapsed&&o.expand(),this.expandAllParents(o.parent),this.expandAllParents(o.parentQuestion))},i.prototype.focusIn=function(){!this.survey||this.survey.whenQuestionFocusIn(this)},i.prototype.fireCallback=function(o){o&&o()},i.prototype.getOthersMaxLength=function(){return this.survey&&this.survey.maxOthersLength>0?this.survey.maxOthersLength:null},i.prototype.onCreating=function(){},i.prototype.getFirstQuestionToFocus=function(o){return this.hasInput&&(!o||this.currentErrorCount>0)?this:null},i.prototype.getFirstInputElementId=function(){return this.inputId},i.prototype.getFirstErrorInputElementId=function(){return this.getFirstInputElementId()},i.prototype.getProcessedTextValue=function(o){var p=o.name.toLocaleLowerCase();o.isExists=-1!==Object.keys(i.TextPreprocessorValuesMap).indexOf(p)||void 0!==this[o.name],o.value=this[i.TextPreprocessorValuesMap[p]||o.name]},i.prototype.supportComment=function(){var o=this.getPropertyByName("showCommentArea");return!o||o.visible},i.prototype.supportOther=function(){return!1},Object.defineProperty(i.prototype,"isRequired",{get:function(){return this.getPropertyValue("isRequired")},set:function(o){this.setPropertyValue("isRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"requiredIf",{get:function(){return this.getPropertyValue("requiredIf","")},set:function(o){this.setPropertyValue("requiredIf",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showCommentArea",{get:function(){return this.getPropertyValue("showCommentArea",!1)},set:function(o){!this.supportComment()||this.setPropertyValue("showCommentArea",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasComment",{get:function(){return this.showCommentArea},set:function(o){this.showCommentArea=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(o){this.setPropertyValue("id",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaTitleId",{get:function(){return this.id+"_ariaTitle"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"commentId",{get:function(){return this.id+"_comment"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showOtherItem",{get:function(){return this.getPropertyValue("showOtherItem",!1)},set:function(o){!this.supportOther()||this.showOtherItem==o||(this.setPropertyValue("showOtherItem",o),this.hasOtherChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasOther",{get:function(){return this.showOtherItem},set:function(o){this.showOtherItem=o},enumerable:!1,configurable:!0}),i.prototype.hasOtherChanged=function(){},Object.defineProperty(i.prototype,"requireUpdateCommentValue",{get:function(){return this.hasComment||this.hasOther},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isReadOnly",{get:function(){return this.readOnly||!!this.parent&&this.parent.isReadOnly||!!this.survey&&this.survey.isDisplayMode||!!this.parentQuestion&&this.parentQuestion.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isInputReadOnly",{get:function(){return void 0!==this.forceIsInputReadOnly?this.forceIsInputReadOnly:this.isReadOnly||D.settings.supportCreatorV2&&this.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedInputReadOnly",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedInputDisabled",{get:function(){return this.isInputReadOnly?"":void 0},enumerable:!1,configurable:!0}),i.prototype.onReadOnlyChanged=function(){this.setPropertyValue("isInputReadOnly",this.isInputReadOnly),a.prototype.onReadOnlyChanged.call(this),this.updateQuestionCss()},Object.defineProperty(i.prototype,"enableIf",{get:function(){return this.getPropertyValue("enableIf","")},set:function(o){this.setPropertyValue("enableIf",o)},enumerable:!1,configurable:!0}),i.prototype.surveyChoiceItemVisibilityChange=function(){},i.prototype.runCondition=function(o,p){this.isDesignMode||(p||(p={}),p.question=this,this.runConditionCore(o,p),this.isValueChangedDirectly||(this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.runDefaultValueExpression(this.defaultValueRunner,o,p)))},Object.defineProperty(i.prototype,"no",{get:function(){return this.getPropertyValue("no")},enumerable:!1,configurable:!0}),i.prototype.calcNo=function(){if(!this.hasTitle||this.hideNumber)return"";var o=L.Helpers.getNumberByIndex(this.visibleIndex,this.getStartIndex());return this.survey&&(o=this.survey.getUpdatedQuestionNo(this,o)),o},i.prototype.getStartIndex=function(){return this.parent?this.parent.getQuestionStartIndex():this.survey?this.survey.questionStartIndex:""},i.prototype.onSurveyLoad=function(){this.isCustomWidgetRequested=!1,this.fireCallback(this.surveyLoadCallback),this.updateValueWithDefaults(),this.isEmpty()&&this.initDataFromSurvey(),this.onIndentChanged()},i.prototype.onSetData=function(){a.prototype.onSetData.call(this),this.survey&&(this.initDataFromSurvey(),this.onSurveyValueChanged(this.value),this.updateValueWithDefaults(),this.onIndentChanged(),this.updateQuestionCss(),this.updateIsAnswered())},i.prototype.initDataFromSurvey=function(){if(this.data){var o=this.data.getValue(this.getValueName());(!L.Helpers.isValueEmpty(o)||!this.isLoadingFromJson)&&this.updateValueFromSurvey(o),this.initCommentFromSurvey()}},i.prototype.initCommentFromSurvey=function(){this.updateCommentFromSurvey(this.data&&this.requireUpdateCommentValue?this.data.getComment(this.getValueName()):"")},i.prototype.runExpression=function(o){if(this.survey&&o)return this.survey.runExpression(o)},Object.defineProperty(i.prototype,"autoGrowComment",{get:function(){return this.survey&&this.survey.autoGrowComment},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"allowResizeComment",{get:function(){return this.survey&&this.survey.allowResizeComment},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"questionValue",{get:function(){return this.getPropertyValueWithoutDefault("value")},set:function(o){this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"questionComment",{get:function(){return this.getPropertyValueWithoutDefault("comment")},set:function(o){this.setPropertyValue("comment",o),this.fireCallback(this.commentChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.getValueCore()},set:function(o){this.setNewValue(o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"valueForSurvey",{get:function(){return this.valueToDataCallback?this.valueToDataCallback(this.value):this.value},enumerable:!1,configurable:!0}),i.prototype.clearValue=function(){void 0!==this.value&&(this.value=void 0),this.comment&&(this.comment=void 0)},i.prototype.unbindValue=function(){this.clearValue()},i.prototype.createValueCopy=function(){return this.getUnbindValue(this.value)},i.prototype.initDataUI=function(){},i.prototype.getUnbindValue=function(o){return this.isValueSurveyElement(o)?o:L.Helpers.getUnbindValue(o)},i.prototype.isValueSurveyElement=function(o){return!!o&&(Array.isArray(o)?o.length>0&&this.isValueSurveyElement(o[0]):!!o.getType&&!!o.onPropertyChanged)},i.prototype.canClearValueAsInvisible=function(o){return!(("onHiddenContainer"!==o||this.isParentVisible)&&(this.isVisible&&this.isParentVisible||this.page&&this.page.isStartPage||this.survey&&this.valueName&&this.survey.hasVisibleQuestionByValueName(this.valueName)))},Object.defineProperty(i.prototype,"isParentVisible",{get:function(){if(this.parentQuestion&&!this.parentQuestion.isVisible)return!1;for(var o=this.parent;o;){if(!o.isVisible)return!1;o=o.parent}return!0},enumerable:!1,configurable:!0}),i.prototype.clearValueIfInvisible=function(o){void 0===o&&(o="onHidden");var p=this.getClearIfInvisible();"none"!==p&&("onHidden"===o&&"onComplete"===p||"onHiddenContainer"===o&&p!==o||this.clearValueIfInvisibleCore(o))},i.prototype.clearValueIfInvisibleCore=function(o){this.canClearValueAsInvisible(o)&&this.clearValue()},Object.defineProperty(i.prototype,"clearIfInvisible",{get:function(){return this.getPropertyValue("clearIfInvisible")},set:function(o){this.setPropertyValue("clearIfInvisible",o)},enumerable:!1,configurable:!0}),i.prototype.getClearIfInvisible=function(){var o=this.clearIfInvisible;return this.survey?this.survey.getQuestionClearIfInvisible(o):"default"!==o?o:"onComplete"},Object.defineProperty(i.prototype,"displayValue",{get:function(){return this.isLoadingFromJson?"":this.getDisplayValue(!0)},enumerable:!1,configurable:!0}),i.prototype.getDisplayValue=function(o,p){void 0===p&&(p=void 0);var A=this.calcDisplayValue(o,p);return this.survey&&(A=this.survey.getQuestionDisplayValue(this,A)),this.displayValueCallback?this.displayValueCallback(A):A},i.prototype.calcDisplayValue=function(o,p){if(void 0===p&&(p=void 0),this.customWidget){var A=this.customWidget.getDisplayValue(this,p);if(A)return A}return p=null==p?this.createValueCopy():p,this.isValueEmpty(p)?this.getDisplayValueEmpty():this.getDisplayValueCore(o,p)},i.prototype.getDisplayValueCore=function(o,p){return p},i.prototype.getDisplayValueEmpty=function(){return""},Object.defineProperty(i.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(o){this.isValueExpression(o)?this.defaultValueExpression=o.substring(1):(this.setPropertyValue("defaultValue",this.convertDefaultValue(o)),this.updateValueWithDefaults())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"defaultValueExpression",{get:function(){return this.getPropertyValue("defaultValueExpression")},set:function(o){this.setPropertyValue("defaultValueExpression",o),this.defaultValueRunner=void 0,this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resizeStyle",{get:function(){return this.allowResizeComment?"both":"none"},enumerable:!1,configurable:!0}),i.prototype.getPlainData=function(o){var p=this;if(o||(o={includeEmpty:!0,includeQuestionTypes:!1}),o.includeEmpty||!this.isEmpty()){var A={name:this.name,title:this.locTitle.renderedHtml,value:this.value,displayValue:this.displayValue,isNode:!1,getString:function(B){return"object"==typeof B?JSON.stringify(B):B}};return!0===o.includeQuestionTypes&&(A.questionType=this.getType()),(o.calculations||[]).forEach(function(B){A[B.propertyName]=p[B.propertyName]}),this.hasComment&&(A.isNode=!0,A.data=[{name:0,isComment:!0,title:"Comment",value:D.settings.commentSuffix,displayValue:this.comment,getString:function(B){return"object"==typeof B?JSON.stringify(B):B},isNode:!1}]),A}},Object.defineProperty(i.prototype,"correctAnswer",{get:function(){return this.getPropertyValue("correctAnswer")},set:function(o){this.setPropertyValue("correctAnswer",this.convertDefaultValue(o))},enumerable:!1,configurable:!0}),i.prototype.convertDefaultValue=function(o){return o},Object.defineProperty(i.prototype,"quizQuestionCount",{get:function(){return this.isVisible&&this.hasInput&&!this.isValueEmpty(this.correctAnswer)?this.getQuizQuestionCount():0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"correctAnswerCount",{get:function(){return this.isEmpty()||this.isValueEmpty(this.correctAnswer)?0:this.getCorrectAnswerCount()},enumerable:!1,configurable:!0}),i.prototype.getQuizQuestionCount=function(){return 1},i.prototype.getCorrectAnswerCount=function(){return this.checkIfAnswerCorrect()?1:0},i.prototype.checkIfAnswerCorrect=function(){var o=this.isTwoValueEquals(this.value,this.correctAnswer,!D.settings.comparator.caseSensitive,!0),p={result:o,correctAnswer:o?1:0};return this.survey&&this.survey.onCorrectQuestionAnswer(this,p),p.result},i.prototype.isAnswerCorrect=function(){return this.correctAnswerCount==this.quizQuestionCount},i.prototype.updateValueWithDefaults=function(){this.isLoadingFromJson||!this.isDesignMode&&this.isDefaultValueEmpty()||!this.isDesignMode&&!this.isEmpty()||this.isEmpty()&&this.isDefaultValueEmpty()||this.isClearValueOnHidden&&!this.isVisible||this.isDesignMode&&this.isContentElement&&this.isDefaultValueEmpty()||this.setDefaultValue()},Object.defineProperty(i.prototype,"isClearValueOnHidden",{get:function(){var o=this.getClearIfInvisible();return"none"!==o&&"onComplete"!==o&&("onHidden"===o||"onHiddenContainer"===o)},enumerable:!1,configurable:!0}),i.prototype.getQuestionFromArray=function(o,p){return null},i.prototype.getDefaultValue=function(){return this.defaultValue},i.prototype.isDefaultValueEmpty=function(){return!this.defaultValueExpression&&this.isValueEmpty(this.defaultValue)},i.prototype.getDefaultRunner=function(o,p){return!o&&!!p&&(o=new M.ExpressionRunner(p)),o&&(o.expression=p),o},i.prototype.setDefaultValue=function(){var o=this;this.defaultValueRunner=this.getDefaultRunner(this.defaultValueRunner,this.defaultValueExpression),this.setValueAndRunExpression(this.defaultValueRunner,this.getUnbindValue(this.defaultValue),function(p){o.isTwoValueEquals(o.value,p)||(o.value=p)})},i.prototype.isValueExpression=function(o){return!!o&&"string"==typeof o&&o.length>0&&"="==o[0]},i.prototype.setValueAndRunExpression=function(o,p,A,B,O){var f=this;void 0===B&&(B=null),void 0===O&&(O=null);var b=function(C){f.runExpressionSetValue(C,A)};this.runDefaultValueExpression(o,B,O,b)||b(p)},i.prototype.convertFuncValuetoQuestionValue=function(o){return L.Helpers.convertValToQuestionVal(o)},i.prototype.runExpressionSetValue=function(o,p){p(this.convertFuncValuetoQuestionValue(o))},i.prototype.runDefaultValueExpression=function(o,p,A,B){var O=this;return void 0===p&&(p=null),void 0===A&&(A=null),!(!o||!this.data||(B||(B=function(f){O.runExpressionSetValue(f,function(b){O.isTwoValueEquals(O.value,b)||(O.value=b)})}),p||(p=this.data.getFilteredValues()),A||(A=this.data.getFilteredProperties()),!!o&&o.canRun&&(o.onRunComplete=function(f){null==f&&(f=O.defaultValue),O.isChangingViaDefaultValue=!0,B(f),O.isChangingViaDefaultValue=!1},o.run(p,A)),0))},Object.defineProperty(i.prototype,"comment",{get:function(){return this.getQuestionComment()},set:function(o){if(o){var p=o.toString().trim();p!==o&&(o=p)===this.comment&&this.setPropertyValueDirectly("comment",o)}this.comment!=o&&(this.setQuestionComment(o),this.updateCommentElements())},enumerable:!1,configurable:!0}),i.prototype.getCommentAreaCss=function(o){return void 0===o&&(o=!1),(new y.CssClassBuilder).append("form-group",o).append(this.cssClasses.formGroup,!o).append(this.cssClasses.commentArea).toString()},i.prototype.getQuestionComment=function(){return this.questionComment},i.prototype.setQuestionComment=function(o){this.setNewComment(o)},i.prototype.isEmpty=function(){return this.isValueEmpty(this.value)},Object.defineProperty(i.prototype,"isAnswered",{get:function(){return this.getPropertyValue("isAnswered")},set:function(o){this.setPropertyValue("isAnswered",o)},enumerable:!1,configurable:!0}),i.prototype.updateIsAnswered=function(){var o=this.isAnswered;this.setPropertyValue("isAnswered",this.getIsAnswered()),o!==this.isAnswered&&this.updateQuestionCss()},i.prototype.getIsAnswered=function(){return!this.isEmpty()},Object.defineProperty(i.prototype,"validators",{get:function(){return this.getPropertyValue("validators")},set:function(o){this.setPropertyValue("validators",o)},enumerable:!1,configurable:!0}),i.prototype.getValidators=function(){return this.validators},i.prototype.getSupportedValidators=function(){for(var o=[],p=this.getType();p;){var A=D.settings.supportedValidators[p];if(A)for(var B=A.length-1;B>=0;B--)o.splice(0,0,A[B]);p=K.Serializer.findClass(p).parentName}return o},i.prototype.addConditionObjectsByContext=function(o,p){o.push({name:this.getValueName(),text:this.processedTitle,question:this})},i.prototype.getNestedQuestions=function(o){void 0===o&&(o=!1);var p=[];return this.collectNestedQuestions(p,o),1===p.length&&p[0]===this?[]:p},i.prototype.collectNestedQuestions=function(o,p){void 0===p&&(p=!1),(!p||this.isVisible)&&this.collectNestedQuestionsCore(o,p)},i.prototype.collectNestedQuestionsCore=function(o,p){o.push(this)},i.prototype.getConditionJson=function(o,p){void 0===o&&(o=null),void 0===p&&(p=null);var A=(new K.JsonObject).toJsonObject(this);return A.type=this.getType(),A},i.prototype.hasErrors=function(o,p){void 0===o&&(o=!0),void 0===p&&(p=null);var A=this.errors.length>0,B=this.checkForErrors(!!p&&!0===p.isOnValueChanged);return o&&(this.survey&&this.survey.beforeSettingQuestionErrors(this,B),this.errors=B),this.updateContainsErrors(),A!=B.length>0&&this.updateQuestionCss(),this.isCollapsed&&p&&o&&B.length>0&&this.expand(),B.length>0},i.prototype.validate=function(o,p){return void 0===o&&(o=!0),void 0===p&&(p=null),!!p&&p.isOnValueChanged&&this.parent&&this.parent.validateContainerOnly(),!this.hasErrors(o,p)},Object.defineProperty(i.prototype,"currentErrorCount",{get:function(){return this.errors.length},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"requiredText",{get:function(){return null!=this.survey&&this.isRequired?this.survey.requiredText:""},enumerable:!1,configurable:!0}),i.prototype.addError=function(o){if(o){var p;p="string"==typeof o||o instanceof String?new F.CustomError(o,this.survey):o,this.errors.push(p)}},i.prototype.removeError=function(o){var p=this.errors,A=p.indexOf(o);-1!==A&&p.splice(A,1)},i.prototype.checkForErrors=function(o){var p=new Array;return this.isVisible&&this.canCollectErrors()&&this.collectErrors(p,o),p},i.prototype.canCollectErrors=function(){return!this.isReadOnly},i.prototype.collectErrors=function(o,p){if(this.onCheckForErrors(o,p),!(o.length>0)&&this.canRunValidators(p)){var A=this.runValidators();if(A.length>0){o.length=0;for(var B=0;B<A.length;B++)o.push(A[B])}if(this.survey&&0==o.length){var O=this.fireSurveyValidation();O&&o.push(O)}}},i.prototype.canRunValidators=function(o){return!0},i.prototype.fireSurveyValidation=function(){return this.validateValueCallback?this.validateValueCallback():this.survey?this.survey.validateQuestion(this):null},i.prototype.onCheckForErrors=function(o,p){var A=this;if(!p&&this.hasRequiredError()){var B=new F.AnswerRequiredError(this.requiredErrorText,this);B.onUpdateErrorTextCallback=function(O){O.text=A.requiredErrorText},o.push(B)}},i.prototype.hasRequiredError=function(){return this.isRequired&&this.isEmpty()},Object.defineProperty(i.prototype,"isRunningValidators",{get:function(){return this.getIsRunningValidators()},enumerable:!1,configurable:!0}),i.prototype.getIsRunningValidators=function(){return this.isRunningValidatorsValue},i.prototype.runValidators=function(){var o=this;return this.validatorRunner&&(this.validatorRunner.onAsyncCompleted=null),this.validatorRunner=new S.ValidatorRunner,this.isRunningValidatorsValue=!0,this.validatorRunner.onAsyncCompleted=function(p){o.doOnAsyncCompleted(p)},this.validatorRunner.run(this)},i.prototype.doOnAsyncCompleted=function(o){for(var p=0;p<o.length;p++)this.errors.push(o[p]);this.isRunningValidatorsValue=!1,this.raiseOnCompletedAsyncValidators()},i.prototype.raiseOnCompletedAsyncValidators=function(){this.onCompletedAsyncValidators&&!this.isRunningValidators&&(this.onCompletedAsyncValidators(this.getAllErrors().length>0),this.onCompletedAsyncValidators=null)},i.prototype.setNewValue=function(o){if(!this.isNewValueEqualsToValue(o)){var p=this.isAnswered;this.setNewValueInData(o),this.allowNotifyValueChanged&&this.onValueChanged(),this.isAnswered!=p&&this.updateQuestionCss()}},i.prototype.isNewValueEqualsToValue=function(o){var p=this.value;return!(!this.isTwoValueEquals(o,p)||o===p&&p&&(Array.isArray(p)||"object"==typeof p))},i.prototype.isTextValue=function(){return!1},Object.defineProperty(i.prototype,"isSurveyInputTextUpdate",{get:function(){return!!this.survey&&this.survey.isUpdateValueTextOnTyping},enumerable:!1,configurable:!0}),i.prototype.getDataLocNotification=function(){return!!this.isInputTextUpdate&&"text"},Object.defineProperty(i.prototype,"isInputTextUpdate",{get:function(){return this.isSurveyInputTextUpdate&&this.isTextValue()},enumerable:!1,configurable:!0}),i.prototype.setNewValueInData=function(o){o=this.valueToData(o),this.isValueChangedInSurvey||this.setValueCore(o)},i.prototype.getValueCore=function(){return this.questionValue},i.prototype.setValueCore=function(o){this.setQuestionValue(o),null!=this.data&&this.canSetValueToSurvey()&&(o=this.valueForSurvey,this.data.setValue(this.getValueName(),o,this.getDataLocNotification(),this.allowNotifyValueChanged)),this.isMouseDown=!1},i.prototype.canSetValueToSurvey=function(){return!0},i.prototype.valueFromData=function(o){return o},i.prototype.valueToData=function(o){return o},i.prototype.onValueChanged=function(){},i.prototype.onMouseDown=function(){this.isMouseDown=!0},i.prototype.setNewComment=function(o){this.questionComment!==o&&(this.questionComment=o,null!=this.data&&this.data.setComment(this.getValueName(),o,!!this.isSurveyInputTextUpdate&&"text"))},i.prototype.getValidName=function(o){return l(o)},i.prototype.updateValueFromSurvey=function(o){o=this.getUnbindValue(o),this.valueFromDataCallback&&(o=this.valueFromDataCallback(o)),this.setQuestionValue(this.valueFromData(o)),this.updateIsAnswered()},i.prototype.updateCommentFromSurvey=function(o){this.questionComment=o},i.prototype.onChangeQuestionValue=function(o){},i.prototype.setValueChangedDirectly=function(){this.isValueChangedDirectly=!0},i.prototype.setQuestionValue=function(o,p){void 0===p&&(p=!0);var A=this.isTwoValueEquals(this.questionValue,o);!A&&!this.isChangingViaDefaultValue&&this.setValueChangedDirectly(),this.questionValue=o,A||this.onChangeQuestionValue(o),!A&&this.allowNotifyValueChanged&&this.fireCallback(this.valueChangedCallback),p&&this.updateIsAnswered()},i.prototype.onSurveyValueChanged=function(o){},i.prototype.setVisibleIndex=function(o){return(!this.isVisible||!this.hasTitle&&!D.settings.numbering.includeQuestionsWithHiddenTitle||this.hideNumber&&!D.settings.numbering.includeQuestionsWithHiddenNumber)&&(o=-1),this.setPropertyValue("visibleIndex",o),this.setPropertyValue("no",this.calcNo()),o<0?0:1},i.prototype.removeElement=function(o){return!1},i.prototype.supportGoNextPageAutomatic=function(){return!1},i.prototype.supportGoNextPageError=function(){return!0},i.prototype.clearIncorrectValues=function(){},i.prototype.clearOnDeletingContainer=function(){},i.prototype.clearErrors=function(){this.errors=[]},i.prototype.clearUnusedValues=function(){},i.prototype.onAnyValueChanged=function(o){},i.prototype.checkBindings=function(o,p){if(!this.bindings.isEmpty()&&this.data)for(var A=this.bindings.getPropertiesByValueName(o),B=0;B<A.length;B++){var O=A[B];this.isValueEmpty(p)&&L.Helpers.isNumber(this[O])&&(p=0),this[O]=p}},i.prototype.getComponentName=function(){return P.RendererFactory.Instance.getRendererByQuestion(this)},i.prototype.isDefaultRendering=function(){return!!this.customWidget||"default"===this.renderAs||"default"===this.getComponentName()},i.prototype.getErrorCustomText=function(o,p){return this.survey?this.survey.getSurveyErrorCustomText(this,o,p):o},i.prototype.getValidatorTitle=function(){return null},Object.defineProperty(i.prototype,"validatedValue",{get:function(){return this.value},set:function(o){this.value=o},enumerable:!1,configurable:!0}),i.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},i.prototype.processPopupVisiblilityChanged=function(o,p){this.survey.processPopupVisiblityChanged(this,o,p)},i.prototype.transformToMobileView=function(){},i.prototype.transformToDesktopView=function(){},i.prototype.needResponsiveWidth=function(){return!1},i.prototype.supportResponsiveness=function(){return!1},i.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme&&!this.isDesignMode},i.prototype.checkForResponsiveness=function(o){var p=this;this.needResponsiveness()&&(this.isCollapsed?this.registerPropertyChangedHandlers(["state"],function(){p.isExpanded&&(p.initResponsiveness(o),p.unregisterPropertyChangedHandlers(["state"],"for-responsiveness"))},"for-responsiveness"):this.initResponsiveness(o))},i.prototype.getObservedElementSelector=function(){return".sd-scrollable-container"},i.prototype.onMobileChanged=function(){this.onMobileChangedCallback&&this.onMobileChangedCallback()},i.prototype.triggerResponsiveness=function(o){void 0===o&&(o=!0),this.triggerResponsivenessCallback&&this.triggerResponsivenessCallback(o)},i.prototype.initResponsiveness=function(o){var p=this;if(this.destroyResizeObserver(),o&&this.isDefaultRendering()){var A=this.getObservedElementSelector();if(!A)return;if(!o.querySelector(A))return;var O=!1,f=void 0;this.triggerResponsivenessCallback=function(b){b&&(f=void 0,p.renderAs="default",O=!1);var C=function(){var c=o.querySelector(A);!f&&p.isDefaultRendering()&&(f=c.scrollWidth),O=!(O||!Object(v.isContainerVisible)(c))&&p.processResponsiveness(f,Object(v.getElementWidth)(c))};b?setTimeout(C,1):C()},this.resizeObserver=new ResizeObserver(function(){p.triggerResponsiveness(!1)}),this.onMobileChangedCallback=function(){setTimeout(function(){var b=o.querySelector(A);p.processResponsiveness(f,Object(v.getElementWidth)(b))},0)},this.resizeObserver.observe(o)}},i.prototype.getCompactRenderAs=function(){return"default"},i.prototype.getDesktopRenderAs=function(){return"default"},i.prototype.processResponsiveness=function(o,p){if(p=Math.round(p),Math.abs(o-p)>2){var A=this.renderAs;return this.renderAs=o>p?this.getCompactRenderAs():this.getDesktopRenderAs(),A!==this.renderAs}return!1},i.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0,this.onMobileChangedCallback=void 0,this.triggerResponsivenessCallback=void 0,this.renderAs=this.getDesktopRenderAs())},i.prototype.dispose=function(){a.prototype.dispose.call(this),this.destroyResizeObserver()},i.TextPreprocessorValuesMap={title:"processedTitle",require:"requiredText"},i.questionCounter=100,g([Object(K.property)({defaultValue:!1,onSet:function(o,p){p.setIsMobile(o)}})],i.prototype,"isMobile",void 0),g([Object(K.property)()],i.prototype,"forceIsInputReadOnly",void 0),g([Object(K.property)({localizable:!0})],i.prototype,"commentPlaceholder",void 0),g([Object(K.property)()],i.prototype,"renderAs",void 0),g([Object(K.property)({defaultValue:!1})],i.prototype,"inMatrixMode",void 0),i}(j.SurveyElement);function l(a){if(!a)return a;for(a=a.trim().replace(/[\{\}]+/g,"");a&&a[0]===D.settings.expressionDisableConversionChar;)a=a.substring(1);return a}K.Serializer.addClass("question",[{name:"!name",onSettingValue:function(a,i){return l(i)}},{name:"state",default:"default",choices:["default","collapsed","expanded"]},{name:"visible:switch",default:!0,overridingProperty:"visibleIf"},{name:"useDisplayValuesInDynamicTexts:boolean",alternativeName:"useDisplayValuesInTitle",default:!0,layout:"row"},"visibleIf:condition",{name:"width"},{name:"minWidth",defaultFunc:function(){return D.settings.minWidth}},{name:"maxWidth",defaultFunc:function(){return D.settings.maxWidth}},{name:"startWithNewLine:boolean",default:!0,layout:"row"},{name:"indent:number",default:0,choices:[0,1,2,3],layout:"row"},{name:"page",isSerializable:!1,visibleIf:function(a){var i=a?a.survey:null;return!i||!i.pages||i.pages.length>1},choices:function(a){var i=a?a.survey:null;return i?i.pages.map(function(o){return{value:o.name,text:o.title}}):[]}},{name:"title:text",serializationProperty:"locTitle",layout:"row",dependsOn:"name",onPropertyEditorUpdate:function(a,i){a&&i&&(i.placeholder=a.name)}},{name:"titleLocation",default:"default",choices:["default","top","bottom","left","hidden"],layout:"row"},{name:"description:text",serializationProperty:"locDescription",layout:"row"},{name:"descriptionLocation",default:"default",choices:["default","underInput","underTitle"]},{name:"hideNumber:boolean",dependsOn:"titleLocation",visibleIf:function(a){if(!a)return!0;if("hidden"===a.titleLocation)return!1;var i=a?a.parent:null;if(i&&"off"===i.showQuestionNumbers)return!1;var p=a?a.survey:null;return!p||"off"!==p.showQuestionNumbers||!!i&&"onpanel"===i.showQuestionNumbers}},{name:"valueName",onSettingValue:function(a,i){return l(i)}},"enableIf:condition","defaultValue:value",{name:"defaultValueExpression:expression",category:"logic"},"correctAnswer:value",{name:"clearIfInvisible",default:"default",choices:["default","none","onComplete","onHidden","onHiddenContainer"]},{name:"isRequired:switch",overridingProperty:"requiredIf"},"requiredIf:condition",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"readOnly:switch",overridingProperty:"enableIf"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"bindings:bindings",serializationProperty:"bindings",visibleIf:function(a){return a.bindings.getNames().length>0}},{name:"renderAs",default:"default",visible:!1},{name:"showCommentArea",visible:!1,default:!1,alternativeName:"hasComment",category:"general"},{name:"commentText",dependsOn:"showCommentArea",visibleIf:function(a){return a.showCommentArea},serializationProperty:"locCommentText",layout:"row"},{name:"commentPlaceholder",alternativeName:"commentPlaceHolder",serializationProperty:"locCommentPlaceholder",dependsOn:"showCommentArea",visibleIf:function(a){return a.hasComment}}]),K.Serializer.addAlterNativeClassName("question","questionbase")},"./src/questionCustomWidgets.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionCustomWidget",function(){return K}),m.d(V,"CustomWidgetCollection",function(){return j});var L=m("./src/base.ts"),K=function(){function F(S,w){this.name=S,this.widgetJson=w,this.htmlTemplate=w.htmlTemplate?w.htmlTemplate:""}return F.prototype.afterRender=function(S,w){var M=this;!this.widgetJson.afterRender||(S.localeChangedCallback=function(){M.widgetJson.willUnmount&&M.widgetJson.willUnmount(S,w),M.widgetJson.afterRender(S,w)},this.widgetJson.afterRender(S,w))},F.prototype.willUnmount=function(S,w){this.widgetJson.willUnmount&&this.widgetJson.willUnmount(S,w)},F.prototype.getDisplayValue=function(S,w){return void 0===w&&(w=void 0),this.widgetJson.getDisplayValue?this.widgetJson.getDisplayValue(S,w):null},F.prototype.isFit=function(S){return!(!this.isLibraryLoaded()||!this.widgetJson.isFit)&&this.widgetJson.isFit(S)},Object.defineProperty(F.prototype,"canShowInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox&&"customtype"==j.Instance.getActivatedBy(this.name)&&(!this.widgetJson.widgetIsLoaded||this.widgetJson.widgetIsLoaded())},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"showInToolbox",{get:function(){return!1!==this.widgetJson.showInToolbox},set:function(S){this.widgetJson.showInToolbox=S},enumerable:!1,configurable:!0}),F.prototype.init=function(){this.widgetJson.init&&this.widgetJson.init()},F.prototype.activatedByChanged=function(S){this.isLibraryLoaded()&&this.widgetJson.activatedByChanged&&this.widgetJson.activatedByChanged(S)},F.prototype.isLibraryLoaded=function(){return!this.widgetJson.widgetIsLoaded||1==this.widgetJson.widgetIsLoaded()},Object.defineProperty(F.prototype,"isDefaultRender",{get:function(){return this.widgetJson.isDefaultRender},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"pdfQuestionType",{get:function(){return this.widgetJson.pdfQuestionType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"pdfRender",{get:function(){return this.widgetJson.pdfRender},enumerable:!1,configurable:!0}),F}(),j=function(){function F(){this.widgetsValues=[],this.widgetsActivatedBy={},this.onCustomWidgetAdded=new L.Event}return Object.defineProperty(F.prototype,"widgets",{get:function(){return this.widgetsValues},enumerable:!1,configurable:!0}),F.prototype.add=function(S,w){void 0===w&&(w="property"),this.addCustomWidget(S,w)},F.prototype.addCustomWidget=function(S,w){void 0===w&&(w="property");var M=S.name;M||(M="widget_"+this.widgets.length+1);var h=new K(M,S);return this.widgetsValues.push(h),h.init(),this.widgetsActivatedBy[M]=w,h.activatedByChanged(w),this.onCustomWidgetAdded.fire(h,null),h},F.prototype.getActivatedBy=function(S){return this.widgetsActivatedBy[S]||"property"},F.prototype.setActivatedBy=function(S,w){if(S&&w){var M=this.getCustomWidgetByName(S);!M||(this.widgetsActivatedBy[S]=w,M.activatedByChanged(w))}},F.prototype.clear=function(){this.widgetsValues=[]},F.prototype.getCustomWidgetByName=function(S){for(var w=0;w<this.widgets.length;w++)if(this.widgets[w].name==S)return this.widgets[w];return null},F.prototype.getCustomWidget=function(S){for(var w=0;w<this.widgetsValues.length;w++)if(this.widgetsValues[w].isFit(S))return this.widgetsValues[w];return null},F.Instance=new F,F}()},"./src/question_baseselect.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionSelectBase",function(){return u}),m.d(V,"QuestionCheckboxBase",function(){return l});var a,L=m("./src/jsonobject.ts"),K=m("./src/survey.ts"),j=m("./src/question.ts"),F=m("./src/itemvalue.ts"),S=m("./src/surveyStrings.ts"),w=m("./src/error.ts"),M=m("./src/choicesRestful.ts"),h=m("./src/conditions.ts"),D=m("./src/helpers.ts"),P=m("./src/settings.ts"),y=m("./src/utils/cssClassBuilder.ts"),v=m("./src/utils/utils.ts"),E=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),g=function(a,i,o,p){var O,A=arguments.length,B=A<3?i:null===p?p=Object.getOwnPropertyDescriptor(i,o):p;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)B=Reflect.decorate(a,i,o,p);else for(var f=a.length-1;f>=0;f--)(O=a[f])&&(B=(A<3?O(B):A>3?O(i,o,B):O(i,o))||B);return A>3&&B&&Object.defineProperty(i,o,B),B},u=function(a){function i(o){var p=a.call(this,o)||this;p.otherItemValue=new F.ItemValue("other"),p.dependedQuestions=[],p.noneItemValue=new F.ItemValue(P.settings.noneItemValue),p.isSettingDefaultValue=!1,p.isSettingComment=!1,p.isRunningChoices=!1,p.isFirstLoadChoicesFromUrl=!0,p.isUpdatingChoicesDependedQuestions=!1,p.prevIsOtherSelected=!1;var A=p.createLocalizableString("noneText",p.noneItemValue,!0,"noneItemText");p.noneItemValue.locOwner=p,p.noneItemValue.setLocText(A),p.createItemValues("choices"),p.registerPropertyChangedHandlers(["choices"],function(){p.filterItems()||p.onVisibleChoicesChanged()}),p.registerPropertyChangedHandlers(["choicesFromQuestion","choicesFromQuestionMode","showNoneItem"],function(){p.onVisibleChoicesChanged()}),p.registerPropertyChangedHandlers(["hideIfChoicesEmpty"],function(){p.onVisibleChanged()}),p.createNewArray("visibleChoices"),p.setNewRestfulProperty();var B=p.createLocalizableString("otherText",p.otherItemValue,!0,"otherItemText");return p.createLocalizableString("otherErrorText",p,!0,"otherRequiredError"),p.otherItemValue.locOwner=p,p.otherItemValue.setLocText(B),p.choicesByUrl.createItemValue=function(O){return p.createItemValue(O)},p.choicesByUrl.beforeSendRequestCallback=function(){p.onBeforeSendRequest()},p.choicesByUrl.getResultCallback=function(O){p.onLoadChoicesFromUrl(O)},p.choicesByUrl.updateResultCallback=function(O,f){return p.survey?p.survey.updateChoicesFromServer(p,O,f):O},p}return E(i,a),Object.defineProperty(i.prototype,"waitingChoicesByURL",{get:function(){return!this.isChoicesLoaded&&!this.choicesByUrl.isEmpty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"waitingAcyncOperations",{get:function(){return this.waitingChoicesByURL||this.waitingGetChoiceDisplayValueResponse},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return"selectbase"},i.prototype.dispose=function(){a.prototype.dispose.call(this);for(var o=0;o<this.dependedQuestions.length;o++)this.dependedQuestions[o].choicesFromQuestion="";this.removeFromDependedQuestion(this.getQuestionWithChoices())},Object.defineProperty(i.prototype,"otherId",{get:function(){return this.id+"_other"},enumerable:!1,configurable:!0}),i.prototype.getCommentElementsId=function(){return[this.commentId,this.otherId]},i.prototype.getItemValueType=function(){return"itemvalue"},i.prototype.createItemValue=function(o,p){var A=L.Serializer.createClass(this.getItemValueType(),o);return A.locOwner=this,p&&(A.text=p),A},Object.defineProperty(i.prototype,"isUsingCarryForward",{get:function(){return this.getPropertyValue("isUsingCarrayForward",!1)},enumerable:!1,configurable:!0}),i.prototype.setIsUsingCarrayForward=function(o){this.setPropertyValue("isUsingCarrayForward",o)},i.prototype.supportGoNextPageError=function(){return!this.isOtherSelected||!!this.otherValue},i.prototype.isLayoutTypeSupported=function(o){return!0},i.prototype.localeChanged=function(){a.prototype.localeChanged.call(this),"none"!==this.choicesOrder&&this.updateVisibleChoices()},i.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this),this.choicesFromUrl&&(F.ItemValue.locStrsChanged(this.choicesFromUrl),F.ItemValue.locStrsChanged(this.visibleChoices))},Object.defineProperty(i.prototype,"otherValue",{get:function(){return this.showCommentArea?this.otherValueCore:this.comment},set:function(o){this.showCommentArea?this.setOtherValueInternally(o):this.comment=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"otherValueCore",{get:function(){return this.getPropertyValue("otherValue")},set:function(o){this.setPropertyValue("otherValue",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"otherItem",{get:function(){return this.otherItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isOtherSelected",{get:function(){return this.hasOther&&this.getHasOther(this.renderedValue)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isNoneSelected",{get:function(){return this.hasNone&&this.getIsItemValue(this.renderedValue,this.noneItem)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"showNoneItem",{get:function(){return this.getPropertyValue("showNoneItem")},set:function(o){this.setPropertyValue("showNoneItem",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasNone",{get:function(){return this.showNoneItem},set:function(o){this.showNoneItem=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"noneItem",{get:function(){return this.noneItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"noneText",{get:function(){return this.getLocalizableStringText("noneText")},set:function(o){this.setLocalizableStringText("noneText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locNoneText",{get:function(){return this.getLocalizableString("noneText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choicesVisibleIf",{get:function(){return this.getPropertyValue("choicesVisibleIf","")},set:function(o){this.setPropertyValue("choicesVisibleIf",o),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choicesEnableIf",{get:function(){return this.getPropertyValue("choicesEnableIf","")},set:function(o){this.setPropertyValue("choicesEnableIf",o),this.filterItems()},enumerable:!1,configurable:!0}),i.prototype.surveyChoiceItemVisibilityChange=function(){this.filterItems()},i.prototype.runCondition=function(o,p){a.prototype.runCondition.call(this,o,p),!this.isUsingCarryForward&&(this.runItemsEnableCondition(o,p),this.runItemsCondition(o,p))},i.prototype.isTextValue=function(){return!0},i.prototype.setDefaultValue=function(){this.isSettingDefaultValue=!this.isValueEmpty(this.defaultValue)&&this.hasUnknownValue(this.defaultValue),this.prevOtherValue=void 0,a.prototype.setDefaultValue.call(this),this.isSettingDefaultValue=!1},i.prototype.getIsMultipleValue=function(){return!1},i.prototype.convertDefaultValue=function(o){if(null==o||null==o)return o;if(this.getIsMultipleValue()){if(!Array.isArray(o))return[o]}else if(Array.isArray(o)&&o.length>0)return o[0];return o},i.prototype.filterItems=function(){if(this.isLoadingFromJson||!this.data||this.areInvisibleElementsShowing)return!1;var o=this.getDataFilteredValues(),p=this.getDataFilteredProperties();return this.runItemsEnableCondition(o,p),this.runItemsCondition(o,p)},i.prototype.runItemsCondition=function(o,p){this.setConditionalChoicesRunner();var A=this.runConditionsForItems(o,p);return!!this.filteredChoicesValue&&this.filteredChoicesValue.length===this.activeChoices.length&&(this.filteredChoicesValue=void 0),A&&(this.onVisibleChoicesChanged(),this.clearIncorrectValues()),A},i.prototype.runItemsEnableCondition=function(o,p){var A=this;this.setConditionalEnableChoicesRunner(),F.ItemValue.runEnabledConditionsForItems(this.activeChoices,this.conditionChoicesEnableIfRunner,o,p,function(O,f){return f&&A.onEnableItemCallBack(O)})&&this.clearDisabledValues(),this.onAfterRunItemsEnableCondition()},i.prototype.onAfterRunItemsEnableCondition=function(){},i.prototype.onEnableItemCallBack=function(o){return!0},i.prototype.onSelectedItemValuesChangedHandler=function(o){var p;null===(p=this.survey)||void 0===p||p.loadedChoicesFromServer(this)},i.prototype.getItemIfChoicesNotContainThisValue=function(o,p){return this.waitingChoicesByURL?this.createItemValue(o,p):null},i.prototype.getSingleSelectedItem=function(){var o=this.selectedItemValues;if(this.isEmpty())return null;var p=F.ItemValue.getItemByValue(this.visibleChoices,this.value);return this.onGetSingleSelectedItem(p),!p&&(!o||this.value!=o.id)&&this.updateSelectedItemValues(),p||o||(this.isOtherSelected?this.otherItem:this.getItemIfChoicesNotContainThisValue(this.value))},i.prototype.onGetSingleSelectedItem=function(o){},i.prototype.getMultipleSelectedItems=function(){return[]},i.prototype.setConditionalChoicesRunner=function(){this.choicesVisibleIf?(this.conditionChoicesVisibleIfRunner||(this.conditionChoicesVisibleIfRunner=new h.ConditionRunner(this.choicesVisibleIf)),this.conditionChoicesVisibleIfRunner.expression=this.choicesVisibleIf):this.conditionChoicesVisibleIfRunner=null},i.prototype.setConditionalEnableChoicesRunner=function(){this.choicesEnableIf?(this.conditionChoicesEnableIfRunner||(this.conditionChoicesEnableIfRunner=new h.ConditionRunner(this.choicesEnableIf)),this.conditionChoicesEnableIfRunner.expression=this.choicesEnableIf):this.conditionChoicesEnableIfRunner=null},i.prototype.canSurveyChangeItemVisibility=function(){return!!this.survey&&this.survey.canChangeChoiceItemsVisibility()},i.prototype.changeItemVisisbility=function(){var o=this;return this.canSurveyChangeItemVisibility()?function(p,A){return o.survey.getChoiceItemVisibility(o,p,A)}:null},i.prototype.runConditionsForItems=function(o,p){this.filteredChoicesValue=[];var A=this.changeItemVisisbility();return F.ItemValue.runConditionsForItems(this.activeChoices,this.getFilteredChoices(),this.areInvisibleElementsShowing?null:this.conditionChoicesVisibleIfRunner,o,p,!this.survey||!this.survey.areInvisibleElementsShowing,function(B,O){return A?A(B,O):O})},i.prototype.getHasOther=function(o){return this.getIsItemValue(o,this.otherItem)},i.prototype.getIsItemValue=function(o,p){return o===p.value},Object.defineProperty(i.prototype,"validatedValue",{get:function(){return this.rendredValueToDataCore(this.value)},enumerable:!1,configurable:!0}),i.prototype.createRestful=function(){return new M.ChoicesRestful},i.prototype.setNewRestfulProperty=function(){this.setPropertyValue("choicesByUrl",this.createRestful()),this.choicesByUrl.owner=this,this.choicesByUrl.loadingOwner=this},Object.defineProperty(i.prototype,"autoOtherMode",{get:function(){return this.getPropertyValue("autoOtherMode")},set:function(o){this.setPropertyValue("autoOtherMode",o)},enumerable:!1,configurable:!0}),i.prototype.getQuestionComment=function(){return this.showCommentArea?a.prototype.getQuestionComment.call(this):this.otherValueCore?this.otherValueCore:this.hasComment||this.getStoreOthersAsComment()?a.prototype.getQuestionComment.call(this):this.otherValueCore},i.prototype.selectOtherValueFromComment=function(o){this.value=o?this.otherItem.value:void 0},i.prototype.setQuestionComment=function(o){this.showCommentArea?a.prototype.setQuestionComment.call(this,o):(this.onUpdateCommentOnAutoOtherMode(o),this.getStoreOthersAsComment()?a.prototype.setQuestionComment.call(this,o):this.setOtherValueInternally(o),this.updateChoicesDependedQuestions())},i.prototype.onUpdateCommentOnAutoOtherMode=function(o){if(this.autoOtherMode){this.prevOtherValue=void 0;var p=this.isOtherSelected;(!p&&o||p&&!o)&&this.selectOtherValueFromComment(!!o)}},i.prototype.setOtherValueInternally=function(o){!this.isSettingComment&&o!=this.otherValueCore&&(this.isSettingComment=!0,this.otherValueCore=o,this.isOtherSelected&&!this.isRenderedValueSetting&&(this.value=this.rendredValueToData(this.renderedValue)),this.isSettingComment=!1)},i.prototype.clearValue=function(){a.prototype.clearValue.call(this),this.prevOtherValue=void 0},i.prototype.updateCommentFromSurvey=function(o){a.prototype.updateCommentFromSurvey.call(this,o),this.prevOtherValue=void 0},Object.defineProperty(i.prototype,"renderedValue",{get:function(){return this.getPropertyValue("renderedValue",null)},set:function(p){this.setPropertyValue("renderedValue",p),p=this.rendredValueToData(p),this.isTwoValueEquals(p,this.value)||(this.value=p)},enumerable:!1,configurable:!0}),i.prototype.setQuestionValue=function(o,p,A){if(void 0===p&&(p=!0),void 0===A&&(A=!0),!this.isLoadingFromJson&&!this.isTwoValueEquals(this.value,o)&&(a.prototype.setQuestionValue.call(this,o,p),this.setPropertyValue("renderedValue",this.rendredValueFromData(o)),this.updateChoicesDependedQuestions(),!this.hasComment&&A)){var B=this.isOtherSelected;if(B&&this.prevOtherValue){var O=this.prevOtherValue;this.prevOtherValue=void 0,this.otherValue=O}!B&&this.otherValue&&(this.getStoreOthersAsComment()&&!this.autoOtherMode&&(this.prevOtherValue=this.otherValue),this.otherValue="")}},i.prototype.setNewValue=function(o){o=this.valueFromData(o),(!this.choicesByUrl.isRunning&&!this.choicesByUrl.isWaitingForParameters||!this.isValueEmpty(o))&&(this.cachedValueForUrlRequests=o),a.prototype.setNewValue.call(this,o)},i.prototype.valueFromData=function(o){var p=F.ItemValue.getItemByValue(this.activeChoices,o);return p?p.value:a.prototype.valueFromData.call(this,o)},i.prototype.rendredValueFromData=function(o){return this.getStoreOthersAsComment()?o:this.renderedValueFromDataCore(o)},i.prototype.rendredValueToData=function(o){return this.getStoreOthersAsComment()?o:this.rendredValueToDataCore(o)},i.prototype.renderedValueFromDataCore=function(o){return this.hasUnknownValue(o,!0,!1)?(this.otherValue=o,this.otherItem.value):this.valueFromData(o)},i.prototype.rendredValueToDataCore=function(o){return o==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()&&(o=this.otherValue),o},i.prototype.needConvertRenderedOtherToDataValue=function(){var o=this.otherValue;return!(!o||(o=o.trim(),!o))&&this.hasUnknownValue(o,!0,!1)},i.prototype.updateSelectedItemValues=function(){this.waitingGetChoiceDisplayValueResponse||(this.getIsMultipleValue()?this.updateMultipleSelectedItemValues():this.updateSingleSelectedItemValues())},i.prototype.updateSingleSelectedItemValues=function(){var o=this;this.survey&&!this.isEmpty()&&!F.ItemValue.getItemByValue(this.choices,this.value)&&(this.waitingGetChoiceDisplayValueResponse=!0,this.isReady=!this.waitingAcyncOperations,this.survey.getChoiceDisplayValue({question:this,values:[this.value],setItems:function(p){o.waitingGetChoiceDisplayValueResponse=!1,p&&p.length&&(o.selectedItemValues=o.createItemValue(o.value,p[0]),o.isReady=!o.waitingAcyncOperations)}}))},i.prototype.updateMultipleSelectedItemValues=function(){var o=this,p=this.value,A=p.some(function(B){return!F.ItemValue.getItemByValue(o.choices,B)});this.survey&&!this.isEmpty()&&A&&(this.waitingGetChoiceDisplayValueResponse=!0,this.isReady=this.waitingAcyncOperations,this.survey.getChoiceDisplayValue({question:this,values:p,setItems:function(B){o.waitingGetChoiceDisplayValueResponse=!1,B&&B.length&&(o.selectedItemValues=B.map(function(O,f){return o.createItemValue(o.value[f],O)}),o.isReady=!o.waitingAcyncOperations)}}))},i.prototype.hasUnknownValue=function(o,p,A,B){if(void 0===p&&(p=!1),void 0===A&&(A=!0),void 0===B&&(B=!1),!B&&this.isValueEmpty(o)||p&&o==this.otherItem.value||this.hasNone&&o==this.noneItem.value)return!1;var O=A?this.getFilteredChoices():this.activeChoices;return null==F.ItemValue.getItemByValue(O,o)},i.prototype.isValueDisabled=function(o){var p=F.ItemValue.getItemByValue(this.getFilteredChoices(),o);return!!p&&!p.isEnabled},Object.defineProperty(i.prototype,"choicesByUrl",{get:function(){return this.getPropertyValue("choicesByUrl")},set:function(o){!o||(this.setNewRestfulProperty(),this.choicesByUrl.fromJSON(o.toJSON()))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(o){this.setPropertyValue("choices",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"choicesFromQuestion",{get:function(){return this.getPropertyValue("choicesFromQuestion")},set:function(o){var p=this.getQuestionWithChoices();this.isLockVisibleChoices=!!p&&p.name===o,!!p&&p.name!==o&&p.removeFromDependedQuestion(this),this.setPropertyValue("choicesFromQuestion",o),this.isLockVisibleChoices=!1},enumerable:!1,configurable:!0}),i.prototype.addIntoDependedQuestion=function(o){!o||o.dependedQuestions.indexOf(this)>-1||o.dependedQuestions.push(this)},i.prototype.removeFromDependedQuestion=function(o){if(o){var p=o.dependedQuestions.indexOf(this);p>-1&&o.dependedQuestions.splice(p,1)}},Object.defineProperty(i.prototype,"choicesFromQuestionMode",{get:function(){return this.getPropertyValue("choicesFromQuestionMode")},set:function(o){this.setPropertyValue("choicesFromQuestionMode",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hideIfChoicesEmpty",{get:function(){return this.getPropertyValue("hideIfChoicesEmpty")},set:function(o){this.setPropertyValue("hideIfChoicesEmpty",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues",!1)},set:function(o){this.setPropertyValue("keepIncorrectValues",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(o){this.setPropertyValue("storeOthersAsComment",o)},enumerable:!1,configurable:!0}),i.prototype.hasOtherChanged=function(){this.onVisibleChoicesChanged()},Object.defineProperty(i.prototype,"choicesOrder",{get:function(){return this.getPropertyValue("choicesOrder")},set:function(o){(o=o.toLowerCase())!=this.choicesOrder&&(this.setPropertyValue("choicesOrder",o),this.onVisibleChoicesChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"otherText",{get:function(){return this.getLocalizableStringText("otherText")},set:function(o){this.setLocalizableStringText("otherText",o),this.onVisibleChoicesChanged()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locOtherText",{get:function(){return this.getLocalizableString("otherText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"otherPlaceHolder",{get:function(){return this.otherPlaceholder},set:function(o){this.otherPlaceholder=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"otherErrorText",{get:function(){return this.getLocalizableStringText("otherErrorText")},set:function(o){this.setLocalizableStringText("otherErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locOtherErrorText",{get:function(){return this.getLocalizableString("otherErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"visibleChoices",{get:function(){return this.getPropertyValue("visibleChoices")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"enabledChoices",{get:function(){for(var o=[],p=this.visibleChoices,A=0;A<p.length;A++)p[A].isEnabled&&o.push(p[A]);return o},enumerable:!1,configurable:!0}),i.prototype.updateVisibleChoices=function(){if(!this.isLoadingFromJson){var o=new Array,p=this.calcVisibleChoices();p||(p=[]);for(var A=0;A<p.length;A++)o.push(p[A]);this.setPropertyValue("visibleChoices",o)}},i.prototype.calcVisibleChoices=function(){if(this.canUseFilteredChoices())return this.getFilteredChoices();var o=this.sortVisibleChoices(this.getFilteredChoices().slice());return this.addToVisibleChoices(o,this.isAddDefaultItems),o},i.prototype.canUseFilteredChoices=function(){return!this.isAddDefaultItems&&!this.hasNone&&!this.hasOther&&"none"==this.choicesOrder},i.prototype.setCanShowOptionItemCallback=function(o){this.canShowOptionItemCallback=o,o&&this.onVisibleChoicesChanged()},Object.defineProperty(i.prototype,"newItem",{get:function(){return this.newItemValue},enumerable:!1,configurable:!0}),i.prototype.addToVisibleChoices=function(o,p){p&&(this.newItemValue||(this.newItemValue=this.createItemValue("newitem"),this.newItemValue.isGhost=!0),!this.isUsingCarryForward&&this.canShowOptionItem(this.newItemValue,p,!1)&&o.push(this.newItemValue)),this.supportNone()&&this.canShowOptionItem(this.noneItem,p,this.hasNone)&&o.push(this.noneItem),this.supportOther()&&this.canShowOptionItem(this.otherItem,p,this.hasOther)&&o.push(this.otherItem)},i.prototype.canShowOptionItem=function(o,p,A){var B=p&&(!this.canShowOptionItemCallback||this.canShowOptionItemCallback(o))||A;return this.canSurveyChangeItemVisibility()?this.changeItemVisisbility()(o,B):B},i.prototype.isItemInList=function(o){return o===this.otherItem?this.hasOther:o===this.noneItem?this.hasNone:o!==this.newItemValue},Object.defineProperty(i.prototype,"isAddDefaultItems",{get:function(){return P.settings.supportCreatorV2&&P.settings.showDefaultItemsInCreatorV2&&this.isDesignMode&&!this.customWidget&&!this.isContentElement},enumerable:!1,configurable:!0}),i.prototype.getPlainData=function(o){var p=this;void 0===o&&(o={includeEmpty:!0,includeQuestionTypes:!1});var A=a.prototype.getPlainData.call(this,o);if(A){var B=Array.isArray(this.value)?this.value:[this.value];A.isNode=!0,A.data=(A.data||[]).concat(B.map(function(O,f){var b=F.ItemValue.getItemByValue(p.visibleChoices,O),C={name:f,title:"Choice",value:O,displayValue:p.getChoicesDisplayValue(p.visibleChoices,O),getString:function(c){return"object"==typeof c?JSON.stringify(c):c},isNode:!1};return b&&(o.calculations||[]).forEach(function(c){C[c.propertyName]=b[c.propertyName]}),p.isOtherSelected&&p.otherItemValue===b&&(C.isOther=!0,C.displayValue=p.otherValue),C}))}return A},i.prototype.getDisplayValueCore=function(o,p){return this.getChoicesDisplayValue(this.visibleChoices,p)},i.prototype.getDisplayValueEmpty=function(){return F.ItemValue.getTextOrHtmlByValue(this.visibleChoices,void 0)},i.prototype.getChoicesDisplayValue=function(o,p){if(p==this.otherItemValue.value)return this.otherValue?this.otherValue:this.locOtherText.textOrHtml;var A=this.getSingleSelectedItem();if(A&&this.isTwoValueEquals(A.value,p))return A.locText.textOrHtml;var B=F.ItemValue.getTextOrHtmlByValue(o,p);return""==B&&p?p:B},i.prototype.getDisplayArrayValue=function(o,p,A){for(var B=this,O=this.visibleChoices,f=[],b=[],C=0;C<p.length;C++)b.push(A?A(C):p[C]);if(D.Helpers.isTwoValueEquals(this.value,b)&&this.getMultipleSelectedItems().forEach(function(T){return f.push(B.getItemDisplayValue(T))}),0===f.length)for(C=0;C<b.length;C++){var c=this.getChoicesDisplayValue(O,b[C]);c&&f.push(c)}return f.join(", ")},i.prototype.getItemDisplayValue=function(o){return o===this.otherItem&&this.comment?this.comment:o.locText.textOrHtml},i.prototype.getFilteredChoices=function(){return this.filteredChoicesValue?this.filteredChoicesValue:this.activeChoices},Object.defineProperty(i.prototype,"activeChoices",{get:function(){var o=this.getQuestionWithChoices();return this.setIsUsingCarrayForward(!!o),this.isUsingCarryForward?(this.addIntoDependedQuestion(o),this.getChoicesFromQuestion(o)):this.choicesFromUrl?this.choicesFromUrl:this.getChoices()},enumerable:!1,configurable:!0}),i.prototype.getQuestionWithChoices=function(){if(!this.choicesFromQuestion||!this.data)return null;var o=this.data.findQuestionByName(this.choicesFromQuestion);return o&&o.visibleChoices&&Array.isArray(o.dependedQuestions)&&o!==this?o:null},i.prototype.getChoicesFromQuestion=function(o){if(this.isDesignMode)return[];for(var p=[],A="selected"==this.choicesFromQuestionMode||"unselected"!=this.choicesFromQuestionMode&&void 0,B=o.visibleChoices,O=0;O<B.length;O++)if(!this.isBuiltInChoice(B[O],o)){if(void 0===A){p.push(this.copyChoiceItem(B[O]));continue}var f=o.isItemSelected(B[O]);(f&&A||!f&&!A)&&p.push(this.copyChoiceItem(B[O]))}return"selected"===this.choicesFromQuestionMode&&o.isOtherSelected&&!!o.comment&&p.push(this.createItemValue(o.otherItem.value,o.comment)),p},i.prototype.copyChoiceItem=function(o){var p=this.createItemValue(o.value);return p.setData(o),p},Object.defineProperty(i.prototype,"hasActiveChoices",{get:function(){var o=this.visibleChoices;(!o||0==o.length)&&(this.onVisibleChoicesChanged(),o=this.visibleChoices);for(var p=0;p<o.length;p++)if(!this.isBuiltInChoice(o[p],this))return!0;return!1},enumerable:!1,configurable:!0}),i.prototype.isHeadChoice=function(o,p){return!1},i.prototype.isFootChoice=function(o,p){return o===p.noneItem||o===p.otherItem||o===p.newItemValue},i.prototype.isBuiltInChoice=function(o,p){return this.isHeadChoice(o,p)||this.isFootChoice(o,p)},i.prototype.getChoices=function(){return this.choices},i.prototype.supportOther=function(){return this.isSupportProperty("showOtherItem")},i.prototype.supportNone=function(){return this.isSupportProperty("showNoneItem")},i.prototype.isSupportProperty=function(o){return!this.isDesignMode||this.getPropertyByName(o).visible},i.prototype.onCheckForErrors=function(o,p){var A=this;if(a.prototype.onCheckForErrors.call(this,o,p),this.hasOther&&this.isOtherSelected&&!this.otherValue){var B=new w.OtherEmptyError(this.otherErrorText,this);B.onUpdateErrorTextCallback=function(O){O.text=A.otherErrorText},o.push(B)}},i.prototype.setSurveyImpl=function(o,p){this.isRunningChoices=!0,a.prototype.setSurveyImpl.call(this,o,p),this.isRunningChoices=!1,this.runChoicesByUrl(),this.isAddDefaultItems&&this.updateVisibleChoices()},i.prototype.setSurveyCore=function(o){a.prototype.setSurveyCore.call(this,o),o&&this.choicesFromQuestion&&this.onVisibleChoicesChanged()},i.prototype.getStoreOthersAsComment=function(){return!this.isSettingDefaultValue&&!this.showCommentArea&&(!0===this.storeOthersAsComment||"default"==this.storeOthersAsComment&&(null==this.survey||this.survey.storeOthersAsComment)||!this.choicesByUrl.isEmpty&&!this.choicesFromUrl)},i.prototype.onSurveyLoad=function(){this.runChoicesByUrl(),this.onVisibleChoicesChanged(),a.prototype.onSurveyLoad.call(this)},i.prototype.onAnyValueChanged=function(o){a.prototype.onAnyValueChanged.call(this,o),o!=this.getValueName()&&this.runChoicesByUrl(),o&&o==this.choicesFromQuestion&&this.onVisibleChoicesChanged()},i.prototype.updateValueFromSurvey=function(o){var p="";this.hasOther&&!this.isRunningChoices&&!this.choicesByUrl.isRunning&&this.getStoreOthersAsComment()&&(this.hasUnknownValue(o)&&!this.getHasOther(o)?(p=this.getCommentFromValue(o),o=this.setOtherValueIntoValue(o)):p=this.data.getComment(this.getValueName())),a.prototype.updateValueFromSurvey.call(this,o),(this.isRunningChoices||this.choicesByUrl.isRunning)&&!this.isEmpty()&&(this.cachedValueForUrlRequests=this.value),p&&this.setNewComment(p)},i.prototype.getCommentFromValue=function(o){return o},i.prototype.setOtherValueIntoValue=function(o){return this.otherItem.value},i.prototype.onOtherValueInput=function(o){this.isInputTextUpdate?o.target&&(this.otherValue=o.target.value):this.updateCommentElements()},i.prototype.onOtherValueChange=function(o){this.otherValue=o.target.value,this.otherValue!==o.target.value&&(o.target.value=this.otherValue)},i.prototype.runChoicesByUrl=function(){if(this.choicesByUrl&&!this.isLoadingFromJson&&!this.isRunningChoices){var o=this.surveyImpl?this.surveyImpl.getTextProcessor():this.textProcessor;o||(o=this.survey),o&&(this.isReadyValue=!this.waitingAcyncOperations,this.isRunningChoices=!0,this.choicesByUrl.run(o),this.isRunningChoices=!1)}},i.prototype.onBeforeSendRequest=function(){!0===P.settings.web.disableQuestionWhileLoadingChoices&&!this.isReadOnly&&(this.enableOnLoadingChoices=!0,this.readOnly=!0)},i.prototype.onLoadChoicesFromUrl=function(o){this.enableOnLoadingChoices&&(this.readOnly=!1);var p=[];this.isReadOnly||this.choicesByUrl&&this.choicesByUrl.error&&p.push(this.choicesByUrl.error);var A=null,B=!0;this.isFirstLoadChoicesFromUrl&&!this.cachedValueForUrlRequests&&this.defaultValue&&(this.cachedValueForUrlRequests=this.defaultValue,B=!1),this.isValueEmpty(this.cachedValueForUrlRequests)&&(this.cachedValueForUrlRequests=this.value),this.isFirstLoadChoicesFromUrl=!1;var O=this.createCachedValueForUrlRequests(this.cachedValueForUrlRequests,B);if(o&&(o.length>0||this.choicesByUrl.allowEmptyResponse)&&(A=new Array,F.ItemValue.setData(A,o)),A)for(var f=0;f<A.length;f++)A[f].locOwner=this;if(this.choicesFromUrl=A,this.filterItems(),this.onVisibleChoicesChanged(),A){var b=this.updateCachedValueForUrlRequests(O,A);if(b&&!this.isReadOnly){var C=!this.isTwoValueEquals(this.value,b.value);try{this.isValueEmpty(b.value)||(this.allowNotifyValueChanged=!1,this.setQuestionValue(void 0,!0,!1)),this.allowNotifyValueChanged=C,C?this.value=b.value:this.setQuestionValue(b.value)}finally{this.allowNotifyValueChanged=!0}}}!this.isReadOnly&&!A&&!this.isFirstLoadChoicesFromUrl&&(this.value=null),this.errors=p,this.choicesLoaded()},i.prototype.createCachedValueForUrlRequests=function(o,p){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var A=[],B=0;B<o.length;B++)A.push(this.createCachedValueForUrlRequests(o[B],!0));return A}return{value:o,isExists:!p||!this.hasUnknownValue(o)}},i.prototype.updateCachedValueForUrlRequests=function(o,p){if(this.isValueEmpty(o))return null;if(Array.isArray(o)){for(var A=[],B=0;B<o.length;B++){var O=this.updateCachedValueForUrlRequests(o[B],p);if(O&&!this.isValueEmpty(O.value)){var f=O.value;(C=F.ItemValue.getItemByValue(p,O.value))&&(f=C.value),A.push(f)}}return{value:A}}var C,b=o.isExists&&this.hasUnknownValue(o.value)?null:o.value;return(C=F.ItemValue.getItemByValue(p,b))&&(b=C.value),{value:b}},i.prototype.updateChoicesDependedQuestions=function(){if(!this.isLoadingFromJson&&!this.isUpdatingChoicesDependedQuestions&&this.allowNotifyValueChanged&&!this.choicesByUrl.isRunning){this.isUpdatingChoicesDependedQuestions=!0;for(var o=0;o<this.dependedQuestions.length;o++){var p=this.dependedQuestions[o];p.onVisibleChoicesChanged(),p.clearIncorrectValues()}this.isUpdatingChoicesDependedQuestions=!1}},i.prototype.onSurveyValueChanged=function(o){a.prototype.onSurveyValueChanged.call(this,o),this.updateChoicesDependedQuestions()},i.prototype.onVisibleChoicesChanged=function(){this.isLoadingFromJson||this.isLockVisibleChoices||(this.updateVisibleChoices(),this.onVisibleChanged(),this.visibleChoicesChangedCallback&&this.visibleChoicesChangedCallback(),this.updateChoicesDependedQuestions())},i.prototype.isVisibleCore=function(){var o=a.prototype.isVisibleCore.call(this);if(!this.hideIfChoicesEmpty||!o)return o;var p=this.getFilteredChoices();return!p||p.length>0},i.prototype.sortVisibleChoices=function(o){if(this.isDesignMode)return o;var p=this.choicesOrder.toLowerCase();return"asc"==p?this.sortArray(o,1):"desc"==p?this.sortArray(o,-1):"random"==p?this.randomizeArray(o):o},i.prototype.sortArray=function(o,p){return o.sort(function(A,B){return D.Helpers.compareStrings(A.calculatedText,B.calculatedText)*p})},i.prototype.randomizeArray=function(o){return D.Helpers.randomizeArray(o)},i.prototype.clearIncorrectValues=function(){!this.hasValueToClearIncorrectValues()||this.survey&&this.survey.questionCountByValueName(this.getValueName())>1||this.choicesByUrl&&!this.choicesByUrl.isEmpty&&(!this.choicesFromUrl||0==this.choicesFromUrl.length)||(this.clearIncorrectValuesCallback?this.clearIncorrectValuesCallback():this.clearIncorrectValuesCore())},i.prototype.hasValueToClearIncorrectValues=function(){return!(this.survey&&this.survey.keepIncorrectValues||this.keepIncorrectValues||this.isEmpty())},i.prototype.clearValueIfInvisibleCore=function(o){a.prototype.clearValueIfInvisibleCore.call(this,o),this.clearIncorrectValues()},i.prototype.isItemSelected=function(o){return o===this.otherItem?this.isOtherSelected:this.isItemSelectedCore(o)},i.prototype.isItemSelectedCore=function(o){return o.value===this.value},i.prototype.clearDisabledValues=function(){!this.survey||!this.survey.clearValueOnDisableItems||this.clearDisabledValuesCore()},i.prototype.clearIncorrectValuesCore=function(){this.canClearValueAnUnknown(this.value)&&this.clearValue()},i.prototype.canClearValueAnUnknown=function(o){return!(!this.getStoreOthersAsComment()&&this.isOtherSelected)&&this.hasUnknownValue(o,!0,!0,!0)},i.prototype.clearDisabledValuesCore=function(){this.isValueDisabled(this.value)&&this.clearValue()},i.prototype.clearUnusedValues=function(){a.prototype.clearUnusedValues.call(this),this.isOtherSelected||(this.otherValue=""),!this.showCommentArea&&!this.getStoreOthersAsComment()&&!this.isOtherSelected&&(this.comment="")},i.prototype.getColumnClass=function(){return(new y.CssClassBuilder).append(this.cssClasses.column).append("sv-q-column-"+this.colCount,this.hasColumns).toString()},i.prototype.getItemIndex=function(o){return this.visibleChoices.indexOf(o)},i.prototype.getItemClass=function(o){var p={item:o},A=this.getItemClassCore(o,p);return p.css=A,this.survey&&this.survey.updateChoiceItemCss(this,p),p.css},i.prototype.getCurrentColCount=function(){return this.colCount},i.prototype.getItemClassCore=function(o,p){var A=(new y.CssClassBuilder).append(this.cssClasses.item).append(this.cssClasses.itemInline,!this.hasColumns&&0===this.colCount).append("sv-q-col-"+this.getCurrentColCount(),!this.hasColumns&&0!==this.colCount).append(this.cssClasses.itemOnError,this.errors.length>0),B=this.isReadOnly||!o.isEnabled,O=this.isItemSelected(o)||this.isOtherSelected&&this.otherItem.value===o.value,f=!(B||O||this.survey&&this.survey.isDesignMode),b=o===this.noneItem;return p.isDisabled=B,p.isChecked=O,p.isNone=b,A.append(this.cssClasses.itemDisabled,B).append(this.cssClasses.itemChecked,O).append(this.cssClasses.itemHover,f).append(this.cssClasses.itemNone,b).toString()},i.prototype.getLabelClass=function(o){return(new y.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.labelChecked,this.isItemSelected(o)).toString()},i.prototype.getControlLabelClass=function(o){return(new y.CssClassBuilder).append(this.cssClasses.controlLabel).append(this.cssClasses.controlLabelChecked,this.isItemSelected(o)).toString()||void 0},Object.defineProperty(i.prototype,"headItems",{get:function(){var o=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(p){return o.isHeadChoice(p,o)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"footItems",{get:function(){var o=this;return this.separateSpecialChoices||this.isDesignMode?this.visibleChoices.filter(function(p){return o.isFootChoice(p,o)}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataChoices",{get:function(){var o=this;return this.visibleChoices.filter(function(p){return!o.isBuiltInChoice(p,o)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bodyItems",{get:function(){return this.hasHeadItems||this.hasFootItems?this.dataChoices:this.visibleChoices},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasHeadItems",{get:function(){return this.headItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasFootItems",{get:function(){return this.footItems.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columns",{get:function(){var o=[],p=this.getCurrentColCount();if(this.hasColumns&&this.visibleChoices.length>0){var A=this.separateSpecialChoices||this.isDesignMode?this.dataChoices:this.visibleChoices;if("column"==P.settings.showItemsInOrder)for(var B=0,O=A.length%p,f=0;f<p;f++){for(var b=[],C=B;C<B+Math.floor(A.length/p);C++)b.push(A[C]);O>0&&(O--,b.push(A[C]),C++),B=C,o.push(b)}else for(f=0;f<p;f++){for(b=[],C=f;C<A.length;C+=p)b.push(A[C]);o.push(b)}}return o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasColumns",{get:function(){return!this.isMobile&&this.getCurrentColCount()>1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowLayout",{get:function(){return 0==this.getCurrentColCount()&&!(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"blockedRow",{get:function(){return 0==this.getCurrentColCount()&&(this.hasFootItems||this.hasHeadItems)},enumerable:!1,configurable:!0}),i.prototype.choicesLoaded=function(){this.isChoicesLoaded=!0,this.isReady=!this.waitingAcyncOperations,this.survey&&this.survey.loadedChoicesFromServer(this),this.loadedChoicesFromServerCallback&&this.loadedChoicesFromServerCallback()},i.prototype.getItemValueWrapperComponentName=function(o){var p=this.survey;return p?p.getItemValueWrapperComponentName(o,this):K.SurveyModel.TemplateRendererComponentName},i.prototype.getItemValueWrapperComponentData=function(o){var p=this.survey;return p?p.getItemValueWrapperComponentData(o,this):o},i.prototype.ariaItemChecked=function(o){return this.renderedValue===o.value?"true":"false"},i.prototype.isOtherItem=function(o){return this.hasOther&&o.value==this.otherItem.value},Object.defineProperty(i.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),i.prototype.getSelectBaseRootCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootRow,this.rowLayout).toString()},i.prototype.getAriaItemLabel=function(o){return o.locText.renderedHtml},i.prototype.getItemId=function(o){return this.inputId+"_"+this.getItemIndex(o)},Object.defineProperty(i.prototype,"questionName",{get:function(){return this.name+"_"+this.id},enumerable:!1,configurable:!0}),i.prototype.getItemEnabled=function(o){return!this.isInputReadOnly&&o.isEnabled},i.prototype.afterRender=function(o){a.prototype.afterRender.call(this,o),this.rootElement=o},i.prototype.beforeDestroyQuestionElement=function(o){a.prototype.beforeDestroyQuestionElement.call(this,o),this.rootElement=void 0},i.prototype.focusOtherComment=function(){var o=this;this.rootElement&&setTimeout(function(){var p=o.rootElement.querySelector("textarea");p&&p.focus()},10)},i.prototype.onValueChanged=function(){a.prototype.onValueChanged.call(this),!this.isDesignMode&&!this.prevIsOtherSelected&&this.isOtherSelected&&this.focusOtherComment(),this.prevIsOtherSelected=this.isOtherSelected},i.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(i.prototype,"itemComponent",{get:function(){return this.getPropertyValue("itemComponent",this.getDefaultItemComponent())},set:function(o){this.setPropertyValue("itemComponent",o)},enumerable:!1,configurable:!0}),i.prototype.updateCssClasses=function(o,p){if(a.prototype.updateCssClasses.call(this,o,p),this.dropdownListModel){var A={};Object(v.mergeValues)(p.list,A),Object(v.mergeValues)(o.list,A),o.list=A}},i.prototype.calcCssClasses=function(o){var p=a.prototype.calcCssClasses.call(this,o);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(p.popup,p.list),p},g([Object(L.property)({onSet:function(o,p){p.onSelectedItemValuesChangedHandler(o)}})],i.prototype,"selectedItemValues",void 0),g([Object(L.property)()],i.prototype,"separateSpecialChoices",void 0),g([Object(L.property)({localizable:!0})],i.prototype,"otherPlaceholder",void 0),i}(j.Question),l=function(a){function i(o){return a.call(this,o)||this}return E(i,a),Object.defineProperty(i.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount",this.isFlowLayout?0:1)},set:function(o){o<0||o>5||this.isFlowLayout||(this.setPropertyValue("colCount",o),this.fireCallback(this.colCountChangedCallback))},enumerable:!1,configurable:!0}),i.prototype.clickItemHandler=function(o,p){var A=[].concat(this.renderedValue||[]),B=A.indexOf(o.value);p?B<0&&A.push(o.value):B>-1&&A.splice(B,1),this.renderedValue=A},i.prototype.onParentChanged=function(){a.prototype.onParentChanged.call(this),this.isFlowLayout&&this.setPropertyValue("colCount",null)},i.prototype.onParentQuestionChanged=function(){this.onVisibleChoicesChanged()},i.prototype.getSearchableItemValueKeys=function(o){o.push("choices")},i}(u);L.Serializer.addClass("selectbase",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},"choicesFromQuestion:question_selectbase",{name:"choices:itemvalue[]",uniqueProperty:"value",baseValue:function(){return S.surveyLocalization.getString("choices_Item")},dependsOn:"choicesFromQuestion",visibleIf:function(a){return!a.choicesFromQuestion}},{name:"choicesFromQuestionMode",default:"all",choices:["all","selected","unselected"],dependsOn:"choicesFromQuestion",visibleIf:function(a){return!!a.choicesFromQuestion}},{name:"choicesOrder",default:"none",choices:["none","asc","desc","random"],dependsOn:"choicesFromQuestion",visibleIf:function(a){return!a.choicesFromQuestion}},{name:"choicesByUrl:restfull",className:"choicesByUrl",onGetValue:function(a){return a.choicesByUrl.getData()},onSetValue:function(a,i){a.choicesByUrl.setData(i)}},"hideIfChoicesEmpty:boolean",{name:"choicesVisibleIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(a){return!a.choicesFromQuestion}},{name:"choicesEnableIf:condition",dependsOn:"choicesFromQuestion",visibleIf:function(a){return!a.choicesFromQuestion}},{name:"separateSpecialChoices:boolean",visible:!1},{name:"showOtherItem:boolean",alternativeName:"hasOther"},{name:"showNoneItem:boolean",alternativeName:"hasNone"},{name:"otherPlaceholder",alternativeName:"otherPlaceHolder",serializationProperty:"locOtherPlaceholder",dependsOn:"showOtherItem",visibleIf:function(a){return a.hasOther}},{name:"noneText",serializationProperty:"locNoneText",dependsOn:"showNoneItem",visibleIf:function(a){return a.hasNone}},{name:"otherText",serializationProperty:"locOtherText",dependsOn:"showOtherItem",visibleIf:function(a){return a.hasOther}},{name:"otherErrorText",serializationProperty:"locOtherErrorText",dependsOn:"showOtherItem",visibleIf:function(a){return a.hasOther}},{name:"storeOthersAsComment",default:"default",choices:["default",!0,!1],visible:!1}],null,"question"),L.Serializer.addClass("checkboxbase",[{name:"colCount:number",default:1,choices:[0,1,2,3,4,5],layout:"row"}],null,"selectbase")},"./src/question_boolean.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionBooleanModel",function(){return h});var D,L=m("./src/questionfactory.ts"),K=m("./src/jsonobject.ts"),j=m("./src/question.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/utils/utils.ts"),w=(D=function(P,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(v[g]=E[g])})(P,y)},function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=P}D(P,y),P.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}),M=function(D,P,y,v){var u,E=arguments.length,g=E<3?P:null===v?v=Object.getOwnPropertyDescriptor(P,y):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(D,P,y,v);else for(var l=D.length-1;l>=0;l--)(u=D[l])&&(g=(E<3?u(g):E>3?u(P,y,g):u(P,y))||g);return E>3&&g&&Object.defineProperty(P,y,g),g},h=function(D){function P(y){var v=D.call(this,y)||this;return v.createLocalizableString("labelFalse",v,!0,"booleanUncheckedLabel"),v.createLocalizableString("labelTrue",v,!0,"booleanCheckedLabel"),v}return w(P,D),P.prototype.getType=function(){return"boolean"},P.prototype.isLayoutTypeSupported=function(y){return!0},P.prototype.supportGoNextPageAutomatic=function(){return"checkbox"!==this.renderAs},Object.defineProperty(P.prototype,"isIndeterminate",{get:function(){return this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTitle",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"booleanValue",{get:function(){return this.isEmpty()?null:this.value==this.getValueTrue()},set:function(y){this.isReadOnly||this.setBooleanValue(y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"checkedValue",{get:function(){return this.booleanValue},set:function(y){this.booleanValue=y},enumerable:!1,configurable:!0}),P.prototype.setBooleanValue=function(y){this.isValueEmpty(y)?(this.value=null,this.booleanValueRendered=null):(this.value=1==y?this.getValueTrue():this.getValueFalse(),this.booleanValueRendered=y)},Object.defineProperty(P.prototype,"defaultValue",{get:function(){return this.getPropertyValue("defaultValue")},set:function(y){!0===y&&(y="true"),!1===y&&(y="false"),void 0===y&&(y="indeterminate"),this.setPropertyValue("defaultValue",y),this.updateValueWithDefaults()},enumerable:!1,configurable:!0}),P.prototype.getDefaultValue=function(){return"indeterminate"==this.defaultValue||void 0===this.defaultValue?null:"true"==this.defaultValue?this.getValueTrue():this.getValueFalse()},Object.defineProperty(P.prototype,"locTitle",{get:function(){var y=this.getLocalizableString("title");return!this.isValueEmpty(this.locLabel.text)&&(this.isValueEmpty(y.text)||this.isLabelRendered&&!this.showTitle)?this.locLabel:y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelRenderedAriaID",{get:function(){return this.isLabelRendered?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isLabelRendered",{get:function(){return"hidden"===this.titleLocation},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"canRenderLabelDescription",{get:function(){return this.isLabelRendered&&this.hasDescription&&(this.hasDescriptionUnderTitle||this.hasDescriptionUnderInput)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelTrue",{get:function(){return this.getLocalizableStringText("labelTrue")},set:function(y){this.setLocalizableStringText("labelTrue",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locLabelTrue",{get:function(){return this.getLocalizableString("labelTrue")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isDeterminated",{get:function(){return null!==this.booleanValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelFalse",{get:function(){return this.getLocalizableStringText("labelFalse")},set:function(y){this.setLocalizableStringText("labelFalse",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locLabelFalse",{get:function(){return this.getLocalizableString("labelFalse")},enumerable:!1,configurable:!0}),P.prototype.getValueTrue=function(){return void 0===this.valueTrue||this.valueTrue},P.prototype.getValueFalse=function(){return void 0!==this.valueFalse&&this.valueFalse},P.prototype.setDefaultValue=function(){this.isDefaultValueSet("true",this.valueTrue)&&this.setBooleanValue(!0),this.isDefaultValueSet("false",this.valueFalse)&&this.setBooleanValue(!1),"indeterminate"==this.defaultValue&&this.setBooleanValue(null)},P.prototype.isDefaultValueSet=function(y,v){return this.defaultValue==y||void 0!==v&&this.defaultValue===v},P.prototype.getDisplayValueCore=function(y,v){return v==this.getValueTrue()?this.locLabelTrue.textOrHtml:this.locLabelFalse.textOrHtml},P.prototype.getItemCssValue=function(y){return(new F.CssClassBuilder).append(y.item).append(y.itemOnError,this.errors.length>0).append(y.itemDisabled,this.isReadOnly).append(y.itemHover,!this.isDesignMode).append(y.itemChecked,!!this.booleanValue).append(y.itemIndeterminate,null===this.booleanValue).toString()},P.prototype.getItemCss=function(){return this.getItemCssValue(this.cssClasses)},P.prototype.getCheckboxItemCss=function(){return this.getItemCssValue({item:this.cssClasses.checkboxItem,itemOnError:this.cssClasses.checkboxItemOnError,itemDisabled:this.cssClasses.checkboxItemDisabled,itemChecked:this.cssClasses.checkboxItemChecked,itemIndeterminate:this.cssClasses.checkboxItemIndeterminate})},P.prototype.getLabelCss=function(y){return(new F.CssClassBuilder).append(this.cssClasses.label).append(this.cssClasses.disabledLabel,this.booleanValue===!y||this.isReadOnly).toString()},Object.defineProperty(P.prototype,"svgIcon",{get:function(){return this.booleanValue&&this.cssClasses.svgIconCheckedId?this.cssClasses.svgIconCheckedId:null===this.booleanValue&&this.cssClasses.svgIconIndId?this.cssClasses.svgIconIndId:!this.booleanValue&&this.cssClasses.svgIconUncheckedId?this.cssClasses.svgIconUncheckedId:this.cssClasses.svgIconId},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"allowClick",{get:function(){return this.isIndeterminate&&!this.isInputReadOnly},enumerable:!1,configurable:!0}),P.prototype.getCheckedLabel=function(){return!0===this.booleanValue?this.locLabelTrue:!1===this.booleanValue?this.locLabelFalse:void 0},P.prototype.setQuestionValue=function(y,v){void 0===v&&(v=!0),"true"===y&&"true"!==this.valueTrue&&(y=!0),"false"===y&&"false"!==this.valueFalse&&(y=!1),"indeterminate"===y&&(y=null),D.prototype.setQuestionValue.call(this,y,v)},P.prototype.onLabelClick=function(y,v){return this.allowClick&&(Object(S.preventDefaults)(y),this.booleanValue=v),!0},P.prototype.calculateBooleanValueByEvent=function(y,v){var E="rtl"==document.defaultView.getComputedStyle(y.target).direction;this.booleanValue=E?!v:v},P.prototype.onSwitchClickModel=function(y){return!this.allowClick||(Object(S.preventDefaults)(y),void this.calculateBooleanValueByEvent(y,y.offsetX/y.target.offsetWidth>.5))},P.prototype.onKeyDownCore=function(y){return"ArrowLeft"!==y.key&&"ArrowRight"!==y.key||(Object(S.preventDefaults)(y),void this.calculateBooleanValueByEvent(y,"ArrowRight"===y.key))},P.prototype.getRadioItemClass=function(y,v){var E=void 0;return y.radioItem&&(E=y.radioItem),y.radioItemChecked&&v===this.booleanValue&&(E=(E?E+" ":"")+y.radioItemChecked),E},P.prototype.supportResponsiveness=function(){return!0},P.prototype.getCompactRenderAs=function(){return"radio"},P.prototype.createActionContainer=function(y){return D.prototype.createActionContainer.call(this,"checkbox"!==this.renderAs)},M([Object(K.property)()],P.prototype,"booleanValueRendered",void 0),M([Object(K.property)()],P.prototype,"showTitle",void 0),M([Object(K.property)({localizable:!0})],P.prototype,"label",void 0),M([Object(K.property)()],P.prototype,"valueTrue",void 0),M([Object(K.property)()],P.prototype,"valueFalse",void 0),P}(j.Question);K.Serializer.addClass("boolean",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"label:text",serializationProperty:"locLabel",isSerializable:!1,visible:!1},{name:"labelTrue:text",serializationProperty:"locLabelTrue"},{name:"labelFalse:text",serializationProperty:"locLabelFalse"},"valueTrue","valueFalse",{name:"renderAs",default:"default",visible:!1}],function(){return new h("")},"question"),L.QuestionFactory.Instance.registerQuestion("boolean",function(D){return new h(D)})},"./src/question_buttongroup.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ButtonGroupItemValue",function(){return M}),m.d(V,"QuestionButtonGroupModel",function(){return h}),m.d(V,"ButtonGroupItemModel",function(){return D});var P,L=m("./src/jsonobject.ts"),K=m("./src/itemvalue.ts"),j=m("./src/question_baseselect.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),w=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},M=function(P){function y(v,E,g){void 0===E&&(E=null),void 0===g&&(g="buttongroupitemvalue");var u=P.call(this,v,E,g)||this;return u.typeName=g,u}return S(y,P),y.prototype.getType=function(){return this.typeName?this.typeName:"buttongroupitemvalue"},w([Object(L.property)()],y.prototype,"iconName",void 0),w([Object(L.property)()],y.prototype,"iconSize",void 0),w([Object(L.property)()],y.prototype,"showCaption",void 0),y}(K.ItemValue),h=function(P){function y(v){return P.call(this,v)||this}return S(y,P),y.prototype.getType=function(){return"buttongroup"},y.prototype.getItemValueType=function(){return"buttongroupitemvalue"},y.prototype.supportOther=function(){return!1},y}(j.QuestionCheckboxBase);L.Serializer.addClass("buttongroup",[{name:"choices:buttongroupitemvalue[]"}],function(){return new h("")},"checkboxbase"),L.Serializer.addClass("buttongroupitemvalue",[{name:"showCaption:boolean",default:!0},{name:"iconName:text"},{name:"iconSize:number"}],function(P){return new M(P)},"itemvalue");var D=function(){function P(y,v,E){this.question=y,this.item=v,this.index=E}return Object.defineProperty(P.prototype,"value",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"iconName",{get:function(){return this.item.iconName},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"iconSize",{get:function(){return this.item.iconSize||24},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"caption",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showCaption",{get:function(){return this.item.showCaption||void 0===this.item.showCaption},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.question.isRequired},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"selected",{get:function(){return this.question.isItemSelected(this.item)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"readOnly",{get:function(){return this.question.isInputReadOnly||!this.item.isEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"name",{get:function(){return this.question.name+"_"+this.question.id},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"id",{get:function(){return this.question.inputId+"_"+this.index},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasErrors",{get:function(){return this.question.errors.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"describedBy",{get:function(){return this.question.errors.length>0?this.question.id+"_errors":null},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"labelClass",{get:function(){return(new F.CssClassBuilder).append(this.question.cssClasses.item).append(this.question.cssClasses.itemSelected,this.selected).append(this.question.cssClasses.itemHover,!this.readOnly&&!this.selected).append(this.question.cssClasses.itemDisabled,this.question.isReadOnly||!this.item.isEnabled).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"css",{get:function(){return{label:this.labelClass,icon:this.question.cssClasses.itemIcon,control:this.question.cssClasses.itemControl,caption:this.question.cssClasses.itemCaption,decorator:this.question.cssClasses.itemDecorator}},enumerable:!1,configurable:!0}),P.prototype.onChange=function(){this.question.renderedValue=this.item.value},P}()},"./src/question_checkbox.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionCheckboxModel",function(){return D});var P,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_baseselect.ts"),F=m("./src/helpers.ts"),S=m("./src/itemvalue.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=m("./src/error.ts"),h=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),D=function(P){function y(v){var E=P.call(this,v)||this;E.selectAllItemValue=new S.ItemValue("selectall"),E.invisibleOldValues={},E.isChangingValueOnClearIncorrect=!1;var g=E.createLocalizableString("selectAllText",E.selectAllItem,!0,"selectAllItemText");return E.selectAllItem.locOwner=E,E.selectAllItem.setLocText(g),E.registerPropertyChangedHandlers(["showSelectAllItem","selectAllText"],function(){E.onVisibleChoicesChanged()}),E}return h(y,P),y.prototype.getDefaultItemComponent=function(){return"survey-checkbox-item"},Object.defineProperty(y.prototype,"ariaRole",{get:function(){return"listbox"},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"checkbox"},y.prototype.onCreating=function(){P.prototype.onCreating.call(this),this.createNewArray("renderedValue"),this.createNewArray("value")},y.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(y.prototype,"valuePropertyName",{get:function(){return this.getPropertyValue("valuePropertyName")},set:function(v){this.setPropertyValue("valuePropertyName",v)},enumerable:!1,configurable:!0}),y.prototype.getQuestionFromArray=function(v,E){if(v&&v===this.valuePropertyName){var g=this.value;if(Array.isArray(g)&&E<g.length)return this}return null},Object.defineProperty(y.prototype,"selectAllItem",{get:function(){return this.selectAllItemValue},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectAllText",{get:function(){return this.getLocalizableStringText("selectAllText")},set:function(v){this.setLocalizableStringText("selectAllText",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locSelectAllText",{get:function(){return this.getLocalizableString("selectAllText")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"showSelectAllItem",{get:function(){return this.getPropertyValue("showSelectAllItem")},set:function(v){this.setPropertyValue("showSelectAllItem",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"hasSelectAll",{get:function(){return this.showSelectAllItem},set:function(v){this.showSelectAllItem=v},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isAllSelected",{get:function(){var v=this.value;if(!v||!Array.isArray(v)||this.isItemSelected(this.noneItem))return!1;var E=this.visibleChoices.length;this.hasOther&&E--,this.hasNone&&E--,this.hasSelectAll&&E--;var g=v.length;return this.isOtherSelected&&g--,g===E},set:function(v){v?this.selectAll():this.clearValue()},enumerable:!1,configurable:!0}),y.prototype.toggleSelectAll=function(){this.isAllSelected=!this.isAllSelected},y.prototype.selectAll=function(){for(var v=[],E=0;E<this.visibleChoices.length;E++){var g=this.visibleChoices[E];g===this.noneItem||g===this.otherItem||g===this.selectAllItem||v.push(g.value)}this.renderedValue=v},y.prototype.isItemSelectedCore=function(v){if(v===this.selectAllItem)return this.isAllSelected;var E=this.renderedValue;if(!E||!Array.isArray(E))return!1;for(var g=0;g<E.length;g++)if(this.isTwoValueEquals(E[g],v.value))return!0;return!1},y.prototype.getRealValue=function(v){return v&&(this.valuePropertyName?v[this.valuePropertyName]:v)},Object.defineProperty(y.prototype,"maxSelectedChoices",{get:function(){return this.getPropertyValue("maxSelectedChoices")},set:function(v){v<0&&(v=0),this.setPropertyValue("maxSelectedChoices",v),this.filterItems()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"minSelectedChoices",{get:function(){return this.getPropertyValue("minSelectedChoices")},set:function(v){v<0&&(v=0),this.setPropertyValue("minSelectedChoices",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectedChoices",{get:function(){if(this.isEmpty())return[];var v=this.renderedValue,E=this.defaultSelectedItemValues?[].concat(this.defaultSelectedItemValues,this.visibleChoices):this.visibleChoices,g=v.map(function(u){return S.ItemValue.getItemByValue(E,u)}).filter(function(u){return!!u});return!g.length&&!this.selectedItemValues&&this.updateSelectedItemValues(),this.validateItemValues(g)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"selectedItems",{get:function(){return this.selectedChoices},enumerable:!1,configurable:!0}),y.prototype.getMultipleSelectedItems=function(){return this.selectedChoices},y.prototype.validateItemValues=function(v){if(v.length)return v;var E=this.selectedItemValues;return E&&E.length?(this.defaultSelectedItemValues=[].concat(E),E):this.renderedValue.map(function(u){return new S.ItemValue(u)})},y.prototype.onCheckForErrors=function(v,E){if(P.prototype.onCheckForErrors.call(this,v,E),!E&&this.minSelectedChoices>0&&this.checkMinSelectedChoicesUnreached()){var g=new M.CustomError(this.getLocalizationFormatString("minSelectError",this.minSelectedChoices),this);v.push(g)}},y.prototype.onEnableItemCallBack=function(v){return!this.shouldCheckMaxSelectedChoices()||this.isItemSelected(v)},y.prototype.onAfterRunItemsEnableCondition=function(){if(this.maxSelectedChoices<1)return this.selectAllItem.setIsEnabled(!0),void this.otherItem.setIsEnabled(!0);this.hasSelectAll&&this.selectAllItem.setIsEnabled(this.maxSelectedChoices>=this.activeChoices.length),this.hasOther&&this.otherItem.setIsEnabled(!this.shouldCheckMaxSelectedChoices()||this.isOtherSelected)},y.prototype.shouldCheckMaxSelectedChoices=function(){if(this.maxSelectedChoices<1)return!1;var v=this.value;return(Array.isArray(v)?v.length:0)>=this.maxSelectedChoices},y.prototype.checkMinSelectedChoicesUnreached=function(){if(this.minSelectedChoices<1)return!1;var v=this.value;return(Array.isArray(v)?v.length:0)<this.minSelectedChoices},y.prototype.getItemClassCore=function(v,E){return E.isSelectAllItem=v===this.selectAllItem,(new w.CssClassBuilder).append(P.prototype.getItemClassCore.call(this,v,E)).append(this.cssClasses.itemSelectAll,E.isSelectAllItem).toString()},y.prototype.updateValueFromSurvey=function(v){P.prototype.updateValueFromSurvey.call(this,v),this.invisibleOldValues={}},y.prototype.setDefaultValue=function(){P.prototype.setDefaultValue.call(this);var v=this.defaultValue;if(Array.isArray(v))for(var E=0;E<v.length;E++){var g=this.getRealValue(v[E]);this.canClearValueAnUnknown(g)&&this.addIntoInvisibleOldValues(g)}},y.prototype.addIntoInvisibleOldValues=function(v){this.invisibleOldValues[v]=v},y.prototype.hasValueToClearIncorrectValues=function(){return P.prototype.hasValueToClearIncorrectValues.call(this)||!F.Helpers.isValueEmpty(this.invisibleOldValues)},y.prototype.setNewValue=function(v){this.isChangingValueOnClearIncorrect||(this.invisibleOldValues={}),v=this.valueFromData(v);var E=this.value;if(v||(v=[]),E||(E=[]),!this.isTwoValueEquals(E,v)){if(this.hasNone){var g=this.noneIndexInArray(E),u=this.noneIndexInArray(v);g>-1?u>-1&&v.length>1&&v.splice(u,1):u>-1&&(v.splice(0,v.length),v.push(this.noneItem.value))}P.prototype.setNewValue.call(this,v)}},y.prototype.getIsMultipleValue=function(){return!0},y.prototype.getCommentFromValue=function(v){var E=this.getFirstUnknownIndex(v);return E<0?"":v[E]},y.prototype.setOtherValueIntoValue=function(v){var E=this.getFirstUnknownIndex(v);return E<0||v.splice(E,1,this.otherItem.value),v},y.prototype.getFirstUnknownIndex=function(v){if(!Array.isArray(v))return-1;for(var E=0;E<v.length;E++)if(this.hasUnknownValue(v[E],!1,!1))return E;return-1},y.prototype.noneIndexInArray=function(v){if(!v||!Array.isArray(v))return-1;for(var E=this.noneItem.value,g=0;g<v.length;g++)if(v[g]==E)return g;return-1},y.prototype.canUseFilteredChoices=function(){return!this.hasSelectAll&&P.prototype.canUseFilteredChoices.call(this)},y.prototype.supportSelectAll=function(){return this.isSupportProperty("showSelectAllItem")},y.prototype.addToVisibleChoices=function(v,E){this.supportSelectAll()&&this.canShowOptionItem(this.selectAllItem,E,this.hasSelectAll)&&v.unshift(this.selectAllItem),P.prototype.addToVisibleChoices.call(this,v,E)},y.prototype.isHeadChoice=function(v,E){return v===E.selectAllItem},y.prototype.isItemInList=function(v){return v==this.selectAllItem?this.hasSelectAll:P.prototype.isItemInList.call(this,v)},y.prototype.getDisplayValueCore=function(v,E){if(!Array.isArray(E))return P.prototype.getDisplayValueCore.call(this,v,E);var g=this.valuePropertyName;return this.getDisplayArrayValue(v,E,function(l){var a=E[l];return!!g&&!!a[g]&&(a=a[g]),a})},y.prototype.clearIncorrectValuesCore=function(){this.clearIncorrectAndDisabledValues(!1)},y.prototype.clearDisabledValuesCore=function(){this.clearIncorrectAndDisabledValues(!0)},y.prototype.clearIncorrectAndDisabledValues=function(v){var E=this.value,g=!1,u=this.restoreValuesFromInvisible();if(E||0!=u.length){if(!Array.isArray(E)||0==E.length){if(this.isChangingValueOnClearIncorrect=!0,v||(this.hasComment?this.value=null:this.clearValue()),this.isChangingValueOnClearIncorrect=!1,0==u.length)return;E=[]}for(var l=[],a=0;a<E.length;a++){var i=this.getRealValue(E[a]),o=this.canClearValueAnUnknown(i);!v&&!o||v&&!this.isValueDisabled(i)?l.push(E[a]):(g=!0,o&&this.addIntoInvisibleOldValues(E[a]))}for(a=0;a<u.length;a++)l.push(u[a]),g=!0;!g||(this.isChangingValueOnClearIncorrect=!0,0==l.length?this.clearValue():this.value=l,this.isChangingValueOnClearIncorrect=!1)}},y.prototype.restoreValuesFromInvisible=function(){for(var v=[],E=this.visibleChoices,g=0;g<E.length;g++){var u=E[g].value;F.Helpers.isTwoValueEquals(u,this.invisibleOldValues[u])&&(this.isItemSelected(E[g])||v.push(u),delete this.invisibleOldValues[u])}return v},y.prototype.getConditionJson=function(v,E){void 0===v&&(v=null),void 0===E&&(E=null);var g=P.prototype.getConditionJson.call(this);return("contains"==v||"notcontains"==v)&&(g.type="radiogroup"),g.maxSelectedChoices=0,g.minSelectedChoices=0,g},y.prototype.isAnswerCorrect=function(){return F.Helpers.isArrayContainsEqual(this.value,this.correctAnswer)},y.prototype.setDefaultValueWithOthers=function(){this.value=this.renderedValueFromDataCore(this.defaultValue)},y.prototype.getIsItemValue=function(v,E){return!(!v||!Array.isArray(v))&&v.indexOf(E.value)>=0},y.prototype.valueFromData=function(v){if(!v)return v;if(!Array.isArray(v))return[P.prototype.valueFromData.call(this,v)];for(var E=[],g=0;g<v.length;g++){var u=S.ItemValue.getItemByValue(this.activeChoices,v[g]);E.push(u?u.value:v[g])}return E},y.prototype.rendredValueFromData=function(v){return v=this.convertValueFromObject(v),P.prototype.rendredValueFromData.call(this,v)},y.prototype.rendredValueToData=function(v){return v=P.prototype.rendredValueToData.call(this,v),this.convertValueToObject(v)},y.prototype.convertValueFromObject=function(v){return this.valuePropertyName?F.Helpers.convertArrayObjectToValue(v,this.valuePropertyName):v},y.prototype.convertValueToObject=function(v){if(!this.valuePropertyName)return v;var E=void 0;return!!this.survey&&this.survey.questionCountByValueName(this.getValueName())>1&&(E=this.data.getValue(this.getValueName())),F.Helpers.convertArrayValueToObject(v,this.valuePropertyName,E)},y.prototype.renderedValueFromDataCore=function(v){if((!v||!Array.isArray(v))&&(v=[]),!this.hasActiveChoices)return v;for(var E=0;E<v.length;E++){if(v[E]==this.otherItem.value)return v;if(this.hasUnknownValue(v[E],!0,!1)){this.otherValue=v[E];var g=v.slice();return g[E]=this.otherItem.value,g}}return v},y.prototype.rendredValueToDataCore=function(v){if(!v||!v.length)return v;for(var E=0;E<v.length;E++)if(v[E]==this.otherItem.value&&this.needConvertRenderedOtherToDataValue()){var g=v.slice();return g[E]=this.otherValue,g}return v},y.prototype.selectOtherValueFromComment=function(v){var E=[],g=this.renderedValue;if(Array.isArray(g))for(var u=0;u<g.length;u++)g[u]!==this.otherItem.value&&E.push(g[u]);v&&E.push(this.otherItem.value),this.value=E},Object.defineProperty(y.prototype,"checkBoxSvgPath",{get:function(){return"M5,13l2-2l3,3l7-7l2,2l-9,9L5,13z"},enumerable:!1,configurable:!0}),y}(j.QuestionCheckboxBase);L.Serializer.addClass("checkbox",[{name:"showSelectAllItem:boolean",alternativeName:"hasSelectAll"},{name:"separateSpecialChoices",visible:!0},{name:"maxSelectedChoices:number",default:0},{name:"minSelectedChoices:number",default:0},{name:"selectAllText",serializationProperty:"locSelectAllText",dependsOn:"showSelectAllItem",visibleIf:function(P){return P.hasSelectAll}},{name:"valuePropertyName",category:"data"},{name:"itemComponent",visible:!1,default:"survey-checkbox-item"}],function(){return new D("")},"checkboxbase"),K.QuestionFactory.Instance.registerQuestion("checkbox",function(P){var y=new D(P);return y.choices=K.QuestionFactory.DefaultChoices,y})},"./src/question_comment.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionCommentModel",function(){return M});var h,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_textbase.ts"),F=m("./src/utils/utils.ts"),S=m("./src/settings.ts"),w=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),M=function(h){function D(){return null!==h&&h.apply(this,arguments)||this}return w(D,h),Object.defineProperty(D.prototype,"rows",{get:function(){return this.getPropertyValue("rows")},set:function(P){this.setPropertyValue("rows",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"cols",{get:function(){return this.getPropertyValue("cols")},set:function(P){this.setPropertyValue("cols",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"acceptCarriageReturn",{get:function(){return this.getPropertyValue("acceptCarriageReturn")},set:function(P){this.setPropertyValue("acceptCarriageReturn",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"autoGrow",{get:function(){return this.getPropertyValue("autoGrow")||this.survey&&this.survey.autoGrowComment},set:function(P){this.setPropertyValue("autoGrow",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"allowResize",{get:function(){return this.getPropertyValue("allowResize")&&this.survey&&this.survey.allowResizeComment},set:function(P){this.setPropertyValue("allowResize",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"resizeStyle",{get:function(){return this.allowResize?"both":"none"},enumerable:!1,configurable:!0}),D.prototype.getType=function(){return"comment"},D.prototype.afterRenderQuestionElement=function(P){this.element=S.settings.environment.root.getElementById(this.inputId)||P,this.updateElement(),h.prototype.afterRenderQuestionElement.call(this,P)},D.prototype.updateElement=function(){var P=this;this.element&&this.autoGrow&&setTimeout(function(){return Object(F.increaseHeightByContent)(P.element)},1)},D.prototype.beforeDestroyQuestionElement=function(P){h.prototype.beforeDestroyQuestionElement.call(this,P),this.element=void 0},D.prototype.onInput=function(P){this.isInputTextUpdate?this.value=P.target.value:this.updateElement(),this.updateRemainingCharacterCounter(P.target.value)},D.prototype.onKeyDown=function(P){this.checkForUndo(P),!this.acceptCarriageReturn&&("Enter"===P.key||13===P.keyCode)&&(P.preventDefault(),P.stopPropagation())},D.prototype.onValueChanged=function(){h.prototype.onValueChanged.call(this),this.updateElement()},D.prototype.setNewValue=function(P){!this.acceptCarriageReturn&&!!P&&(P=P.replace(new RegExp("(\r\n|\n|\r)","gm"),"")),h.prototype.setNewValue.call(this,P)},Object.defineProperty(D.prototype,"className",{get:function(){return(this.cssClasses?this.getControlClass():"panel-comment-root")||void 0},enumerable:!1,configurable:!0}),D}(j.QuestionTextBase);L.Serializer.addClass("comment",[{name:"maxLength:number",default:-1},{name:"cols:number",default:50,visible:!1,isSerializable:!1},{name:"rows:number",default:4},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"]},{name:"autoGrow:boolean"},{name:"allowResize:boolean",default:!0},{name:"acceptCarriageReturn:boolean",default:!0,visible:!1}],function(){return new M("")},"textbase"),K.QuestionFactory.Instance.registerQuestion("comment",function(h){return new M(h)})},"./src/question_custom.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ComponentQuestionJSON",function(){return h}),m.d(V,"ComponentCollection",function(){return D}),m.d(V,"QuestionCustomModelBase",function(){return P}),m.d(V,"QuestionCustomModel",function(){return y}),m.d(V,"QuestionCompositeModel",function(){return E});var g,L=m("./src/question.ts"),K=m("./src/jsonobject.ts"),j=m("./src/survey-element.ts"),F=m("./src/helpers.ts"),S=m("./src/textPreProcessor.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),h=function(){function g(u,l){this.name=u,this.json=l;var a=this;K.Serializer.addClass(u,[],function(i){return D.Instance.createQuestion(i?i.name:"",a)},"question"),this.onInit()}return g.prototype.onInit=function(){!this.json.onInit||this.json.onInit()},g.prototype.onCreated=function(u){!this.json.onCreated||this.json.onCreated(u)},g.prototype.onLoaded=function(u){!this.json.onLoaded||this.json.onLoaded(u)},g.prototype.onAfterRender=function(u,l){!this.json.onAfterRender||this.json.onAfterRender(u,l)},g.prototype.onAfterRenderContentElement=function(u,l,a){!this.json.onAfterRenderContentElement||this.json.onAfterRenderContentElement(u,l,a)},g.prototype.onUpdateQuestionCssClasses=function(u,l,a){!this.json.onUpdateQuestionCssClasses||this.json.onUpdateQuestionCssClasses(u,l,a)},g.prototype.onPropertyChanged=function(u,l,a){!this.json.onPropertyChanged||this.json.onPropertyChanged(u,l,a)},g.prototype.onValueChanged=function(u,l,a){!this.json.onValueChanged||this.json.onValueChanged(u,l,a)},g.prototype.onValueChanging=function(u,l,a){return this.json.onValueChanging?this.json.onValueChanging(u,l,a):a},g.prototype.onItemValuePropertyChanged=function(u,l,a,i,o){!this.json.onItemValuePropertyChanged||this.json.onItemValuePropertyChanged(u,{obj:l,propertyName:a,name:i,newValue:o})},g.prototype.getDisplayValue=function(u,l,a){return this.json.getDisplayValue?this.json.getDisplayValue(a):a.getDisplayValue(u,l)},g.prototype.setValueToQuestion=function(u){var l=this.json.valueToQuestion||this.json.setValue;return l?l(u):u},g.prototype.getValueFromQuestion=function(u){var l=this.json.valueFromQuestion||this.json.getValue;return l?l(u):u},Object.defineProperty(g.prototype,"isComposite",{get:function(){return!!this.json.elementsJSON||!!this.json.createElements},enumerable:!1,configurable:!0}),g}(),D=function(){function g(){this.customQuestionValues=[]}return g.prototype.add=function(u){if(u){var l=u.name;if(!l)throw"Attribute name is missed";if(l=l.toLowerCase(),this.getCustomQuestionByName(l))throw"There is already registered custom question with name '"+l+"'";if(K.Serializer.findClass(l))throw"There is already class with name '"+l+"'";var a=new h(l,u);this.onAddingJson&&this.onAddingJson(l,a.isComposite),this.customQuestionValues.push(a)}},Object.defineProperty(g.prototype,"items",{get:function(){return this.customQuestionValues},enumerable:!1,configurable:!0}),g.prototype.getCustomQuestionByName=function(u){for(var l=0;l<this.customQuestionValues.length;l++)if(this.customQuestionValues[l].name==u)return this.customQuestionValues[l];return null},g.prototype.clear=function(){for(var u=0;u<this.customQuestionValues.length;u++)K.Serializer.removeClass(this.customQuestionValues[u].name);this.customQuestionValues=[]},g.prototype.createQuestion=function(u,l){return l.isComposite?this.createCompositeModel(u,l):this.createCustomModel(u,l)},g.prototype.createCompositeModel=function(u,l){return this.onCreateComposite?this.onCreateComposite(u,l):new E(u,l)},g.prototype.createCustomModel=function(u,l){return this.onCreateCustom?this.onCreateCustom(u,l):new y(u,l)},g.Instance=new g,g}(),P=function(g){function u(l,a){var i=g.call(this,l)||this;return i.customQuestion=a,K.CustomPropertiesCollection.createProperties(i),j.SurveyElement.CreateDisabledDesignElements=!0,i.createWrapper(),j.SurveyElement.CreateDisabledDesignElements=!1,i.customQuestion&&i.customQuestion.onCreated(i),i}return M(u,g),u.prototype.getType=function(){return this.customQuestion?this.customQuestion.name:"custom"},u.prototype.locStrsChanged=function(){g.prototype.locStrsChanged.call(this),this.getElement()&&this.getElement().locStrsChanged()},u.prototype.createWrapper=function(){},u.prototype.onPropertyValueChanged=function(l,a,i){g.prototype.onPropertyValueChanged.call(this,l,a,i),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onPropertyChanged(this,l,i)},u.prototype.itemValuePropertyChanged=function(l,a,i,o){g.prototype.itemValuePropertyChanged.call(this,l,a,i,o),this.customQuestion&&!this.isLoadingFromJson&&this.customQuestion.onItemValuePropertyChanged(this,l,l.ownerPropertyName,a,o)},u.prototype.onFirstRendering=function(){var l=this.getElement();l&&l.onFirstRendering(),g.prototype.onFirstRendering.call(this)},u.prototype.getProgressInfo=function(){var l=g.prototype.getProgressInfo.call(this);return this.getElement()&&(l=this.getElement().getProgressInfo()),this.isRequired&&0==l.requiredQuestionCount&&(l.requiredQuestionCount=1,this.isEmpty()||(l.answeredQuestionCount=1)),l},u.prototype.initElement=function(l){!l||(l.setSurveyImpl(this),l.disableDesignActions=!0)},u.prototype.setSurveyImpl=function(l,a){this.isSettingValOnLoading=!0,g.prototype.setSurveyImpl.call(this,l,a),this.initElement(this.getElement()),this.isSettingValOnLoading=!1},u.prototype.onSurveyLoad=function(){g.prototype.onSurveyLoad.call(this),this.getElement()&&(this.getElement().onSurveyLoad(),this.customQuestion.onLoaded(this))},u.prototype.afterRenderQuestionElement=function(l){},u.prototype.afterRender=function(l){g.prototype.afterRender.call(this,l),this.customQuestion&&this.customQuestion.onAfterRender(this,l)},u.prototype.onUpdateQuestionCssClasses=function(l,a){this.customQuestion&&this.customQuestion.onUpdateQuestionCssClasses(this,l,a)},u.prototype.setQuestionValue=function(l,a){void 0===a&&(a=!0),g.prototype.setQuestionValue.call(this,l,a),this.updateElementCss()},u.prototype.setNewValue=function(l){g.prototype.setNewValue.call(this,l),this.updateElementCss()},u.prototype.getSurveyData=function(){return this},u.prototype.getTextProcessor=function(){return this.textProcessor},u.prototype.getValue=function(l){return this.value},u.prototype.setValue=function(l,a,i,o){if(this.data){var p=this.convertDataName(l),A=this.convertDataValue(l,a);this.valueToDataCallback&&(A=this.valueToDataCallback(A)),this.data.setValue(p,A,i,o),this.updateIsAnswered(),this.updateElementCss(),this.customQuestion&&this.customQuestion.onValueChanged(this,l,a)}},u.prototype.getQuestionByName=function(l){},u.prototype.isValueChanging=function(l,a){if(this.customQuestion){var i=a;if(a=this.customQuestion.onValueChanging(this,l,a),!F.Helpers.isTwoValueEquals(a,i)){var o=this.getQuestionByName(l);if(o)return o.value=a,!0}}return!1},u.prototype.convertDataName=function(l){return this.getValueName()},u.prototype.convertDataValue=function(l,a){return a},u.prototype.getVariable=function(l){return this.data?this.data.getVariable(l):null},u.prototype.setVariable=function(l,a){!this.data||this.data.setVariable(l,a)},u.prototype.getComment=function(l){return this.data?this.data.getComment(this.getValueName()):""},u.prototype.setComment=function(l,a,i){!this.data||this.data.setComment(this.getValueName(),a,i)},u.prototype.getAllValues=function(){return this.data?this.data.getAllValues():{}},u.prototype.getFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},u.prototype.getFilteredProperties=function(){return this.data?this.data.getFilteredProperties():{}},u.prototype.findQuestionByName=function(l){return this.data?this.data.findQuestionByName(l):null},u.prototype.addElement=function(l,a){},u.prototype.removeElement=function(l){return!1},u.prototype.getQuestionTitleLocation=function(){return"left"},u.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},u.prototype.getChildrenLayoutType=function(){return"row"},u.prototype.elementWidthChanged=function(l){},Object.defineProperty(u.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),u.prototype.indexOf=function(l){return-1},u.prototype.ensureRowsVisibility=function(){},u.prototype.validateContainerOnly=function(){},u.prototype.getContentDisplayValueCore=function(l,a,i){return i?this.customQuestion.getDisplayValue(l,a,i):g.prototype.getDisplayValueCore.call(this,l,a)},u}(L.Question),y=function(g){function u(){return null!==g&&g.apply(this,arguments)||this}return M(u,g),u.prototype.getTemplate=function(){return"custom"},u.prototype.createWrapper=function(){this.questionWrapper=this.createQuestion()},u.prototype.getElement=function(){return this.contentQuestion},u.prototype.onAnyValueChanged=function(l){g.prototype.onAnyValueChanged.call(this,l),this.contentQuestion&&this.contentQuestion.onAnyValueChanged(l)},u.prototype.getQuestionByName=function(l){return this.contentQuestion},u.prototype.setValue=function(l,a,i,o){this.isValueChanging(l,a)||g.prototype.setValue.call(this,l,a,i,o)},u.prototype.onSetData=function(){g.prototype.onSetData.call(this),this.survey&&!this.isEmpty()&&this.setValue(this.name,this.value,!1,this.allowNotifyValueChanged)},u.prototype.hasErrors=function(l,a){if(void 0===l&&(l=!0),void 0===a&&(a=null),!this.contentQuestion)return!1;var i=this.contentQuestion.hasErrors(l,a);this.errors=[];for(var o=0;o<this.contentQuestion.errors.length;o++)this.errors.push(this.contentQuestion.errors[o]);return i||(i=g.prototype.hasErrors.call(this,l,a)),this.updateElementCss(),i},u.prototype.focus=function(l){void 0===l&&(l=!1),this.contentQuestion?this.contentQuestion.focus(l):g.prototype.focus.call(this,l)},Object.defineProperty(u.prototype,"contentQuestion",{get:function(){return this.questionWrapper},enumerable:!1,configurable:!0}),u.prototype.createQuestion=function(){var l=this,a=this.customQuestion.json,i=null;if(a.questionJSON){var o=a.questionJSON.type;if(!o||!K.Serializer.findClass(o))throw"type attribute in questionJSON is empty or incorrect";i=K.Serializer.createClass(o),this.initElement(i),i.fromJSON(a.questionJSON)}else a.createQuestion&&(i=a.createQuestion(),this.initElement(i));return i&&(i.isContentElement=!0,i.name||(i.name="question"),i.onUpdateCssClassesCallback=function(p){l.onUpdateQuestionCssClasses(i,p)}),i},u.prototype.onSurveyLoad=function(){g.prototype.onSurveyLoad.call(this),this.contentQuestion&&this.isEmpty()&&!this.contentQuestion.isEmpty()&&(this.value=this.getContentQuestionValue())},u.prototype.runCondition=function(l,a){g.prototype.runCondition.call(this,l,a),this.contentQuestion&&this.contentQuestion.runCondition(l,a)},u.prototype.convertDataName=function(l){if(!this.contentQuestion)return g.prototype.convertDataName.call(this,l);var a=l.replace(this.contentQuestion.getValueName(),this.getValueName());return 0==a.indexOf(this.getValueName())?a:g.prototype.convertDataName.call(this,l)},u.prototype.convertDataValue=function(l,a){return this.convertDataName(l)==g.prototype.convertDataName.call(this,l)?this.getContentQuestionValue():a},u.prototype.getContentQuestionValue=function(){if(this.contentQuestion){var l=this.contentQuestion.value;return this.customQuestion&&(l=this.customQuestion.getValueFromQuestion(l)),l}},u.prototype.setContentQuestionValue=function(l){!this.contentQuestion||(this.customQuestion&&(l=this.customQuestion.setValueToQuestion(l)),this.contentQuestion.value=l)},u.prototype.canSetValueToSurvey=function(){return!1},u.prototype.setQuestionValue=function(l,a){void 0===a&&(a=!0),g.prototype.setQuestionValue.call(this,l,a),!this.isLoadingFromJson&&this.contentQuestion&&!this.isTwoValueEquals(this.getContentQuestionValue(),l)&&this.setContentQuestionValue(this.getUnbindValue(l))},u.prototype.onSurveyValueChanged=function(l){g.prototype.onSurveyValueChanged.call(this,l),this.contentQuestion&&this.contentQuestion.onSurveyValueChanged(l)},u.prototype.getValueCore=function(){return this.contentQuestion?this.getContentQuestionValue():g.prototype.getValueCore.call(this)},u.prototype.initElement=function(l){var a=this;g.prototype.initElement.call(this,l),l&&(l.parent=this,l.afterRenderQuestionCallback=function(i,o){a.customQuestion&&a.customQuestion.onAfterRenderContentElement(a,i,o)})},u.prototype.updateElementCss=function(l){this.contentQuestion&&this.questionWrapper.updateElementCss(l),g.prototype.updateElementCss.call(this,l)},u.prototype.updateElementCssCore=function(l){this.contentQuestion&&(l=this.contentQuestion.cssClasses),g.prototype.updateElementCssCore.call(this,l)},u.prototype.getDisplayValueCore=function(l,a){return g.prototype.getContentDisplayValueCore.call(this,l,a,this.contentQuestion)},u}(P),v=function(g){function u(l,a){var i=g.call(this,a)||this;return i.composite=l,i.variableName=a,i}return M(u,g),Object.defineProperty(u.prototype,"survey",{get:function(){return this.composite.survey},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"panel",{get:function(){return this.composite.contentPanel},enumerable:!1,configurable:!0}),u}(S.QuestionTextProcessor),E=function(g){function u(l,a){var i=g.call(this,l,a)||this;return i.customQuestion=a,i.settingNewValue=!1,i.textProcessing=new v(i,u.ItemVariableName),i}return M(u,g),u.prototype.createWrapper=function(){this.panelWrapper=this.createPanel()},u.prototype.getTemplate=function(){return"composite"},u.prototype.getElement=function(){return this.contentPanel},u.prototype.getCssRoot=function(l){return(new w.CssClassBuilder).append(g.prototype.getCssRoot.call(this,l)).append(l.composite).toString()},Object.defineProperty(u.prototype,"contentPanel",{get:function(){return this.panelWrapper},enumerable:!1,configurable:!0}),u.prototype.hasErrors=function(l,a){void 0===l&&(l=!0),void 0===a&&(a=null);var i=g.prototype.hasErrors.call(this,l,a);return this.contentPanel&&this.contentPanel.hasErrors(l,!1,a)||i},u.prototype.updateElementCss=function(l){g.prototype.updateElementCss.call(this,l),this.contentPanel&&this.contentPanel.updateElementCss(l)},u.prototype.getTextProcessor=function(){return this.textProcessing},u.prototype.findQuestionByName=function(l){return this.getQuestionByName(l)||g.prototype.findQuestionByName.call(this,l)},u.prototype.clearValueIfInvisibleCore=function(l){g.prototype.clearValueIfInvisibleCore.call(this,l);for(var a=this.contentPanel.questions,i=0;i<a.length;i++)a[i].clearValueIfInvisible(l)},u.prototype.onAnyValueChanged=function(l){g.prototype.onAnyValueChanged.call(this,l);for(var a=this.contentPanel.questions,i=0;i<a.length;i++)a[i].onAnyValueChanged(l)},u.prototype.createPanel=function(){var l=this,a=K.Serializer.createClass("panel");a.showQuestionNumbers="off",a.renderWidth="100%";var i=this.customQuestion.json;return i.elementsJSON&&a.fromJSON({elements:i.elementsJSON}),i.createElements&&i.createElements(a,this),this.initElement(a),a.readOnly=this.isReadOnly,a.questions.forEach(function(o){return o.onUpdateCssClassesCallback=function(p){l.onUpdateQuestionCssClasses(o,p)}}),this.setAfterRenderCallbacks(a),a},u.prototype.onReadOnlyChanged=function(){this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly),g.prototype.onReadOnlyChanged.call(this)},u.prototype.onSurveyLoad=function(){if(this.isSettingValOnLoading=!0,this.contentPanel&&(this.contentPanel.readOnly=this.isReadOnly,this.setIsContentElement(this.contentPanel)),g.prototype.onSurveyLoad.call(this),this.contentPanel){var l=this.getContentPanelValue();F.Helpers.isValueEmpty(l)||(this.value=l)}this.isSettingValOnLoading=!1},u.prototype.setIsContentElement=function(l){l.isContentElement=!0;for(var a=l.elements,i=0;i<a.length;i++){var o=a[i];o.isPanel?this.setIsContentElement(o):o.isContentElement=!0}},u.prototype.setVisibleIndex=function(l){var a=g.prototype.setVisibleIndex.call(this,l);return this.isVisible&&!!this.contentPanel&&(a+=this.contentPanel.setVisibleIndex(l)),a},u.prototype.runCondition=function(l,a){if(g.prototype.runCondition.call(this,l,a),this.contentPanel){var i=l[u.ItemVariableName];l[u.ItemVariableName]=this.contentPanel.getValue(),this.contentPanel.runCondition(l,a),delete l[u.ItemVariableName],i&&(l[u.ItemVariableName]=i)}},u.prototype.getValue=function(l){var a=this.value;return a?a[l]:null},u.prototype.getQuestionByName=function(l){return this.contentPanel?this.contentPanel.getQuestionByName(l):void 0},u.prototype.setValue=function(l,a,i,o){if(this.settingNewValue)this.setNewValueIntoQuestion(l,a);else if(!this.isValueChanging(l,a)){if(this.settingNewValue=!0,!this.isEditingSurveyElement&&this.contentPanel)for(var p=0,A=this.contentPanel.questions.length+1;p<A&&this.updateValueCoreWithPanelValue();)p++;this.setNewValueIntoQuestion(l,a),g.prototype.setValue.call(this,l,a,i,o),this.settingNewValue=!1}},u.prototype.updateValueCoreWithPanelValue=function(){var l=this.getContentPanelValue();return!this.isTwoValueEquals(this.getValueCore(),l)&&(this.setValueCore(l),!0)},u.prototype.getContentPanelValue=function(l){return l||(l=this.contentPanel.getValue()),this.customQuestion.setValueToQuestion(l)},u.prototype.getValueForContentPanel=function(l){return this.customQuestion.getValueFromQuestion(l)},u.prototype.setNewValueIntoQuestion=function(l,a){var i=this.getQuestionByName(l);i&&!this.isTwoValueEquals(a,i.value)&&(i.value=a)},u.prototype.addConditionObjectsByContext=function(l,a){if(this.contentPanel)for(var i=this.contentPanel.questions,o=this.name,p=this.title,A=0;A<i.length;A++)l.push({name:o+"."+i[A].name,text:p+"."+i[A].title,question:i[A]})},u.prototype.collectNestedQuestionsCore=function(l,a){!this.contentPanel||this.contentPanel.questions.forEach(function(i){return i.collectNestedQuestions(l,a)})},u.prototype.convertDataValue=function(l,a){var i=this.getValueForContentPanel(this.value);return i||(i={}),this.isValueEmpty(a)&&!this.isEditingSurveyElement?delete i[l]:i[l]=a,this.getContentPanelValue(i)},u.prototype.setQuestionValue=function(l,a){void 0===a&&(a=!0),this.setValuesIntoQuestions(l),!this.isEditingSurveyElement&&!!this.contentPanel&&(l=this.getContentPanelValue()),g.prototype.setQuestionValue.call(this,l,a)},u.prototype.setValuesIntoQuestions=function(l){if(this.contentPanel){l=this.getValueForContentPanel(l);var a=this.settingNewValue;this.settingNewValue=!0;for(var i=this.contentPanel.questions,o=0;o<i.length;o++){var p=i[o].getValueName(),A=l?l[p]:void 0,B=i[o];this.isTwoValueEquals(B.value,A)||(B.value=A)}this.settingNewValue=a}},u.prototype.getDisplayValueCore=function(l,a){return g.prototype.getContentDisplayValueCore.call(this,l,a,this.contentPanel)},u.prototype.setAfterRenderCallbacks=function(l){var a=this;if(l&&this.customQuestion)for(var i=l.questions,o=0;o<i.length;o++)i[o].afterRenderQuestionCallback=function(p,A){a.customQuestion.onAfterRenderContentElement(a,p,A)}},u.ItemVariableName="composite",u}(P)},"./src/question_dropdown.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionDropdownModel",function(){return P});var y,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_baseselect.ts"),F=m("./src/itemvalue.ts"),S=m("./src/utils/cssClassBuilder.ts"),w=m("./src/dropdownListModel.ts"),M=m("./src/settings.ts"),h=(y=function(v,E){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,u){g.__proto__=u}||function(g,u){for(var l in u)Object.prototype.hasOwnProperty.call(u,l)&&(g[l]=u[l])})(v,E)},function(v,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function g(){this.constructor=v}y(v,E),v.prototype=null===E?Object.create(E):(g.prototype=E.prototype,new g)}),D=function(y,v,E,g){var a,u=arguments.length,l=u<3?v:null===g?g=Object.getOwnPropertyDescriptor(v,E):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(y,v,E,g);else for(var i=y.length-1;i>=0;i--)(a=y[i])&&(l=(u<3?a(l):u>3?a(v,E,l):a(v,E))||l);return u>3&&l&&Object.defineProperty(v,E,l),l},P=function(y){function v(E){var g=y.call(this,E)||this;return g.lastSelectedItemValue=null,g.minMaxChoices=[],g.onOpened=g.addEvent(),g.createLocalizableString("placeholder",g,!1,!0),g.createLocalizableString("clearCaption",g,!1,!0),g.registerPropertyChangedHandlers(["choicesMin","choicesMax","choicesStep"],function(){g.onVisibleChoicesChanged()}),g.registerPropertyChangedHandlers(["value","renderAs","showOtherItem","otherText","placeholder","choices","visibleChoices"],function(){g.updateReadOnlyText()}),g.updateReadOnlyText(),g}return h(v,y),v.prototype.updateReadOnlyText=function(){var E=this.selectedItem?"":this.placeholder;"select"==this.renderAs&&(this.isOtherSelected?E=this.otherText:this.isNoneSelected?E=this.noneText:this.selectedItem&&(E=this.selectedItemText)),this.readOnlyText=E},v.prototype.locStrsChanged=function(){y.prototype.locStrsChanged.call(this),this.updateReadOnlyText()},Object.defineProperty(v.prototype,"showOptionsCaption",{get:function(){return this.allowClear},set:function(E){this.allowClear=E},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(E){this.placeholder=E},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(E){this.setLocalizableStringText("placeholder",E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(E){this.setLocalizableStringText("clearCaption",E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),v.prototype.getType=function(){return"dropdown"},Object.defineProperty(v.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),v.prototype.onGetSingleSelectedItem=function(E){E&&(this.lastSelectedItemValue=E)},v.prototype.supportGoNextPageAutomatic=function(){return!0},v.prototype.getChoices=function(){var E=y.prototype.getChoices.call(this);if(this.choicesMax<=this.choicesMin)return E;for(var g=[],u=0;u<E.length;u++)g.push(E[u]);if(0===this.minMaxChoices.length||this.minMaxChoices.length!==(this.choicesMax-this.choicesMin)/this.choicesStep+1)for(this.minMaxChoices=[],u=this.choicesMin;u<=this.choicesMax;u+=this.choicesStep)this.minMaxChoices.push(new F.ItemValue(u));return g.concat(this.minMaxChoices)},Object.defineProperty(v.prototype,"choicesMin",{get:function(){return this.getPropertyValue("choicesMin")},set:function(E){this.setPropertyValue("choicesMin",E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"choicesMax",{get:function(){return this.getPropertyValue("choicesMax")},set:function(E){this.setPropertyValue("choicesMax",E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"choicesStep",{get:function(){return this.getPropertyValue("choicesStep")},set:function(E){E<1&&(E=1),this.setPropertyValue("choicesStep",E)},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete","")},set:function(E){this.setPropertyValue("autocomplete",E)},enumerable:!1,configurable:!0}),v.prototype.getControlClass=function(){return(new S.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.controlInputFieldComponent,!!this.inputFieldComponentName).toString()},Object.defineProperty(v.prototype,"selectedItemLocText",{get:function(){var E=this.suggestedItem||this.selectedItem;return null==E?void 0:E.locText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"inputFieldComponentName",{get:function(){return this.inputFieldComponent||this.itemComponent},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showSelectedItemLocText",{get:function(){return!this.inputHasValue&&!this.inputFieldComponentName&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"showInputFieldComponent",{get:function(){return!this.inputHasValue&&!!this.inputFieldComponentName&&!this.isEmpty()},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"selectedItemText",{get:function(){var E=this.selectedItem;return E?E.text:""},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"dropdownListModel",{get:function(){return"select"!==this.renderAs&&!this.dropdownListModelValue&&(this.dropdownListModelValue=new w.DropdownListModel(this)),this.dropdownListModelValue},set:function(E){this.dropdownListModelValue=E},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"popupModel",{get:function(){var E;return null===(E=this.dropdownListModel)||void 0===E?void 0:E.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"ariaExpanded",{get:function(){var E=this.popupModel;return E&&E.isVisible?"true":"false"},enumerable:!1,configurable:!0}),v.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},v.prototype.onSelectedItemValuesChangedHandler=function(E){var g;null===(g=this.dropdownListModel)||void 0===g||g.setInputStringFromSelectedItem(E),y.prototype.onSelectedItemValuesChangedHandler.call(this,E)},v.prototype.hasUnknownValue=function(E,g,u,l){return!this.choicesLazyLoadEnabled&&y.prototype.hasUnknownValue.call(this,E,g,u,l)},v.prototype.needConvertRenderedOtherToDataValue=function(){var E,g=null===(E=this.otherValue)||void 0===E?void 0:E.trim();return!!g&&y.prototype.hasUnknownValue.call(this,g,!0,!1)},v.prototype.getItemIfChoicesNotContainThisValue=function(E,g){return this.choicesLazyLoadEnabled&&!this.dropdownListModel.isAllDataLoaded?this.createItemValue(E,g):y.prototype.getItemIfChoicesNotContainThisValue.call(this,E,g)},v.prototype.onVisibleChoicesChanged=function(){y.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},v.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},v.prototype.getInputId=function(){return this.inputId+"_0"},v.prototype.clearValue=function(){var E;y.prototype.clearValue.call(this),this.lastSelectedItemValue=null,null===(E=this.dropdownListModel)||void 0===E||E.clear()},v.prototype.onClick=function(E){this.onOpenedCallBack&&this.onOpenedCallBack()},v.prototype.onKeyUp=function(E){46===(E.which||E.keyCode)&&(this.clearValue(),E.preventDefault(),E.stopPropagation())},v.prototype.dispose=function(){y.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},D([Object(L.property)()],v.prototype,"allowClear",void 0),D([Object(L.property)({onSet:function(E,g){g.dropdownListModel&&g.dropdownListModel.setSearchEnabled(E)}})],v.prototype,"searchEnabled",void 0),D([Object(L.property)({defaultValue:!1})],v.prototype,"inputHasValue",void 0),D([Object(L.property)({defaultValue:""})],v.prototype,"readOnlyText",void 0),D([Object(L.property)()],v.prototype,"choicesLazyLoadEnabled",void 0),D([Object(L.property)({defaultValue:25})],v.prototype,"choicesLazyLoadPageSize",void 0),D([Object(L.property)()],v.prototype,"suggestedItem",void 0),v}(j.QuestionSelectBase);L.Serializer.addClass("dropdown",[{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",alternativeName:"showOptionsCaption",default:!0},{name:"choicesMin:number",default:0},{name:"choicesMax:number",default:0},{name:"choicesStep:number",default:1,minValue:1},{name:"autocomplete",alternativeName:"autoComplete",choices:M.settings.questions.dataList},{name:"renderAs",default:"default",visible:!1},{name:"searchEnabled:boolean",default:!0,visible:!1},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"inputFieldComponent",visible:!1},{name:"itemComponent",visible:!1,default:""}],function(){return new P("")},"selectbase"),K.QuestionFactory.Instance.registerQuestion("dropdown",function(y){var v=new P(y);return v.choices=K.QuestionFactory.DefaultChoices,v})},"./src/question_empty.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionEmptyModel",function(){return F});var S,L=m("./src/jsonobject.ts"),K=m("./src/question.ts"),j=(S=function(w,M){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(h[P]=D[P])})(w,M)},function(w,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function h(){this.constructor=w}S(w,M),w.prototype=null===M?Object.create(M):(h.prototype=M.prototype,new h)}),F=function(S){function w(M){return S.call(this,M)||this}return j(w,S),w.prototype.getType=function(){return"empty"},w}(K.Question);L.Serializer.addClass("empty",[],function(){return new F("")},"question")},"./src/question_expression.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionExpressionModel",function(){return M}),m.d(V,"getCurrecyCodes",function(){return h});var D,L=m("./src/helpers.ts"),K=m("./src/question.ts"),j=m("./src/jsonobject.ts"),F=m("./src/questionfactory.ts"),S=m("./src/conditions.ts"),w=(D=function(P,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(v[g]=E[g])})(P,y)},function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=P}D(P,y),P.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)}),M=function(D){function P(y){var v=D.call(this,y)||this;return v.createLocalizableString("format",v),v.registerPropertyChangedHandlers(["expression"],function(){v.expressionRunner&&(v.expressionRunner=new S.ExpressionRunner(v.expression))}),v.registerPropertyChangedHandlers(["format","currency","displayStyle"],function(){v.updateFormatedValue()}),v}return w(P,D),P.prototype.getType=function(){return"expression"},Object.defineProperty(P.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"format",{get:function(){return this.getLocalizableStringText("format","")},set:function(y){this.setLocalizableStringText("format",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locFormat",{get:function(){return this.getLocalizableString("format")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(y){this.setPropertyValue("expression",y)},enumerable:!1,configurable:!0}),P.prototype.locCalculation=function(){this.expressionIsRunning=!0},P.prototype.unlocCalculation=function(){this.expressionIsRunning=!1},P.prototype.runCondition=function(y,v){var E=this;D.prototype.runCondition.call(this,y,v),this.expression&&!this.expressionIsRunning&&(this.runIfReadOnly||!this.isReadOnly)&&(this.locCalculation(),this.expressionRunner||(this.expressionRunner=new S.ExpressionRunner(this.expression)),this.expressionRunner.onRunComplete=function(g){E.value=E.roundValue(g),E.unlocCalculation()},this.expressionRunner.run(y,v))},P.prototype.canCollectErrors=function(){return!0},P.prototype.hasRequiredError=function(){return!1},Object.defineProperty(P.prototype,"maximumFractionDigits",{get:function(){return this.getPropertyValue("maximumFractionDigits")},set:function(y){y<-1||y>20||this.setPropertyValue("maximumFractionDigits",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minimumFractionDigits",{get:function(){return this.getPropertyValue("minimumFractionDigits")},set:function(y){y<-1||y>20||this.setPropertyValue("minimumFractionDigits",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"runIfReadOnly",{get:function(){return!0===this.runIfReadOnlyValue},set:function(y){this.runIfReadOnlyValue=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"formatedValue",{get:function(){return this.getPropertyValue("formatedValue","")},enumerable:!1,configurable:!0}),P.prototype.updateFormatedValue=function(){this.setPropertyValue("formatedValue",this.getDisplayValueCore(!1,this.value))},P.prototype.onValueChanged=function(){this.updateFormatedValue()},P.prototype.updateValueFromSurvey=function(y){D.prototype.updateValueFromSurvey.call(this,y),this.updateFormatedValue()},P.prototype.getDisplayValueCore=function(y,v){var E=this.isValueEmpty(v)?this.defaultValue:v,g="";if(!this.isValueEmpty(E)){var u=this.getValueAsStr(E);g=this.format?this.format.format(u):u}return this.survey&&(g=this.survey.getExpressionDisplayValue(this,E,g)),g},Object.defineProperty(P.prototype,"displayStyle",{get:function(){return this.getPropertyValue("displayStyle")},set:function(y){this.setPropertyValue("displayStyle",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"currency",{get:function(){return this.getPropertyValue("currency")},set:function(y){["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"].indexOf(y)<0||this.setPropertyValue("currency",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"useGrouping",{get:function(){return this.getPropertyValue("useGrouping")},set:function(y){this.setPropertyValue("useGrouping",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"precision",{get:function(){return this.getPropertyValue("precision")},set:function(y){this.setPropertyValue("precision",y)},enumerable:!1,configurable:!0}),P.prototype.roundValue=function(y){return this.precision<0||!L.Helpers.isNumber(y)?y:parseFloat(y.toFixed(this.precision))},P.prototype.getValueAsStr=function(y){if("date"==this.displayStyle){var v=new Date(y);if(v&&v.toLocaleDateString)return v.toLocaleDateString()}if("none"!=this.displayStyle&&L.Helpers.isNumber(y)){var E=this.getLocale();E||(E="en");var g={style:this.displayStyle,currency:this.currency,useGrouping:this.useGrouping};return this.maximumFractionDigits>-1&&(g.maximumFractionDigits=this.maximumFractionDigits),this.minimumFractionDigits>-1&&(g.minimumFractionDigits=this.minimumFractionDigits),y.toLocaleString(E,g)}return y.toString()},P}(K.Question);function h(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]}j.Serializer.addClass("expression",["expression:expression",{name:"format",serializationProperty:"locFormat"},{name:"displayStyle",default:"none",choices:["none","decimal","currency","percent","date"]},{name:"currency",choices:function(){return["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UZS","VEF","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]},default:"USD"},{name:"maximumFractionDigits:number",default:-1},{name:"minimumFractionDigits:number",default:-1},{name:"useGrouping:boolean",default:!0},{name:"precision:number",default:-1,category:"data"},{name:"enableIf",visible:!1},{name:"isRequired",visible:!1},{name:"readOnly",visible:!1},{name:"requiredErrorText",visible:!1},{name:"defaultValueExpression",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"requiredIf",visible:!1}],function(){return new M("")},"question"),F.QuestionFactory.Instance.registerQuestion("expression",function(D){return new M(D)})},"./src/question_file.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionFileModel",function(){return v}),m.d(V,"FileLoader",function(){return E});var g,L=m("./src/question.ts"),K=m("./src/jsonobject.ts"),j=m("./src/questionfactory.ts"),F=m("./src/error.ts"),S=m("./src/utils/cssClassBuilder.ts"),w=m("./src/utils/utils.ts"),M=m("./src/actions/container.ts"),h=m("./src/actions/action.ts"),D=m("./src/helpers.ts"),P=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),y=function(g,u,l,a){var p,i=arguments.length,o=i<3?u:null===a?a=Object.getOwnPropertyDescriptor(u,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(g,u,l,a);else for(var A=g.length-1;A>=0;A--)(p=g[A])&&(o=(i<3?p(o):i>3?p(u,l,o):p(u,l))||o);return i>3&&o&&Object.defineProperty(u,l,o),o},v=function(g){function u(l){var a=g.call(this,l)||this;return a.isUploading=!1,a.isDragging=!1,a.onUploadStateChanged=a.addEvent(),a.onStateChanged=a.addEvent(),a.mobileFileNavigator=new M.ActionContainer,a.dragCounter=0,a.onDragEnter=function(i){a.isInputReadOnly||(i.preventDefault(),a.isDragging=!0,a.dragCounter++)},a.onDragOver=function(i){if(a.isInputReadOnly)return i.returnValue=!1,!1;i.dataTransfer.dropEffect="copy",i.preventDefault()},a.onDrop=function(i){a.isInputReadOnly||(a.isDragging=!1,a.dragCounter=0,i.preventDefault(),a.onChange(i.dataTransfer))},a.onDragLeave=function(i){a.isInputReadOnly||(a.dragCounter--,0===a.dragCounter&&(a.isDragging=!1))},a.doChange=function(i){a.onChange(i.target||i.srcElement)},a.doClean=function(i){a.needConfirmRemoveFile&&!Object(w.confirmAction)(a.confirmRemoveAllMessage)||(a.rootElement&&(a.rootElement.querySelectorAll("input")[0].value=""),a.clear())},a.doDownloadFile=function(i,o){Object(w.detectIEOrEdge)()&&(i.preventDefault(),Object(w.loadFileFromBase64)(o.content,o.name))},a.fileIndexAction=new h.Action({id:"fileIndex",title:a.getFileIndexCaption(),enabled:!1}),a.prevFileAction=new h.Action({id:"prevPage",iconSize:16,action:function(){a.indexToShow=a.previewValue.length&&(a.indexToShow-1+a.previewValue.length)%a.previewValue.length||0,a.fileIndexAction.title=a.getFileIndexCaption()}}),a.nextFileAction=new h.Action({id:"nextPage",iconSize:16,action:function(){a.indexToShow=a.previewValue.length&&(a.indexToShow+1)%a.previewValue.length||0,a.fileIndexAction.title=a.getFileIndexCaption()}}),a.mobileFileNavigator.actions=[a.prevFileAction,a.fileIndexAction,a.nextFileAction],a}return P(u,g),Object.defineProperty(u.prototype,"mobileFileNavigatorVisible",{get:function(){return this.isMobile&&this.containsMultiplyFiles},enumerable:!1,configurable:!0}),u.prototype.updateElementCssCore=function(l){g.prototype.updateElementCssCore.call(this,l),this.prevFileAction.iconName=this.cssClasses.leftIconId,this.nextFileAction.iconName=this.cssClasses.rightIconId},u.prototype.getFileIndexCaption=function(){return this.getLocalizationFormatString("indexText",this.indexToShow+1,this.previewValue.length)},u.prototype.isPreviewVisible=function(l){return!this.isMobile||l===this.indexToShow},u.prototype.getType=function(){return"file"},u.prototype.clearValue=function(){this.clearOnDeletingContainer(),g.prototype.clearValue.call(this)},u.prototype.clearOnDeletingContainer=function(){!this.survey||this.survey.clearFiles(this,this.name,this.value,null,function(){})},Object.defineProperty(u.prototype,"showPreview",{get:function(){return this.getPropertyValue("showPreview")},set:function(l){this.setPropertyValue("showPreview",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowMultiple",{get:function(){return this.getPropertyValue("allowMultiple")},set:function(l){this.setPropertyValue("allowMultiple",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(l){this.setPropertyValue("imageHeight",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(l){this.setPropertyValue("imageWidth",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"acceptedTypes",{get:function(){return this.getPropertyValue("acceptedTypes")},set:function(l){this.setPropertyValue("acceptedTypes",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"storeDataAsText",{get:function(){return this.getPropertyValue("storeDataAsText")},set:function(l){this.setPropertyValue("storeDataAsText",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"waitForUpload",{get:function(){return this.getPropertyValue("waitForUpload")},set:function(l){this.setPropertyValue("waitForUpload",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowImagesPreview",{get:function(){return this.getPropertyValue("allowImagesPreview")},set:function(l){this.setPropertyValue("allowImagesPreview",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxSize",{get:function(){return this.getPropertyValue("maxSize")},set:function(l){this.setPropertyValue("maxSize",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"needConfirmRemoveFile",{get:function(){return this.getPropertyValue("needConfirmRemoveFile")},set:function(l){this.setPropertyValue("needConfirmRemoveFile",l)},enumerable:!1,configurable:!0}),u.prototype.getConfirmRemoveMessage=function(l){return this.confirmRemoveMessage.format(l)},Object.defineProperty(u.prototype,"inputTitle",{get:function(){return this.isUploading?this.loadingFileTitle:this.isEmpty()?this.chooseFileTitle:" "},enumerable:!1,configurable:!0}),u.prototype.clear=function(l){var a=this;!this.survey||(this.containsMultiplyFiles=!1,this.survey.clearFiles(this,this.name,this.value,null,function(i,o){"success"===i&&(a.value=void 0,a.errors=[],!!l&&l(),a.indexToShow=0,a.fileIndexAction.title=a.getFileIndexCaption())}))},Object.defineProperty(u.prototype,"renderCapture",{get:function(){return this.allowCameraAccess?"user":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"multipleRendered",{get:function(){return this.allowMultiple?"multiple":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showRemoveButton",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButton},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showRemoveButtonBottom",{get:function(){return!this.isReadOnly&&!this.isEmpty()&&this.cssClasses.removeButtonBottom},enumerable:!1,configurable:!0}),u.prototype.defaultImage=function(l){return!this.canPreviewImage(l)&&!!this.cssClasses.defaultImage},u.prototype.removeFile=function(l){this.removeFileByContent(this.value.filter(function(a){return a.name===l})[0])},u.prototype.removeFileByContent=function(l){var a=this;!this.survey||this.survey.clearFiles(this,this.name,this.value,l.name,function(i,o){if("success"===i){var p=a.value;a.value=Array.isArray(p)?p.filter(function(A){return!D.Helpers.isTwoValueEquals(A,l,!0)}):void 0}})},u.prototype.loadFiles=function(l){var a=this;if(this.survey&&(this.errors=[],this.allFilesOk(l))){var i=function(){a.stateChanged("loading");var o=[];a.storeDataAsText?l.forEach(function(p){var A=new FileReader;A.onload=function(B){(o=o.concat([{name:p.name,type:p.type,content:A.result}])).length===l.length&&(a.value=(a.value||[]).concat(o))},A.readAsDataURL(p)}):a.survey&&a.survey.uploadFiles(a,a.name,l,function(p,A){"error"===p&&a.stateChanged("error"),"success"===p&&(a.value=(a.value||[]).concat(A.map(function(B){return{name:B.file.name,type:B.file.type,content:B.content}})))})};this.allowMultiple?i():this.clear(i)}},u.prototype.canPreviewImage=function(l){return this.allowImagesPreview&&!!l&&this.isFileImage(l)},u.prototype.loadPreview=function(l){var a=this;if(this.previewValue.splice(0,this.previewValue.length),this.showPreview&&l){var i=Array.isArray(l)?l:l?[l]:[];this.storeDataAsText?i.forEach(function(o){a.previewValue.push({name:o.name,type:o.type,content:o.content||o})}):(this._previewLoader&&this._previewLoader.dispose(),this.isReadyValue=!1,this._previewLoader=new E(this,function(o,p){"loaded"===o&&p.forEach(function(A){a.previewValue.push(A)}),a.isReady=!0,a._previewLoader.dispose(),a._previewLoader=void 0}),this._previewLoader.load(i)),this.indexToShow=this.previewValue.length>0&&this.indexToShow>0?this.indexToShow-1:0,this.fileIndexAction.title=this.getFileIndexCaption(),this.containsMultiplyFiles=this.previewValue.length>1}},u.prototype.onCheckForErrors=function(l,a){g.prototype.onCheckForErrors.call(this,l,a),this.isUploading&&this.waitForUpload&&l.push(new F.UploadingFileError(this.getLocalizationString("uploadingFile"),this))},u.prototype.stateChanged=function(l){this.currentState!=l&&("loading"===l&&(this.isUploading=!0),"loaded"===l&&(this.isUploading=!1),"error"===l&&(this.isUploading=!1),this.currentState=l,this.onStateChanged.fire(this,{state:l}),this.onUploadStateChanged.fire(this,{state:l}))},u.prototype.allFilesOk=function(l){var a=this,i=this.errors?this.errors.length:0;return(l||[]).forEach(function(o){a.maxSize>0&&o.size>a.maxSize&&a.errors.push(new F.ExceedSizeError(a.maxSize,a))}),i===this.errors.length},u.prototype.isFileImage=function(l){if(!l||!l.content||!l.content.substring)return!1;var a="data:image",i=l.content&&l.content.substring(0,a.length);return(i=i&&i.toLowerCase())===a||!!l.type&&0===l.type.toLowerCase().indexOf("image/")},u.prototype.getPlainData=function(l){void 0===l&&(l={includeEmpty:!0});var a=g.prototype.getPlainData.call(this,l);if(a&&!this.isEmpty()){a.isNode=!1;var i=Array.isArray(this.value)?this.value:[this.value];a.data=i.map(function(o,p){return{name:p,title:"File",value:o.content&&o.content||o,displayValue:o.name&&o.name||o,getString:function(A){return"object"==typeof A?JSON.stringify(A):A},isNode:!1}})}return a},u.prototype.getChooseFileCss=function(){var l=this.isAnswered;return(new S.CssClassBuilder).append(this.cssClasses.chooseFile).append(this.cssClasses.controlDisabled,this.isReadOnly).append(this.cssClasses.chooseFileAsText,!l).append(this.cssClasses.chooseFileAsTextDisabled,!l&&this.isInputReadOnly).append(this.cssClasses.chooseFileAsIcon,l).toString()},u.prototype.getReadOnlyFileCss=function(){return(new S.CssClassBuilder).append("form-control").append(this.cssClasses.placeholderInput).toString()},Object.defineProperty(u.prototype,"fileRootCss",{get:function(){return(new S.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.single,!this.allowMultiple).append(this.cssClasses.singleImage,!this.allowMultiple&&this.isAnswered&&this.canPreviewImage(this.value[0])).append(this.cssClasses.mobile,this.isMobile).toString()},enumerable:!1,configurable:!0}),u.prototype.getFileDecoratorCss=function(){return(new S.CssClassBuilder).append(this.cssClasses.fileDecorator).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.fileDecoratorDrag,this.isDragging).toString()},u.prototype.onChange=function(l){if(window.FileReader&&l&&l.files&&!(l.files.length<1)){for(var a=[],i=this.allowMultiple?l.files.length:1,o=0;o<i;o++)a.push(l.files[o]);l.value="",this.loadFiles(a)}},u.prototype.onChangeQuestionValue=function(l){g.prototype.onChangeQuestionValue.call(this,l),this.stateChanged(this.isEmpty()?"empty":"loaded"),this.isLoadingFromJson||this.loadPreview(l)},u.prototype.endLoadingFromJson=function(){g.prototype.endLoadingFromJson.call(this),this.loadPreview(this.value)},u.prototype.afterRender=function(l){this.rootElement=l,g.prototype.afterRender.call(this,l)},u.prototype.doRemoveFile=function(l){if(!this.needConfirmRemoveFile||Object(w.confirmAction)(this.getConfirmRemoveMessage(l.name))){var i=this.previewValue.indexOf(l);this.removeFileByContent(-1===i?l:this.value[i])}},y([Object(K.property)()],u.prototype,"isDragging",void 0),y([Object(K.propertyArray)({})],u.prototype,"previewValue",void 0),y([Object(K.property)({defaultValue:"empty"})],u.prototype,"currentState",void 0),y([Object(K.property)({defaultValue:0})],u.prototype,"indexToShow",void 0),y([Object(K.property)({defaultValue:!1})],u.prototype,"containsMultiplyFiles",void 0),y([Object(K.property)()],u.prototype,"allowCameraAccess",void 0),y([Object(K.property)({localizable:{defaultStr:"confirmRemoveFile"}})],u.prototype,"confirmRemoveMessage",void 0),y([Object(K.property)({localizable:{defaultStr:"confirmRemoveAllFiles"}})],u.prototype,"confirmRemoveAllMessage",void 0),y([Object(K.property)({localizable:{defaultStr:"noFileChosen"}})],u.prototype,"noFileChosenCaption",void 0),y([Object(K.property)({localizable:{defaultStr:"chooseFileCaption"}})],u.prototype,"chooseButtonCaption",void 0),y([Object(K.property)({localizable:{defaultStr:"clearCaption"}})],u.prototype,"clearButtonCaption",void 0),y([Object(K.property)({localizable:{defaultStr:"removeFileCaption"}})],u.prototype,"removeFileCaption",void 0),y([Object(K.property)({localizable:{defaultStr:"loadingFile"}})],u.prototype,"loadingFileTitle",void 0),y([Object(K.property)({localizable:{defaultStr:"chooseFile"}})],u.prototype,"chooseFileTitle",void 0),y([Object(K.property)({localizable:{defaultStr:"fileDragAreaPlaceholder"}})],u.prototype,"dragAreaPlaceholder",void 0),u}(L.Question);K.Serializer.addClass("file",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"showPreview:boolean",default:!0},"allowMultiple:boolean",{name:"allowImagesPreview:boolean",default:!0},"imageHeight","imageWidth","acceptedTypes",{name:"storeDataAsText:boolean",default:!0},{name:"waitForUpload:boolean",default:!1},{name:"maxSize:number",default:0},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"validators",visible:!1},{name:"needConfirmRemoveFile:boolean"},{name:"allowCameraAccess:switch",category:"general"}],function(){return new v("")},"question"),j.QuestionFactory.Instance.registerQuestion("file",function(g){return new v(g)});var E=function(){function g(u,l){this.fileQuestion=u,this.callback=l,this.loaded=[]}return g.prototype.load=function(u){var l=this,a=0;this.loaded=new Array(u.length),u.forEach(function(i,o){l.fileQuestion.survey&&l.fileQuestion.survey.downloadFile(l.fileQuestion,l.fileQuestion.name,i,function(p,A){!l.fileQuestion||!l.callback||("success"===p?(l.loaded[o]={content:A,name:i.name,type:i.type},++a===u.length&&l.callback("loaded",l.loaded)):l.callback("error",l.loaded))})})},g.prototype.dispose=function(){this.fileQuestion=void 0,this.callback=void 0},g}()},"./src/question_html.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionHtmlModel",function(){return S});var w,L=m("./src/questionnonvalue.ts"),K=m("./src/jsonobject.ts"),j=m("./src/questionfactory.ts"),F=(w=function(M,h){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,P){D.__proto__=P}||function(D,P){for(var y in P)Object.prototype.hasOwnProperty.call(P,y)&&(D[y]=P[y])})(M,h)},function(M,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function D(){this.constructor=M}w(M,h),M.prototype=null===h?Object.create(h):(D.prototype=h.prototype,new D)}),S=function(w){function M(h){var D=w.call(this,h)||this;return D.createLocalizableString("html",D).onGetTextCallback=function(y){return D.survey&&!D.ignoreHtmlProgressing?D.processHtml(y):y},D}return F(M,w),M.prototype.getType=function(){return"html"},Object.defineProperty(M.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),M.prototype.getProcessedText=function(h){return this.ignoreHtmlProgressing?h:w.prototype.getProcessedText.call(this,h)},Object.defineProperty(M.prototype,"html",{get:function(){return this.getLocalizableStringText("html","")},set:function(h){this.setLocalizableStringText("html",h)},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"locHtml",{get:function(){return this.getLocalizableString("html")},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"processedHtml",{get:function(){return this.processHtml(this.html)},enumerable:!1,configurable:!0}),M.prototype.processHtml=function(h){return this.survey?this.survey.processHtml(h,"html-question"):this.html},M}(L.QuestionNonValue);K.Serializer.addClass("html",[{name:"html:html",serializationProperty:"locHtml"}],function(){return new S("")},"nonvalue"),j.QuestionFactory.Instance.registerQuestion("html",function(w){return new S(w)})},"./src/question_image.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionImageModel",function(){return E});var u,L=m("./src/questionnonvalue.ts"),K=m("./src/jsonobject.ts"),j=m("./src/questionfactory.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/utils/utils.ts"),w=(u=function(l,a){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(i[p]=o[p])})(l,a)},function(l,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=l}u(l,a),l.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}),h=["youtube.com","youtu.be"],D=[".mp4",".mov",".wmv",".flv",".avi",".mkv"],P="https://www.youtube.com/",y="embed";function v(u){if(!u)return!1;u=u.toLowerCase();for(var l=0;l<h.length;l++)if(-1!==u.indexOf(h[l]))return!0;return!1}var E=function(u){function l(a){var i=u.call(this,a)||this;return i.createLocalizableString("imageLink",i,!1).onGetTextCallback=function(p){return function g(u){if(!u||!v(u))return u;if(u.toLocaleLowerCase().indexOf(y)>-1)return u;for(var a="",i=u.length-1;i>=0&&"="!==u[i]&&"/"!==u[i];i--)a=u[i]+a;return P+y+"/"+a}(p)},i.createLocalizableString("altText",i,!1),i.registerPropertyChangedHandlers(["contentMode","imageLink"],function(){return i.calculateRenderedMode()}),i}return w(l,u),l.prototype.getType=function(){return"image"},Object.defineProperty(l.prototype,"isCompositeQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.onSurveyLoad=function(){u.prototype.onSurveyLoad.call(this),this.calculateRenderedMode()},Object.defineProperty(l.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(a){this.setLocalizableStringText("imageLink",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"altText",{get:function(){return this.getLocalizableStringText("altText")},set:function(a){this.setLocalizableStringText("altText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locAltText",{get:function(){return this.getLocalizableString("altText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(a){this.setPropertyValue("imageHeight",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedStyleHeight",{get:function(){return this.imageHeight?Object(S.getRenderedStyleSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedHeight",{get:function(){return this.imageHeight?Object(S.getRenderedSize)(this.imageHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(a){this.setPropertyValue("imageWidth",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedStyleWidth",{get:function(){return this.imageWidth?Object(S.getRenderedStyleSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedWidth",{get:function(){return this.imageWidth?Object(S.getRenderedSize)(this.imageWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(a){this.setPropertyValue("imageFit",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(a){this.setPropertyValue("contentMode",a),"video"===a&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"renderedMode",{get:function(){return this.getPropertyValue("renderedMode","image")},enumerable:!1,configurable:!0}),l.prototype.getImageCss=function(){var a=this.getPropertyByName("imageHeight"),i=this.getPropertyByName("imageWidth"),o=a.isDefaultValue(this.imageHeight)&&i.isDefaultValue(this.imageWidth);return(new F.CssClassBuilder).append(this.cssClasses.image).append(this.cssClasses.adaptive,o).toString()},l.prototype.onLoadHandler=function(){this.contentNotLoaded=!1},l.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},l.prototype.setRenderedMode=function(a){this.setPropertyValue("renderedMode",a)},l.prototype.calculateRenderedMode=function(){"auto"!==this.contentMode?this.setRenderedMode(this.contentMode):this.isYoutubeVideo()?this.setRenderedMode("youtube"):this.isVideo()?this.setRenderedMode("video"):this.setRenderedMode("image")},l.prototype.isYoutubeVideo=function(){return v(this.imageLink)},l.prototype.isVideo=function(){var a=this.imageLink;if(!a)return!1;a=a.toLowerCase();for(var i=0;i<D.length;i++)if(a.endsWith(D[i]))return!0;return!1},function(u,l,a,i){var A,o=arguments.length,p=o<3?l:null===i?i=Object.getOwnPropertyDescriptor(l,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(u,l,a,i);else for(var B=u.length-1;B>=0;B--)(A=u[B])&&(p=(o<3?A(p):o>3?A(l,a,p):A(l,a))||p);o>3&&p&&Object.defineProperty(l,a,p)}([Object(K.property)({defaultValue:!1})],l.prototype,"contentNotLoaded",void 0),l}(L.QuestionNonValue);K.Serializer.addClass("image",[{name:"imageLink",serializationProperty:"locImageLink"},{name:"altText",serializationProperty:"locAltText",alternativeName:"text",category:"general"},{name:"contentMode",default:"auto",choices:["auto","image","video","youtube"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight",default:"150"},{name:"imageWidth",default:"200"}],function(){return new E("")},"nonvalue"),j.QuestionFactory.Instance.registerQuestion("image",function(u){return new E(u)})},"./src/question_imagepicker.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ImageItemValue",function(){return y}),m.d(V,"QuestionImagePickerModel",function(){return v});var E,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_baseselect.ts"),F=m("./src/itemvalue.ts"),S=m("./src/helpers.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=m("./src/settings.ts"),h=m("./src/utils/utils.ts"),D=(E=function(g,u){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(l[i]=a[i])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=g}E(g,u),g.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l)}),P=function(E,g,u,l){var o,a=arguments.length,i=a<3?g:null===l?l=Object.getOwnPropertyDescriptor(g,u):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(E,g,u,l);else for(var p=E.length-1;p>=0;p--)(o=E[p])&&(i=(a<3?o(i):a>3?o(g,u,i):o(g,u))||i);return a>3&&i&&Object.defineProperty(g,u,i),i},y=function(E){function g(u,l,a){void 0===l&&(l=null),void 0===a&&(a="imageitemvalue");var i=E.call(this,u,l,a)||this;return i.typeName=a,i.createLocalizableString("imageLink",i,!1),i}return D(g,E),g.prototype.getType=function(){return this.typeName?this.typeName:"itemvalue"},Object.defineProperty(g.prototype,"imageLink",{get:function(){return this.getLocalizableStringText("imageLink")},set:function(u){this.setLocalizableStringText("imageLink",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locImageLink",{get:function(){return this.getLocalizableString("imageLink")},enumerable:!1,configurable:!0}),g.prototype.getLocale=function(){return this.locOwner?this.locOwner.getLocale():""},g.prototype.getMarkdownHtml=function(u,l){return this.locOwner?this.locOwner.getMarkdownHtml(u,l):void 0},g.prototype.getRenderer=function(u){return this.locOwner?this.locOwner.getRenderer(u):null},g.prototype.getRendererContext=function(u){return this.locOwner?this.locOwner.getRendererContext(u):u},g.prototype.getProcessedText=function(u){return this.locOwner?this.locOwner.getProcessedText(u):u},g.prototype.onErrorHandler=function(){this.contentNotLoaded=!0},Object.defineProperty(g.prototype,"contentNotLoaded",{get:function(){return this.locOwner instanceof v&&"video"==this.locOwner.contentMode?this.videoNotLoaded:this.imageNotLoaded},set:function(u){this.locOwner instanceof v&&"video"==this.locOwner.contentMode?this.videoNotLoaded=u:this.imageNotLoaded=u},enumerable:!1,configurable:!0}),P([Object(L.property)({defaultValue:!1})],g.prototype,"videoNotLoaded",void 0),P([Object(L.property)({defaultValue:!1})],g.prototype,"imageNotLoaded",void 0),g}(F.ItemValue),v=function(E){function g(u){var l=E.call(this,u)||this;return l.isResponsiveValue=!1,l.onContentLoaded=function(a,i){a.contentNotLoaded=!1;var o=i.target;a.aspectRatio="video"==l.contentMode?o.videoWidth/o.videoHeight:o.naturalWidth/o.naturalHeight,l._width&&l.processResponsiveness(0,l._width)},l.colCount=0,l.registerPropertyChangedHandlers(["minImageWidth","maxImageWidth","minImageHeight","maxImageHeight","visibleChoices","colCount","isResponsiveValue"],function(){l._width&&l.processResponsiveness(0,l._width)}),l.registerPropertyChangedHandlers(["imageWidth","imageHeight"],function(){l.calcIsResponsive()}),l.calcIsResponsive(),l}return D(g,E),g.prototype.getType=function(){return"imagepicker"},g.prototype.supportGoNextPageAutomatic=function(){return!this.multiSelect},Object.defineProperty(g.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),g.prototype.getItemValueType=function(){return"imageitemvalue"},Object.defineProperty(g.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),g.prototype.supportOther=function(){return!1},g.prototype.supportNone=function(){return!1},g.prototype.isAnswerCorrect=function(){return this.multiSelect?S.Helpers.isArrayContainsEqual(this.value,this.correctAnswer):E.prototype.isAnswerCorrect.call(this)},Object.defineProperty(g.prototype,"multiSelect",{get:function(){return this.getPropertyValue("multiSelect")},set:function(u){this.setPropertyValue("multiSelect",u)},enumerable:!1,configurable:!0}),g.prototype.isItemSelected=function(u){var l=this.value,a=u;if(this.isValueEmpty(l)||!a.imageLink||a.contentNotLoaded)return!1;if(!this.multiSelect)return this.isTwoValueEquals(l,u.value);if(!Array.isArray(l))return!1;for(var i=0;i<l.length;i++)if(this.isTwoValueEquals(l[i],u.value))return!0;return!1},g.prototype.getItemEnabled=function(u){return!(!u.imageLink||u.contentNotLoaded)&&E.prototype.getItemEnabled.call(this,u)},g.prototype.clearIncorrectValues=function(){if(this.multiSelect){var u=this.value;if(!u)return;if(!Array.isArray(u)||0==u.length)return void this.clearValue();for(var l=[],a=0;a<u.length;a++)this.hasUnknownValue(u[a],!0)||l.push(u[a]);if(l.length==u.length)return;0==l.length?this.clearValue():this.value=l}else E.prototype.clearIncorrectValues.call(this)},g.prototype.getDisplayValueCore=function(u,l){return this.multiSelect||Array.isArray(l)?this.getDisplayArrayValue(u,l):E.prototype.getDisplayValueCore.call(this,u,l)},Object.defineProperty(g.prototype,"showLabel",{get:function(){return this.getPropertyValue("showLabel")},set:function(u){this.setPropertyValue("showLabel",u)},enumerable:!1,configurable:!0}),g.prototype.endLoadingFromJson=function(){E.prototype.endLoadingFromJson.call(this),!this.isDesignMode&&this.multiSelect&&(this.createNewArray("renderedValue"),this.createNewArray("value")),this.calcIsResponsive()},g.prototype.getValueCore=function(){var u=E.prototype.getValueCore.call(this);return void 0!==u?u:this.multiSelect?[]:u},g.prototype.convertValToArrayForMultSelect=function(u){return!this.multiSelect||this.isValueEmpty(u)||Array.isArray(u)?u:[u]},g.prototype.renderedValueFromDataCore=function(u){return this.convertValToArrayForMultSelect(u)},g.prototype.rendredValueToDataCore=function(u){return this.convertValToArrayForMultSelect(u)},Object.defineProperty(g.prototype,"imageHeight",{get:function(){return this.getPropertyValue("imageHeight")},set:function(u){this.setPropertyValue("imageHeight",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedImageHeight",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageHeight):this.imageHeight)||150},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"imageWidth",{get:function(){return this.getPropertyValue("imageWidth")},set:function(u){this.setPropertyValue("imageWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderedImageWidth",{get:function(){return(this.isResponsive?Math.floor(this.responsiveImageWidth):this.imageWidth)||200},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"imageFit",{get:function(){return this.getPropertyValue("imageFit")},set:function(u){this.setPropertyValue("imageFit",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"contentMode",{get:function(){return this.getPropertyValue("contentMode")},set:function(u){this.setPropertyValue("contentMode",u),"video"===u&&(this.showLabel=!0)},enumerable:!1,configurable:!0}),g.prototype.convertDefaultValue=function(u){return u},Object.defineProperty(g.prototype,"inputType",{get:function(){return this.multiSelect?"checkbox":"radio"},enumerable:!1,configurable:!0}),g.prototype.isFootChoice=function(u,l){return!1},g.prototype.getSelectBaseRootCss=function(){return(new w.CssClassBuilder).append(E.prototype.getSelectBaseRootCss.call(this)).append(this.cssClasses.rootColumn,1==this.getCurrentColCount()).toString()},Object.defineProperty(g.prototype,"isResponsive",{get:function(){return this.isResponsiveValue&&this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"exactSizesAreEmpty",{get:function(){var u=this;return!["imageHeight","imageWidth"].some(function(l){return null!=u[l]})},enumerable:!1,configurable:!0}),g.prototype.calcIsResponsive=function(){this.isResponsiveValue=this.exactSizesAreEmpty},g.prototype.getObservedElementSelector=function(){return Object(h.classesToSelector)(this.cssClasses.root)},g.prototype.supportResponsiveness=function(){return!0},g.prototype.needResponsiveness=function(){return this.supportResponsiveness()&&this.isDefaultV2Theme},g.prototype.getCurrentColCount=function(){return void 0===this.responsiveColCount||0===this.colCount?this.colCount:this.responsiveColCount},g.prototype.processResponsiveness=function(u,l){this._width=l=Math.floor(l);var a=function(J,se,he){var ie=Math.floor(J/(se+he));return(ie+1)*(se+he)-he<=J&&ie++,ie};if(this.isResponsive){var b,i=this.choices.length+(this.isDesignMode?1:0),o=this.gapBetweenItems||0,p=this.minImageWidth,A=this.maxImageWidth,B=this.maxImageHeight,O=this.minImageHeight,f=this.colCount;if(0===f)if((o+p)*i-o>l){var C=a(l,p,o);b=Math.floor((l-o*(C-1))/C)}else b=Math.floor((l-o*(i-1))/i);else{var c=a(l,p,o);c<f?(this.responsiveColCount=c>=1?c:1,f=this.responsiveColCount):this.responsiveColCount=f,b=Math.floor((l-o*(f-1))/f)}b=Math.max(p,Math.min(b,A));var T=Number.MIN_VALUE;this.choices.forEach(function(J){var se=b/J.aspectRatio;T=se>T?se:T}),T>B?T=B:T<O&&(T=O);var I=this.responsiveImageWidth,H=this.responsiveImageHeight;return this.responsiveImageWidth=b,this.responsiveImageHeight=T,I!==this.responsiveImageWidth||H!==this.responsiveImageHeight}return!1},g.prototype.triggerResponsiveness=function(u){void 0===u&&(u=!0),u&&this.reCalcGapBetweenItemsCallback&&this.reCalcGapBetweenItemsCallback(),E.prototype.triggerResponsiveness.call(this,u)},g.prototype.afterRender=function(u){var l=this;E.prototype.afterRender.call(this,u),u&&u.querySelector(this.getObservedElementSelector())&&(this.reCalcGapBetweenItemsCallback=function(){l.gapBetweenItems=Math.ceil(Number.parseFloat(window.getComputedStyle(u.querySelector(l.getObservedElementSelector())).gap))||16},this.reCalcGapBetweenItemsCallback())},P([Object(L.property)({})],g.prototype,"responsiveImageHeight",void 0),P([Object(L.property)({})],g.prototype,"responsiveImageWidth",void 0),P([Object(L.property)({})],g.prototype,"isResponsiveValue",void 0),P([Object(L.property)({})],g.prototype,"maxImageWidth",void 0),P([Object(L.property)({})],g.prototype,"minImageWidth",void 0),P([Object(L.property)({})],g.prototype,"maxImageHeight",void 0),P([Object(L.property)({})],g.prototype,"minImageHeight",void 0),P([Object(L.property)({})],g.prototype,"responsiveColCount",void 0),g}(j.QuestionCheckboxBase);L.Serializer.addClass("imageitemvalue",[{name:"imageLink",serializationProperty:"locImageLink"}],function(E){return new y(E)},"itemvalue"),L.Serializer.addClass("responsiveImageSize",[],void 0,"number"),L.Serializer.addClass("imagepicker",[{name:"showOtherItem",visible:!1},{name:"otherText",visible:!1},{name:"showNoneItem",visible:!1},{name:"noneText",visible:!1},{name:"optionsCaption",visible:!1},{name:"otherErrorText",visible:!1},{name:"storeOthersAsComment",visible:!1},{name:"contentMode",default:"image",choices:["image","video"]},{name:"imageFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"imageHeight:number",minValue:0},{name:"imageWidth:number",minValue:0},{name:"minImageWidth:responsiveImageSize",default:200,minValue:0,visibleIf:function(){return M.settings.supportCreatorV2}},{name:"minImageHeight:responsiveImageSize",default:133,minValue:0,visibleIf:function(){return M.settings.supportCreatorV2}},{name:"maxImageWidth:responsiveImageSize",default:400,minValue:0,visibleIf:function(){return M.settings.supportCreatorV2}},{name:"maxImageHeight:responsiveImageSize",default:266,minValue:0,visibleIf:function(){return M.settings.supportCreatorV2}}],function(){return new v("")},"checkboxbase"),L.Serializer.addProperty("imagepicker",{name:"showLabel:boolean",default:!1}),L.Serializer.addProperty("imagepicker",{name:"colCount:number",default:0,choices:[0,1,2,3,4,5]}),L.Serializer.addProperty("imagepicker",{name:"multiSelect:boolean",default:!1}),L.Serializer.addProperty("imagepicker",{name:"choices:imageitemvalue[]"}),K.QuestionFactory.Instance.registerQuestion("imagepicker",function(E){return new v(E)})},"./src/question_matrix.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MatrixRowModel",function(){return g}),m.d(V,"MatrixCells",function(){return u}),m.d(V,"QuestionMatrixModel",function(){return l});var a,L=m("./src/helpers.ts"),K=m("./src/itemvalue.ts"),j=m("./src/martixBase.ts"),F=m("./src/jsonobject.ts"),S=m("./src/base.ts"),w=m("./src/surveyStrings.ts"),M=m("./src/error.ts"),h=m("./src/questionfactory.ts"),D=m("./src/localizablestring.ts"),P=m("./src/question_dropdown.ts"),y=m("./src/settings.ts"),v=m("./src/utils/cssClassBuilder.ts"),E=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),g=function(a){function i(o,p,A,B){var O=a.call(this)||this;return O.fullName=p,O.item=o,O.data=A,O.value=B,O.cellClick=function(f){O.value=f.value},O.registerPropertyChangedHandlers(["value"],function(){O.data&&O.data.onMatrixRowChanged(O)}),O}return E(i,a),Object.defineProperty(i.prototype,"name",{get:function(){return this.item.value},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.getPropertyValue("value")},set:function(o){o=this.data.getCorrectedRowValue(o),this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowClasses",{get:function(){var o=this.data.cssClasses,p=!!this.data.getErrorByType("requiredinallrowserror");return(new v.CssClassBuilder).append(o.row).append(o.rowError,p&&this.isValueEmpty(this.value)).toString()},enumerable:!1,configurable:!0}),i}(S.Base),u=function(){function a(i){this.cellsOwner=i,this.values={}}return Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0==Object.keys(this.values).length},enumerable:!1,configurable:!0}),a.prototype.valuesChanged=function(){this.onValuesChanged&&this.onValuesChanged()},a.prototype.setCellText=function(i,o,p){if(i=this.getCellRowColumnValue(i,this.rows),o=this.getCellRowColumnValue(o,this.columns),i&&o){if(p)this.values[i]||(this.values[i]={}),this.values[i][o]||(this.values[i][o]=this.createString()),this.values[i][o].text=p;else if(this.values[i]&&this.values[i][o]){var A=this.values[i][o];A.text="",A.isEmpty&&(delete this.values[i][o],0==Object.keys(this.values[i]).length&&delete this.values[i])}this.valuesChanged()}},a.prototype.setDefaultCellText=function(i,o){this.setCellText(y.settings.matrix.defaultRowName,i,o)},a.prototype.getCellLocText=function(i,o){return i=this.getCellRowColumnValue(i,this.rows),o=this.getCellRowColumnValue(o,this.columns),i&&o&&this.values[i]&&this.values[i][o]?this.values[i][o]:null},a.prototype.getDefaultCellLocText=function(i,o){return this.getCellLocText(y.settings.matrix.defaultRowName,i)},a.prototype.getCellDisplayLocText=function(i,o){var p=this.getCellLocText(i,o);return p&&!p.isEmpty||(p=this.getCellLocText(y.settings.matrix.defaultRowName,o))&&!p.isEmpty?p:("number"==typeof o&&(o=o>=0&&o<this.columns.length?this.columns[o]:null),o&&o.locText?o.locText:null)},a.prototype.getCellText=function(i,o){var p=this.getCellLocText(i,o);return p?p.calculatedText:null},a.prototype.getDefaultCellText=function(i){var o=this.getCellLocText(y.settings.matrix.defaultRowName,i);return o?o.calculatedText:null},a.prototype.getCellDisplayText=function(i,o){var p=this.getCellDisplayLocText(i,o);return p?p.calculatedText:null},Object.defineProperty(a.prototype,"rows",{get:function(){return this.cellsOwner?this.cellsOwner.getRows():[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"columns",{get:function(){return this.cellsOwner?this.cellsOwner.getColumns():[]},enumerable:!1,configurable:!0}),a.prototype.getCellRowColumnValue=function(i,o){if(null==i)return null;if("number"==typeof i){if(i<0||i>=o.length)return null;i=o[i].value}return i.value?i.value:i},a.prototype.getJson=function(){if(this.isEmpty)return null;var i={};for(var o in this.values){var p={},A=this.values[o];for(var B in A)p[B]=A[B].getJson();i[o]=p}return i},a.prototype.setJson=function(i){if(this.values={},i)for(var o in i)if("pos"!=o){var p=i[o];for(var A in this.values[o]={},p)if("pos"!=A){var B=this.createString();B.setJson(p[A]),this.values[o][A]=B}}this.valuesChanged()},a.prototype.locStrsChanged=function(){if(!this.isEmpty)for(var i in this.values){var o=this.values[i];for(var p in o)o[p].strChanged()}},a.prototype.createString=function(){return new D.LocalizableString(this.cellsOwner,!0)},a}(),l=function(a){function i(o){var p=a.call(this,o)||this;return p.isRowChanging=!1,p.emptyLocalizableString=new D.LocalizableString(p),p.cellsValue=new u(p),p.cellsValue.onValuesChanged=function(){p.updateHasCellText(),p.propertyValueChanged("cells",p.cells,p.cells)},p.registerPropertyChangedHandlers(["columns"],function(){p.onColumnsChanged()}),p.registerPropertyChangedHandlers(["rows"],function(){p.filterItems()||p.onRowsChanged()}),p.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){p.updateVisibilityBasedOnRows()}),p}return E(i,a),i.prototype.getType=function(){return"matrix"},Object.defineProperty(i.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isAllRowRequired",{get:function(){return this.getPropertyValue("isAllRowRequired")},set:function(o){this.setPropertyValue("isAllRowRequired",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasRows",{get:function(){return this.rows.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"rowsOrder",{get:function(){return this.getPropertyValue("rowsOrder")},set:function(o){(o=o.toLowerCase())!=this.rowsOrder&&(this.setPropertyValue("rowsOrder",o),this.onRowsChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(o){this.setPropertyValue("hideIfRowsEmpty",o)},enumerable:!1,configurable:!0}),i.prototype.getRows=function(){return this.rows},i.prototype.getColumns=function(){return this.visibleColumns},i.prototype.addColumn=function(o,p){var A=new K.ItemValue(o,p);return this.columns.push(A),A},i.prototype.getItemClass=function(o,p){var A=o.value==p.value,B=this.isReadOnly,O=!A&&!B;return(new v.CssClassBuilder).append(this.cssClasses.cell,this.hasCellText).append(this.hasCellText?this.cssClasses.cellText:this.cssClasses.label).append(this.cssClasses.itemOnError,!this.hasCellText&&this.errors.length>0).append(this.hasCellText?this.cssClasses.cellTextSelected:this.cssClasses.itemChecked,A).append(this.hasCellText?this.cssClasses.cellTextDisabled:this.cssClasses.itemDisabled,B).append(this.cssClasses.itemHover,O&&!this.hasCellText).toString()},Object.defineProperty(i.prototype,"itemSvgIcon",{get:function(){return this.cssClasses.itemSvgIconId},enumerable:!1,configurable:!0}),i.prototype.locStrsChanged=function(){a.prototype.locStrsChanged.call(this),this.cells.locStrsChanged()},i.prototype.getQuizQuestionCount=function(){for(var o=0,p=0;p<this.rows.length;p++)this.isValueEmpty(this.correctAnswer[this.rows[p].value])||o++;return o},i.prototype.getCorrectAnswerCount=function(){for(var o=0,p=this.value,A=0;A<this.rows.length;A++){var B=this.rows[A].value;!this.isValueEmpty(p[B])&&this.isTwoValueEquals(this.correctAnswer[B],p[B])&&o++}return o},i.prototype.getVisibleRows=function(){var o=new Array,p=this.value;p||(p={});for(var A=this.filteredRows?this.filteredRows:this.rows,B=0;B<A.length;B++){var O=A[B];this.isValueEmpty(O.value)||o.push(this.createMatrixRow(O,this.id+"_"+O.value.toString().replace(/\s/g,"_"),p[O.value]))}return this.generatedVisibleRows=o,o},i.prototype.sortVisibleRows=function(o){return this.survey&&this.survey.isDesignMode?o:"random"===this.rowsOrder.toLowerCase()?L.Helpers.randomizeArray(o):o},i.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.rows=this.sortVisibleRows(this.rows)},i.prototype.processRowsOnSet=function(o){return this.sortVisibleRows(o)},Object.defineProperty(i.prototype,"visibleRows",{get:function(){return this.getVisibleRows()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cells",{get:function(){return this.cellsValue},set:function(o){this.cells.setJson(o&&o.getJson?o.getJson():null)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCellText",{get:function(){return this.getPropertyValue("hasCellText",!1)},enumerable:!1,configurable:!0}),i.prototype.updateHasCellText=function(){this.setPropertyValue("hasCellText",!this.cells.isEmpty)},i.prototype.setCellText=function(o,p,A){this.cells.setCellText(o,p,A)},i.prototype.getCellText=function(o,p){return this.cells.getCellText(o,p)},i.prototype.setDefaultCellText=function(o,p){this.cells.setDefaultCellText(o,p)},i.prototype.getDefaultCellText=function(o){return this.cells.getDefaultCellText(o)},i.prototype.getCellDisplayText=function(o,p){return this.cells.getCellDisplayText(o,p)},i.prototype.getCellDisplayLocText=function(o,p){return this.cells.getCellDisplayLocText(o,p)||this.emptyLocalizableString},i.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown&&this.hasValuesInAllRows()},i.prototype.onCheckForErrors=function(o,p){a.prototype.onCheckForErrors.call(this,o,p),(!p||this.errors.length>0)&&this.hasErrorInRows()&&o.push(new M.RequiredInAllRowsError(null,this))},i.prototype.hasErrorInRows=function(){return!!this.isAllRowRequired&&!this.hasValuesInAllRows()},i.prototype.hasValuesInAllRows=function(){var o=this.generatedVisibleRows;if(o||(o=this.visibleRows),!o)return!0;for(var p=0;p<o.length;p++)if(this.isValueEmpty(o[p].value))return!1;return!0},i.prototype.getIsAnswered=function(){return a.prototype.getIsAnswered.call(this)&&this.hasValuesInAllRows()},i.prototype.createMatrixRow=function(o,p,A){var B=new g(o,p,this,A);return this.onMatrixRowCreated(B),B},i.prototype.onMatrixRowCreated=function(o){},i.prototype.setQuestionValue=function(o,p){if(void 0===p&&(p=!0),a.prototype.setQuestionValue.call(this,o,this.isRowChanging||p),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length){this.isRowChanging=!0;var A=this.value;if(A||(A={}),0==this.rows.length)this.generatedVisibleRows[0].value=A;else for(var B=0;B<this.generatedVisibleRows.length;B++){var f=A[this.generatedVisibleRows[B].name];this.isValueEmpty(f)&&(f=null),this.generatedVisibleRows[B].value=f}this.updateIsAnswered(),this.isRowChanging=!1}},i.prototype.getDisplayValueCore=function(o,p){var A={};for(var B in p){var O=o?K.ItemValue.getTextOrHtmlByValue(this.rows,B):B;O||(O=B);var f=K.ItemValue.getTextOrHtmlByValue(this.columns,p[B]);f||(f=p[B]),A[O]=f}return A},i.prototype.getPlainData=function(o){var p=this;void 0===o&&(o={includeEmpty:!0});var A=a.prototype.getPlainData.call(this,o);if(A){var B=this.createValueCopy();A.isNode=!0,A.data=Object.keys(B||{}).map(function(O){var f=p.rows.filter(function(c){return c.value===O})[0],b={name:O,title:f?f.text:"row",value:B[O],displayValue:K.ItemValue.getTextOrHtmlByValue(p.visibleColumns,B[O]),getString:function(c){return"object"==typeof c?JSON.stringify(c):c},isNode:!1},C=K.ItemValue.getItemByValue(p.visibleColumns,B[O]);return C&&(o.calculations||[]).forEach(function(c){b[c.propertyName]=C[c.propertyName]}),b})}return A},i.prototype.addConditionObjectsByContext=function(o,p){for(var A=0;A<this.rows.length;A++){var B=this.rows[A];B.value&&o.push({name:this.getValueName()+"."+B.value,text:this.processedTitle+"."+B.calculatedText,question:this})}},i.prototype.getConditionJson=function(o,p){if(void 0===o&&(o=null),void 0===p&&(p=null),!p)return a.prototype.getConditionJson.call(this);var A=new P.QuestionDropdownModel(p);A.choices=this.columns;var B=(new F.JsonObject).toJsonObject(A);return B.type=A.getType(),B},i.prototype.clearValueIfInvisibleCore=function(o){a.prototype.clearValueIfInvisibleCore.call(this,o),this.hasRows&&this.clearInvisibleValuesInRows()},i.prototype.getFirstInputElementId=function(){var o=this.generatedVisibleRows;return o||(o=this.visibleRows),o.length>0&&this.visibleColumns.length>0?this.inputId+"_"+o[0].name+"_0":a.prototype.getFirstInputElementId.call(this)},i.prototype.onMatrixRowChanged=function(o){if(!this.isRowChanging){if(this.isRowChanging=!0,this.hasRows){var p=this.value;p||(p={}),p[o.name]=o.value,this.setNewValue(p)}else this.setNewValue(o.value);this.isRowChanging=!1}},i.prototype.getCorrectedRowValue=function(o){for(var p=0;p<this.columns.length;p++)if(o===this.columns[p].value)return o;for(p=0;p<this.columns.length;p++)if(this.isTwoValueEquals(o,this.columns[p].value))return this.columns[p].value;return o},i.prototype.getSearchableItemValueKeys=function(o){o.push("columns"),o.push("rows")},Object.defineProperty(i.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),i.prototype.getColumnHeaderWrapperComponentName=function(o){return this.SurveyModel.getElementWrapperComponentName({column:o},"column-header")},i.prototype.getColumnHeaderWrapperComponentData=function(o){return this.SurveyModel.getElementWrapperComponentData({column:o},"column-header")},i.prototype.getRowHeaderWrapperComponentName=function(o){return this.SurveyModel.getElementWrapperComponentName({row:o},"row-header")},i.prototype.getRowHeaderWrapperComponentData=function(o){return this.SurveyModel.getElementWrapperComponentData({row:o},"row-header")},i}(j.QuestionMatrixBaseModel);F.Serializer.addClass("matrix",["rowTitleWidth",{name:"columns:itemvalue[]",uniqueProperty:"value",baseValue:function(){return w.surveyLocalization.getString("matrix_column")}},{name:"rows:itemvalue[]",uniqueProperty:"value",baseValue:function(){return w.surveyLocalization.getString("matrix_row")}},{name:"cells:cells",serializationProperty:"cells"},{name:"rowsOrder",default:"initial",choices:["initial","random"]},"isAllRowRequired:boolean","hideIfRowsEmpty:boolean"],function(){return new l("")},"matrixbase"),h.QuestionFactory.Instance.registerQuestion("matrix",function(a){var i=new l(a);return i.rows=h.QuestionFactory.DefaultRows,i.columns=h.QuestionFactory.DefaultColums,i})},"./src/question_matrixdropdown.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MatrixDropdownRowModel",function(){return w}),m.d(V,"QuestionMatrixDropdownModel",function(){return M});var h,L=m("./src/question_matrixdropdownbase.ts"),K=m("./src/jsonobject.ts"),j=m("./src/itemvalue.ts"),F=m("./src/questionfactory.ts"),S=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),w=function(h){function D(P,y,v,E){var g=h.call(this,v,E)||this;return g.name=P,g.item=y,g.buildCells(E),g}return S(D,h),Object.defineProperty(D.prototype,"rowName",{get:function(){return this.name},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"text",{get:function(){return this.item.text},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locText",{get:function(){return this.item.locText},enumerable:!1,configurable:!0}),D}(L.MatrixDropdownRowModelBase),M=function(h){function D(P){var y=h.call(this,P)||this;return y.createLocalizableString("totalText",y,!0),y.registerPropertyChangedHandlers(["rows"],function(){y.clearGeneratedRows(),y.resetRenderedTable(),y.filterItems()||y.onRowsChanged(),y.clearIncorrectValues()}),y.registerPropertyChangedHandlers(["hideIfRowsEmpty"],function(){y.updateVisibilityBasedOnRows()}),y}return S(D,h),D.prototype.getType=function(){return"matrixdropdown"},Object.defineProperty(D.prototype,"totalText",{get:function(){return this.getLocalizableStringText("totalText","")},set:function(P){this.setLocalizableStringText("totalText",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"locTotalText",{get:function(){return this.getLocalizableString("totalText")},enumerable:!1,configurable:!0}),D.prototype.getFooterText=function(){return this.locTotalText},D.prototype.getRowTitleWidth=function(){return this.rowTitleWidth},Object.defineProperty(D.prototype,"hideIfRowsEmpty",{get:function(){return this.getPropertyValue("hideIfRowsEmpty")},set:function(P){this.setPropertyValue("hideIfRowsEmpty",P)},enumerable:!1,configurable:!0}),D.prototype.getDisplayValueCore=function(P,y){if(!y)return y;var v=this.visibleRows,E={};if(!v)return E;for(var g=0;g<v.length;g++){var u=v[g].rowName,l=y[u];if(l){if(P){var a=j.ItemValue.getTextOrHtmlByValue(this.rows,u);a&&(u=a)}E[u]=this.getRowDisplayValue(P,v[g],l)}}return E},D.prototype.getConditionObjectRowName=function(P){return"."+this.rows[P].value},D.prototype.getConditionObjectRowText=function(P){return"."+this.rows[P].calculatedText},D.prototype.getConditionObjectsRowIndeces=function(){for(var P=[],y=0;y<this.rows.length;y++)P.push(y);return P},D.prototype.setNewValue=function(P){P&&"object"!=typeof P||h.prototype.setNewValue.call(this,P)},D.prototype.clearIncorrectValues=function(){var P=this.value;if(P){var y=null,v=!1,E=this.filteredRows?this.filteredRows:this.rows;for(var g in P)j.ItemValue.getItemByValue(E,g)?(null==y&&(y={}),y[g]=P[g]):v=!0;v&&(this.value=y),h.prototype.clearIncorrectValues.call(this)}},D.prototype.clearValueIfInvisibleCore=function(P){h.prototype.clearValueIfInvisibleCore.call(this,P),this.clearInvisibleValuesInRows()},D.prototype.generateRows=function(){var P=new Array,y=this.filteredRows?this.filteredRows:this.rows;if(!y||0===y.length)return P;var v=this.value;v||(v={});for(var E=0;E<y.length;E++)this.isValueEmpty(y[E].value)||P.push(this.createMatrixRow(y[E],v[y[E].value]));return P},D.prototype.createMatrixRow=function(P,y){return new w(P.value,P,this,y)},D.prototype.getSearchableItemValueKeys=function(P){P.push("rows")},D.prototype.updateProgressInfoByValues=function(P){var y=this.value;y||(y={});for(var v=0;v<this.rows.length;v++)this.updateProgressInfoByRow(P,y[this.rows[v].value]||{})},D}(L.QuestionMatrixDropdownModelBase);K.Serializer.addClass("matrixdropdown",[{name:"rows:itemvalue[]",uniqueProperty:"value"},"rowsVisibleIf:condition","rowTitleWidth",{name:"totalText",serializationProperty:"locTotalText"},"hideIfRowsEmpty:boolean"],function(){return new M("")},"matrixdropdownbase"),F.QuestionFactory.Instance.registerQuestion("matrixdropdown",function(h){var D=new M(h);return D.choices=[1,2,3,4,5],D.rows=F.QuestionFactory.DefaultRows,L.QuestionMatrixDropdownModelBase.addDefaultColumns(D),D})},"./src/question_matrixdropdownbase.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MatrixDropdownCell",function(){return l}),m.d(V,"MatrixDropdownTotalCell",function(){return a}),m.d(V,"MatrixDropdownRowModelBase",function(){return o}),m.d(V,"MatrixDropdownTotalRowModel",function(){return p}),m.d(V,"QuestionMatrixDropdownModelBase",function(){return A});var B,L=m("./src/jsonobject.ts"),K=m("./src/martixBase.ts"),j=m("./src/helpers.ts"),F=m("./src/base.ts"),S=m("./src/survey-element.ts"),w=m("./src/textPreProcessor.ts"),M=m("./src/itemvalue.ts"),h=m("./src/questionfactory.ts"),D=m("./src/functionsfactory.ts"),P=m("./src/settings.ts"),y=m("./src/error.ts"),v=m("./src/utils/cssClassBuilder.ts"),E=m("./src/question_matrixdropdowncolumn.ts"),g=m("./src/question_matrixdropdownrendered.ts"),u=(B=function(O,f){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var c in C)Object.prototype.hasOwnProperty.call(C,c)&&(b[c]=C[c])})(O,f)},function(O,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=O}B(O,f),O.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}),l=function(){function B(O,f,b){this.column=O,this.row=f,this.data=b,this.questionValue=this.createQuestion(O,f,b),this.questionValue.updateCustomWidget()}return B.prototype.locStrsChanged=function(){this.question.locStrsChanged()},B.prototype.createQuestion=function(O,f,b){var C=b.createQuestion(this.row,this.column);return C.validateValueCallback=function(){return b.validateCell(f,O.name,f.value)},L.CustomPropertiesCollection.getProperties(O.getType()).forEach(function(c){var T=c.name;void 0!==O[T]&&(C[T]=O[T])}),C},Object.defineProperty(B.prototype,"question",{get:function(){return this.questionValue},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"value",{get:function(){return this.question.value},set:function(O){this.question.value=O},enumerable:!1,configurable:!0}),B.prototype.runCondition=function(O,f){this.question.runCondition(O,f)},B}(),a=function(B){function O(f,b,C){var c=B.call(this,f,b,C)||this;return c.column=f,c.row=b,c.data=C,c.updateCellQuestion(),c}return u(O,B),O.prototype.createQuestion=function(f,b,C){var c=L.Serializer.createClass("expression");return c.setSurveyImpl(b),c},O.prototype.locStrsChanged=function(){this.updateCellQuestion(),B.prototype.locStrsChanged.call(this)},O.prototype.updateCellQuestion=function(){this.question.locCalculation(),this.column.updateCellQuestion(this.question,null,function(f){delete f.defaultValue}),this.question.expression=this.getTotalExpression(),this.question.format=this.column.totalFormat,this.question.currency=this.column.totalCurrency,this.question.displayStyle=this.column.totalDisplayStyle,this.question.maximumFractionDigits=this.column.totalMaximumFractionDigits,this.question.minimumFractionDigits=this.column.totalMinimumFractionDigits,this.question.unlocCalculation(),this.question.runIfReadOnly=!0},O.prototype.getTotalExpression=function(){if(this.column.totalExpression)return this.column.totalExpression;if("none"==this.column.totalType)return"''";var f=this.column.totalType+"InArray";return D.FunctionFactory.Instance.hasFunction(f)?f+"({self}, '"+this.column.name+"')":""},O}(l),i=function(B){function O(f,b,C){var c=B.call(this,b)||this;return c.row=f,c.variableName=b,c.parentTextProcessor=C,c}return u(O,B),O.prototype.getParentTextProcessor=function(){return this.parentTextProcessor},Object.defineProperty(O.prototype,"survey",{get:function(){return this.row.getSurvey()},enumerable:!1,configurable:!0}),O.prototype.getValues=function(){return this.row.value},O.prototype.getQuestionByName=function(f){return this.row.getQuestionByName(f)},O.prototype.onCustomProcessText=function(f){return f.name==o.IndexVariableName?(f.isExists=!0,f.value=this.row.rowIndex,!0):f.name==o.RowValueVariableName&&(f.isExists=!0,f.value=this.row.rowName,!0)},O}(w.QuestionTextProcessor),o=function(){function B(O,f){var b=this;this.isSettingValue=!1,this.detailPanelValue=null,this.cells=[],this.isCreatingDetailPanel=!1,this.data=O,this.subscribeToChanges(f),this.textPreProcessor=new i(this,B.RowVariableName,O?O.getParentTextProcessor():null),this.showHideDetailPanelClick=function(){if(b.getSurvey().isDesignMode)return!0;b.showHideDetailPanel()},this.idValue=B.getId()}return B.getId=function(){return"srow_"+B.idCounter++},Object.defineProperty(B.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"rowName",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"text",{get:function(){return this.rowName},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"value",{get:function(){for(var O={},f=this.questions,b=0;b<f.length;b++){var C=f[b];C.isEmpty()||(O[C.getValueName()]=C.value),C.comment&&this.getSurvey()&&this.getSurvey().storeOthersAsComment&&(O[C.getValueName()+F.Base.commentSuffix]=C.comment)}return O},set:function(O){this.isSettingValue=!0,this.subscribeToChanges(O);for(var f=this.questions,b=0;b<f.length;b++){var C=f[b],c=this.getCellValue(O,C.getValueName()),T=C.comment,I=O?O[C.getValueName()+F.Base.commentSuffix]:"";null==I&&(I=""),C.updateValueFromSurvey(c),(!!I||this.isTwoValueEquals(T,C.comment))&&C.updateCommentFromSurvey(I),C.onSurveyValueChanged(c)}this.isSettingValue=!1},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"locText",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"hasPanel",{get:function(){return!!this.data&&this.data.hasDetailPanel(this)},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"detailPanelId",{get:function(){return this.detailPanel?this.detailPanel.id:""},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"isDetailPanelShowing",{get:function(){return!!this.data&&this.data.getIsDetailPanelShowing(this)},enumerable:!1,configurable:!0}),B.prototype.setIsDetailPanelShowing=function(O){this.data&&this.data.setIsDetailPanelShowing(this,O),this.onDetailPanelShowingChanged&&this.onDetailPanelShowingChanged()},B.prototype.showHideDetailPanel=function(){this.isDetailPanelShowing?this.hideDetailPanel():this.showDetailPanel()},B.prototype.showDetailPanel=function(){this.ensureDetailPanel(),this.detailPanelValue&&this.setIsDetailPanelShowing(!0)},B.prototype.hideDetailPanel=function(O){void 0===O&&(O=!1),this.setIsDetailPanelShowing(!1),O&&(this.detailPanelValue=null)},B.prototype.ensureDetailPanel=function(){if(!this.isCreatingDetailPanel&&!this.detailPanelValue&&this.hasPanel&&this.data){this.isCreatingDetailPanel=!0,this.detailPanelValue=this.data.createRowDetailPanel(this);var O=this.detailPanelValue.questions,f=this.data.getRowValue(this.data.getRowIndex(this));if(!j.Helpers.isValueEmpty(f))for(var b=0;b<O.length;b++){var C=O[b].getValueName();j.Helpers.isValueEmpty(f[C])||(O[b].value=f[C])}this.detailPanelValue.setSurveyImpl(this),this.isCreatingDetailPanel=!1}},B.prototype.getAllValues=function(){return this.value},B.prototype.getFilteredValues=function(){var O=this.getAllValues(),f=this.validationValues;for(var b in f||(f={}),f.row=O,O)f[b]=O[b];return f},B.prototype.getFilteredProperties=function(){return{survey:this.getSurvey(),row:this}},B.prototype.runCondition=function(O,f){this.data&&(O[B.OwnerVariableName]=this.data.value),O[B.IndexVariableName]=this.rowIndex,O[B.RowValueVariableName]=this.rowName,f||(f={}),f[B.RowVariableName]=this;for(var b=0;b<this.cells.length;b++)O[B.RowVariableName]=this.value,this.cells[b].runCondition(O,f);this.detailPanel&&this.detailPanel.runCondition(O,f)},B.prototype.clearValue=function(){for(var O=this.questions,f=0;f<O.length;f++)O[f].clearValue()},B.prototype.onAnyValueChanged=function(O){for(var f=this.questions,b=0;b<f.length;b++)f[b].onAnyValueChanged(O)},B.prototype.getDataValueCore=function(O,f){var b=this.getSurvey();return b?b.getDataValueCore(O,f):O[f]},B.prototype.getValue=function(O){var f=this.getQuestionByName(O);return f?f.value:null},B.prototype.setValue=function(O,f){this.setValueCore(O,f,!1)},B.prototype.getVariable=function(O){},B.prototype.setVariable=function(O,f){},B.prototype.getComment=function(O){var f=this.getQuestionByName(O);return f?f.comment:""},B.prototype.setComment=function(O,f,b){this.setValueCore(O,f,!0)},B.prototype.findQuestionByName=function(O){if(O){var f=B.RowVariableName+".";if(0===O.indexOf(f))return this.getQuestionByName(O.substring(f.length));var b=this.getSurvey();return b?b.getQuestionByName(O):null}},B.prototype.setValueCore=function(O,f,b){if(!this.isSettingValue){this.updateQuestionsValue(O,f,b);var C=this.value,c=b?O+F.Base.commentSuffix:O,T=f,I=this.getQuestionByName(O),H=this.data.onRowChanging(this,c,C);!!I&&!this.isTwoValueEquals(H,T)&&(this.isSettingValue=!0,b?I.comment=H:I.value=H,this.isSettingValue=!1,C=this.value),this.data.isValidateOnValueChanging&&this.hasQuestonError(I)||(this.data.onRowChanged(this,c,C,null==f&&!I||b&&!f&&!!I&&I.autoOtherMode),this.onAnyValueChanged(B.RowVariableName))}},B.prototype.updateQuestionsValue=function(O,f,b){if(this.detailPanel){var C=this.getQuestionByColumnName(O),c=this.detailPanel.getQuestionByName(O);if(C&&c){var I=this.isTwoValueEquals(f,b?C.comment:C.value)?c:C;this.isSettingValue=!0,b?I.comment=f:I.value=f,this.isSettingValue=!1}}},B.prototype.hasQuestonError=function(O){if(!O)return!1;if(O.hasErrors(!0,{isOnValueChanged:!this.data.isValidateOnValueChanging}))return!0;if(O.isEmpty())return!1;var f=this.getCellByColumnName(O.name);return!!(f&&f.column&&f.column.isUnique)&&this.data.checkIfValueInRowDuplicated(this,O)},Object.defineProperty(B.prototype,"isEmpty",{get:function(){var O=this.value;if(j.Helpers.isValueEmpty(O))return!0;for(var f in O)if(null!=O[f])return!1;return!0},enumerable:!1,configurable:!0}),B.prototype.getQuestionByColumn=function(O){var f=this.getCellByColumn(O);return f?f.question:null},B.prototype.getCellByColumn=function(O){for(var f=0;f<this.cells.length;f++)if(this.cells[f].column==O)return this.cells[f];return null},B.prototype.getCellByColumnName=function(O){for(var f=0;f<this.cells.length;f++)if(this.cells[f].column.name==O)return this.cells[f];return null},B.prototype.getQuestionByColumnName=function(O){var f=this.getCellByColumnName(O);return f?f.question:null},Object.defineProperty(B.prototype,"questions",{get:function(){for(var O=[],f=0;f<this.cells.length;f++)O.push(this.cells[f].question);var b=this.detailPanel?this.detailPanel.questions:[];for(f=0;f<b.length;f++)O.push(b[f]);return O},enumerable:!1,configurable:!0}),B.prototype.getQuestionByName=function(O){return this.getQuestionByColumnName(O)||(this.detailPanel?this.detailPanel.getQuestionByName(O):null)},B.prototype.getQuestionsByName=function(O){var f=[],b=this.getQuestionByColumnName(O);return b&&f.push(b),this.detailPanel&&(b=this.detailPanel.getQuestionByName(O))&&f.push(b),f},B.prototype.getSharedQuestionByName=function(O){return this.data?this.data.getSharedQuestionByName(O,this):null},B.prototype.clearIncorrectValues=function(O){for(var f in O){var b=this.getQuestionByName(f);if(b){var C=b.value;b.clearIncorrectValues(),this.isTwoValueEquals(C,b.value)||this.setValue(f,b.value)}else!this.getSharedQuestionByName(f)&&f.indexOf(P.settings.matrix.totalsSuffix)<0&&this.setValue(f,null)}},B.prototype.getLocale=function(){return this.data?this.data.getLocale():""},B.prototype.getMarkdownHtml=function(O,f){return this.data?this.data.getMarkdownHtml(O,f):void 0},B.prototype.getRenderer=function(O){return this.data?this.data.getRenderer(O):null},B.prototype.getRendererContext=function(O){return this.data?this.data.getRendererContext(O):O},B.prototype.getProcessedText=function(O){return this.data?this.data.getProcessedText(O):O},B.prototype.locStrsChanged=function(){for(var O=0;O<this.cells.length;O++)this.cells[O].locStrsChanged();this.detailPanel&&this.detailPanel.locStrsChanged()},B.prototype.updateCellQuestionOnColumnChanged=function(O,f,b){var C=this.getCellByColumn(O);!C||this.updateCellOnColumnChanged(C,f,b)},B.prototype.updateCellQuestionOnColumnItemValueChanged=function(O,f,b,C,c,T){var I=this.getCellByColumn(O);!I||this.updateCellOnColumnItemValueChanged(I,f,b,C,c,T)},B.prototype.onQuestionReadOnlyChanged=function(O){for(var f=this.questions,b=0;b<f.length;b++){var C=f[b];C.setPropertyValue("isReadOnly",C.isReadOnly)}this.detailPanel&&(this.detailPanel.readOnly=O)},B.prototype.hasErrors=function(O,f,b){var C=!1,c=this.cells;if(!c)return C;this.validationValues=f.validationValues;for(var T=0;T<c.length;T++)if(c[T]){var I=c[T].question;!I||!I.visible||(I.onCompletedAsyncValidators=function(J){b()},(!f||!0!==f.isOnValueChanged||!I.isEmpty())&&(C=I.hasErrors(O,f)||C))}if(this.hasPanel){this.ensureDetailPanel();var H=this.detailPanel.hasErrors(O,!1,f);!f.hideErroredPanel&&H&&O&&(f.isSingleDetailPanel&&(f.hideErroredPanel=!0),this.showDetailPanel()),C=H||C}return this.validationValues=void 0,C},B.prototype.updateCellOnColumnChanged=function(O,f,b){O.question[f]=b},B.prototype.updateCellOnColumnItemValueChanged=function(O,f,b,C,c,T){var I=O.question[f];if(Array.isArray(I)){var J=M.ItemValue.getItemByValue(I,"value"===C?T:b.value);!J||(J[C]=c)}},B.prototype.buildCells=function(O){this.isSettingValue=!0;for(var f=this.data.columns,b=0;b<f.length;b++){var C=f[b];if(C.isVisible){var c=this.createCell(C);this.cells.push(c);var T=this.getCellValue(O,C.name);if(!j.Helpers.isValueEmpty(T)){c.question.value=T;var I=C.name+F.Base.commentSuffix;O&&!j.Helpers.isValueEmpty(O[I])&&(c.question.comment=O[I])}}}this.isSettingValue=!1},B.prototype.isTwoValueEquals=function(O,f){return j.Helpers.isTwoValueEquals(O,f,!1,!0,!1)},B.prototype.getCellValue=function(O,f){return this.editingObj?L.Serializer.getObjPropertyValue(this.editingObj,f):O?O[f]:void 0},B.prototype.createCell=function(O){return new l(O,this,this.data)},B.prototype.getSurveyData=function(){return this},B.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},B.prototype.getTextProcessor=function(){return this.textPreProcessor},Object.defineProperty(B.prototype,"rowIndex",{get:function(){return this.data?this.data.getRowIndex(this)+1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"editingObj",{get:function(){return this.editingObjValue},enumerable:!1,configurable:!0}),B.prototype.dispose=function(){this.editingObj&&(this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=null)},B.prototype.subscribeToChanges=function(O){var f=this;!O||!O.getType||!O.onPropertyChanged||O!==this.editingObj&&(this.editingObjValue=O,this.onEditingObjPropertyChanged=function(b,C){f.updateOnSetValue(C.name,C.newValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))},B.prototype.updateOnSetValue=function(O,f){this.isSettingValue=!0;for(var b=this.getQuestionsByName(O),C=0;C<b.length;C++)b[C].value=f;this.isSettingValue=!1},B.RowVariableName="row",B.OwnerVariableName="self",B.IndexVariableName="rowIndex",B.RowValueVariableName="rowValue",B.idCounter=1,B}(),p=function(B){function O(f){var b=B.call(this,f,null)||this;return b.buildCells(null),b}return u(O,B),O.prototype.createCell=function(f){return new a(f,this,this.data)},O.prototype.setValue=function(f,b){this.data&&!this.isSettingValue&&this.data.onTotalValueChanged()},O.prototype.runCondition=function(f,b){var c,C=0;do{c=j.Helpers.getUnbindValue(this.value),B.prototype.runCondition.call(this,f,b),C++}while(!j.Helpers.isTwoValueEquals(c,this.value)&&C<3)},O.prototype.updateCellOnColumnChanged=function(f,b,C){f.updateCellQuestion()},O}(o),A=function(B){function O(f){var b=B.call(this,f)||this;return b.isRowChanging=!1,b.lockResetRenderedTable=!1,b.isDoingonAnyValueChanged=!1,b.createItemValues("choices"),b.createLocalizableString("placeholder",b,!1,!0),b.createLocalizableString("keyDuplicationError",b,!1,!0),b.detailPanelValue=b.createNewDetailPanel(),b.detailPanel.selectedElementInDesign=b,b.detailPanel.renderWidth="100%",b.detailPanel.isInteractiveDesignElement=!1,b.detailPanel.showTitle=!1,b.registerPropertyChangedHandlers(["columns","cellType"],function(){b.updateColumnsAndRows()}),b.registerPropertyChangedHandlers(["placeholder","columnColCount","rowTitleWidth","choices"],function(){b.clearRowsAndResetRenderedTable()}),b.registerPropertyChangedHandlers(["columnLayout","addRowLocation","hideColumnsIfEmpty","showHeader","minRowCount","isReadOnly","rowCount","hasFooter","detailPanelMode"],function(){b.resetRenderedTable()}),b.registerPropertyChangedHandlers(["isMobile"],function(){"vertical"===b.columnLayout&&b.resetRenderedTable()}),b}return u(O,B),Object.defineProperty(O,"defaultCellType",{get:function(){return P.settings.matrix.defaultCellType},set:function(f){P.settings.matrix.defaultCellType=f},enumerable:!1,configurable:!0}),O.addDefaultColumns=function(f){for(var b=h.QuestionFactory.DefaultColums,C=0;C<b.length;C++)f.addColumn(b[C])},O.prototype.createColumnValues=function(){var f=this;return this.createNewArray("columns",function(b){b.colOwner=f,f.onAddColumn&&f.onAddColumn(b),f.survey&&f.survey.matrixColumnAdded(f,b)},function(b){b.colOwner=null,f.onRemoveColumn&&f.onRemoveColumn(b)})},O.prototype.getType=function(){return"matrixdropdownbase"},O.prototype.dispose=function(){B.prototype.dispose.call(this),this.clearGeneratedRows()},Object.defineProperty(O.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRowsDynamic",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isUpdateLocked",{get:function(){return this.isLoadingFromJson||this.isUpdating},enumerable:!1,configurable:!0}),O.prototype.beginUpdate=function(){this.isUpdating=!0},O.prototype.endUpdate=function(){this.isUpdating=!1,this.updateColumnsAndRows()},O.prototype.updateColumnsAndRows=function(){this.updateColumnsIndexes(this.columns),this.updateColumnsCellType(),this.generatedTotalRow=null,this.clearRowsAndResetRenderedTable()},O.prototype.itemValuePropertyChanged=function(f,b,C,c){B.prototype.itemValuePropertyChanged.call(this,f,b,C,c),"choices"===f.ownerPropertyName&&this.clearRowsAndResetRenderedTable()},Object.defineProperty(O.prototype,"columnLayout",{get:function(){return this.getPropertyValue("columnLayout")},set:function(f){this.setPropertyValue("columnLayout",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"columnsLocation",{get:function(){return this.columnLayout},set:function(f){this.columnLayout=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isColumnLayoutHorizontal",{get:function(){return!!this.isMobile||"vertical"!=this.columnLayout},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isUniqueCaseSensitive",{get:function(){return void 0!==this.isUniqueCaseSensitiveValue?this.isUniqueCaseSensitiveValue:P.settings.comparator.caseSensitive},set:function(f){this.isUniqueCaseSensitiveValue=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"detailPanelMode",{get:function(){return this.getPropertyValue("detailPanelMode")},set:function(f){this.setPropertyValue("detailPanelMode",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"detailPanel",{get:function(){return this.detailPanelValue},enumerable:!1,configurable:!0}),O.prototype.getPanel=function(){return this.detailPanel},Object.defineProperty(O.prototype,"detailElements",{get:function(){return this.detailPanel.elements},enumerable:!1,configurable:!0}),O.prototype.createNewDetailPanel=function(){return L.Serializer.createClass("panel")},Object.defineProperty(O.prototype,"hasRowText",{get:function(){return!0},enumerable:!1,configurable:!0}),O.prototype.getFooterText=function(){return null},Object.defineProperty(O.prototype,"canAddRow",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"canRemoveRows",{get:function(){return!1},enumerable:!1,configurable:!0}),O.prototype.canRemoveRow=function(f){return!0},O.prototype.onPointerDown=function(f,b){},O.prototype.onRowsChanged=function(){this.resetRenderedTable(),B.prototype.onRowsChanged.call(this)},O.prototype.onStartRowAddingRemoving=function(){this.lockResetRenderedTable=!0,this.setValueChangedDirectly()},O.prototype.onEndRowAdding=function(){if(this.lockResetRenderedTable=!1,this.renderedTable)if(this.renderedTable.isRequireReset())this.resetRenderedTable();else{var f=this.visibleRows.length-1;this.renderedTable.onAddedRow(this.visibleRows[f],f)}},O.prototype.onEndRowRemoving=function(f){this.lockResetRenderedTable=!1,this.renderedTable.isRequireReset()?this.resetRenderedTable():f&&this.renderedTable.onRemovedRow(f)},Object.defineProperty(O.prototype,"renderedTableValue",{get:function(){return this.getPropertyValue("renderedTable",null)},set:function(f){this.setPropertyValue("renderedTable",f)},enumerable:!1,configurable:!0}),O.prototype.clearRowsAndResetRenderedTable=function(){this.clearGeneratedRows(),this.resetRenderedTable(),this.fireCallback(this.columnsChangedCallback)},O.prototype.resetRenderedTable=function(){this.lockResetRenderedTable||this.isUpdateLocked||(this.renderedTableValue=null,this.fireCallback(this.onRenderedTableResetCallback))},O.prototype.clearGeneratedRows=function(){if(this.generatedVisibleRows){for(var f=0;f<this.generatedVisibleRows.length;f++)this.generatedVisibleRows[f].dispose();B.prototype.clearGeneratedRows.call(this)}},Object.defineProperty(O.prototype,"isRendredTableCreated",{get:function(){return!!this.renderedTableValue},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderedTable",{get:function(){return this.renderedTableValue||(this.renderedTableValue=this.createRenderedTable(),this.onRenderedTableCreatedCallback&&this.onRenderedTableCreatedCallback(this.renderedTableValue)),this.renderedTableValue},enumerable:!1,configurable:!0}),O.prototype.createRenderedTable=function(){return new g.QuestionMatrixDropdownRenderedTable(this)},O.prototype.onMatrixRowCreated=function(f){if(this.survey)for(var b={rowValue:f.value,row:f,column:null,columnName:null,cell:null,cellQuestion:null,value:null},C=0;C<this.visibleColumns.length;C++){b.column=this.visibleColumns[C],b.columnName=b.column.name;var c=f.cells[C];b.cell=c,b.cellQuestion=c.question,b.value=c.value,this.onCellCreatedCallback&&this.onCellCreatedCallback(b),this.survey.matrixCellCreated(this,b)}},Object.defineProperty(O.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType",P.settings.matrix.defaultCellType)},set:function(f){f=f.toLowerCase(),this.setPropertyValue("cellType",f)},enumerable:!1,configurable:!0}),O.prototype.updateColumnsCellType=function(){for(var f=0;f<this.columns.length;f++)this.columns[f].defaultCellTypeChanged()},O.prototype.updateColumnsIndexes=function(f){for(var b=0;b<f.length;b++)f[b].setIndex(b)},Object.defineProperty(O.prototype,"columnColCount",{get:function(){return this.getPropertyValue("columnColCount")},set:function(f){f<0||f>4||this.setPropertyValue("columnColCount",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"horizontalScroll",{get:function(){return this.getPropertyValue("horizontalScroll")},set:function(f){this.setPropertyValue("horizontalScroll",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"allowAdaptiveActions",{get:function(){return this.getPropertyValue("allowAdaptiveActions")},set:function(f){this.setPropertyValue("allowAdaptiveActions",f),this.detailPanel&&(this.detailPanel.allowAdaptiveActions=f)},enumerable:!1,configurable:!0}),O.prototype.getRequiredText=function(){return this.survey?this.survey.requiredText:""},O.prototype.hasChoices=function(){return this.choices.length>0},O.prototype.onColumnPropertyChanged=function(f,b,C){if(this.updateHasFooter(),this.generatedVisibleRows){for(var c=0;c<this.generatedVisibleRows.length;c++)this.generatedVisibleRows[c].updateCellQuestionOnColumnChanged(f,b,C);this.generatedTotalRow&&this.generatedTotalRow.updateCellQuestionOnColumnChanged(f,b,C),this.onColumnsChanged(),"isRequired"==b&&this.resetRenderedTable()}},O.prototype.onColumnItemValuePropertyChanged=function(f,b,C,c,T,I){if(this.generatedVisibleRows)for(var H=0;H<this.generatedVisibleRows.length;H++)this.generatedVisibleRows[H].updateCellQuestionOnColumnItemValueChanged(f,b,C,c,T,I)},O.prototype.onShowInMultipleColumnsChanged=function(f){this.clearGeneratedRows(),this.resetRenderedTable()},O.prototype.onColumnCellTypeChanged=function(f){this.clearGeneratedRows(),this.resetRenderedTable()},O.prototype.getRowTitleWidth=function(){return""},Object.defineProperty(O.prototype,"hasFooter",{get:function(){return this.getPropertyValue("hasFooter",!1)},enumerable:!1,configurable:!0}),O.prototype.getAddRowLocation=function(){return"default"},O.prototype.getShowColumnsIfEmpty=function(){return!1},O.prototype.updateShowTableAndAddRow=function(){this.renderedTable&&this.renderedTable.updateShowTableAndAddRow()},O.prototype.updateHasFooter=function(){this.setPropertyValue("hasFooter",this.hasTotal)},Object.defineProperty(O.prototype,"hasTotal",{get:function(){for(var f=0;f<this.columns.length;f++)if(this.columns[f].hasTotal)return!0;return!1},enumerable:!1,configurable:!0}),O.prototype.getCellType=function(){return this.cellType},O.prototype.getCustomCellType=function(f,b,C){if(!this.survey)return C;var c={rowValue:b.value,row:b,column:f,columnName:f.name,cellType:C};return this.survey.matrixCellCreating(this,c),c.cellType},O.prototype.getConditionJson=function(f,b){if(void 0===f&&(f=null),void 0===b&&(b=null),!b)return B.prototype.getConditionJson.call(this);for(var C="",c=b.length-1;c>=0&&"."!=b[c];c--)C=b[c]+C;var T=this.getColumnByName(C);if(!T)return null;var I=T.createCellQuestion(null);return I?I.getConditionJson(f):null},O.prototype.clearIncorrectValues=function(){var f=this.visibleRows;if(f)for(var b=0;b<f.length;b++)f[b].clearIncorrectValues(this.getRowValue(b))},O.prototype.clearErrors=function(){B.prototype.clearErrors.call(this),this.runFuncForCellQuestions(function(f){f.clearErrors()})},O.prototype.localeChanged=function(){B.prototype.localeChanged.call(this),this.runFuncForCellQuestions(function(f){f.localeChanged()})},O.prototype.runFuncForCellQuestions=function(f){if(this.generatedVisibleRows)for(var b=0;b<this.generatedVisibleRows.length;b++)for(var C=this.generatedVisibleRows[b],c=0;c<C.cells.length;c++)f(C.cells[c].question)},O.prototype.runCondition=function(f,b){B.prototype.runCondition.call(this,f,b);var c,C=0;do{c=j.Helpers.getUnbindValue(this.totalValue),this.runCellsCondition(f,b),this.runTotalsCondition(f,b),C++}while(!j.Helpers.isTwoValueEquals(c,this.totalValue)&&C<3)},O.prototype.shouldRunColumnExpression=function(){return!1},O.prototype.runCellsCondition=function(f,b){if(this.generatedVisibleRows){for(var C=this.getRowConditionValues(f),c=this.generatedVisibleRows,T=0;T<c.length;T++)c[T].runCondition(C,b);this.checkColumnsVisibility(),this.checkColumnsRenderedRequired()}},O.prototype.checkColumnsVisibility=function(){for(var f=!1,b=0;b<this.visibleColumns.length;b++)!this.visibleColumns[b].visibleIf||(f=this.isColumnVisibilityChanged(this.visibleColumns[b])||f);f&&this.resetRenderedTable()},O.prototype.checkColumnsRenderedRequired=function(){for(var f=this.generatedVisibleRows,b=0;b<this.visibleColumns.length;b++){var C=this.visibleColumns[b];if(C.requiredIf){for(var c=f.length>0,T=0;T<f.length;T++)if(!f[T].cells[b].question.isRequired){c=!1;break}C.updateIsRenderedRequired(c)}}},O.prototype.isColumnVisibilityChanged=function(f){for(var b=f.hasVisibleCell,C=!1,c=this.generatedVisibleRows,T=0;T<c.length;T++){var I=c[T].cells[f.index];if(I&&I.question&&I.question.isVisible){C=!0;break}}return b!=C&&(f.hasVisibleCell=C),b!=C},O.prototype.runTotalsCondition=function(f,b){!this.generatedTotalRow||this.generatedTotalRow.runCondition(this.getRowConditionValues(f),b)},O.prototype.getRowConditionValues=function(f){var b=f;b||(b={});var C={};return this.isValueEmpty(this.totalValue)||(C=JSON.parse(JSON.stringify(this.totalValue))),b.row={},b.totalRow=C,b},O.prototype.locStrsChanged=function(){B.prototype.locStrsChanged.call(this);for(var f=this.columns,b=0;b<f.length;b++)f[b].locStrsChanged();var C=this.generatedVisibleRows;if(C){for(b=0;b<C.length;b++)C[b].locStrsChanged();this.generatedTotalRow&&this.generatedTotalRow.locStrsChanged()}},O.prototype.getColumnByName=function(f){for(var b=0;b<this.columns.length;b++)if(this.columns[b].name==f)return this.columns[b];return null},O.prototype.getColumnName=function(f){return this.getColumnByName(f)},O.prototype.getColumnWidth=function(f){var b;return f.minWidth?f.minWidth:this.columnMinWidth?this.columnMinWidth:(null===(b=P.settings.matrix.columnWidthsByType[f.cellType])||void 0===b?void 0:b.minWidth)||""},Object.defineProperty(O.prototype,"choices",{get:function(){return this.getPropertyValue("choices")},set:function(f){this.setPropertyValue("choices",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(f){this.setLocalizableStringText("placeholder",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"optionsCaption",{get:function(){return this.placeholder},set:function(f){this.placeholder=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(f){this.setLocalizableStringText("keyDuplicationError",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"storeOthersAsComment",{get:function(){return!!this.survey&&this.survey.storeOthersAsComment},enumerable:!1,configurable:!0}),O.prototype.addColumn=function(f,b){void 0===b&&(b=null);var C=new E.MatrixDropdownColumn(f,b);return this.columns.push(C),C},O.prototype.getVisibleRows=function(){var f=this;return this.isUpdateLocked?null:(this.generatedVisibleRows||(this.generatedVisibleRows=this.generateRows(),this.generatedVisibleRows.forEach(function(b){return f.onMatrixRowCreated(b)}),this.data&&this.runCellsCondition(this.data.getFilteredValues(),this.data.getFilteredProperties()),this.updateValueOnRowsGeneration(this.generatedVisibleRows),this.updateIsAnswered()),this.generatedVisibleRows)},O.prototype.updateValueOnRowsGeneration=function(f){for(var b=this.createNewValue(!0),C=this.createNewValue(),c=0;c<f.length;c++){var T=f[c];if(!T.editingObj){var I=this.getRowValue(c),H=T.value;this.isTwoValueEquals(I,H)||(C=this.getNewValueOnRowChanged(T,"",H,!1,C).value)}}this.isTwoValueEquals(b,C)||(this.isRowChanging=!0,this.setNewValue(C),this.isRowChanging=!1)},Object.defineProperty(O.prototype,"totalValue",{get:function(){return this.hasTotal&&this.visibleTotalRow?this.visibleTotalRow.value:{}},enumerable:!1,configurable:!0}),O.prototype.getVisibleTotalRow=function(){if(this.isUpdateLocked)return null;if(this.hasTotal){if(!this.generatedTotalRow&&(this.generatedTotalRow=this.generateTotalRow(),this.data)){var f={survey:this.survey};this.runTotalsCondition(this.data.getAllValues(),f)}}else this.generatedTotalRow=null;return this.generatedTotalRow},Object.defineProperty(O.prototype,"visibleTotalRow",{get:function(){return this.getVisibleTotalRow()},enumerable:!1,configurable:!0}),O.prototype.onSurveyLoad=function(){B.prototype.onSurveyLoad.call(this),this.updateColumnsIndexes(this.columns),this.clearGeneratedRows(),this.generatedTotalRow=null,this.updateHasFooter()},O.prototype.getRowValue=function(f){if(f<0)return null;var b=this.visibleRows;if(f>=b.length)return null;var C=this.createNewValue();return this.getRowValueCore(b[f],C)},O.prototype.checkIfValueInRowDuplicated=function(f,b){if(!this.generatedVisibleRows)return!1;for(var C=!1,c=0;c<this.generatedVisibleRows.length;c++){var T=this.generatedVisibleRows[c];if(f!==T&&j.Helpers.isTwoValueEquals(T.getValue(b.name),b.value,!0,this.isUniqueCaseSensitive)){C=!0;break}}return C?this.addDuplicationError(b):b.clearErrors(),C},O.prototype.setRowValue=function(f,b){if(f<0)return null;var C=this.visibleRows;if(f>=C.length)return null;C[f].value=b,this.onRowChanged(C[f],"",b,!1)},O.prototype.generateRows=function(){return null},O.prototype.generateTotalRow=function(){return new p(this)},O.prototype.createNewValue=function(f){void 0===f&&(f=!1);var b=this.value?this.createValueCopy():{};return f&&this.isMatrixValueEmpty(b)?null:b},O.prototype.getRowValueCore=function(f,b,C){void 0===C&&(C=!1);var c=b&&b[f.rowName]?b[f.rowName]:null;return!c&&C&&(c={},b&&(b[f.rowName]=c)),c},O.prototype.getRowObj=function(f){var b=this.getRowValueCore(f,this.value);return b&&b.getType?b:null},O.prototype.getRowDisplayValue=function(f,b,C){if(!C||b.editingObj)return C;for(var c=Object.keys(C),T=0;T<c.length;T++){var I=c[T],H=b.getQuestionByName(I);if(H||(H=this.getSharedQuestionByName(I,b)),H){var J=H.getDisplayValue(f,C[I]);f&&H.title&&H.title!==I?(C[H.title]=J,delete C[I]):C[I]=J}}return C},O.prototype.getPlainData=function(f){var b=this;void 0===f&&(f={includeEmpty:!0});var C=B.prototype.getPlainData.call(this,f);return C&&(C.isNode=!0,C.data=this.visibleRows.map(function(c){var T={name:c.rowName,title:c.text,value:c.value,displayValue:b.getRowDisplayValue(!1,c,c.value),getString:function(I){return"object"==typeof I?JSON.stringify(I):I},isNode:!0,data:c.cells.map(function(I){return I.question.getPlainData(f)}).filter(function(I){return!!I})};return(f.calculations||[]).forEach(function(I){T[I.propertyName]=c[I.propertyName]}),T})),C},O.prototype.addConditionObjectsByContext=function(f,b){var C=!!b&&(!0===b||this.columns.indexOf(b)>-1),c=this.getConditionObjectsRowIndeces();C&&c.push(-1);for(var T=0;T<c.length;T++){var I=c[T],H=I>-1?this.getConditionObjectRowName(I):"row";if(H)for(var J=I>-1?this.getConditionObjectRowText(I):"row",se=I>-1||!0===b,he=se&&-1===I?".":"",ie=(se?this.getValueName():"")+he+H+".",ye=(se?this.processedTitle:"")+he+J+".",Ie=0;Ie<this.columns.length;Ie++){var ue=this.columns[Ie];if(-1!==I||b!==ue){var fe={name:ie+ue.name,text:ye+ue.fullTitle,question:this};-1===I&&!0===b&&(fe.context=this),f.push(fe)}}}},O.prototype.collectNestedQuestionsCore=function(f,b){this.visibleRows.forEach(function(c){c.questions.forEach(function(T){return T.collectNestedQuestions(f,b)})})},O.prototype.getConditionObjectRowName=function(f){return""},O.prototype.getConditionObjectRowText=function(f){return this.getConditionObjectRowName(f)},O.prototype.getConditionObjectsRowIndeces=function(){return[]},O.prototype.getProgressInfo=function(){if(this.generatedVisibleRows)return S.SurveyElement.getProgressInfoByElements(this.getCellQuestions(),this.isRequired);var f=F.Base.createProgressInfo();return this.updateProgressInfoByValues(f),0===f.requiredQuestionCount&&this.isRequired&&(f.requiredQuestionCount=1,f.requiredAnsweredQuestionCount=this.isEmpty()?0:1),f},O.prototype.updateProgressInfoByValues=function(f){},O.prototype.updateProgressInfoByRow=function(f,b){for(var C=0;C<this.columns.length;C++){var c=this.columns[C];if(c.templateQuestion.hasInput){f.questionCount+=1,f.requiredQuestionCount+=c.isRequired;var T=!j.Helpers.isValueEmpty(b[c.name]);f.answeredQuestionCount+=T?1:0,f.requiredAnsweredQuestionCount+=T&&c.isRequired?1:0}}},O.prototype.getCellQuestions=function(){var f=[];return this.runFuncForCellQuestions(function(b){f.push(b)}),f},O.prototype.onBeforeValueChanged=function(f){},O.prototype.onSetQuestionValue=function(){if(!this.isRowChanging&&(this.onBeforeValueChanged(this.value),this.generatedVisibleRows&&0!=this.generatedVisibleRows.length)){this.isRowChanging=!0;for(var f=this.createNewValue(),b=0;b<this.generatedVisibleRows.length;b++)this.generatedVisibleRows[b].value=this.getRowValueCore(this.generatedVisibleRows[b],f);this.isRowChanging=!1}},O.prototype.setQuestionValue=function(f){B.prototype.setQuestionValue.call(this,f,!1),this.onSetQuestionValue(),this.updateIsAnswered()},O.prototype.supportGoNextPageAutomatic=function(){var f=this.generatedVisibleRows;if(f||(f=this.visibleRows),!f)return!0;for(var b=0;b<f.length;b++){var C=this.generatedVisibleRows[b].cells;if(C)for(var c=0;c<C.length;c++){var T=C[c].question;if(T&&(!T.supportGoNextPageAutomatic()||!T.value))return!1}}return!0},O.prototype.getContainsErrors=function(){return B.prototype.getContainsErrors.call(this)||this.checkForAnswersOrErrors(function(f){return f.containsErrors},!1)},O.prototype.getIsAnswered=function(){return B.prototype.getIsAnswered.call(this)&&this.checkForAnswersOrErrors(function(f){return f.isAnswered},!0)},O.prototype.checkForAnswersOrErrors=function(f,b){void 0===b&&(b=!1);var C=this.generatedVisibleRows;if(!C)return!1;for(var c=0;c<C.length;c++){var T=C[c].cells;if(T)for(var I=0;I<T.length;I++)if(T[I]){var H=T[I].question;if(H&&H.isVisible)if(f(H)){if(!b)return!0}else if(b)return!1}}return!!b},O.prototype.hasErrors=function(f,b){void 0===f&&(f=!0),void 0===b&&(b=null);var C=this.hasErrorInRows(f,b),c=this.isValueDuplicated();return B.prototype.hasErrors.call(this,f,b)||C||c},O.prototype.getIsRunningValidators=function(){if(B.prototype.getIsRunningValidators.call(this))return!0;if(!this.generatedVisibleRows)return!1;for(var f=0;f<this.generatedVisibleRows.length;f++){var b=this.generatedVisibleRows[f].cells;if(b)for(var C=0;C<b.length;C++)if(b[C]){var c=b[C].question;if(c&&c.isRunningValidators)return!0}}return!1},O.prototype.getAllErrors=function(){var f=B.prototype.getAllErrors.call(this),b=this.generatedVisibleRows;if(null===b)return f;for(var C=0;C<b.length;C++)for(var c=b[C],T=0;T<c.cells.length;T++){var I=c.cells[T].question.getAllErrors();I&&I.length>0&&(f=f.concat(I))}return f},O.prototype.hasErrorInRows=function(f,b){var C=this,c=this.generatedVisibleRows;this.generatedVisibleRows||(c=this.visibleRows);var T=!1;if(b||(b={}),!c)return b;b.validationValues=this.getDataFilteredValues(),b.isSingleDetailPanel="underRowSingle"===this.detailPanelMode;for(var I=0;I<c.length;I++)T=c[I].hasErrors(f,b,function(){C.raiseOnCompletedAsyncValidators()})||T;return T},O.prototype.isValueDuplicated=function(){if(!this.generatedVisibleRows)return!1;for(var f=this.getUniqueColumns(),b=!1,C=0;C<f.length;C++)b=this.isValueInColumnDuplicated(f[C])||b;return b},O.prototype.isValueInColumnDuplicated=function(f){for(var b=[],C=!1,c=0;c<this.generatedVisibleRows.length;c++)C=this.isValueDuplicatedInRow(this.generatedVisibleRows[c],f,b)||C;return C},O.prototype.getUniqueColumns=function(){for(var f=new Array,b=0;b<this.columns.length;b++)this.columns[b].isUnique&&f.push(this.columns[b]);return f},O.prototype.isValueDuplicatedInRow=function(f,b,C){var c=f.getQuestionByColumn(b);if(!c||c.isEmpty())return!1;for(var T=c.value,I=0;I<C.length;I++)if(j.Helpers.isTwoValueEquals(T,C[I],!0,this.isUniqueCaseSensitive))return this.addDuplicationError(c),!0;return C.push(T),!1},O.prototype.addDuplicationError=function(f){f.addError(new y.KeyDuplicationError(this.keyDuplicationError,this))},O.prototype.getFirstQuestionToFocus=function(f){return this.getFirstCellQuestion(f)},O.prototype.getFirstInputElementId=function(){var f=this.getFirstCellQuestion(!1);return f?f.inputId:B.prototype.getFirstInputElementId.call(this)},O.prototype.getFirstErrorInputElementId=function(){var f=this.getFirstCellQuestion(!0);return f?f.inputId:B.prototype.getFirstErrorInputElementId.call(this)},O.prototype.getFirstCellQuestion=function(f){if(!this.generatedVisibleRows)return null;for(var b=0;b<this.generatedVisibleRows.length;b++)for(var C=this.generatedVisibleRows[b].cells,c=0;c<C.length;c++)if(!f||C[c].question.currentErrorCount>0)return C[c].question;return null},O.prototype.onReadOnlyChanged=function(){if(B.prototype.onReadOnlyChanged.call(this),this.generateRows)for(var f=0;f<this.visibleRows.length;f++)this.visibleRows[f].onQuestionReadOnlyChanged(this.isReadOnly)},O.prototype.createQuestion=function(f,b){return this.createQuestionCore(f,b)},O.prototype.createQuestionCore=function(f,b){var C=b.createCellQuestion(f);return C.setSurveyImpl(f),C.setParentQuestion(this),C.inMatrixMode=!0,C},O.prototype.deleteRowValue=function(f,b){return f&&(delete f[b.rowName],this.isObject(f)&&0==Object.keys(f).length?null:f)},O.prototype.onAnyValueChanged=function(f){if(!this.isUpdateLocked&&!this.isDoingonAnyValueChanged&&this.generatedVisibleRows){this.isDoingonAnyValueChanged=!0;for(var b=this.visibleRows,C=0;C<b.length;C++)b[C].onAnyValueChanged(f);var c=this.visibleTotalRow;c&&c.onAnyValueChanged(f),this.isDoingonAnyValueChanged=!1}},O.prototype.isObject=function(f){return null!==f&&"object"==typeof f},O.prototype.getOnCellValueChangedOptions=function(f,b,C){return{row:f,columnName:b,rowValue:C,value:C?C[b]:null,getCellQuestion:function(T){return f.getQuestionByName(T)},cellQuestion:f.getQuestionByName(b),column:this.getColumnByName(b)}},O.prototype.onCellValueChanged=function(f,b,C){if(this.survey){var c=this.getOnCellValueChangedOptions(f,b,C);this.onCellValueChangedCallback&&this.onCellValueChangedCallback(c),this.survey.matrixCellValueChanged(this,c)}},O.prototype.validateCell=function(f,b,C){if(this.survey){var c=this.getOnCellValueChangedOptions(f,b,C);return this.survey.matrixCellValidate(this,c)}},Object.defineProperty(O.prototype,"isValidateOnValueChanging",{get:function(){return!!this.survey&&this.survey.isValidateOnValueChanging},enumerable:!1,configurable:!0}),O.prototype.onRowChanging=function(f,b,C){if(!this.survey&&!this.cellValueChangingCallback)return C?C[b]:null;var c=this.getOnCellValueChangedOptions(f,b,C),T=this.getRowValueCore(f,this.createNewValue(),!0);return c.oldValue=T?T[b]:null,this.cellValueChangingCallback&&(c.value=this.cellValueChangingCallback(f,b,c.value,c.oldValue)),this.survey&&this.survey.matrixCellValueChanging(this,c),c.value},O.prototype.onRowChanged=function(f,b,C,c){var T=b?this.getRowObj(f):null;if(T){var I=null;!!C&&!c&&(I=C[b]),this.isRowChanging=!0,T[b]=I,this.isRowChanging=!1,this.onCellValueChanged(f,b,T)}else{var H=this.createNewValue(!0),J=this.getNewValueOnRowChanged(f,b,C,c,this.createNewValue());if(this.isTwoValueEquals(H,J.value))return;this.isRowChanging=!0,this.setNewValue(J.value),this.isRowChanging=!1,b&&this.onCellValueChanged(f,b,J.rowValue)}},O.prototype.getNewValueOnRowChanged=function(f,b,C,c,T){var I=this.getRowValueCore(f,T,!0);c&&delete I[b];for(var H=0;H<f.cells.length;H++)delete I[J=f.cells[H].question.getValueName()];if(C)for(var J in C=JSON.parse(JSON.stringify(C)))this.isValueEmpty(C[J])||(I[J]=C[J]);return this.isObject(I)&&0===Object.keys(I).length&&(T=this.deleteRowValue(T,f)),{value:T,rowValue:I}},O.prototype.getRowIndex=function(f){return this.generatedVisibleRows?this.visibleRows.indexOf(f):-1},O.prototype.getElementsInDesign=function(f){var b;return void 0===f&&(f=!1),b="none"==this.detailPanelMode?B.prototype.getElementsInDesign.call(this,f):f?[this.detailPanel]:this.detailElements,this.columns.concat(b)},O.prototype.hasDetailPanel=function(f){return"none"!=this.detailPanelMode&&(!!this.isDesignMode||(this.onHasDetailPanelCallback?this.onHasDetailPanelCallback(f):this.detailElements.length>0))},O.prototype.getIsDetailPanelShowing=function(f){if("none"==this.detailPanelMode)return!1;if(this.isDesignMode){var b=0==this.visibleRows.indexOf(f);return b&&(f.detailPanel||f.showDetailPanel()),b}return this.getPropertyValue("isRowShowing"+f.id,!1)},O.prototype.setIsDetailPanelShowing=function(f,b){if(b!=this.getIsDetailPanelShowing(f)&&(this.setPropertyValue("isRowShowing"+f.id,b),this.updateDetailPanelButtonCss(f),this.renderedTable&&this.renderedTable.onDetailPanelChangeVisibility(f,b),b&&"underRowSingle"===this.detailPanelMode))for(var C=this.visibleRows,c=0;c<C.length;c++)C[c].id!==f.id&&C[c].isDetailPanelShowing&&C[c].hideDetailPanel()},O.prototype.getDetailPanelButtonCss=function(f){var b=(new v.CssClassBuilder).append(this.getPropertyValue("detailButtonCss"+f.id));return b.append(this.cssClasses.detailButton,""===b.toString()).toString()},O.prototype.getDetailPanelIconCss=function(f){var b=(new v.CssClassBuilder).append(this.getPropertyValue("detailIconCss"+f.id));return b.append(this.cssClasses.detailIcon,""===b.toString()).toString()},O.prototype.getDetailPanelIconId=function(f){return this.getIsDetailPanelShowing(f)?this.cssClasses.detailIconExpandedId:this.cssClasses.detailIconId},O.prototype.updateDetailPanelButtonCss=function(f){var b=this.cssClasses,C=this.getIsDetailPanelShowing(f),c=(new v.CssClassBuilder).append(b.detailIcon).append(b.detailIconExpanded,C);this.setPropertyValue("detailIconCss"+f.id,c.toString());var T=(new v.CssClassBuilder).append(b.detailButton).append(b.detailButtonExpanded,C);this.setPropertyValue("detailButtonCss"+f.id,T.toString())},O.prototype.createRowDetailPanel=function(f){if(this.isDesignMode)return this.detailPanel;var b=this.createNewDetailPanel();b.readOnly=this.isReadOnly;var C=this.detailPanel.toJSON();return(new L.JsonObject).toObject(C,b),b.renderWidth="100%",b.updateCustomWidgets(),this.onCreateDetailPanelCallback&&this.onCreateDetailPanelCallback(f,b),b},O.prototype.getSharedQuestionByName=function(f,b){if(!this.survey||!this.valueName)return null;var C=this.getRowIndex(b);return C<0?null:this.survey.getQuestionByValueNameFromArray(this.valueName,f,C)},O.prototype.onTotalValueChanged=function(){this.data&&this.visibleTotalRow&&!this.isUpdateLocked&&!this.isSett&&this.data.setValue(this.getValueName()+P.settings.matrix.totalsSuffix,this.totalValue,!1)},O.prototype.getParentTextProcessor=function(){if(!this.parentQuestion||!this.parent)return null;var f=this.parent.data;return f&&f.getTextProcessor?f.getTextProcessor():null},O.prototype.getQuestionFromArray=function(f,b){return b>=this.visibleRows.length?null:this.visibleRows[b].getQuestionByName(f)},O.prototype.isMatrixValueEmpty=function(f){if(f){if(Array.isArray(f)){for(var b=0;b<f.length;b++)if(this.isObject(f[b])&&Object.keys(f[b]).length>0)return!1;return!0}return 0==Object.keys(f).length}},Object.defineProperty(O.prototype,"SurveyModel",{get:function(){return this.survey},enumerable:!1,configurable:!0}),O.prototype.getCellTemplateData=function(f){return this.SurveyModel.getMatrixCellTemplateData(f)},O.prototype.getCellWrapperComponentName=function(f){return this.SurveyModel.getElementWrapperComponentName(f,f.row instanceof p?"row-footer":"cell")},O.prototype.getCellWrapperComponentData=function(f){return this.SurveyModel.getElementWrapperComponentData(f,f.row instanceof p?"row-footer":"cell")},O.prototype.getColumnHeaderWrapperComponentName=function(f){return this.SurveyModel.getElementWrapperComponentName(f,"column-header")},O.prototype.getColumnHeaderWrapperComponentData=function(f){return this.SurveyModel.getElementWrapperComponentData(f,"column-header")},O.prototype.getRowHeaderWrapperComponentName=function(f){return this.SurveyModel.getElementWrapperComponentName(f,"row-header")},O.prototype.getRowHeaderWrapperComponentData=function(f){return this.SurveyModel.getElementWrapperComponentData(f,"row-header")},Object.defineProperty(O.prototype,"showHorizontalScroll",{get:function(){return!this.isDefaultV2Theme&&this.horizontalScroll},enumerable:!1,configurable:!0}),O.prototype.getRootCss=function(){return(new v.CssClassBuilder).append(B.prototype.getRootCss.call(this)).append(this.cssClasses.rootScroll,this.horizontalScroll).toString()},O.prototype.getIsTooltipErrorInsideSupported=function(){return!0},O}(K.QuestionMatrixBaseModel);L.Serializer.addClass("matrixdropdownbase",[{name:"columns:matrixdropdowncolumns",className:"matrixdropdowncolumn"},{name:"columnLayout",alternativeName:"columnsLocation",default:"horizontal",choices:["horizontal","vertical"]},{name:"detailElements",visible:!1,isLightSerializable:!1},{name:"detailPanelMode",choices:["none","underRow","underRowSingle"],default:"none"},"horizontalScroll:boolean",{name:"choices:itemvalue[]",uniqueProperty:"value"},{name:"placeholder",alternativeName:"optionsCaption",serializationProperty:"locPlaceholder"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"cellType",default:"dropdown",choices:function(){return E.MatrixDropdownColumn.getColumnTypes()}},{name:"columnColCount",default:0,choices:[0,1,2,3,4]},"columnMinWidth",{name:"allowAdaptiveActions:boolean",default:!1,visible:!1}],function(){return new A("")},"matrixbase")},"./src/question_matrixdropdowncolumn.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"matrixDropdownColumnTypes",function(){return M}),m.d(V,"MatrixDropdownColumn",function(){return h});var D,L=m("./src/jsonobject.ts"),K=m("./src/base.ts"),j=m("./src/question_expression.ts"),F=m("./src/settings.ts"),S=(D=function(P,y){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,E){v.__proto__=E}||function(v,E){for(var g in E)Object.prototype.hasOwnProperty.call(E,g)&&(v[g]=E[g])})(P,y)},function(P,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=P}D(P,y),P.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)});function w(D,P,y,v){D.storeOthersAsComment=!!y&&y.storeOthersAsComment,(!D.choices||0==D.choices.length)&&D.choicesByUrl.isEmpty&&(D.choices=y.choices),D.choicesByUrl.isEmpty||D.choicesByUrl.run(v.getTextProcessor())}var M={dropdown:{onCellQuestionUpdate:function(D,P,y,v){w(D,0,y,v),D.locPlaceholder&&D.locPlaceholder.isEmpty&&!y.locPlaceholder.isEmpty&&(D.optionsCaption=y.optionsCaption)}},checkbox:{onCellQuestionUpdate:function(D,P,y,v){w(D,0,y,v),D.colCount=P.colCount>-1?P.colCount:y.columnColCount}},radiogroup:{onCellQuestionUpdate:function(D,P,y,v){w(D,0,y,v),D.colCount=P.colCount>-1?P.colCount:y.columnColCount}},tagbox:{},text:{},comment:{},boolean:{onCellQuestionUpdate:function(D,P,y,v){D.renderAs=P.renderAs}},expression:{},rating:{}},h=function(D){function P(y,v){void 0===v&&(v=null);var E=D.call(this)||this;return E.colOwnerValue=null,E.indexValue=-1,E._isVisible=!0,E._hasVisibleCell=!0,E.previousChoicesId=void 0,E.createLocalizableString("totalFormat",E),E.createLocalizableString("cellHint",E),E.registerPropertyChangedHandlers(["showInMultipleColumns"],function(){E.doShowInMultipleColumnsChanged()}),E.updateTemplateQuestion(),E.name=y,v?E.title=v:E.templateQuestion.locTitle.strChanged(),E}return S(P,D),P.getColumnTypes=function(){var y=[];for(var v in M)y.push(v);return y},P.prototype.getOriginalObj=function(){return this.templateQuestion},P.prototype.getClassNameProperty=function(){return"cellType"},P.prototype.getSurvey=function(y){return void 0===y&&(y=!1),this.colOwner?this.colOwner.survey:null},P.prototype.endLoadingFromJson=function(){var y=this;D.prototype.endLoadingFromJson.call(this),this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns,this.templateQuestion.endLoadingFromJson(),this.templateQuestion.onGetSurvey=function(){return y.getSurvey()}},P.prototype.getDynamicPropertyName=function(){return"cellType"},P.prototype.getDynamicType=function(){return"default"===this.cellType?"question":this.calcCellQuestionType(null)},Object.defineProperty(P.prototype,"colOwner",{get:function(){return this.colOwnerValue},set:function(y){this.colOwnerValue=y,y&&(this.updateTemplateQuestion(),this.setParentQuestionToTemplate(this.templateQuestion))},enumerable:!1,configurable:!0}),P.prototype.locStrsChanged=function(){D.prototype.locStrsChanged.call(this),this.locTitle.strChanged()},P.prototype.addUsedLocales=function(y){D.prototype.addUsedLocales.call(this,y),this.templateQuestion.addUsedLocales(y)},Object.defineProperty(P.prototype,"index",{get:function(){return this.indexValue},enumerable:!1,configurable:!0}),P.prototype.setIndex=function(y){this.indexValue=y},P.prototype.getType=function(){return"matrixdropdowncolumn"},Object.defineProperty(P.prototype,"cellType",{get:function(){return this.getPropertyValue("cellType")},set:function(y){y=y.toLocaleLowerCase(),this.updateTemplateQuestion(y),this.setPropertyValue("cellType",y),this.colOwner&&this.colOwner.onColumnCellTypeChanged(this)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"templateQuestion",{get:function(){return this.templateQuestionValue},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"value",{get:function(){return this.templateQuestion.name},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isVisible",{get:function(){return this._isVisible},enumerable:!1,configurable:!0}),P.prototype.setIsVisible=function(y){this._isVisible=y},Object.defineProperty(P.prototype,"hasVisibleCell",{get:function(){return this._hasVisibleCell},set:function(y){this._hasVisibleCell=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"name",{get:function(){return this.templateQuestion.name},set:function(y){this.templateQuestion.name=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"title",{get:function(){return this.templateQuestion.title},set:function(y){this.templateQuestion.title=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTitle",{get:function(){return this.templateQuestion.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"fullTitle",{get:function(){return this.locTitle.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRequired",{get:function(){return this.templateQuestion.isRequired},set:function(y){this.templateQuestion.isRequired=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isRenderedRequired",{get:function(){return this.getPropertyValue("isRenderedRequired",this.isRequired)},set:function(y){this.setPropertyValue("isRenderedRequired",y)},enumerable:!1,configurable:!0}),P.prototype.updateIsRenderedRequired=function(y){this.isRenderedRequired=y||this.isRequired},Object.defineProperty(P.prototype,"requiredText",{get:function(){return this.isRenderedRequired&&this.getSurvey()?this.getSurvey().requiredText:this.templateQuestion.requiredText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"requiredErrorText",{get:function(){return this.templateQuestion.requiredErrorText},set:function(y){this.templateQuestion.requiredErrorText=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locRequiredErrorText",{get:function(){return this.templateQuestion.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"readOnly",{get:function(){return this.templateQuestion.readOnly},set:function(y){this.templateQuestion.readOnly=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasOther",{get:function(){return this.templateQuestion.hasOther},set:function(y){this.templateQuestion.hasOther=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"visibleIf",{get:function(){return this.templateQuestion.visibleIf},set:function(y){this.templateQuestion.visibleIf=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"enableIf",{get:function(){return this.templateQuestion.enableIf},set:function(y){this.templateQuestion.enableIf=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"requiredIf",{get:function(){return this.templateQuestion.requiredIf},set:function(y){this.templateQuestion.requiredIf=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isUnique",{get:function(){return this.getPropertyValue("isUnique")},set:function(y){this.setPropertyValue("isUnique",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"showInMultipleColumns",{get:function(){return this.getPropertyValue("showInMultipleColumns")},set:function(y){this.setPropertyValue("showInMultipleColumns",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isSupportMultipleColumns",{get:function(){return["checkbox","radiogroup"].indexOf(this.cellType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"isShowInMultipleColumns",{get:function(){return this.showInMultipleColumns&&this.isSupportMultipleColumns},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"validators",{get:function(){return this.templateQuestion.validators},set:function(y){this.templateQuestion.validators=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalType",{get:function(){return this.getPropertyValue("totalType")},set:function(y){this.setPropertyValue("totalType",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalExpression",{get:function(){return this.getPropertyValue("totalExpression")},set:function(y){this.setPropertyValue("totalExpression",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"hasTotal",{get:function(){return"none"!=this.totalType||!!this.totalExpression},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalFormat",{get:function(){return this.getLocalizableStringText("totalFormat","")},set:function(y){this.setLocalizableStringText("totalFormat",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locTotalFormat",{get:function(){return this.getLocalizableString("totalFormat")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"cellHint",{get:function(){return this.getLocalizableStringText("cellHint","")},set:function(y){this.setLocalizableStringText("cellHint",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"locCellHint",{get:function(){return this.getLocalizableString("cellHint")},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"renderAs",{get:function(){return this.getPropertyValue("renderAs")},set:function(y){this.setPropertyValue("renderAs",y),this.templateQuestion&&(this.templateQuestion.renderAs=y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalMaximumFractionDigits",{get:function(){return this.getPropertyValue("totalMaximumFractionDigits")},set:function(y){y<-1||y>20||this.setPropertyValue("totalMaximumFractionDigits",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalMinimumFractionDigits",{get:function(){return this.getPropertyValue("totalMinimumFractionDigits")},set:function(y){y<-1||y>20||this.setPropertyValue("totalMinimumFractionDigits",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalDisplayStyle",{get:function(){return this.getPropertyValue("totalDisplayStyle")},set:function(y){this.setPropertyValue("totalDisplayStyle",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"totalCurrency",{get:function(){return this.getPropertyValue("totalCurrency")},set:function(y){Object(j.getCurrecyCodes)().indexOf(y)<0||this.setPropertyValue("totalCurrency",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth","")},set:function(y){this.setPropertyValue("minWidth",y)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"width",{get:function(){return this.templateQuestion.width},set:function(y){this.templateQuestion.width=y},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(y){y<-1||y>4||this.setPropertyValue("colCount",y)},enumerable:!1,configurable:!0}),P.prototype.getLocale=function(){return this.colOwner?this.colOwner.getLocale():""},P.prototype.getMarkdownHtml=function(y,v){return this.colOwner?this.colOwner.getMarkdownHtml(y,v):void 0},P.prototype.getRenderer=function(y){return this.colOwner?this.colOwner.getRenderer(y):null},P.prototype.getRendererContext=function(y){return this.colOwner?this.colOwner.getRendererContext(y):y},P.prototype.getProcessedText=function(y){return this.colOwner?this.colOwner.getProcessedText(y):y},P.prototype.createCellQuestion=function(y){var v=this.calcCellQuestionType(y),E=this.createNewQuestion(v);return this.callOnCellQuestionUpdate(E,y),E},P.prototype.startLoadingFromJson=function(y){D.prototype.startLoadingFromJson.call(this,y),y&&!y.cellType&&y.choices&&(y.cellType=this.colOwner.getCellType())},P.prototype.updateCellQuestion=function(y,v,E){void 0===E&&(E=null),this.setQuestionProperties(y,E)},P.prototype.callOnCellQuestionUpdate=function(y,v){var E=y.getType(),g=M[E];g&&g.onCellQuestionUpdate&&g.onCellQuestionUpdate(y,this,this.colOwner,v)},P.prototype.defaultCellTypeChanged=function(){this.updateTemplateQuestion()},P.prototype.calcCellQuestionType=function(y){var v=this.getDefaultCellQuestionType();return!!y&&!!this.colOwner&&(v=this.colOwner.getCustomCellType(this,y,v)),v},P.prototype.getDefaultCellQuestionType=function(y){return y||(y=this.cellType),"default"!==y?y:this.colOwner?this.colOwner.getCellType():F.settings.matrix.defaultCellType},P.prototype.updateTemplateQuestion=function(y){var v=this,E=this.getDefaultCellQuestionType(y),g=this.templateQuestion?this.templateQuestion.getType():"";E!==g&&(this.templateQuestion&&this.removeProperties(g),this.templateQuestionValue=this.createNewQuestion(E),this.templateQuestion.locOwner=this,this.addProperties(E),this.templateQuestion.onPropertyChanged.add(function(u,l){v.propertyValueChanged(l.name,l.oldValue,l.newValue)}),this.templateQuestion.onItemValuePropertyChanged.add(function(u,l){v.doItemValuePropertyChanged(l.propertyName,l.obj,l.name,l.newValue,l.oldValue)}),this.templateQuestion.isContentElement=!0,this.isLoadingFromJson||(this.templateQuestion.onGetSurvey=function(){return v.getSurvey()}),this.templateQuestion.locTitle.strChanged())},P.prototype.createNewQuestion=function(y){var v=L.Serializer.createClass(y);return v||(v=L.Serializer.createClass("text")),v.loadingOwner=this,v.isEditableTemplateElement=!0,v.autoOtherMode=this.isShowInMultipleColumns,this.setQuestionProperties(v),this.setParentQuestionToTemplate(v),v},P.prototype.setParentQuestionToTemplate=function(y){this.colOwner&&this.colOwner.isQuestion&&y.setParentQuestion(this.colOwner)},P.prototype.setQuestionProperties=function(y,v){var E=this;if(void 0===v&&(v=null),this.templateQuestion){var g=(new L.JsonObject).toJsonObject(this.templateQuestion,!0);v&&v(g),g.type=y.getType(),"default"===this.cellType&&!!this.colOwner&&this.colOwner.hasChoices()&&delete g.choices,delete g.itemComponent,this.jsonObj&&Object.keys(this.jsonObj).forEach(function(u){g[u]=E.jsonObj[u]}),(new L.JsonObject).toObject(g,y),y.isContentElement=this.templateQuestion.isContentElement,this.previousChoicesId=void 0,y.loadedChoicesFromServerCallback=function(){if(E.isShowInMultipleColumns&&(!E.previousChoicesId||E.previousChoicesId===y.id)){E.previousChoicesId=y.id;var u=y.visibleChoices;E.templateQuestion.choices=u,E.propertyValueChanged("choices",u,u)}}}},P.prototype.propertyValueChanged=function(y,v,E){D.prototype.propertyValueChanged.call(this,y,v,E),"isRequired"===y&&this.updateIsRenderedRequired(E),this.colOwner&&!this.isLoadingFromJson&&(this.isShowInMultipleColumns&&["visibleChoices","choices"].indexOf(y)>-1&&this.colOwner.onShowInMultipleColumnsChanged(this),L.Serializer.hasOriginalProperty(this,y)&&this.colOwner.onColumnPropertyChanged(this,y,E))},P.prototype.doItemValuePropertyChanged=function(y,v,E,g,u){!L.Serializer.hasOriginalProperty(v,E)||null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onColumnItemValuePropertyChanged(this,y,v,E,g,u)},P.prototype.doShowInMultipleColumnsChanged=function(){null!=this.colOwner&&!this.isLoadingFromJson&&this.colOwner.onShowInMultipleColumnsChanged(this),this.templateQuestion&&(this.templateQuestion.autoOtherMode=this.isShowInMultipleColumns)},P.prototype.getProperties=function(y){return L.Serializer.getDynamicPropertiesByObj(this,y)},P.prototype.removeProperties=function(y){for(var v=this.getProperties(y),E=0;E<v.length;E++){var g=v[E];delete this[g.name],g.serializationProperty&&delete this[g.serializationProperty]}},P.prototype.addProperties=function(y){for(var v=this.templateQuestion,E=this.getProperties(y),g=0;g<E.length;g++){var u=E[g];this.addProperty(v,u.name,!1),u.serializationProperty&&this.addProperty(v,u.serializationProperty,!0),u.alternativeName&&this.addProperty(v,u.alternativeName,!1)}},P.prototype.addProperty=function(y,v,E){var g={configurable:!0,get:function(){return y[v]}};E||(g.set=function(u){y[v]=u}),Object.defineProperty(this,v,g)},P}(K.Base);L.Serializer.addClass("matrixdropdowncolumn",[{name:"!name",isUnique:!0},{name:"title",serializationProperty:"locTitle",dependsOn:"name",onPropertyEditorUpdate:function(D,P){D&&P&&(P.placeholder=D.name)}},{name:"cellHint",serializationProperty:"locCellHint",visible:!1},{name:"cellType",default:"default",choices:function(){var D=h.getColumnTypes();return D.splice(0,0,"default"),D}},{name:"colCount",default:-1,choices:[-1,0,1,2,3,4]},"isRequired:boolean","isUnique:boolean",{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},"readOnly:boolean",{name:"minWidth",onPropertyEditorUpdate:function(D,P){D&&P&&(P.value=D.minWidth)}},"width","visibleIf:condition","enableIf:condition","requiredIf:condition",{name:"showInMultipleColumns:boolean",dependsOn:"cellType",visibleIf:function(D){return!!D&&D.isSupportMultipleColumns}},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"},{name:"totalType",default:"none",choices:["none","sum","count","min","max","avg"]},"totalExpression:expression",{name:"totalFormat",serializationProperty:"locTotalFormat"},{name:"totalDisplayStyle",default:"none",choices:["none","decimal","currency","percent"]},{name:"totalCurrency",choices:function(){return Object(j.getCurrecyCodes)()},default:"USD"},{name:"totalMaximumFractionDigits:number",default:-1},{name:"totalMinimumFractionDigits:number",default:-1},{name:"renderAs",default:"default",visible:!1}],function(){return new h("")})},"./src/question_matrixdropdownrendered.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionMatrixDropdownRenderedCell",function(){return y}),m.d(V,"QuestionMatrixDropdownRenderedRow",function(){return v}),m.d(V,"QuestionMatrixDropdownRenderedTable",function(){return E});var g,L=m("./src/jsonobject.ts"),K=m("./src/base.ts"),j=m("./src/itemvalue.ts"),F=m("./src/actions/action.ts"),S=m("./src/actions/adaptive-container.ts"),w=m("./src/utils/cssClassBuilder.ts"),M=m("./src/actions/container.ts"),h=m("./src/settings.ts"),D=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),P=function(g,u,l,a){var p,i=arguments.length,o=i<3?u:null===a?a=Object.getOwnPropertyDescriptor(u,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(g,u,l,a);else for(var A=g.length-1;A>=0;A--)(p=g[A])&&(o=(i<3?p(o):i>3?p(u,l,o):p(u,l))||o);return i>3&&o&&Object.defineProperty(u,l,o),o},y=function(){function g(){this.minWidth="",this.width="",this.colSpans=1,this.isActionsCell=!1,this.isDragHandlerCell=!1,this.classNameValue="",this.idValue=g.counter++}return Object.defineProperty(g.prototype,"hasQuestion",{get:function(){return!!this.question},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasTitle",{get:function(){return!!this.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasPanel",{get:function(){return!!this.panel},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showErrorOnTop",{get:function(){return this.showErrorOnCore("top")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"showErrorOnBottom",{get:function(){return this.showErrorOnCore("bottom")},enumerable:!1,configurable:!0}),g.prototype.showErrorOnCore=function(u){return this.getShowErrorLocation(u)&&(!this.isChoice||this.isFirstChoice)},g.prototype.getShowErrorLocation=function(u){return this.hasQuestion&&this.question.showErrorOnCore(u)},Object.defineProperty(g.prototype,"item",{get:function(){return this.itemValue},set:function(u){this.itemValue=u,u&&(u.hideCaption=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isChoice",{get:function(){return!!this.item},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isItemChoice",{get:function(){return this.isChoice&&!this.isOtherChoice},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"choiceValue",{get:function(){return this.isChoice?this.item.value:null},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isCheckbox",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("checkbox")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isRadio",{get:function(){return this.isItemChoice&&this.question.isDescendantOf("radiogroup")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isFirstChoice",{get:function(){return 0===this.choiceIndex},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"className",{get:function(){var u=(new w.CssClassBuilder).append(this.classNameValue);return this.hasQuestion&&u.append(this.question.cssClasses.hasError,this.question.errors.length>0).append(this.question.cssClasses.answered,this.question.isAnswered),u.toString()},set:function(u){this.classNameValue=u},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"headers",{get:function(){if(this.cell&&this.cell.column){if(" "===this.cell.column.cellHint)return"";if(this.cell.column.cellHint)return this.cell.column.locCellHint.renderedHtml;if(this.cell.column.isShowInMultipleColumns)return this.item?this.item.locText.renderedHtml:""}return this.question&&this.question.isVisible?this.question.locTitle.renderedHtml:this.hasTitle&&this.locTitle.renderedHtml||""},enumerable:!1,configurable:!0}),g.prototype.getTitle=function(){return this.matrix&&this.matrix.showHeader?this.headers:""},g.prototype.calculateFinalClassName=function(u){var l=this.cell.question.cssClasses,a=(new w.CssClassBuilder).append(l.itemValue,!!l).append(l.asCell,!!l);return a.append(u.cell,a.isEmpty()&&!!u).append(u.choiceCell,this.isChoice).toString()},g.counter=1,g}(),v=function(g){function u(l,a){void 0===a&&(a=!1);var i=g.call(this)||this;return i.cssClasses=l,i.isDetailRow=a,i.cells=[],i.idValue=u.counter++,i}return D(u,g),Object.defineProperty(u.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"attributes",{get:function(){return this.row?{"data-sv-drop-target-matrix-row":this.row.id}:{}},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"className",{get:function(){return(new w.CssClassBuilder).append(this.cssClasses.row).append(this.cssClasses.detailRow,this.isDetailRow).append(this.cssClasses.ghostRow,this.isGhostRow).append(this.cssClasses.rowAdditional,this.isAdditionalClasses).toString()},enumerable:!1,configurable:!0}),u.counter=1,P([Object(L.property)({defaultValue:!1})],u.prototype,"isGhostRow",void 0),P([Object(L.property)({defaultValue:!1})],u.prototype,"isAdditionalClasses",void 0),u}(K.Base),E=function(g){function u(l){var a=g.call(this)||this;return a.matrix=l,a.renderedRowsChangedCallback=function(){},a.hasActionCellInRowsValues={},a.build(),a}return D(u,g),Object.defineProperty(u.prototype,"showTable",{get:function(){return this.getPropertyValue("showTable",!0)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showHeader",{get:function(){return this.getPropertyValue("showHeader")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showAddRowOnTop",{get:function(){return this.getPropertyValue("showAddRowOnTop",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showAddRowOnBottom",{get:function(){return this.getPropertyValue("showAddRowOnBottom",!1)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"showFooter",{get:function(){return this.matrix.hasFooter&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasFooter",{get:function(){return!!this.footerRow},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasRemoveRows",{get:function(){return this.hasRemoveRowsValue},enumerable:!1,configurable:!0}),u.prototype.isRequireReset=function(){return this.hasRemoveRows!=this.matrix.canRemoveRows||!this.matrix.isColumnLayoutHorizontal},Object.defineProperty(u.prototype,"headerRow",{get:function(){return this.headerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"footerRow",{get:function(){return this.footerRowValue},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowRowsDragAndDrop",{get:function(){return this.matrix.allowRowsDragAndDrop&&this.matrix.isColumnLayoutHorizontal},enumerable:!1,configurable:!0}),u.prototype.build=function(){this.hasRemoveRowsValue=this.matrix.canRemoveRows,this.cssClasses=this.matrix.cssClasses,this.buildRowsActions(),this.buildHeader(),this.buildRows(),this.buildFooter(),this.updateShowTableAndAddRow()},u.prototype.updateShowTableAndAddRow=function(){var l=this.rows.length>0||this.matrix.isDesignMode||!this.matrix.getShowColumnsIfEmpty();this.setPropertyValue("showTable",l);var a=this.matrix.canAddRow&&l,i=a,o=a;i&&(i="default"===this.matrix.getAddRowLocation()?!this.matrix.isColumnLayoutHorizontal:"bottom"!==this.matrix.getAddRowLocation()),o&&"topBottom"!==this.matrix.getAddRowLocation()&&(o=!i),this.setPropertyValue("showAddRowOnTop",i),this.setPropertyValue("showAddRowOnBottom",o)},u.prototype.onAddedRow=function(l,a){if(!(this.getRenderedDataRowCount()>=this.matrix.visibleRows.length)){var i=this.getRenderedRowIndexByIndex(a);this.rowsActions.splice(a,0,this.buildRowActions(l)),this.addHorizontalRow(this.rows,l,1==this.matrix.visibleRows.length&&!this.matrix.showHeader,i),this.updateShowTableAndAddRow()}},u.prototype.getRenderedRowIndexByIndex=function(l){for(var a=0,i=0,o=0;o<this.rows.length;o++){if(i===l){this.rows[o].isDetailRow&&a++;break}a++,this.rows[o].isDetailRow||i++}return i<l?this.rows.length:a},u.prototype.getRenderedDataRowCount=function(){for(var l=0,a=0;a<this.rows.length;a++)this.rows[a].isDetailRow||l++;return l},u.prototype.onRemovedRow=function(l){var a=this.getRenderedRowIndex(l);if(!(a<0)){this.rowsActions.splice(a,1);var i=1;a<this.rows.length-1&&this.rows[a+1].isDetailRow&&i++,this.rows.splice(a,i),this.updateShowTableAndAddRow()}},u.prototype.onDetailPanelChangeVisibility=function(l,a){var i=this.getRenderedRowIndex(l);if(!(i<0)){var o=i<this.rows.length-1&&this.rows[i+1].isDetailRow?i+1:-1;if(!(a&&o>-1||!a&&o<0))if(a){var p=this.createDetailPanelRow(l,this.rows[i]);this.rows.splice(i+1,0,p)}else this.rows.splice(o,1)}},u.prototype.getRenderedRowIndex=function(l){for(var a=0;a<this.rows.length;a++)if(this.rows[a].row==l)return a;return-1},u.prototype.buildRowsActions=function(){this.rowsActions=[];for(var l=this.matrix.visibleRows,a=0;a<l.length;a++)this.rowsActions.push(this.buildRowActions(l[a]))},u.prototype.createRenderedRow=function(l,a){return void 0===a&&(a=!1),new v(l,a)},u.prototype.buildHeader=function(){var a=this.matrix.isColumnLayoutHorizontal&&this.matrix.showHeader||this.matrix.hasRowText&&!this.matrix.isColumnLayoutHorizontal;if(this.setPropertyValue("showHeader",a),a){if(this.headerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.headerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.matrix.showHeader&&this.headerRow.cells.push(this.createHeaderCell(null)),this.matrix.isColumnLayoutHorizontal)for(var i=0;i<this.matrix.visibleColumns.length;i++){var o=this.matrix.visibleColumns[i];!o.hasVisibleCell||(o.isShowInMultipleColumns?this.createMutlipleColumnsHeader(o):this.headerRow.cells.push(this.createHeaderCell(o)))}else{var p=this.matrix.visibleRows;for(i=0;i<p.length;i++){var A=this.createTextCell(p[i].locText);A.row=p[i],this.headerRow.cells.push(A)}this.matrix.hasFooter&&this.headerRow.cells.push(this.createTextCell(this.matrix.getFooterText()))}this.hasActionCellInRows("end")&&this.headerRow.cells.push(this.createHeaderCell(null))}},u.prototype.buildFooter=function(){if(this.showFooter){this.footerRowValue=this.createRenderedRow(this.cssClasses),this.allowRowsDragAndDrop&&this.footerRow.cells.push(this.createHeaderCell(null)),this.hasActionCellInRows("start")&&this.footerRow.cells.push(this.createHeaderCell(null)),this.matrix.hasRowText&&this.footerRow.cells.push(this.createTextCell(this.matrix.getFooterText()));for(var l=this.matrix.visibleTotalRow.cells,a=0;a<l.length;a++){var i=l[a];if(i.column.hasVisibleCell)if(i.column.isShowInMultipleColumns)this.createMutlipleColumnsFooter(this.footerRow,i);else{var o=this.createEditCell(i);i.column&&this.setHeaderCellWidth(i.column,o),this.footerRow.cells.push(o)}}this.hasActionCellInRows("end")&&this.footerRow.cells.push(this.createHeaderCell(null))}},u.prototype.buildRows=function(){var l=this.matrix.isColumnLayoutHorizontal?this.buildHorizontalRows():this.buildVerticalRows();this.rows=l},u.prototype.hasActionCellInRows=function(l){return void 0===this.hasActionCellInRowsValues[l]&&(this.hasActionCellInRowsValues[l]=this.hasActionsCellInLocaltion(l)),this.hasActionCellInRowsValues[l]},u.prototype.hasActionsCellInLocaltion=function(l){var a=this;return!("end"!=l||!this.hasRemoveRows)||this.matrix.visibleRows.some(function(i,o){return!a.isValueEmpty(a.getRowActions(o,l))})},u.prototype.canRemoveRow=function(l){return this.matrix.canRemoveRow(l)},u.prototype.buildHorizontalRows=function(){for(var l=this.matrix.visibleRows,a=[],i=0;i<l.length;i++)this.addHorizontalRow(a,l[i],0==i&&!this.matrix.showHeader);return a},u.prototype.addHorizontalRow=function(l,a,i,o){void 0===o&&(o=-1);var p=this.createHorizontalRow(a,i);p.row=a,o<0&&(o=l.length),l.splice(o,0,p),a.isDetailPanelShowing&&l.splice(o+1,0,this.createDetailPanelRow(a,p))},u.prototype.getRowDragCell=function(l){var a=new y;return a.isDragHandlerCell=!0,a.className=this.getActionsCellClassName(),a.row=this.matrix.visibleRows[l],a},u.prototype.getActionsCellClassName=function(){return(new w.CssClassBuilder).append(this.cssClasses.actionsCell).append(this.cssClasses.verticalCell,!this.matrix.isColumnLayoutHorizontal).toString()},u.prototype.getRowActionsCell=function(l,a){var i=this.getRowActions(l,a);if(!this.isValueEmpty(i)){var o=new y,p=this.matrix.allowAdaptiveActions?new S.AdaptiveActionContainer:new M.ActionContainer;!!this.matrix.survey&&this.matrix.survey.getCss().actionBar&&(p.cssClasses=this.matrix.survey.getCss().actionBar),p.setItems(i);var A=new j.ItemValue(p);return o.item=A,o.isActionsCell=!0,o.className=this.getActionsCellClassName(),o.row=this.matrix.visibleRows[l],o}return null},u.prototype.getRowActions=function(l,a){var i=this.rowsActions[l];return Array.isArray(i)?i.filter(function(o){return o.location||(o.location="start"),o.location===a}):[]},u.prototype.buildRowActions=function(l){var a=[];return this.setDefaultRowActions(l,a),this.matrix.survey&&(a=this.matrix.survey.getUpdatedMatrixRowActions(this.matrix,l,a)),a},Object.defineProperty(u.prototype,"showRemoveButtonAsIcon",{get:function(){return h.settings.matrix.renderRemoveAsIcon&&this.matrix.survey&&"sd-root-modern"===this.matrix.survey.css.root},enumerable:!1,configurable:!0}),u.prototype.setDefaultRowActions=function(l,a){var i=this.matrix;this.hasRemoveRows&&this.canRemoveRow(l)&&a.push(new F.Action(this.showRemoveButtonAsIcon?{id:"remove-row",iconName:"icon-delete",component:"sv-action-bar-item",innerCss:(new w.CssClassBuilder).append(this.matrix.cssClasses.button).append(this.matrix.cssClasses.buttonRemove).toString(),location:"end",showTitle:!1,title:i.removeRowText,enabled:!i.isInputReadOnly,data:{row:l,question:i},action:function(){i.removeRowUI(l)}}:{id:"remove-row",location:"end",enabled:!this.matrix.isInputReadOnly,component:"sv-matrix-remove-button",data:{row:l,question:this.matrix}})),l.hasPanel&&a.push(new F.Action({id:"show-detail",title:this.matrix.getLocalizationString("editText"),showTitle:!1,location:"start",component:"sv-matrix-detail-button",data:{row:l,question:this.matrix}}))},u.prototype.createHorizontalRow=function(l,a){var i=this.createRenderedRow(this.cssClasses);if(this.allowRowsDragAndDrop){var o=this.matrix.visibleRows.indexOf(l);i.cells.push(this.getRowDragCell(o))}this.addRowActionsCell(l,i,"start"),this.matrix.hasRowText&&((p=this.createTextCell(l.locText)).row=l,i.cells.push(p),a&&this.setHeaderCellWidth(null,p),p.className=(new w.CssClassBuilder).append(p.className).append(this.cssClasses.rowTextCell).append(this.cssClasses.detailRowText,l.hasPanel).toString());for(var A=0;A<l.cells.length;A++){var B=l.cells[A];if(B.column.hasVisibleCell)if(B.column.isShowInMultipleColumns)this.createMutlipleEditCells(i,B);else{var p=this.createEditCell(B);i.cells.push(p),a&&this.setHeaderCellWidth(B.column,p)}}return this.addRowActionsCell(l,i,"end"),i},u.prototype.addRowActionsCell=function(l,a,i){var o=this.matrix.visibleRows.indexOf(l);if(this.hasActionCellInRows(i)){var p=this.getRowActionsCell(o,i);if(p)a.cells.push(p);else{var A=new y;A.isEmpty=!0,a.cells.push(A)}}},u.prototype.createDetailPanelRow=function(l,a){var i=this.matrix.isDesignMode,o=this.createRenderedRow(this.cssClasses,!0);o.row=l;var p=new y;this.matrix.hasRowText&&(p.colSpans=2),p.isEmpty=!0,i||o.cells.push(p);var A=null;this.hasActionCellInRows("end")&&((A=new y).isEmpty=!0);var B=new y;return B.panel=l.detailPanel,B.colSpans=a.cells.length-(i?0:p.colSpans)-(A?A.colSpans:0),B.className=this.cssClasses.detailPanelCell,o.cells.push(B),A&&o.cells.push(A),"function"==typeof this.matrix.onCreateDetailPanelRenderedRowCallback&&this.matrix.onCreateDetailPanelRenderedRowCallback(o),o},u.prototype.buildVerticalRows=function(){for(var l=this.matrix.columns,a=[],i=0;i<l.length;i++){var o=l[i];o.isVisible&&o.hasVisibleCell&&(o.isShowInMultipleColumns?this.createMutlipleVerticalRows(a,o,i):a.push(this.createVerticalRow(o,i)))}return this.hasActionCellInRows("end")&&a.push(this.createEndVerticalActionRow()),a},u.prototype.createMutlipleVerticalRows=function(l,a,i){var o=this.getMultipleColumnChoices(a);if(o)for(var p=0;p<o.length;p++)l.push(this.createVerticalRow(a,i,o[p],p))},u.prototype.createVerticalRow=function(l,a,i,o){void 0===i&&(i=null),void 0===o&&(o=-1);var p=this.createRenderedRow(this.cssClasses);if(this.matrix.showHeader){var B=this.createTextCell(i?i.locText:l.locTitle);B.column=l,B.className=(new w.CssClassBuilder).append(B.className).append(this.cssClasses.rowTextCell).toString(),i||this.setRequriedToHeaderCell(l,B),p.cells.push(B)}for(var O=this.matrix.visibleRows,f=0;f<O.length;f++){var b=i,C=o>=0?o:f,c=O[f].cells[a],T=i?c.question.visibleChoices:void 0;T&&C<T.length&&(b=T[C]);var I=this.createEditCell(c,b);I.item=b,I.choiceIndex=C,p.cells.push(I)}return this.matrix.hasTotal&&p.cells.push(this.createEditCell(this.matrix.visibleTotalRow.cells[a])),p},u.prototype.createEndVerticalActionRow=function(){var l=this.createRenderedRow(this.cssClasses);this.matrix.showHeader&&l.cells.push(this.createEmptyCell());for(var a=this.matrix.visibleRows,i=0;i<a.length;i++)l.cells.push(this.getRowActionsCell(i,"end"));return this.matrix.hasTotal&&l.cells.push(this.createEmptyCell()),l},u.prototype.createMutlipleEditCells=function(l,a,i){void 0===i&&(i=!1);var o=i?this.getMultipleColumnChoices(a.column):a.question.visibleChoices;if(o)for(var p=0;p<o.length;p++){var A=this.createEditCell(a,i?void 0:o[p]);i||(this.setItemCellCssClasses(A),A.choiceIndex=p),l.cells.push(A)}},u.prototype.setItemCellCssClasses=function(l){l.className=(new w.CssClassBuilder).append(this.cssClasses.itemCell).append(this.cssClasses.radioCell,l.isRadio).append(this.cssClasses.checkboxCell,l.isCheckbox).toString()},u.prototype.createEditCell=function(l,a){void 0===a&&(a=void 0);var i=new y;return i.cell=l,i.row=l.row,i.question=l.question,i.matrix=this.matrix,i.item=a,i.isOtherChoice=!!a&&!!l.question&&l.question.otherItem===a,i.className=i.calculateFinalClassName(this.cssClasses),i},u.prototype.createMutlipleColumnsFooter=function(l,a){this.createMutlipleEditCells(l,a,!0)},u.prototype.createMutlipleColumnsHeader=function(l){var a=this.getMultipleColumnChoices(l);if(a)for(var i=0;i<a.length;i++){var o=this.createTextCell(a[i].locText);this.setHeaderCell(l,o),this.setHeaderCellCssClasses(o),this.headerRow.cells.push(o)}},u.prototype.getMultipleColumnChoices=function(l){var a=l.templateQuestion.choices;return a&&Array.isArray(a)&&0==a.length?this.matrix.choices:(a=l.templateQuestion.visibleChoices)&&Array.isArray(a)?a:null},u.prototype.setHeaderCellCssClasses=function(l,a){l.className=(new w.CssClassBuilder).append(this.cssClasses.headerCell).append(this.cssClasses.emptyCell,!!l.isEmpty).append(this.cssClasses.cell+"--"+a,!!a).toString()},u.prototype.createHeaderCell=function(l){var a=l?this.createTextCell(l.locTitle):this.createEmptyCell();return a.column=l,this.setHeaderCell(l,a),this.setHeaderCellCssClasses(a,l&&"default"!==l.cellType?l.cellType:this.matrix.cellType),a},u.prototype.setHeaderCell=function(l,a){this.setHeaderCellWidth(l,a),this.setRequriedToHeaderCell(l,a)},u.prototype.setHeaderCellWidth=function(l,a){a.minWidth=null!=l?this.matrix.getColumnWidth(l):this.matrix.getRowTitleWidth(),a.width=null!=l?l.width:this.matrix.getRowTitleWidth()},u.prototype.setRequriedToHeaderCell=function(l,a){l&&l.isRequired&&this.matrix.survey&&(a.requiredText=this.matrix.survey.requiredText)},u.prototype.createRemoveRowCell=function(l){var a=new y;return a.row=l,a.isRemoveRow=this.canRemoveRow(l),this.cssClasses.cell&&(a.className=this.cssClasses.cell),a},u.prototype.createTextCell=function(l){var a=new y;return a.locTitle=l,l&&l.strChanged(),this.cssClasses.cell&&(a.className=this.cssClasses.cell),a},u.prototype.createEmptyCell=function(){var l=this.createTextCell(null);return l.isEmpty=!0,l},P([Object(L.propertyArray)({onPush:function(l,a,i){i.renderedRowsChangedCallback()}})],u.prototype,"rows",void 0),u}(K.Base)},"./src/question_matrixdynamic.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MatrixDynamicRowModel",function(){return v}),m.d(V,"QuestionMatrixDynamicModel",function(){return E});var u,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_matrixdropdownbase.ts"),F=m("./src/error.ts"),S=m("./src/settings.ts"),w=m("./src/utils/utils.ts"),M=m("./src/dragdrop/matrix-rows.ts"),h=m("./src/utils/cssClassBuilder.ts"),D=m("./src/question_matrixdropdownrendered.ts"),P=m("./src/utils/dragOrClickHelper.ts"),y=(u=function(l,a){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&(i[p]=o[p])})(l,a)},function(l,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=l}u(l,a),l.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)}),v=function(u){function l(a,i,o){var p=u.call(this,i,o)||this;return p.index=a,p.buildCells(o),p}return y(l,u),Object.defineProperty(l.prototype,"rowName",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"shortcutText",{get:function(){var i=this.data.visibleRows.indexOf(this)+1,o=this.cells.length>1?this.cells[1].questionValue:void 0,p=this.cells.length>0?this.cells[0].questionValue:void 0;return o&&o.value||p&&p.value||""+i},enumerable:!1,configurable:!0}),l}(j.MatrixDropdownRowModelBase),E=function(u){function l(a){var i=u.call(this,a)||this;return i.rowCounter=0,i.initialRowCount=2,i.setRowCountValueFromData=!1,i.startDragMatrixRow=function(p,A){i.dragDropMatrixRows.startDrag(p,i.draggedRow,i,p.target)},i.createLocalizableString("confirmDeleteText",i,!1,"confirmDelete"),i.createLocalizableString("addRowText",i).onGetTextCallback=function(p){return p||i.defaultAddRowText},i.createLocalizableString("removeRowText",i,!1,"removeRow"),i.createLocalizableString("emptyRowsText",i,!1,!0),i.registerPropertyChangedHandlers(["hideColumnsIfEmpty","allowAddRows"],function(){i.updateShowTableAndAddRow()}),i.registerPropertyChangedHandlers(["allowRowsDragAndDrop"],function(){i.clearRowsAndResetRenderedTable()}),i.dragOrClickHelper=new P.DragOrClickHelper(i.startDragMatrixRow),i}return y(l,u),l.prototype.setSurveyImpl=function(a,i){u.prototype.setSurveyImpl.call(this,a,i),this.dragDropMatrixRows=new M.DragDropMatrixRows(this.survey,null,!0)},l.prototype.isBanStartDrag=function(a){var i=a.target;return"true"===i.getAttribute("contenteditable")||"INPUT"===i.nodeName||!this.isDragHandleAreaValid(i)},l.prototype.isDragHandleAreaValid=function(a){return"icon"!==this.survey.matrixDragHandleArea||a.classList.contains(this.cssClasses.dragElementDecorator)},l.prototype.onPointerDown=function(a,i){!i||!this.allowRowsDragAndDrop||this.isBanStartDrag(a)||i.isDetailPanelShowing||(this.draggedRow=i,this.dragOrClickHelper.onPointerDown(a))},l.prototype.getType=function(){return"matrixdynamic"},Object.defineProperty(l.prototype,"isRowsDynamic",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(a){this.setPropertyValue("confirmDelete",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(a){this.setPropertyValue("keyName",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"defaultRowValue",{get:function(){return this.getPropertyValue("defaultRowValue")},set:function(a){this.setPropertyValue("defaultRowValue",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"defaultValueFromLastRow",{get:function(){return this.getPropertyValue("defaultValueFromLastRow")},set:function(a){this.setPropertyValue("defaultValueFromLastRow",a)},enumerable:!1,configurable:!0}),l.prototype.isDefaultValueEmpty=function(){return u.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultRowValue)},l.prototype.valueFromData=function(a){if(this.minRowCount<1)return u.prototype.valueFromData.call(this,a);Array.isArray(a)||(a=[]);for(var i=a.length;i<this.minRowCount;i++)a.push({});return a},l.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultRowValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.rowCount){for(var a=[],i=0;i<this.rowCount;i++)a.push(this.defaultRowValue);this.value=a}}else u.prototype.setDefaultValue.call(this)},l.prototype.moveRowByIndex=function(a,i){var o=this.createNewValue();if(Array.isArray(o)||!(Math.max(a,i)>=o.length)){var p=o[a];o.splice(a,1),o.splice(i,0,p),this.value=o}},l.prototype.clearOnDrop=function(){this.isEditingSurveyElement||this.resetRenderedTable()},l.prototype.initDataUI=function(){},Object.defineProperty(l.prototype,"rowCount",{get:function(){return this.rowCountValue},set:function(a){if(!(a<0||a>S.settings.matrix.maxRowCount)){this.setRowCountValueFromData=!1;var i=this.rowCountValue;if(this.rowCountValue=a,this.value&&this.value.length>a){var o=this.value;o.splice(a),this.value=o}if(this.isUpdateLocked)return void(this.initialRowCount=a);if(this.generatedVisibleRows||0==i){this.generatedVisibleRows||(this.generatedVisibleRows=[]),this.generatedVisibleRows.splice(a);for(var p=i;p<a;p++){var A=this.createMatrixRow(this.getValueForNewRow());this.generatedVisibleRows.push(A),this.onMatrixRowCreated(A)}this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())}this.onRowsChanged()}},enumerable:!1,configurable:!0}),l.prototype.updateProgressInfoByValues=function(a){var i=this.value;Array.isArray(i)||(i=[]);for(var o=0;o<this.rowCount;o++)this.updateProgressInfoByRow(a,o<i.length?i[o]:{})},l.prototype.getValueForNewRow=function(){var a=null;return this.onGetValueForNewRowCallBack&&(a=this.onGetValueForNewRowCallBack(this)),a},Object.defineProperty(l.prototype,"allowRowsDragAndDrop",{get:function(){return!this.readOnly&&this.getPropertyValue("allowRowsDragAndDrop")},set:function(a){this.setPropertyValue("allowRowsDragAndDrop",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"iconDragElement",{get:function(){return this.cssClasses.iconDragElement},enumerable:!1,configurable:!0}),l.prototype.createRenderedTable=function(){return new g(this)},Object.defineProperty(l.prototype,"rowCountValue",{get:function(){return this.getPropertyValue("rowCount")},set:function(a){this.setPropertyValue("rowCount",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"minRowCount",{get:function(){return this.getPropertyValue("minRowCount")},set:function(a){a<0&&(a=0),this.setPropertyValue("minRowCount",a),a>this.maxRowCount&&(this.maxRowCount=a),this.rowCount<a&&(this.rowCount=a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"maxRowCount",{get:function(){return this.getPropertyValue("maxRowCount")},set:function(a){a<=0||(a>S.settings.matrix.maxRowCount&&(a=S.settings.matrix.maxRowCount),a!=this.maxRowCount&&(this.setPropertyValue("maxRowCount",a),a<this.minRowCount&&(this.minRowCount=a),this.rowCount>a&&(this.rowCount=a)))},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowAddRows",{get:function(){return this.getPropertyValue("allowAddRows")},set:function(a){this.setPropertyValue("allowAddRows",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"allowRemoveRows",{get:function(){return this.getPropertyValue("allowRemoveRows")},set:function(a){this.setPropertyValue("allowRemoveRows",a),this.isUpdateLocked||this.resetRenderedTable()},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canAddRow",{get:function(){return this.allowAddRows&&!this.isReadOnly&&this.rowCount<this.maxRowCount},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"canRemoveRows",{get:function(){var a=this.allowRemoveRows&&!this.isReadOnly&&this.rowCount>this.minRowCount;return this.canRemoveRowsCallback?this.canRemoveRowsCallback(a):a},enumerable:!1,configurable:!0}),l.prototype.canRemoveRow=function(a){return!this.survey||this.survey.matrixAllowRemoveRow(this,a.index,a)},l.prototype.addRowUI=function(){this.addRow(!0)},l.prototype.getQuestionToFocusOnAddingRow=function(){for(var a=this.visibleRows[this.visibleRows.length-1],i=0;i<a.cells.length;i++){var o=a.cells[i].question;if(o&&o.isVisible&&!o.isReadOnly)return o}return null},l.prototype.addRow=function(a){var i=this.rowCount,o=this.canAddRow,p={question:this,canAddRow:o,allow:o};if(this.survey&&this.survey.matrixBeforeRowAdded(p),(o!==p.allow?p.allow:o!==p.canAddRow?p.canAddRow:o)&&(this.onStartRowAddingRemoving(),this.addRowCore(),this.onEndRowAdding(),this.detailPanelShowOnAdding&&this.visibleRows.length>0&&this.visibleRows[this.visibleRows.length-1].showDetailPanel(),a&&i!==this.rowCount)){var B=this.getQuestionToFocusOnAddingRow();B&&B.focus()}},Object.defineProperty(l.prototype,"detailPanelShowOnAdding",{get:function(){return this.getPropertyValue("detailPanelShowOnAdding")},set:function(a){this.setPropertyValue("detailPanelShowOnAdding",a)},enumerable:!1,configurable:!0}),l.prototype.hasRowsAsItems=function(){return!1},l.prototype.unbindValue=function(){this.clearGeneratedRows(),this.clearPropertyValue("value"),this.rowCountValue=0,u.prototype.unbindValue.call(this)},l.prototype.isValueSurveyElement=function(a){return this.isEditingSurveyElement||u.prototype.isValueSurveyElement.call(this,a)},l.prototype.addRowCore=function(){var a=this.rowCount;this.rowCount=this.rowCount+1;var i=this.getDefaultRowValue(!0),o=null;if(this.isValueEmpty(i)||(o=this.createNewValue()).length==this.rowCount&&(o[o.length-1]=i,this.value=o),this.data&&(this.runCellsCondition(this.getDataFilteredValues(),this.getDataFilteredProperties()),this.isValueEmpty(i))){var p=this.visibleRows[this.rowCount-1];this.isValueEmpty(p.value)||(o||(o=this.createNewValue()),!this.isValueSurveyElement(o)&&!this.isTwoValueEquals(o[o.length-1],p.value)&&(o[o.length-1]=p.value,this.value=o))}this.survey&&a+1==this.rowCount&&(this.survey.matrixRowAdded(this,this.visibleRows[this.visibleRows.length-1]),this.onRowsChanged())},l.prototype.getDefaultRowValue=function(a){for(var i=null,o=0;o<this.columns.length;o++){var p=this.columns[o].templateQuestion;p&&!this.isValueEmpty(p.getDefaultValue())&&((i=i||{})[this.columns[o].name]=p.getDefaultValue())}if(!this.isValueEmpty(this.defaultRowValue))for(var A in this.defaultRowValue)(i=i||{})[A]=this.defaultRowValue[A];if(a&&this.defaultValueFromLastRow){var B=this.value;if(B&&Array.isArray(B)&&B.length>=this.rowCount-1){var O=B[this.rowCount-2];for(var A in O)(i=i||{})[A]=O[A]}}return i},l.prototype.removeRowUI=function(a){if(a&&a.rowName){var i=this.visibleRows.indexOf(a);if(i<0)return;a=i}this.removeRow(a)},l.prototype.isRequireConfirmOnRowDelete=function(a){if(!this.confirmDelete||a<0||a>=this.rowCount)return!1;var i=this.createNewValue();return!(this.isValueEmpty(i)||!Array.isArray(i)||a>=i.length||this.isValueEmpty(i[a]))},l.prototype.removeRow=function(a,i){if(this.canRemoveRows&&!(a<0||a>=this.rowCount)){var o=this.visibleRows&&a<this.visibleRows.length?this.visibleRows[a]:null;void 0===i&&(i=this.isRequireConfirmOnRowDelete(a)),(!i||Object(w.confirmAction)(this.confirmDeleteText))&&(o&&this.survey&&!this.survey.matrixRowRemoving(this,a,o)||(this.onStartRowAddingRemoving(),this.removeRowCore(a),this.onEndRowRemoving(o)))}},l.prototype.removeRowCore=function(a){var i=this.generatedVisibleRows?this.generatedVisibleRows[a]:null;if(this.generatedVisibleRows&&a<this.generatedVisibleRows.length&&this.generatedVisibleRows.splice(a,1),this.rowCountValue--,this.value){var o=[];(o=Array.isArray(this.value)&&a<this.value.length?this.createValueCopy():this.createNewValue()).splice(a,1),o=this.deleteRowValue(o,null),this.isRowChanging=!0,this.value=o,this.isRowChanging=!1}this.onRowsChanged(),this.survey&&this.survey.matrixRowRemoved(this,a,i)},Object.defineProperty(l.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(a){this.setLocalizableStringText("confirmDeleteText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"addRowText",{get:function(){return this.getLocalizableStringText("addRowText",this.defaultAddRowText)},set:function(a){this.setLocalizableStringText("addRowText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locAddRowText",{get:function(){return this.getLocalizableString("addRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"defaultAddRowText",{get:function(){return this.getLocalizationString(this.isColumnLayoutHorizontal?"addRow":"addColumn")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"addRowLocation",{get:function(){return this.getPropertyValue("addRowLocation")},set:function(a){this.setPropertyValue("addRowLocation",a)},enumerable:!1,configurable:!0}),l.prototype.getAddRowLocation=function(){return this.addRowLocation},Object.defineProperty(l.prototype,"hideColumnsIfEmpty",{get:function(){return this.getPropertyValue("hideColumnsIfEmpty")},set:function(a){this.setPropertyValue("hideColumnsIfEmpty",a)},enumerable:!1,configurable:!0}),l.prototype.getShowColumnsIfEmpty=function(){return this.hideColumnsIfEmpty},Object.defineProperty(l.prototype,"removeRowText",{get:function(){return this.getLocalizableStringText("removeRowText")},set:function(a){this.setLocalizableStringText("removeRowText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locRemoveRowText",{get:function(){return this.getLocalizableString("removeRowText")},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"emptyRowsText",{get:function(){return this.getLocalizableStringText("emptyRowsText")},set:function(a){this.setLocalizableStringText("emptyRowsText",a)},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"locEmptyRowsText",{get:function(){return this.getLocalizableString("emptyRowsText")},enumerable:!1,configurable:!0}),l.prototype.getDisplayValueCore=function(a,i){if(!i||!Array.isArray(i))return i;for(var o=this.getUnbindValue(i),p=this.visibleRows,A=0;A<p.length&&A<o.length;A++){var B=o[A];!B||(o[A]=this.getRowDisplayValue(a,p[A],B))}return o},l.prototype.getConditionObjectRowName=function(a){return"["+a.toString()+"]"},l.prototype.getConditionObjectsRowIndeces=function(){for(var a=[],i=Math.max(this.rowCount,1),o=0;o<Math.min(S.settings.matrix.maxRowCountInCondition,i);o++)a.push(o);return a},l.prototype.supportGoNextPageAutomatic=function(){return!1},Object.defineProperty(l.prototype,"hasRowText",{get:function(){return!1},enumerable:!1,configurable:!0}),l.prototype.onCheckForErrors=function(a,i){u.prototype.onCheckForErrors.call(this,a,i),!i&&this.hasErrorInMinRows()&&a.push(new F.MinRowCountError(this.minRowCount,this))},l.prototype.hasErrorInMinRows=function(){if(this.minRowCount<=0||!this.isRequired||!this.generatedVisibleRows)return!1;for(var a=0,i=0;i<this.generatedVisibleRows.length;i++)this.generatedVisibleRows[i].isEmpty||a++;return a<this.minRowCount},l.prototype.getUniqueColumns=function(){var a=u.prototype.getUniqueColumns.call(this);if(this.keyName){var i=this.getColumnByName(this.keyName);i&&a.indexOf(i)<0&&a.push(i)}return a},l.prototype.generateRows=function(){var a=new Array;if(0===this.rowCount)return a;for(var i=this.createNewValue(),o=0;o<this.rowCount;o++)a.push(this.createMatrixRow(this.getRowValueByIndex(i,o)));return this.isValueEmpty(this.getDefaultRowValue(!1))||(this.value=i),a},l.prototype.createMatrixRow=function(a){return new v(this.rowCounter++,this,a)},l.prototype.getInsertedDeletedIndex=function(a,i){for(var o=Math.min(a.length,i.length),p=0;p<o;p++)if(i[p]!==a[p].editingObj)return p;return o},l.prototype.isEditingObjectValueChanged=function(){var a=this.value;if(!this.generatedVisibleRows||!this.isValueSurveyElement(a))return!1;var i=this.lastDeletedRow;this.lastDeletedRow=void 0;var o=this.generatedVisibleRows;if(!Array.isArray(a)||Math.abs(o.length-a.length)>1)return!1;var p=this.getInsertedDeletedIndex(o,a);if(o.length>a.length){this.lastDeletedRow=o[p];var A=o[p];o.splice(p,1),this.isRendredTableCreated&&this.renderedTable.onRemovedRow(A)}else{var B;B=i&&i.editingObj===a[p]?i:this.createMatrixRow(a[p]),o.splice(p,0,B),i||this.onMatrixRowCreated(B),this.isRendredTableCreated&&this.renderedTable.onAddedRow(B,p)}return this.setPropertyValueDirectly("rowCount",a.length),!0},l.prototype.onBeforeValueChanged=function(a){if(a&&Array.isArray(a)){var i=a.length;if(i!=this.rowCount&&(this.setRowCountValueFromData||!(i<this.initialRowCount))&&!this.isEditingObjectValueChanged()&&(this.setRowCountValueFromData=!0,this.rowCountValue=i,this.generatedVisibleRows)){if(i==this.generatedVisibleRows.length+1){this.onStartRowAddingRemoving();var o=this.getRowValueByIndex(a,i-1),p=this.createMatrixRow(o);this.generatedVisibleRows.push(p),this.onMatrixRowCreated(p),this.onEndRowAdding()}else this.clearGeneratedRows(),this.generatedVisibleRows=this.visibleRows,this.onRowsChanged();this.setRowCountValueFromData=!1}}},l.prototype.createNewValue=function(){var a=this.createValueCopy();(!a||!Array.isArray(a))&&(a=[]),a.length>this.rowCount&&a.splice(this.rowCount);var i=this.getDefaultRowValue(!1);i=i||{};for(var o=a.length;o<this.rowCount;o++)a.push(this.getUnbindValue(i));return a},l.prototype.deleteRowValue=function(a,i){for(var o=!0,p=0;p<a.length;p++)if(this.isObject(a[p])&&Object.keys(a[p]).length>0){o=!1;break}return o?null:a},l.prototype.getRowValueByIndex=function(a,i){return Array.isArray(a)&&i>=0&&i<a.length?a[i]:null},l.prototype.getRowValueCore=function(a,i,o){if(void 0===o&&(o=!1),!this.generatedVisibleRows)return{};var p=this.getRowValueByIndex(i,this.generatedVisibleRows.indexOf(a));return!p&&o&&(p={}),p},l.prototype.getAddRowButtonCss=function(a){return void 0===a&&(a=!1),(new h.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.emptyRowsButton,a).toString()},l.prototype.getRemoveRowButtonCss=function(){return(new h.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).toString()},l.prototype.getRootCss=function(){var a;return(new h.CssClassBuilder).append(u.prototype.getRootCss.call(this)).append(this.cssClasses.empty,!(null===(a=this.renderedTable)||void 0===a?void 0:a.showTable)).toString()},l}(j.QuestionMatrixDropdownModelBase),g=function(u){function l(){return null!==u&&u.apply(this,arguments)||this}return y(l,u),l.prototype.setDefaultRowActions=function(a,i){u.prototype.setDefaultRowActions.call(this,a,i)},l}(D.QuestionMatrixDropdownRenderedTable);L.Serializer.addClass("matrixdynamic",[{name:"rowsVisibleIf:condition",visible:!1},{name:"allowAddRows:boolean",default:!0},{name:"allowRemoveRows:boolean",default:!0},{name:"rowCount:number",default:2,minValue:0,isBindable:!0},{name:"minRowCount:number",default:0,minValue:0},{name:"maxRowCount:number",default:S.settings.matrix.maxRowCount},{name:"keyName"},"defaultRowValue:rowvalue","defaultValueFromLastRow:boolean",{name:"confirmDelete:boolean"},{name:"confirmDeleteText",dependsOn:"confirmDelete",visibleIf:function(u){return!u||u.confirmDelete},serializationProperty:"locConfirmDeleteText"},{name:"addRowLocation",default:"default",choices:["default","top","bottom","topBottom"]},{name:"addRowText",serializationProperty:"locAddRowText"},{name:"removeRowText",serializationProperty:"locRemoveRowText"},"hideColumnsIfEmpty:boolean",{name:"emptyRowsText:text",serializationProperty:"locEmptyRowsText",dependsOn:"hideColumnsIfEmpty",visibleIf:function(u){return!u||u.hideColumnsIfEmpty}},{name:"detailPanelShowOnAdding:boolean",dependsOn:"detailPanelMode",visibleIf:function(u){return"none"!==u.detailPanelMode}},"allowRowsDragAndDrop:switch"],function(){return new E("")},"matrixdropdownbase"),K.QuestionFactory.Instance.registerQuestion("matrixdynamic",function(u){var l=new E(u);return l.choices=[1,2,3,4,5],j.QuestionMatrixDropdownModelBase.addDefaultColumns(l),l})},"./src/question_multipletext.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"MultipleTextEditorModel",function(){return y}),m.d(V,"MultipleTextItemModel",function(){return v}),m.d(V,"QuestionMultipleTextModel",function(){return E});var g,L=m("./src/base.ts"),K=m("./src/survey-element.ts"),j=m("./src/question.ts"),F=m("./src/question_text.ts"),S=m("./src/jsonobject.ts"),w=m("./src/questionfactory.ts"),M=m("./src/helpers.ts"),h=m("./src/utils/cssClassBuilder.ts"),D=m("./src/settings.ts"),P=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),y=function(g){function u(){return null!==g&&g.apply(this,arguments)||this}return P(u,g),Object.defineProperty(u.prototype,"a11y_input_ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"a11y_input_ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),u}(F.QuestionTextModel),v=function(g){function u(l,a){void 0===l&&(l=null),void 0===a&&(a=null);var i=g.call(this)||this;return i.editorValue=i.createEditor(l),i.editor.questionTitleTemplateCallback=function(){return""},i.editor.titleLocation="left",a&&(i.title=a),i}return P(u,g),u.prototype.getType=function(){return"multipletextitem"},Object.defineProperty(u.prototype,"id",{get:function(){return this.editor.id},enumerable:!1,configurable:!0}),u.prototype.getOriginalObj=function(){return this.editor},Object.defineProperty(u.prototype,"name",{get:function(){return this.editor.name},set:function(l){this.editor.name=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"question",{get:function(){return this.data},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"editor",{get:function(){return this.editorValue},enumerable:!1,configurable:!0}),u.prototype.createEditor=function(l){return new y(l)},u.prototype.addUsedLocales=function(l){g.prototype.addUsedLocales.call(this,l),this.editor.addUsedLocales(l)},u.prototype.localeChanged=function(){g.prototype.localeChanged.call(this),this.editor.localeChanged()},u.prototype.locStrsChanged=function(){g.prototype.locStrsChanged.call(this),this.editor.locStrsChanged()},u.prototype.setData=function(l){this.data=l,l&&(this.editor.defaultValue=l.getItemDefaultValue(this.name),this.editor.setSurveyImpl(this),this.editor.parent=l)},Object.defineProperty(u.prototype,"isRequired",{get:function(){return this.editor.isRequired},set:function(l){this.editor.isRequired=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"inputType",{get:function(){return this.editor.inputType},set:function(l){this.editor.inputType=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"title",{get:function(){return this.editor.title},set:function(l){this.editor.title=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locTitle",{get:function(){return this.editor.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"fullTitle",{get:function(){return this.editor.fullTitle},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxLength",{get:function(){return this.editor.maxLength},set:function(l){this.editor.maxLength=l},enumerable:!1,configurable:!0}),u.prototype.getMaxLength=function(){var l=this.getSurvey();return M.Helpers.getMaxLength(this.maxLength,l?l.maxTextLength:-1)},Object.defineProperty(u.prototype,"placeholder",{get:function(){return this.editor.placeholder},set:function(l){this.editor.placeholder=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locPlaceholder",{get:function(){return this.editor.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(l){this.placeholder=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"requiredErrorText",{get:function(){return this.editor.requiredErrorText},set:function(l){this.editor.requiredErrorText=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locRequiredErrorText",{get:function(){return this.editor.locRequiredErrorText},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"size",{get:function(){return this.editor.size},set:function(l){this.editor.size=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"validators",{get:function(){return this.editor.validators},set:function(l){this.editor.validators=l},enumerable:!1,configurable:!0}),u.prototype.getValidators=function(){return this.validators},Object.defineProperty(u.prototype,"value",{get:function(){return this.data?this.data.getMultipleTextValue(this.name):null},set:function(l){null!=this.data&&this.data.setMultipleTextValue(this.name,l)},enumerable:!1,configurable:!0}),u.prototype.isEmpty=function(){return this.editor.isEmpty()},u.prototype.onValueChanged=function(l){this.valueChangedCallback&&this.valueChangedCallback(l)},u.prototype.getSurveyData=function(){return this},u.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},u.prototype.getTextProcessor=function(){return this.data?this.data.getTextProcessor():null},u.prototype.getValue=function(l){return this.data?this.data.getMultipleTextValue(l):null},u.prototype.setValue=function(l,a){this.data&&this.data.setMultipleTextValue(l,a)},u.prototype.getVariable=function(l){},u.prototype.setVariable=function(l,a){},u.prototype.getComment=function(l){return null},u.prototype.setComment=function(l,a){},u.prototype.getAllValues=function(){return this.data?this.data.getAllValues():this.value},u.prototype.getFilteredValues=function(){return this.getAllValues()},u.prototype.getFilteredProperties=function(){return{survey:this.getSurvey()}},u.prototype.findQuestionByName=function(l){var a=this.getSurvey();return a?a.getQuestionByName(l):null},u.prototype.getValidatorTitle=function(){return this.title},Object.defineProperty(u.prototype,"validatedValue",{get:function(){return this.value},set:function(l){this.value=l},enumerable:!1,configurable:!0}),u.prototype.getDataFilteredValues=function(){return this.getFilteredValues()},u.prototype.getDataFilteredProperties=function(){return this.getFilteredProperties()},u}(L.Base),E=function(g){function u(l){var a=g.call(this,l)||this;return a.isMultipleItemValueChanging=!1,a.createNewArray("items",function(i){i.setData(a),a.survey&&a.survey.multipleTextItemAdded(a,i)}),a.registerPropertyChangedHandlers(["items","colCount"],function(){a.fireCallback(a.colCountChangedCallback)}),a.registerPropertyChangedHandlers(["itemSize"],function(){a.updateItemsSize()}),a}return P(u,g),u.addDefaultItems=function(l){for(var a=w.QuestionFactory.DefaultMutlipleTextItems,i=0;i<a.length;i++)l.addItem(a[i])},u.prototype.getType=function(){return"multipletext"},u.prototype.setSurveyImpl=function(l,a){g.prototype.setSurveyImpl.call(this,l,a);for(var i=0;i<this.items.length;i++)this.items[i].setData(this)},Object.defineProperty(u.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"id",{get:function(){return this.getPropertyValue("id")},set:function(l){var a;null===(a=this.items)||void 0===a||a.map(function(i,o){return i.editor.id=l+"_"+o}),this.setPropertyValue("id",l)},enumerable:!1,configurable:!0}),u.prototype.onSurveyLoad=function(){this.editorsOnSurveyLoad(),g.prototype.onSurveyLoad.call(this),this.fireCallback(this.colCountChangedCallback)},u.prototype.setQuestionValue=function(l,a){void 0===a&&(a=!0),g.prototype.setQuestionValue.call(this,l,a),this.performForEveryEditor(function(i){i.editor.updateValueFromSurvey(i.value)}),this.updateIsAnswered()},u.prototype.onSurveyValueChanged=function(l){g.prototype.onSurveyValueChanged.call(this,l),this.performForEveryEditor(function(a){a.editor.onSurveyValueChanged(a.value)})},u.prototype.updateItemsSize=function(){this.performForEveryEditor(function(l){l.editor.updateInputSize()})},u.prototype.editorsOnSurveyLoad=function(){this.performForEveryEditor(function(l){l.editor.onSurveyLoad()})},u.prototype.performForEveryEditor=function(l){for(var a=0;a<this.items.length;a++){var i=this.items[a];i.editor&&l(i)}},Object.defineProperty(u.prototype,"items",{get:function(){return this.getPropertyValue("items")},set:function(l){this.setPropertyValue("items",l)},enumerable:!1,configurable:!0}),u.prototype.addItem=function(l,a){void 0===a&&(a=null);var i=this.createTextItem(l,a);return this.items.push(i),i},u.prototype.getItemByName=function(l){for(var a=0;a<this.items.length;a++)if(this.items[a].name==l)return this.items[a];return null},u.prototype.addConditionObjectsByContext=function(l,a){for(var i=0;i<this.items.length;i++){var o=this.items[i];l.push({name:this.getValueName()+"."+o.name,text:this.processedTitle+"."+o.fullTitle,question:this})}},u.prototype.collectNestedQuestionsCore=function(l,a){this.items.forEach(function(i){return i.editor.collectNestedQuestions(l,a)})},u.prototype.getConditionJson=function(l,a){if(void 0===l&&(l=null),void 0===a&&(a=null),!a)return g.prototype.getConditionJson.call(this);var i=this.getItemByName(a);if(!i)return null;var o=(new S.JsonObject).toJsonObject(i);return o.type="text",o},u.prototype.locStrsChanged=function(){g.prototype.locStrsChanged.call(this);for(var l=0;l<this.items.length;l++)this.items[l].locStrsChanged()},u.prototype.localeChanged=function(){g.prototype.localeChanged.call(this);for(var l=0;l<this.items.length;l++)this.items[l].localeChanged()},u.prototype.supportGoNextPageAutomatic=function(){for(var l=0;l<this.items.length;l++)if(this.items[l].isEmpty())return!1;return!0},Object.defineProperty(u.prototype,"colCount",{get:function(){return this.getPropertyValue("colCount")},set:function(l){l<1||l>5||this.setPropertyValue("colCount",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"itemSize",{get:function(){return this.getPropertyValue("itemSize")},set:function(l){this.setPropertyValue("itemSize",l)},enumerable:!1,configurable:!0}),u.prototype.getRows=function(){for(var l=this.colCount,a=this.items,i=[],o=0,p=0;p<a.length;p++)0==o&&i.push([]),i[i.length-1].push(a[p]),++o>=l&&(o=0);return i},u.prototype.onValueChanged=function(){g.prototype.onValueChanged.call(this),this.onItemValueChanged()},u.prototype.createTextItem=function(l,a){return new v(l,a)},u.prototype.onItemValueChanged=function(){if(!this.isMultipleItemValueChanging)for(var l=0;l<this.items.length;l++){var a=null;this.value&&this.items[l].name in this.value&&(a=this.value[this.items[l].name]),this.items[l].onValueChanged(a)}},u.prototype.getIsRunningValidators=function(){if(g.prototype.getIsRunningValidators.call(this))return!0;for(var l=0;l<this.items.length;l++)if(this.items[l].editor.isRunningValidators)return!0;return!1},u.prototype.hasErrors=function(l,a){var i=this;void 0===l&&(l=!0),void 0===a&&(a=null);for(var o=!1,p=0;p<this.items.length;p++)this.items[p].editor.onCompletedAsyncValidators=function(A){i.raiseOnCompletedAsyncValidators()},(!a||!0!==a.isOnValueChanged||!this.items[p].editor.isEmpty())&&(o=this.items[p].editor.hasErrors(l,a)||o);return g.prototype.hasErrors.call(this,l)||o},u.prototype.getAllErrors=function(){for(var l=g.prototype.getAllErrors.call(this),a=0;a<this.items.length;a++){var i=this.items[a].editor.getAllErrors();i&&i.length>0&&(l=l.concat(i))}return l},u.prototype.clearErrors=function(){g.prototype.clearErrors.call(this);for(var l=0;l<this.items.length;l++)this.items[l].editor.clearErrors()},u.prototype.getContainsErrors=function(){var l=g.prototype.getContainsErrors.call(this);if(l)return l;for(var a=this.items,i=0;i<a.length;i++)if(a[i].editor.containsErrors)return!0;return!1},u.prototype.getIsAnswered=function(){if(!g.prototype.getIsAnswered.call(this))return!1;for(var l=0;l<this.items.length;l++){var a=this.items[l].editor;if(a.isVisible&&!a.isAnswered)return!1}return!0},u.prototype.getProgressInfo=function(){for(var l=[],a=0;a<this.items.length;a++)l.push(this.items[a].editor);return K.SurveyElement.getProgressInfoByElements(l,this.isRequired)},u.prototype.getDisplayValueCore=function(l,a){if(!a)return a;for(var i={},o=0;o<this.items.length;o++){var p=this.items[o],A=a[p.name];if(!M.Helpers.isValueEmpty(A)){var B=p.name;l&&!!p.title&&(B=p.title),i[B]=p.editor.getDisplayValue(l,A)}}return i},u.prototype.getMultipleTextValue=function(l){return this.value?this.value[l]:null},u.prototype.setMultipleTextValue=function(l,a){this.isMultipleItemValueChanging=!0,this.isValueEmpty(a)&&(a=void 0);var i=this.value;i||(i={}),i[l]=a,this.setNewValue(i),this.isMultipleItemValueChanging=!1},u.prototype.getItemDefaultValue=function(l){return this.defaultValue?this.defaultValue[l]:null},u.prototype.getTextProcessor=function(){return this.textProcessor},u.prototype.getAllValues=function(){return this.data?this.data.getAllValues():null},u.prototype.getIsRequiredText=function(){return this.survey?this.survey.requiredText:""},u.prototype.addElement=function(l,a){},u.prototype.removeElement=function(l){return!1},u.prototype.getQuestionTitleLocation=function(){return"left"},u.prototype.getQuestionStartIndex=function(){return this.getStartIndex()},u.prototype.getChildrenLayoutType=function(){return"row"},u.prototype.elementWidthChanged=function(l){},Object.defineProperty(u.prototype,"elements",{get:function(){return[]},enumerable:!1,configurable:!0}),u.prototype.indexOf=function(l){return-1},u.prototype.ensureRowsVisibility=function(){},u.prototype.validateContainerOnly=function(){},u.prototype.getItemLabelCss=function(l){return(new h.CssClassBuilder).append(this.cssClasses.itemLabel).append(this.cssClasses.itemLabelOnError,l.editor.errors.length>0).toString()},u.prototype.getItemCss=function(){return(new h.CssClassBuilder).append(this.cssClasses.item).toString()},u.prototype.getItemTitleCss=function(){return(new h.CssClassBuilder).append(this.cssClasses.itemTitle).toString()},u.prototype.getIsTooltipErrorInsideSupported=function(){return!0},u}(j.Question);S.Serializer.addClass("multipletextitem",[{name:"!name",isUnique:!0},"isRequired:boolean",{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder"},{name:"inputType",default:"text",choices:D.settings.questions.inputTypes},{name:"title",serializationProperty:"locTitle"},{name:"maxLength:number",default:-1},{name:"size:number",minValue:0},{name:"requiredErrorText:text",serializationProperty:"locRequiredErrorText"},{name:"validators:validators",baseClassName:"surveyvalidator",classNamePart:"validator"}],function(){return new v("")}),S.Serializer.addClass("multipletext",[{name:"!items:textitems",className:"multipletextitem"},{name:"itemSize:number",minValue:0},{name:"colCount:number",default:1,choices:[1,2,3,4,5]}],function(){return new E("")},"question"),w.QuestionFactory.Instance.registerQuestion("multipletext",function(g){var u=new E(g);return E.addDefaultItems(u),u})},"./src/question_paneldynamic.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionPanelDynamicItem",function(){return o}),m.d(V,"QuestionPanelDynamicTemplateSurveyImpl",function(){return p}),m.d(V,"QuestionPanelDynamicModel",function(){return A});var B,L=m("./src/helpers.ts"),K=m("./src/survey-element.ts"),j=m("./src/localizablestring.ts"),F=m("./src/textPreProcessor.ts"),S=m("./src/question.ts"),w=m("./src/jsonobject.ts"),M=m("./src/questionfactory.ts"),h=m("./src/error.ts"),D=m("./src/settings.ts"),P=m("./src/utils/utils.ts"),y=m("./src/utils/cssClassBuilder.ts"),v=m("./src/actions/action.ts"),E=m("./src/base.ts"),g=m("./src/actions/adaptive-container.ts"),u=(B=function(O,f){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var c in C)Object.prototype.hasOwnProperty.call(C,c)&&(b[c]=C[c])})(O,f)},function(O,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function b(){this.constructor=O}B(O,f),O.prototype=null===f?Object.create(f):(b.prototype=f.prototype,new b)}),i=function(B){function O(f,b,C){var c=B.call(this,C)||this;return c.data=f,c.panelItem=b,c.variableName=C,c.sharedQuestions={},c}return u(O,B),Object.defineProperty(O.prototype,"survey",{get:function(){return this.panelItem.getSurvey()},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panel",{get:function(){return this.panelItem.panel},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelIndex",{get:function(){return this.data?this.data.getItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"visiblePanelIndex",{get:function(){return this.data?this.data.getVisibleItemIndex(this.panelItem):-1},enumerable:!1,configurable:!0}),O.prototype.getValues=function(){return this.panelItem.getAllValues()},O.prototype.getQuestionByName=function(f){var b=B.prototype.getQuestionByName.call(this,f);if(b)return b;var C=this.panelIndex;return b=C>-1?this.data.getSharedQuestionFromArray(f,C):void 0,this.sharedQuestions[b?b.name:f]=f,b},O.prototype.getQuestionDisplayText=function(f){var b=this.sharedQuestions[f.name];if(!b)return B.prototype.getQuestionDisplayText.call(this,f);var C=this.panelItem.getValue(b);return f.getDisplayValue(!0,C)},O.prototype.onCustomProcessText=function(f){var b;if(f.name==o.IndexVariableName&&(b=this.panelIndex)>-1)return f.isExists=!0,f.value=b+1,!0;if(f.name==o.VisibleIndexVariableName&&(b=this.visiblePanelIndex)>-1)return f.isExists=!0,f.value=b+1,!0;if(0==f.name.toLowerCase().indexOf(o.ParentItemVariableName+".")){var C=this.data;if(C&&C.parentQuestion&&C.parent&&C.parent.data){var c=new O(C.parentQuestion,C.parent.data,o.ItemVariableName),T=o.ItemVariableName+f.name.substring(o.ParentItemVariableName.length),I=c.processValue(T,f.returnDisplayValue);f.isExists=I.isExists,f.value=I.value}return!0}return!1},O}(F.QuestionTextProcessor),o=function(){function B(O,f){this.data=O,this.panelValue=f,this.textPreProcessor=new i(O,this,B.ItemVariableName),this.setSurveyImpl()}return Object.defineProperty(B.prototype,"panel",{get:function(){return this.panelValue},enumerable:!1,configurable:!0}),B.prototype.setSurveyImpl=function(){this.panel.setSurveyImpl(this)},B.prototype.getValue=function(O){return this.getAllValues()[O]},B.prototype.setValue=function(O,f){var b=this.data.getPanelItemData(this);if(!L.Helpers.isTwoValueEquals(f,b?b[O]:void 0,!1,!0)){this.data.setPanelItemData(this,O,L.Helpers.getUnbindValue(f));for(var c=this.panel.questions,T=0;T<c.length;T++)c[T].getValueName()!==O&&c[T].checkBindings(O,f)}},B.prototype.getVariable=function(O){},B.prototype.setVariable=function(O,f){},B.prototype.getComment=function(O){return this.getValue(O+D.settings.commentSuffix)||""},B.prototype.setComment=function(O,f,b){this.setValue(O+D.settings.commentSuffix,f)},B.prototype.findQuestionByName=function(O){if(O){var f=B.ItemVariableName+".";if(0===O.indexOf(f))return this.panel.getQuestionByName(O.substring(f.length));var b=this.getSurvey();return b?b.getQuestionByName(O):null}},B.prototype.getAllValues=function(){return this.data.getPanelItemData(this)},B.prototype.getFilteredValues=function(){var O={},f=this.data&&this.data.getRootData()?this.data.getRootData().getFilteredValues():{};for(var b in f)O[b]=f[b];if(O[B.ItemVariableName]=this.getAllValues(),this.data){var C=B.IndexVariableName,c=B.VisibleIndexVariableName;delete O[C],delete O[c],O[C.toLowerCase()]=this.data.getItemIndex(this),O[c.toLowerCase()]=this.data.getVisibleItemIndex(this);var T=this.data;T&&T.parentQuestion&&T.parent&&(O[B.ParentItemVariableName]=T.parent.getValue())}return O},B.prototype.getFilteredProperties=function(){return this.data&&this.data.getRootData()?this.data.getRootData().getFilteredProperties():{survey:this.getSurvey()}},B.prototype.getSurveyData=function(){return this},B.prototype.getSurvey=function(){return this.data?this.data.getSurvey():null},B.prototype.getTextProcessor=function(){return this.textPreProcessor},B.ItemVariableName="panel",B.ParentItemVariableName="parentpanel",B.IndexVariableName="panelIndex",B.VisibleIndexVariableName="visiblePanelIndex",B}(),p=function(){function B(O){this.data=O}return B.prototype.getSurveyData=function(){return null},B.prototype.getSurvey=function(){return this.data.getSurvey()},B.prototype.getTextProcessor=function(){return null},B}(),A=function(B){function O(f){var b=B.call(this,f)||this;return b.isAddingNewPanels=!1,b.onReadyChangedCallback=function(){b.recalculateIsReadyValue()},b.isSetPanelItemData={},b.createNewArray("panels",function(C){b.onPanelAdded(C)},function(C){b.onPanelRemoved(C)}),b.createNewArray("visiblePanels"),b.templateValue=b.createAndSetupNewPanelObject(),b.template.renderWidth="100%",b.template.selectedElementInDesign=b,b.template.addElementCallback=function(C){b.addOnPropertyChangedCallback(C),b.rebuildPanels()},b.template.removeElementCallback=function(){b.rebuildPanels()},b.createLocalizableString("confirmDeleteText",b,!1,"confirmDelete"),b.createLocalizableString("keyDuplicationError",b,!1,!0),b.createLocalizableString("panelAddText",b,!1,"addPanel"),b.createLocalizableString("panelRemoveText",b,!1,"removePanel"),b.createLocalizableString("panelPrevText",b,!1,"pagePrevText"),b.createLocalizableString("panelNextText",b,!1,"pageNextText"),b.createLocalizableString("noEntriesText",b,!1,"noEntriesText"),b.createLocalizableString("templateTabTitle",b,!0,"panelDynamicTabTextFormat"),b.registerPropertyChangedHandlers(["panelsState"],function(){b.setPanelsState()}),b.registerPropertyChangedHandlers(["isMobile"],function(){b.updateFooterActions()}),b.registerPropertyChangedHandlers(["allowAddPanel"],function(){b.updateNoEntriesTextDefaultLoc()}),b}return u(O,B),Object.defineProperty(O.prototype,"hasSingleInput",{get:function(){return!1},enumerable:!1,configurable:!0}),O.prototype.getFirstQuestionToFocus=function(f){for(var b=0;b<this.visiblePanels.length;b++){var C=this.visiblePanels[b].getFirstQuestionToFocus(f);if(C)return C}return null},O.prototype.setSurveyImpl=function(f,b){B.prototype.setSurveyImpl.call(this,f,b),this.setTemplatePanelSurveyImpl(),this.setPanelsSurveyImpl()},O.prototype.assignOnPropertyChangedToTemplate=function(){for(var f=this.template.elements,b=0;b<f.length;b++)this.addOnPropertyChangedCallback(f[b])},O.prototype.addOnPropertyChangedCallback=function(f){var b=this;f.isQuestion&&f.setParentQuestion(this),f.onPropertyChanged.add(function(C,c){b.onTemplateElementPropertyChanged(C,c)}),f.isPanel&&(f.addElementCallback=function(C){b.addOnPropertyChangedCallback(C)})},O.prototype.onTemplateElementPropertyChanged=function(f,b){if(!this.isLoadingFromJson&&!this.useTemplatePanel&&0!=this.panels.length&&w.Serializer.findProperty(f.getType(),b.name))for(var c=this.panels,T=0;T<c.length;T++){var I=c[T].getQuestionByName(f.name);I&&I[b.name]!==b.newValue&&(I[b.name]=b.newValue)}},Object.defineProperty(O.prototype,"useTemplatePanel",{get:function(){return this.isDesignMode&&!this.isContentElement},enumerable:!1,configurable:!0}),O.prototype.getType=function(){return"paneldynamic"},Object.defineProperty(O.prototype,"isCompositeQuestion",{get:function(){return!0},enumerable:!1,configurable:!0}),O.prototype.clearOnDeletingContainer=function(){this.panels.forEach(function(f){f.clearOnDeletingContainer()})},Object.defineProperty(O.prototype,"isAllowTitleLeft",{get:function(){return!1},enumerable:!1,configurable:!0}),O.prototype.removeElement=function(f){return this.template.removeElement(f)},Object.defineProperty(O.prototype,"template",{get:function(){return this.templateValue},enumerable:!1,configurable:!0}),O.prototype.getPanel=function(){return this.template},Object.defineProperty(O.prototype,"templateElements",{get:function(){return this.template.elements},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"templateTitle",{get:function(){return this.template.title},set:function(f){this.template.title=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locTemplateTitle",{get:function(){return this.template.locTitle},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"templateTabTitle",{get:function(){return this.locTemplateTabTitle.text},set:function(f){this.locTemplateTabTitle.text=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locTemplateTabTitle",{get:function(){return this.getLocalizableString("templateTabTitle")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"templateDescription",{get:function(){return this.template.description},set:function(f){this.template.description=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locTemplateDescription",{get:function(){return this.template.locDescription},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"templateVisibleIf",{get:function(){return this.template.visibleIf},set:function(f){this.template.visibleIf=f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"items",{get:function(){for(var f=[],b=0;b<this.panels.length;b++)f.push(this.panels[b].data);return f},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panels",{get:function(){return this.getPropertyValue("panels")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"visiblePanels",{get:function(){return this.getPropertyValue("visiblePanels")},enumerable:!1,configurable:!0}),O.prototype.onPanelAdded=function(f){if(this.onPanelRemovedCore(f),f.visible){for(var b=0,C=this.panels,c=0;c<C.length&&C[c]!==f;c++)C[c].visible&&b++;this.visiblePanels.splice(b,0,f),this.addTabFromToolbar(f,b),this.currentPanel||(this.currentPanel=f)}},O.prototype.onPanelRemoved=function(f){var b=this.onPanelRemovedCore(f);if(this.currentPanel===f){var C=this.visiblePanels;b>=C.length&&(b=C.length-1),this.currentPanel=b>=0?C[b]:null}},O.prototype.onPanelRemovedCore=function(f){var b=this.visiblePanels,C=b.indexOf(f);return C>-1&&(b.splice(C,1),this.removeTabFromToolbar(f)),C},Object.defineProperty(O.prototype,"currentIndex",{get:function(){return this.isRenderModeList?-1:this.useTemplatePanel?0:this.visiblePanels.indexOf(this.currentPanel)},set:function(f){f<0||this.visiblePanelCount<1||(f>=this.visiblePanelCount&&(f=this.visiblePanelCount-1),this.currentPanel=this.visiblePanels[f])},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"currentPanel",{get:function(){if(this.isDesignMode)return this.template;if(this.isRenderModeList||this.useTemplatePanel)return null;var f=this.getPropertyValue("currentPanel",null);return!f&&this.visiblePanelCount>0&&(this.currentPanel=f=this.visiblePanels[0]),f},set:function(f){this.isRenderModeList||this.useTemplatePanel||f&&this.visiblePanels.indexOf(f)<0||f===this.getPropertyValue("currentPanel")||(this.setPropertyValue("currentPanel",f),this.updateFooterActions(),this.updateTabToolbarItemsPressedState(),this.fireCallback(this.currentIndexChangedCallback))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"confirmDelete",{get:function(){return this.getPropertyValue("confirmDelete")},set:function(f){this.setPropertyValue("confirmDelete",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"keyName",{get:function(){return this.getPropertyValue("keyName","")},set:function(f){this.setPropertyValue("keyName",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"confirmDeleteText",{get:function(){return this.getLocalizableStringText("confirmDeleteText")},set:function(f){this.setLocalizableStringText("confirmDeleteText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locConfirmDeleteText",{get:function(){return this.getLocalizableString("confirmDeleteText")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"keyDuplicationError",{get:function(){return this.getLocalizableStringText("keyDuplicationError")},set:function(f){this.setLocalizableStringText("keyDuplicationError",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locKeyDuplicationError",{get:function(){return this.getLocalizableString("keyDuplicationError")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelPrevText",{get:function(){return this.getLocalizableStringText("panelPrevText")},set:function(f){this.setLocalizableStringText("panelPrevText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locPanelPrevText",{get:function(){return this.getLocalizableString("panelPrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelNextText",{get:function(){return this.getLocalizableStringText("panelNextText")},set:function(f){this.setLocalizableStringText("panelNextText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locPanelNextText",{get:function(){return this.getLocalizableString("panelNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelAddText",{get:function(){return this.getLocalizableStringText("panelAddText")},set:function(f){this.setLocalizableStringText("panelAddText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locPanelAddText",{get:function(){return this.getLocalizableString("panelAddText")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelRemoveText",{get:function(){return this.getLocalizableStringText("panelRemoveText")},set:function(f){this.setLocalizableStringText("panelRemoveText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locPanelRemoveText",{get:function(){return this.getLocalizableString("panelRemoveText")},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isProgressTopShowing",{get:function(){return"progressTop"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isProgressBottomShowing",{get:function(){return"progressBottom"===this.renderMode||"progressTopBottom"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isPrevButtonVisible",{get:function(){return this.currentIndex>0},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isPrevButtonShowing",{get:function(){return this.isPrevButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isNextButtonVisible",{get:function(){return this.currentIndex>=0&&this.currentIndex<this.visiblePanelCount-1},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isNextButtonShowing",{get:function(){return this.isNextButtonVisible},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRangeShowing",{get:function(){return this.showRangeInProgress&&this.currentIndex>=0&&this.visiblePanelCount>1},enumerable:!1,configurable:!0}),O.prototype.getElementsInDesign=function(f){return void 0===f&&(f=!1),f?[this.template]:this.templateElements},O.prototype.prepareValueForPanelCreating=function(){this.addingNewPanelsValue=this.value,this.isAddingNewPanels=!0,this.isNewPanelsValueChanged=!1},O.prototype.setValueAfterPanelsCreating=function(){this.isAddingNewPanels=!1,this.isNewPanelsValueChanged&&(this.isValueChangingInternally=!0,this.value=this.addingNewPanelsValue,this.isValueChangingInternally=!1)},O.prototype.getValueCore=function(){return this.isAddingNewPanels?this.addingNewPanelsValue:B.prototype.getValueCore.call(this)},O.prototype.setValueCore=function(f){this.isAddingNewPanels?(this.isNewPanelsValueChanged=!0,this.addingNewPanelsValue=f):B.prototype.setValueCore.call(this,f)},O.prototype.setIsMobile=function(f){(this.panels||[]).forEach(function(b){return b.elements.forEach(function(C){C instanceof S.Question&&(C.isMobile=f)})})},Object.defineProperty(O.prototype,"panelCount",{get:function(){return this.isLoadingFromJson||this.useTemplatePanel?this.getPropertyValue("panelCount"):this.panels.length},set:function(f){if(!(f<0)){if(this.isLoadingFromJson||this.useTemplatePanel)return void this.setPropertyValue("panelCount",f);if(f!=this.panels.length&&!this.useTemplatePanel){this.updateBindings("panelCount",f),this.prepareValueForPanelCreating();for(var b=this.panelCount;b<f;b++){var C=this.createNewPanel();this.panels.push(C),"list"==this.renderMode&&"default"!=this.panelsState&&("expand"===this.panelsState?C.expand():C.title&&C.collapse())}f<this.panelCount&&this.panels.splice(f,this.panelCount-f),this.setValueAfterPanelsCreating(),this.setValueBasedOnPanelCount(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback)}}},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"visiblePanelCount",{get:function(){return this.visiblePanels.length},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelsState",{get:function(){return this.getPropertyValue("panelsState")},set:function(f){this.setPropertyValue("panelsState",f)},enumerable:!1,configurable:!0}),O.prototype.setTemplatePanelSurveyImpl=function(){this.template.setSurveyImpl(this.useTemplatePanel?this.surveyImpl:new p(this))},O.prototype.setPanelsSurveyImpl=function(){for(var f=0;f<this.panels.length;f++){var b=this.panels[f];b!=this.template&&b.setSurveyImpl(b.data)}},O.prototype.setPanelsState=function(){if(!this.useTemplatePanel&&"list"==this.renderMode&&this.templateTitle)for(var f=0;f<this.panels.length;f++){var b=this.panelsState;"firstExpanded"===b&&(b=0===f?"expanded":"collapsed"),this.panels[f].state=b}},O.prototype.setValueBasedOnPanelCount=function(){var f=this.value;if((!f||!Array.isArray(f))&&(f=[]),f.length!=this.panelCount){for(var b=f.length;b<this.panelCount;b++)f.push({});f.length>this.panelCount&&f.splice(this.panelCount,f.length-this.panelCount),this.isValueChangingInternally=!0,this.value=f,this.isValueChangingInternally=!1}},Object.defineProperty(O.prototype,"minPanelCount",{get:function(){return this.getPropertyValue("minPanelCount")},set:function(f){f<0&&(f=0),f!=this.minPanelCount&&(this.setPropertyValue("minPanelCount",f),f>this.maxPanelCount&&(this.maxPanelCount=f),this.panelCount<f&&(this.panelCount=f))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"maxPanelCount",{get:function(){return this.getPropertyValue("maxPanelCount")},set:function(f){f<=0||(f>D.settings.panel.maxPanelCount&&(f=D.settings.panel.maxPanelCount),f!=this.maxPanelCount&&(this.setPropertyValue("maxPanelCount",f),f<this.minPanelCount&&(this.minPanelCount=f),this.panelCount>f&&(this.panelCount=f)))},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"allowAddPanel",{get:function(){return this.getPropertyValue("allowAddPanel")},set:function(f){this.setPropertyValue("allowAddPanel",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"allowRemovePanel",{get:function(){return this.getPropertyValue("allowRemovePanel")},set:function(f){this.setPropertyValue("allowRemovePanel",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"templateTitleLocation",{get:function(){return this.getPropertyValue("templateTitleLocation")},set:function(f){this.setPropertyValue("templateTitleLocation",f.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(f){this.setPropertyValue("showQuestionNumbers",f),!this.isLoadingFromJson&&this.survey&&this.survey.questionVisibilityChanged(this,this.visible)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"panelRemoveButtonLocation",{get:function(){return this.getPropertyValue("panelRemoveButtonLocation")},set:function(f){this.setPropertyValue("panelRemoveButtonLocation",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showRangeInProgress",{get:function(){return this.getPropertyValue("showRangeInProgress")},set:function(f){this.setPropertyValue("showRangeInProgress",f),this.updateFooterActions(),this.fireCallback(this.currentIndexChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"renderMode",{get:function(){return this.getPropertyValue("renderMode")},set:function(f){this.setPropertyValue("renderMode",f),this.updateFooterActions(),this.fireCallback(this.renderModeChangedCallback)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"tabAlign",{get:function(){return this.getPropertyValue("tabAlign")},set:function(f){this.setPropertyValue("tabAlign",f),this.isRenderModeTab&&(this.additionalTitleToolbar.containerCss=this.getAdditionalTitleToolbarCss())},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRenderModeList",{get:function(){return"list"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"isRenderModeTab",{get:function(){return"tab"===this.renderMode},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"hasTitleOnLeftTop",{get:function(){if(this.isRenderModeTab&&this.visiblePanelCount>0)return!0;if(!this.hasTitle)return!1;var f=this.getTitleLocation();return"left"===f||"top"===f},enumerable:!1,configurable:!0}),O.prototype.setVisibleIndex=function(f){if(!this.isVisible)return 0;for(var b="onSurvey"==this.showQuestionNumbers?f:0,C=0;C<this.visiblePanels.length;C++){var c=this.setPanelVisibleIndex(this.visiblePanels[C],b,"off"!=this.showQuestionNumbers);"onSurvey"==this.showQuestionNumbers&&(b+=c)}return B.prototype.setVisibleIndex.call(this,"onSurvey"!=this.showQuestionNumbers?f:-1),"onSurvey"!=this.showQuestionNumbers?1:b-f},O.prototype.setPanelVisibleIndex=function(f,b,C){return C?f.setVisibleIndex(b):(f.setVisibleIndex(-1),0)},Object.defineProperty(O.prototype,"canAddPanel",{get:function(){return!(this.isDesignMode||this.isDefaultV2Theme&&!this.legacyNavigation&&!this.isRenderModeList&&this.currentIndex<this.visiblePanelCount-1)&&this.allowAddPanel&&!this.isReadOnly&&this.panelCount<this.maxPanelCount},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"canRemovePanel",{get:function(){return!this.isDesignMode&&this.allowRemovePanel&&!this.isReadOnly&&this.panelCount>this.minPanelCount},enumerable:!1,configurable:!0}),O.prototype.rebuildPanels=function(){var f;if(!this.isLoadingFromJson){this.prepareValueForPanelCreating();var b=[];if(this.useTemplatePanel)new o(this,this.template),b.push(this.template);else for(var c=0;c<this.panelCount;c++)this.createNewPanel(),b.push(this.createNewPanel());(f=this.panels).splice.apply(f,function(B,O){for(var f=0,b=O.length,C=B.length;f<b;f++,C++)B[C]=O[f];return B}([0,this.panels.length],b)),this.setValueAfterPanelsCreating(),this.setPanelsState(),this.reRunCondition(),this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.updateTabToolbar()}},Object.defineProperty(O.prototype,"defaultPanelValue",{get:function(){return this.getPropertyValue("defaultPanelValue")},set:function(f){this.setPropertyValue("defaultPanelValue",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"defaultValueFromLastPanel",{get:function(){return this.getPropertyValue("defaultValueFromLastPanel")},set:function(f){this.setPropertyValue("defaultValueFromLastPanel",f)},enumerable:!1,configurable:!0}),O.prototype.isDefaultValueEmpty=function(){return B.prototype.isDefaultValueEmpty.call(this)&&this.isValueEmpty(this.defaultPanelValue)},O.prototype.setDefaultValue=function(){if(!this.isValueEmpty(this.defaultPanelValue)&&this.isValueEmpty(this.defaultValue)){if(this.isEmpty()&&0!=this.panelCount){for(var f=[],b=0;b<this.panelCount;b++)f.push(this.defaultPanelValue);this.value=f}}else B.prototype.setDefaultValue.call(this)},O.prototype.isEmpty=function(){var f=this.value;if(!f||!Array.isArray(f))return!0;for(var b=0;b<f.length;b++)if(!this.isRowEmpty(f[b]))return!1;return!0},O.prototype.getProgressInfo=function(){return K.SurveyElement.getProgressInfoByElements(this.visiblePanels,this.isRequired)},O.prototype.isRowEmpty=function(f){for(var b in f)if(f.hasOwnProperty(b))return!1;return!0},O.prototype.addPanelUI=function(){if(!this.canAddPanel||!this.canLeaveCurrentPanel())return null;var f=this.addPanel();return"list"===this.renderMode&&"default"!==this.panelsState&&f.expand(),f},O.prototype.addPanel=function(){this.panelCount++,this.isRenderModeList||(this.currentIndex=this.panelCount-1);var f=this.value,b=!1;return this.isValueEmpty(this.defaultPanelValue)||!!f&&Array.isArray(f)&&f.length==this.panelCount&&(b=!0,this.copyValue(f[f.length-1],this.defaultPanelValue)),this.defaultValueFromLastPanel&&!!f&&Array.isArray(f)&&f.length>1&&f.length==this.panelCount&&(b=!0,this.copyValue(f[f.length-1],f[f.length-2])),b&&(this.value=f),this.survey&&this.survey.dynamicPanelAdded(this),this.panels[this.panelCount-1]},O.prototype.canLeaveCurrentPanel=function(){return!("list"!==this.renderMode&&this.currentPanel&&this.currentPanel.hasErrors(!0,!0))},O.prototype.copyValue=function(f,b){for(var C in b)f[C]=b[C]},O.prototype.removePanelUI=function(f){!this.canRemovePanel||(!this.confirmDelete||Object(P.confirmAction)(this.confirmDeleteText))&&this.removePanel(f)},O.prototype.goToNextPanel=function(){return!(this.currentIndex<0||!this.canLeaveCurrentPanel()||(this.currentIndex++,0))},O.prototype.goToPrevPanel=function(){this.currentIndex<0||this.currentIndex--},O.prototype.removePanel=function(T){var b=this.getVisualPanelIndex(T);if(!(b<0||b>=this.visiblePanelCount)){var C=this.visiblePanels[b],c=this.panels.indexOf(C);c<0||this.survey&&!this.survey.dynamicPanelRemoving(this,c,C)||(this.panels.splice(c,1),this.updateBindings("panelCount",this.panelCount),!(T=this.value)||!Array.isArray(T)||c>=T.length||(this.isValueChangingInternally=!0,T.splice(c,1),this.value=T,this.updateFooterActions(),this.fireCallback(this.panelCountChangedCallback),this.survey&&this.survey.dynamicPanelRemoved(this,c,C),this.isValueChangingInternally=!1))}},O.prototype.getVisualPanelIndex=function(f){if(L.Helpers.isNumber(f))return f;for(var b=this.visiblePanels,C=0;C<b.length;C++)if(b[C]===f||b[C].data===f)return C;return-1},O.prototype.getPanelIndexById=function(f){for(var b=0;b<this.panels.length;b++)if(this.panels[b].id===f)return b;return-1},O.prototype.locStrsChanged=function(){B.prototype.locStrsChanged.call(this);for(var f=this.panels,b=0;b<f.length;b++)f[b].locStrsChanged();this.additionalTitleToolbar&&this.additionalTitleToolbar.locStrsChanged()},O.prototype.clearIncorrectValues=function(){for(var f=0;f<this.panels.length;f++)this.clearIncorrectValuesInPanel(f)},O.prototype.clearErrors=function(){B.prototype.clearErrors.call(this);for(var f=0;f<this.panels.length;f++)this.panels[f].clearErrors()},O.prototype.getQuestionFromArray=function(f,b){return b>=this.panelCount?null:this.panels[b].getQuestionByName(f)},O.prototype.clearIncorrectValuesInPanel=function(f){var b=this.panels[f];b.clearIncorrectValues();var C=this.value,c=C&&f<C.length?C[f]:null;if(c){var T=!1;for(var I in c)this.getSharedQuestionFromArray(I,f)||b.getQuestionByName(I)||this.iscorrectValueWithPostPrefix(b,I,D.settings.commentSuffix)||this.iscorrectValueWithPostPrefix(b,I,D.settings.matrix.totalsSuffix)||(delete c[I],T=!0);T&&(C[f]=c,this.value=C)}},O.prototype.iscorrectValueWithPostPrefix=function(f,b,C){return b.indexOf(C)===b.length-C.length&&!!f.getQuestionByName(b.substring(0,b.indexOf(C)))},O.prototype.getSharedQuestionFromArray=function(f,b){return this.survey&&this.valueName?this.survey.getQuestionByValueNameFromArray(this.valueName,f,b):null},O.prototype.addConditionObjectsByContext=function(f,b){for(var C=!!b&&(!0===b||this.template.questions.indexOf(b)>-1),c=new Array,T=this.template.questions,I=0;I<T.length;I++)T[I].addConditionObjectsByContext(c,b);for(var H=0;H<D.settings.panel.maxPanelCountInCondition;H++){var J="["+H+"].",se=this.getValueName()+J,he=this.processedTitle+J;for(I=0;I<c.length;I++)f.push({name:se+c[I].name,text:he+c[I].text,question:c[I].question})}if(C)for(se=!0===b?this.getValueName()+".":"",he=!0===b?this.processedTitle+".":"",I=0;I<c.length;I++)if(c[I].question!=b){var ie={name:se+"panel."+c[I].name,text:he+"panel."+c[I].text,question:c[I].question};!0===b&&(ie.context=this),f.push(ie)}},O.prototype.collectNestedQuestionsCore=function(f,b){var C=b?this.visiblePanels:this.panels;!Array.isArray(C)||C.forEach(function(c){c.questions.forEach(function(T){return T.collectNestedQuestions(f,b)})})},O.prototype.getConditionJson=function(f,b){if(void 0===f&&(f=null),void 0===b&&(b=null),!b)return B.prototype.getConditionJson.call(this,f,b);var C=b,c=b.indexOf(".");c>-1&&(C=b.substring(0,c),b=b.substring(c+1));var T=this.template.getQuestionByName(C);return T?T.getConditionJson(f,b):null},O.prototype.onReadOnlyChanged=function(){var f=this.isReadOnly;this.template.readOnly=f;for(var b=0;b<this.panels.length;b++)this.panels[b].readOnly=f;this.updateNoEntriesTextDefaultLoc(),this.updateFooterActions(),B.prototype.onReadOnlyChanged.call(this)},O.prototype.updateNoEntriesTextDefaultLoc=function(){var f=this.getLocalizableString("noEntriesText");!f||(f.localizationName=this.isReadOnly||!this.allowAddPanel?"noEntriesReadonlyText":"noEntriesText",f.strChanged())},O.prototype.onSurveyLoad=function(){if(this.template.readOnly=this.isReadOnly,this.template.onSurveyLoad(),this.getPropertyValue("panelCount")>0&&(this.panelCount=this.getPropertyValue("panelCount")),this.useTemplatePanel&&this.rebuildPanels(),this.setPanelsSurveyImpl(),this.setPanelsState(),this.assignOnPropertyChangedToTemplate(),this.survey)for(var f=0;f<this.panelCount;f++)this.survey.dynamicPanelAdded(this);this.recalculateIsReadyValue(),(this.isReadOnly||!this.allowAddPanel)&&this.updateNoEntriesTextDefaultLoc(),B.prototype.onSurveyLoad.call(this)},O.prototype.onFirstRendering=function(){this.template.onFirstRendering();for(var f=0;f<this.panels.length;f++)this.panels[f].onFirstRendering();B.prototype.onFirstRendering.call(this)},O.prototype.localeChanged=function(){B.prototype.localeChanged.call(this);for(var f=0;f<this.panels.length;f++)this.panels[f].localeChanged()},O.prototype.runCondition=function(f,b){B.prototype.runCondition.call(this,f,b),this.runPanelsCondition(f,b)},O.prototype.reRunCondition=function(){!this.data||this.runCondition(this.getDataFilteredValues(),this.getDataFilteredProperties())},O.prototype.runPanelsCondition=function(f,b){var C={};f&&f instanceof Object&&(C=JSON.parse(JSON.stringify(f))),this.parentQuestion&&this.parent&&(C[o.ParentItemVariableName]=this.parent.getValue());for(var c=0;c<this.panels.length;c++){var T=this.getPanelItemData(this.panels[c].data),I=L.Helpers.createCopy(C);I[o.ItemVariableName.toLowerCase()]=T,I[o.IndexVariableName.toLowerCase()]=c,this.panels[c].runCondition(I,b)}},O.prototype.onAnyValueChanged=function(f){B.prototype.onAnyValueChanged.call(this,f);for(var b=0;b<this.panels.length;b++)this.panels[b].onAnyValueChanged(f),this.panels[b].onAnyValueChanged(o.ItemVariableName)},O.prototype.hasKeysDuplicated=function(f,b){void 0===b&&(b=null);for(var c,C=[],T=0;T<this.panels.length;T++)c=this.isValueDuplicated(this.panels[T],C,b,f)||c;return c},O.prototype.updatePanelsContainsErrors=function(){for(var b=this.changingValueQuestion.parent;b;)b.updateContainsErrors(),b=b.parent;this.updateContainsErrors()},O.prototype.hasErrors=function(f,b){if(void 0===f&&(f=!0),void 0===b&&(b=null),this.isValueChangingInternally)return!1;var C=!1;return this.changingValueQuestion?(C=this.changingValueQuestion.hasErrors(f,b),C=this.hasKeysDuplicated(f,b)||C,this.updatePanelsContainsErrors()):C=this.hasErrorInPanels(f,b),B.prototype.hasErrors.call(this,f,b)||C},O.prototype.getContainsErrors=function(){var f=B.prototype.getContainsErrors.call(this);if(f)return f;for(var b=this.panels,C=0;C<b.length;C++)if(b[C].containsErrors)return!0;return!1},O.prototype.getIsAnswered=function(){if(!B.prototype.getIsAnswered.call(this))return!1;for(var f=this.visiblePanels,b=0;b<f.length;b++){var C=[];f[b].addQuestionsToList(C,!0);for(var c=0;c<C.length;c++)if(!C[c].isAnswered)return!1}return!0},O.prototype.clearValueOnHidding=function(f){if(!f){if(this.survey&&"none"===this.survey.getQuestionClearIfInvisible("onHidden"))return;this.clearValueInPanelsIfInvisible("onHiddenContainer")}B.prototype.clearValueOnHidding.call(this,f)},O.prototype.clearValueIfInvisible=function(f){void 0===f&&(f="onHidden"),this.clearValueInPanelsIfInvisible("onHidden"===f?"onHiddenContainer":f),B.prototype.clearValueIfInvisible.call(this,f)},O.prototype.clearValueInPanelsIfInvisible=function(f){for(var b=0;b<this.panels.length;b++){var C=this.panels[b].questions;this.isSetPanelItemData={};for(var c=0;c<C.length;c++){var T=C[c];T.clearValueIfInvisible(f),this.isSetPanelItemData[T.getValueName()]=this.maxCheckCount+1}}this.isSetPanelItemData={}},O.prototype.getIsRunningValidators=function(){if(B.prototype.getIsRunningValidators.call(this))return!0;for(var f=0;f<this.panels.length;f++)for(var b=this.panels[f].questions,C=0;C<b.length;C++)if(b[C].isRunningValidators)return!0;return!1},O.prototype.getAllErrors=function(){for(var f=B.prototype.getAllErrors.call(this),b=this.visiblePanels,C=0;C<b.length;C++)for(var c=b[C].questions,T=0;T<c.length;T++){var I=c[T].getAllErrors();I&&I.length>0&&(f=f.concat(I))}return f},O.prototype.getDisplayValueCore=function(f,b){var C=this.getUnbindValue(b);if(!C||!Array.isArray(C))return C;for(var c=0;c<this.panels.length&&c<C.length;c++){var T=C[c];!T||(C[c]=this.getPanelDisplayValue(c,T,f))}return C},O.prototype.getPanelDisplayValue=function(f,b,C){if(!b)return b;for(var c=this.panels[f],T=Object.keys(b),I=0;I<T.length;I++){var H=T[I],J=c.getQuestionByValueName(H);if(J||(J=this.getSharedQuestionFromArray(H,f)),J){var se=J.getDisplayValue(C,b[H]);b[H]=se,C&&J.title&&J.title!==H&&(b[J.title]=se,delete b[H])}}return b},O.prototype.hasErrorInPanels=function(f,b){for(var C=!1,c=this.visiblePanels,T=[],I=0;I<c.length;I++)this.setOnCompleteAsyncInPanel(c[I]);for(I=0;I<c.length;I++){var H=c[I].hasErrors(f,!!b&&b.focuseOnFirstError,b);H=this.isValueDuplicated(c[I],T,b,f)||H,!this.isRenderModeList&&H&&!C&&(this.currentIndex=I),C=H||C}return C},O.prototype.setOnCompleteAsyncInPanel=function(f){for(var b=this,C=f.questions,c=0;c<C.length;c++)C[c].onCompletedAsyncValidators=function(T){b.raiseOnCompletedAsyncValidators()}},O.prototype.isValueDuplicated=function(f,b,C,c){if(!this.keyName)return!1;var T=f.getQuestionByValueName(this.keyName);if(!T||T.isEmpty())return!1;var I=T.value;this.changingValueQuestion&&T!=this.changingValueQuestion&&T.hasErrors(c,C);for(var H=0;H<b.length;H++)if(I==b[H])return c&&T.addError(new h.KeyDuplicationError(this.keyDuplicationError,this)),!!C&&!C.firstErrorQuestion&&(C.firstErrorQuestion=T),!0;return b.push(I),!1},O.prototype.getPanelActions=function(f){var b=this,C=f.footerActions;return"right"!==this.panelRemoveButtonLocation&&C.push(new v.Action({id:"remove-panel-"+f.id,component:"sv-paneldynamic-remove-btn",visible:new E.ComputedUpdater(function(){return[b.canRemovePanel,"collapsed"!==f.state,"right"!==b.panelRemoveButtonLocation].every(function(c){return!0===c})}),data:{question:this,panel:f}})),this.survey&&(C=this.survey.getUpdatedPanelFooterActions(f,C,this)),C},O.prototype.createNewPanel=function(){var f=this,b=this.createAndSetupNewPanelObject(),C=this.template.toJSON();(new w.JsonObject).toObject(C,b),b.renderWidth="100%",b.updateCustomWidgets(),new o(this,b),b.onFirstRendering();for(var c=b.questions,T=0;T<c.length;T++)c[T].setParentQuestion(this);return b.locStrsChanged(),b.onGetFooterActionsCallback=function(){return f.getPanelActions(b)},b.footerToolbarCss=this.cssClasses.panelFooter,b.registerPropertyChangedHandlers(["visible"],function(){b.visible?f.onPanelAdded(b):f.onPanelRemoved(b),f.updateFooterActions()}),b},O.prototype.createAndSetupNewPanelObject=function(){var f=this.createNewPanelObject();f.isInteractiveDesignElement=!1,f.setParentQuestion(this);var b=this;return f.onGetQuestionTitleLocation=function(){return b.getTemplateQuestionTitleLocation()},f},O.prototype.getTemplateQuestionTitleLocation=function(){return"default"!=this.templateTitleLocation?this.templateTitleLocation:this.getTitleLocationCore()},O.prototype.createNewPanelObject=function(){return w.Serializer.createClass("panel")},O.prototype.setPanelCountBasedOnValue=function(){if(!this.isValueChangingInternally&&!this.useTemplatePanel){var f=this.value,b=f&&Array.isArray(f)?f.length:0;0==b&&this.getPropertyValue("panelCount")>0&&(b=this.getPropertyValue("panelCount")),this.settingPanelCountBasedOnValue=!0,this.panelCount=b,this.settingPanelCountBasedOnValue=!1}},O.prototype.setQuestionValue=function(f){if(!this.settingPanelCountBasedOnValue){B.prototype.setQuestionValue.call(this,f,!1),this.setPanelCountBasedOnValue();for(var b=0;b<this.panels.length;b++)this.panelUpdateValueFromSurvey(this.panels[b]);this.updateIsAnswered()}},O.prototype.onSurveyValueChanged=function(f){if(void 0!==f||!this.isAllPanelsEmpty()){B.prototype.onSurveyValueChanged.call(this,f);for(var b=0;b<this.panels.length;b++)this.panelSurveyValueChanged(this.panels[b]);void 0===f&&this.setValueBasedOnPanelCount(),this.recalculateIsReadyValue()}},O.prototype.isAllPanelsEmpty=function(){for(var f=0;f<this.panels.length;f++)if(!L.Helpers.isValueEmpty(this.panels[f].getValue()))return!1;return!0},O.prototype.panelUpdateValueFromSurvey=function(f){for(var b=f.questions,C=this.getPanelItemData(f.data),c=0;c<b.length;c++){var T=b[c];T.updateValueFromSurvey(C[T.getValueName()]),T.updateCommentFromSurvey(C[T.getValueName()+D.settings.commentSuffix]),T.initDataUI()}},O.prototype.panelSurveyValueChanged=function(f){for(var b=f.questions,C=this.getPanelItemData(f.data),c=0;c<b.length;c++){var T=b[c];T.onSurveyValueChanged(C[T.getValueName()])}},O.prototype.recalculateIsReadyValue=function(){var f=this,b=!0;this.panels.forEach(function(C){C.questions.forEach(function(c){c.isReady?c.onReadyChanged.remove(f.onReadyChangedCallback):(b=!1,c.onReadyChanged.add(f.onReadyChangedCallback))})}),this.isReady=b},O.prototype.onSetData=function(){B.prototype.onSetData.call(this),this.useTemplatePanel&&(this.setTemplatePanelSurveyImpl(),this.rebuildPanels())},O.prototype.getItemIndex=function(f){var b=this.items.indexOf(f);return b>-1?b:this.items.length},O.prototype.getVisibleItemIndex=function(f){for(var b=this.visiblePanels,C=0;C<b.length;C++)if(b[C].data===f)return C;return b.length},O.prototype.getPanelItemData=function(f){var b=this.items,C=b.indexOf(f),c=this.value;return C<0&&Array.isArray(c)&&c.length>b.length&&(C=b.length),C<0||!c||!Array.isArray(c)||c.length<=C?{}:c[C]},O.prototype.setPanelItemData=function(f,b,C){if(!(this.isSetPanelItemData[b]>this.maxCheckCount)){this.isSetPanelItemData[b]||(this.isSetPanelItemData[b]=0),this.isSetPanelItemData[b]++;var c=this.items,T=c.indexOf(f);T<0&&(T=c.length);var I=this.getUnbindValue(this.value);if((!I||!Array.isArray(I))&&(I=[]),I.length<=T)for(var H=I.length;H<=T;H++)I.push({});I[T]||(I[T]={}),this.isValueEmpty(C)?delete I[T][b]:I[T][b]=C,T>=0&&T<this.panels.length&&(this.changingValueQuestion=this.panels[T].getQuestionByValueName(b)),this.value=I,this.changingValueQuestion=null,this.survey&&this.survey.dynamicPanelItemValueChanged(this,{question:this,panel:f.panel,name:b,itemIndex:T,itemValue:I[T],value:C}),this.isSetPanelItemData[b]--,this.isSetPanelItemData[b]-1&&delete this.isSetPanelItemData[b]}},O.prototype.getRootData=function(){return this.data},O.prototype.getPlainData=function(f){void 0===f&&(f={includeEmpty:!0});var b=B.prototype.getPlainData.call(this,f);return b&&(b.isNode=!0,b.data=this.panels.map(function(C,c){var T={name:C.name||c,title:C.title||"Panel",value:C.getValue(),displayValue:C.getValue(),getString:function(I){return"object"==typeof I?JSON.stringify(I):I},isNode:!0,data:C.questions.map(function(I){return I.getPlainData(f)}).filter(function(I){return!!I})};return(f.calculations||[]).forEach(function(I){T[I.propertyName]=C[I.propertyName]}),T})),b},O.prototype.updateElementCss=function(f){B.prototype.updateElementCss.call(this,f);for(var b=0;b<this.panels.length;b++)this.panels[b].updateElementCss(f)},Object.defineProperty(O.prototype,"progressText",{get:function(){return this.getLocalizationFormatString("panelDynamicProgressText",this.currentIndex+1,this.visiblePanelCount)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"progress",{get:function(){return(this.currentIndex+1)/this.visiblePanelCount*100+"%"},enumerable:!1,configurable:!0}),O.prototype.getRootCss=function(){return(new y.CssClassBuilder).append(B.prototype.getRootCss.call(this)).append(this.cssClasses.empty,this.getShowNoEntriesPlaceholder()).toString()},Object.defineProperty(O.prototype,"cssHeader",{get:function(){var f=this.isRenderModeTab&&!!this.panelCount;return(new y.CssClassBuilder).append(this.cssClasses.header).append(this.cssClasses.headerTop,this.hasTitleOnTop||f).append(this.cssClasses.headerTab,f).toString()},enumerable:!1,configurable:!0}),O.prototype.getPanelWrapperCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.panelWrapper).append(this.cssClasses.panelWrapperInRow,"right"===this.panelRemoveButtonLocation).toString()},O.prototype.getPanelRemoveButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonRemove).append(this.cssClasses.buttonRemoveRight,"right"===this.panelRemoveButtonLocation).toString()},O.prototype.getAddButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.button).append(this.cssClasses.buttonAdd).append(this.cssClasses.buttonAdd+"--list-mode","list"===this.renderMode).toString()},O.prototype.getPrevButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.buttonPrev).append(this.cssClasses.buttonPrevDisabled,!this.isPrevButtonVisible).toString()},O.prototype.getNextButtonCss=function(){return(new y.CssClassBuilder).append(this.cssClasses.buttonNext).append(this.cssClasses.buttonNextDisabled,!this.isNextButtonVisible).toString()},Object.defineProperty(O.prototype,"noEntriesText",{get:function(){return this.getLocalizableStringText("noEntriesText")},set:function(f){this.setLocalizableStringText("noEntriesText",f)},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"locNoEntriesText",{get:function(){return this.getLocalizableString("noEntriesText")},enumerable:!1,configurable:!0}),O.prototype.getShowNoEntriesPlaceholder=function(){return!!this.cssClasses.noEntriesPlaceholder&&!this.isDesignMode&&0===this.visiblePanelCount},O.prototype.needResponsiveWidth=function(){var f=this.getPanel();return!(!f||!f.needResponsiveWidth())},O.prototype.getAdditionalTitleToolbar=function(){return this.isRenderModeTab?(this.additionalTitleToolbarValue||(this.additionalTitleToolbarValue=new g.AdaptiveActionContainer,this.additionalTitleToolbarValue.dotsItem.popupModel.showPointer=!1,this.additionalTitleToolbarValue.dotsItem.popupModel.verticalPosition="bottom",this.additionalTitleToolbarValue.dotsItem.popupModel.horizontalPosition="center",this.updateElementCss(!1)),this.additionalTitleToolbarValue):null},Object.defineProperty(O.prototype,"footerToolbar",{get:function(){return this.footerToolbarValue||this.initFooterToolbar(),this.footerToolbarValue},enumerable:!1,configurable:!0}),O.prototype.updateFooterActions=function(){this.updateFooterActionsCallback&&this.updateFooterActionsCallback()},O.prototype.initFooterToolbar=function(){var f=this;this.footerToolbarValue=this.createActionContainer();var b=[],C=new v.Action({id:"sv-pd-prev-btn",title:this.panelPrevText,action:function(){f.goToPrevPanel()}}),c=new v.Action({id:"sv-pd-next-btn",title:this.panelNextText,action:function(){f.goToNextPanel()}}),T=new v.Action({id:"sv-pd-add-btn",component:"sv-paneldynamic-add-btn",data:{question:this}}),I=new v.Action({id:"sv-prev-btn-icon",component:"sv-paneldynamic-prev-btn",data:{question:this}}),H=new v.Action({id:"sv-pd-progress-text",component:"sv-paneldynamic-progress-text",data:{question:this}}),J=new v.Action({id:"sv-pd-next-btn-icon",component:"sv-paneldynamic-next-btn",data:{question:this}});b.push(C,c,T,I,H,J),this.updateFooterActionsCallback=function(){var se=f.legacyNavigation,he=f.isRenderModeList,ie=f.isMobile,ye=!se&&!he;C.visible=ye&&f.currentIndex>0,c.visible=ye&&f.currentIndex<f.visiblePanelCount-1,c.needSpace=ie&&c.visible&&C.visible,T.visible=f.canAddPanel,T.needSpace=f.isMobile&&!c.visible&&C.visible,H.visible=!f.isRenderModeList&&!ie,H.needSpace=!se&&!f.isMobile;var Ie=se&&!he;I.visible=Ie,J.visible=Ie,I.needSpace=Ie},this.updateFooterActionsCallback(),this.footerToolbarValue.setItems(b)},O.prototype.createTabByPanel=function(f){var b=this;if(this.isRenderModeTab){var C=new j.LocalizableString(f,!0);C.sharedData=this.locTemplateTabTitle;var c=this.getPanelIndexById(f.id)===this.currentIndex,T=new v.Action({id:f.id,pressed:c,locTitle:C,disableHide:c,action:function(){b.currentIndex=b.getPanelIndexById(T.id)}});return T}},O.prototype.getAdditionalTitleToolbarCss=function(f){var b=null!=f?f:this.cssClasses;return(new y.CssClassBuilder).append(b.tabsRoot).append(b.tabsLeft,"left"===this.tabAlign).append(b.tabsRight,"right"===this.tabAlign).append(b.tabsCenter,"center"===this.tabAlign).toString()},O.prototype.updateTabToolbarItemsPressedState=function(){if(this.isRenderModeTab&&!(this.currentIndex<0||this.currentIndex>=this.visiblePanelCount)){var f=this.visiblePanels[this.currentIndex];this.additionalTitleToolbar.renderedActions.forEach(function(b){var C=b.id===f.id;b.pressed=C,b.disableHide=C,"popup"===b.mode&&b.disableHide&&b.raiseUpdate()})}},O.prototype.updateTabToolbar=function(){var f=this;if(this.isRenderModeTab){var b=[];this.visiblePanels.forEach(function(C){return b.push(f.createTabByPanel(C))}),this.additionalTitleToolbar.setItems(b)}},O.prototype.addTabFromToolbar=function(f,b){if(this.isRenderModeTab){var C=this.createTabByPanel(f);this.additionalTitleToolbar.actions.splice(b,0,C),this.updateTabToolbarItemsPressedState()}},O.prototype.removeTabFromToolbar=function(f){if(this.isRenderModeTab){var b=this.additionalTitleToolbar.getActionById(f.id);!b||(this.additionalTitleToolbar.actions.splice(this.additionalTitleToolbar.actions.indexOf(b),1),this.updateTabToolbarItemsPressedState())}},Object.defineProperty(O.prototype,"showLegacyNavigation",{get:function(){return!this.isDefaultV2Theme},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"showNavigation",{get:function(){return this.visiblePanelCount>0&&!this.showLegacyNavigation&&!!this.cssClasses.footer},enumerable:!1,configurable:!0}),O.prototype.showSeparator=function(f){return this.isRenderModeList&&f<this.visiblePanelCount-1},O.prototype.calcCssClasses=function(f){var b=B.prototype.calcCssClasses.call(this,f),C=this.additionalTitleToolbar;return C&&(C.containerCss=this.getAdditionalTitleToolbarCss(b),C.cssClasses=b.tabs,C.dotsItem.cssClasses=b.tabs,C.dotsItem.popupModel.contentComponentData.model.cssClasses=f.list),b},O.maxCheckCount=3,function(B,O,f,b){var T,C=arguments.length,c=C<3?O:null===b?b=Object.getOwnPropertyDescriptor(O,f):b;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(B,O,f,b);else for(var I=B.length-1;I>=0;I--)(T=B[I])&&(c=(C<3?T(c):C>3?T(O,f,c):T(O,f))||c);C>3&&c&&Object.defineProperty(O,f,c)}([Object(w.property)({defaultValue:!1,onSet:function(f,b){b.updateFooterActions()}})],O.prototype,"legacyNavigation",void 0),O}(S.Question);w.Serializer.addClass("paneldynamic",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"templateElements",alternativeName:"questions",baseClassName:"question",visible:!1,isLightSerializable:!1},{name:"templateTitle:text",serializationProperty:"locTemplateTitle"},{name:"templateTabTitle",serializationProperty:"locTemplateTabTitle",visibleIf:function(B){return"tab"===B.renderMode}},{name:"templateDescription:text",serializationProperty:"locTemplateDescription"},{name:"minWidth",defaultFunc:function(){return"auto"}},{name:"noEntriesText:text",serializationProperty:"locNoEntriesText"},{name:"allowAddPanel:boolean",default:!0},{name:"allowRemovePanel:boolean",default:!0},{name:"panelCount:number",isBindable:!0,default:0,choices:[0,1,2,3,4,5,6,7,8,9,10]},{name:"minPanelCount:number",default:0,minValue:0},{name:"maxPanelCount:number",default:D.settings.panel.maxPanelCount},"defaultPanelValue:panelvalue","defaultValueFromLastPanel:boolean",{name:"panelsState",default:"default",choices:["default","collapsed","expanded","firstExpanded"]},{name:"keyName"},{name:"keyDuplicationError",serializationProperty:"locKeyDuplicationError"},{name:"confirmDelete:boolean"},{name:"confirmDeleteText",serializationProperty:"locConfirmDeleteText"},{name:"panelAddText",serializationProperty:"locPanelAddText"},{name:"panelRemoveText",serializationProperty:"locPanelRemoveText"},{name:"panelPrevText",serializationProperty:"locPanelPrevText"},{name:"panelNextText",serializationProperty:"locPanelNextText"},{name:"showQuestionNumbers",default:"off",choices:["off","onPanel","onSurvey"]},{name:"showRangeInProgress:boolean",default:!0},{name:"renderMode",default:"list",choices:["list","progressTop","progressBottom","progressTopBottom","tab"]},{name:"tabAlign",default:"center",choices:["center","left","right"],visibleIf:function(B){return"tab"===B.renderMode}},{name:"templateTitleLocation",default:"default",choices:["default","top","bottom","left"]},{name:"templateVisibleIf:expression",category:"logic"},{name:"panelRemoveButtonLocation",default:"bottom",choices:["bottom","right"]}],function(){return new A("")},"question"),M.QuestionFactory.Instance.registerQuestion("paneldynamic",function(B){return new A(B)})},"./src/question_radiogroup.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionRadiogroupModel",function(){return M});var h,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question_baseselect.ts"),F=m("./src/actions/action.ts"),S=m("./src/base.ts"),w=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),M=function(h){function D(P){return h.call(this,P)||this}return w(D,h),D.prototype.getDefaultItemComponent=function(){return"survey-radiogroup-item"},D.prototype.getType=function(){return"radiogroup"},Object.defineProperty(D.prototype,"ariaRole",{get:function(){return"radiogroup"},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"titleAriaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),D.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},Object.defineProperty(D.prototype,"selectedItem",{get:function(){return this.getSingleSelectedItem()},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"showClearButton",{get:function(){return this.getPropertyValue("showClearButton")},set:function(P){this.setPropertyValue("showClearButton",P)},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"canShowClearButton",{get:function(){return this.showClearButton&&!this.isReadOnly},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),D.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown},D.prototype.setNewComment=function(P){this.isMouseDown=!0,h.prototype.setNewComment.call(this,P),this.isMouseDown=!1},Object.defineProperty(D.prototype,"showClearButtonInContent",{get:function(){return!this.isDefaultV2Theme&&this.canShowClearButton},enumerable:!1,configurable:!0}),D.prototype.clickItemHandler=function(P){this.renderedValue=P.value},D.prototype.getDefaultTitleActions=function(){var P=this,y=[];if(this.isDefaultV2Theme&&!this.isDesignMode){var v=new F.Action({title:this.clearButtonCaption,id:"sv-clr-btn-"+this.id,action:function(){P.clearValue()},innerCss:this.cssClasses.clearButton,visible:new S.ComputedUpdater(function(){return P.canShowClearButton})});y.push(v)}return y},D}(j.QuestionCheckboxBase);L.Serializer.addClass("radiogroup",[{name:"showClearButton:boolean",default:!1},{name:"separateSpecialChoices",visible:!0},{name:"itemComponent",visible:!1,default:"survey-radiogroup-item"}],function(){return new M("")},"checkboxbase"),K.QuestionFactory.Instance.registerQuestion("radiogroup",function(h){var D=new M(h);return D.choices=K.QuestionFactory.DefaultChoices,D})},"./src/question_ranking.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionRankingModel",function(){return E});var g,L=m("./src/dragdrop/ranking-choices.ts"),K=m("./src/dragdrop/ranking-select-to-rank.ts"),j=m("./src/itemvalue.ts"),F=m("./src/jsonobject.ts"),S=m("./src/questionfactory.ts"),w=m("./src/question_checkbox.ts"),M=m("./src/utils/cssClassBuilder.ts"),h=m("./src/utils/devices.ts"),D=m("./src/helpers.ts"),P=m("./src/settings.ts"),y=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),v=function(g,u,l,a){var p,i=arguments.length,o=i<3?u:null===a?a=Object.getOwnPropertyDescriptor(u,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(g,u,l,a);else for(var A=g.length-1;A>=0;A--)(p=g[A])&&(o=(i<3?p(o):i>3?p(u,l,o):p(u,l))||o);return i>3&&o&&Object.defineProperty(u,l,o),o},E=function(g){function u(l){var a=g.call(this,l)||this;return a.domNode=null,a.onVisibleChoicesChanged=function(){if(g.prototype.onVisibleChoicesChanged.call(a),1===a.visibleChoices.length)return a.value=[],void a.updateRankingChoices();a.isEmpty()||a.selectToRankEnabled||(a.visibleChoices.length>a.value.length&&a.addToValueByVisibleChoices(),a.visibleChoices.length<a.value.length&&a.removeFromValueByVisibleChoices()),a.updateRankingChoices()},a.localeChanged=function(){g.prototype.localeChanged.call(a),a.updateRankingChoices()},a.handlePointerDown=function(i,o,p){var A=i.target;!a.isDragStartNodeValid(A)||a.allowStartDrag&&a.canStartDragDueMaxSelectedChoices(A)&&a.dragDropRankingChoices.startDrag(i,o,a,p)},a.handleKeydown=function(i,o){if(!a.isDesignMode){var p=i.key,A=a.rankingChoices.indexOf(o);if(a.selectToRankEnabled)return void a.handleKeydownSelectToRank(i,o);"ArrowUp"===p&&A&&(a.handleArrowUp(A,o),i.preventDefault()),"ArrowDown"===p&&A!==a.rankingChoices.length-1&&(a.handleArrowDown(A,o),i.preventDefault())}},a.handleArrowUp=function(i,o){var p=a.rankingChoices;p.splice(i,1),p.splice(i-1,0,o),a.setValue(),setTimeout(function(){a.focusItem(i-1)},1)},a.handleArrowDown=function(i,o){var p=a.rankingChoices;p.splice(i,1),p.splice(i+1,0,o),a.setValue(),setTimeout(function(){a.focusItem(i+1)},1)},a.focusItem=function(i,o){a.selectToRankEnabled&&o?a.domNode.querySelectorAll("[data-ranking='"+o+"'] ."+a.cssClasses.item)[i].focus():a.domNode.querySelectorAll("."+a.cssClasses.item)[i].focus()},a.setValue=function(){var i=[];a.rankingChoices.forEach(function(o){i.push(o.value)}),a.value=i},a.createNewArray("rankingChoices"),a.registerFunctionOnPropertyValueChanged("selectToRankEnabled",function(){a.clearValue(),a.setDragDropRankingChoices(),a.updateRankingChoices()}),a}return y(u,g),u.prototype.getDefaultItemComponent=function(){return""},u.prototype.getType=function(){return"ranking"},u.prototype.getItemTabIndex=function(l){return this.isDesignMode?void 0:0},Object.defineProperty(u.prototype,"rootClass",{get:function(){return(new M.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.rootMobileMod,h.IsMobile).append(this.cssClasses.rootDisabled,this.isReadOnly).append(this.cssClasses.rootDesignMode,!!this.isDesignMode).append(this.cssClasses.itemOnError,this.errors.length>0).append(this.cssClasses.rootDragHandleAreaIcon,"icon"===P.settings.rankingDragHandleArea).append(this.cssClasses.rootSelectToRankMod,this.selectToRankEnabled).append(this.cssClasses.rootSelectToRankAlignHorizontal,this.selectToRankEnabled&&"horizontal"===this.selectToRankAreasLayout).append(this.cssClasses.rootSelectToRankAlignVertical,this.selectToRankEnabled&&"vertical"===this.selectToRankAreasLayout).toString()},enumerable:!1,configurable:!0}),u.prototype.getItemClassCore=function(l,a){var i=this.rankingChoices.indexOf(l),o=this.rankingChoices.indexOf(this.currentDropTarget);return(new M.CssClassBuilder).append(g.prototype.getItemClassCore.call(this,l,a)).append(this.cssClasses.itemGhostMod,this.currentDropTarget===l).append("sv-dragdrop-movedown",i===o+1&&"down"===this.dropTargetNodeMove).append("sv-dragdrop-moveup",i===o-1&&"up"===this.dropTargetNodeMove).toString()},u.prototype.getContainerClasses=function(l){var a=!1,i="to"===l,o="from"===l;return i?a=0===this.rankingChoices.length:o&&(a=0===this.unRankingChoices.length),(new M.CssClassBuilder).append(this.cssClasses.container).append(this.cssClasses.containerToMode,i).append(this.cssClasses.containerFromMode,o).append(this.cssClasses.containerEmptyMode,a).toString()},u.prototype.isItemCurrentDropTarget=function(l){return this.dragDropRankingChoices.dropTarget===l},Object.defineProperty(u.prototype,"ghostPositionCssClass",{get:function(){return"top"===this.ghostPosition?this.cssClasses.dragDropGhostPositionTop:"bottom"===this.ghostPosition?this.cssClasses.dragDropGhostPositionBottom:""},enumerable:!1,configurable:!0}),u.prototype.getItemIndexClasses=function(l){var a;return a=this.selectToRankEnabled?-1!==this.unRankingChoices.indexOf(l):this.isEmpty(),(new M.CssClassBuilder).append(this.cssClasses.itemIndex).append(this.cssClasses.itemIndexEmptyMode,a).toString()},u.prototype.getNumberByIndex=function(l){return this.isEmpty()?"":l+1+""},u.prototype.setSurveyImpl=function(l,a){g.prototype.setSurveyImpl.call(this,l,a),this.setDragDropRankingChoices(),this.updateRankingChoices()},u.prototype.isAnswerCorrect=function(){return D.Helpers.isArraysEqual(this.value,this.correctAnswer,!1)},u.prototype.onSurveyValueChanged=function(l){g.prototype.onSurveyValueChanged.call(this,l),!this.isLoadingFromJson&&this.updateRankingChoices()},u.prototype.addToValueByVisibleChoices=function(){var l=this.value.slice();this.visibleChoices.forEach(function(a){-1===l.indexOf(a.value)&&l.push(a.value)}),this.value=l},u.prototype.removeFromValueByVisibleChoices=function(){for(var l=this.value.slice(),a=this.visibleChoices,i=this.value.length-1;i>=0;i--)j.ItemValue.getItemByValue(a,this.value[i])||l.splice(i,1);this.value=l},Object.defineProperty(u.prototype,"rankingChoices",{get:function(){return this.getPropertyValue("rankingChoices",[])},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"unRankingChoices",{get:function(){var l=[],a=this.rankingChoices;return this.visibleChoices.forEach(function(i){l.push(i)}),a.forEach(function(i){l.forEach(function(o,p){o.value===i.value&&l.splice(p,1)})}),l},enumerable:!1,configurable:!0}),u.prototype.updateRankingChoices=function(l){var a=this;if(void 0===l&&(l=!1),this.selectToRankEnabled)this.updateRankingChoicesSelectToRankMode(l);else{var i=[];1!==this.visibleChoices.length?(l&&this.setPropertyValue("rankingChoices",[]),this.isEmpty()?this.setPropertyValue("rankingChoices",this.visibleChoices):(this.value.forEach(function(o){a.visibleChoices.forEach(function(p){p.value===o&&i.push(p)})}),this.setPropertyValue("rankingChoices",i))):this.setPropertyValue("rankingChoices",i)}},u.prototype.updateRankingChoicesSelectToRankMode=function(l){var a=this;if(this.isEmpty())this.setPropertyValue("rankingChoices",[]);else{var i=[];this.value.forEach(function(o){a.visibleChoices.forEach(function(p){p.value===o&&i.push(p)})}),this.setPropertyValue("rankingChoices",i)}},u.prototype.endLoadingFromJson=function(){g.prototype.endLoadingFromJson.call(this),this.setDragDropRankingChoices()},u.prototype.setDragDropRankingChoices=function(){this.dragDropRankingChoices=this.createDragDropRankingChoices()},u.prototype.createDragDropRankingChoices=function(){return this.selectToRankEnabled?new K.DragDropRankingSelectToRank(this.survey,null,this.longTap):new L.DragDropRankingChoices(this.survey,null,this.longTap)},u.prototype.isDragStartNodeValid=function(l){return"icon"!==P.settings.rankingDragHandleArea||l.classList.contains(this.cssClasses.itemIconHoverMod)},Object.defineProperty(u.prototype,"allowStartDrag",{get:function(){return!this.isReadOnly&&!this.isDesignMode},enumerable:!1,configurable:!0}),u.prototype.canStartDragDueMaxSelectedChoices=function(l){return!this.selectToRankEnabled||!l.closest("[data-ranking='from-container']")||this.checkMaxSelectedChoicesUnreached()},u.prototype.checkMaxSelectedChoicesUnreached=function(){if(this.maxSelectedChoices<1)return!0;var l=this.value;return(Array.isArray(l)?l.length:0)<this.maxSelectedChoices},u.prototype.afterRenderQuestionElement=function(l){this.domNode=l,g.prototype.afterRenderQuestionElement.call(this,l)},u.prototype.beforeDestroyQuestionElement=function(l){g.prototype.beforeDestroyQuestionElement.call(this,l)},u.prototype.supportSelectAll=function(){return!1},u.prototype.supportOther=function(){return!1},u.prototype.supportNone=function(){return!1},u.prototype.handleKeydownSelectToRank=function(l,a){if(!this.isDesignMode){var f,b,i=this.dragDropRankingChoices,o=l.key,p=this.rankingChoices,A=this.unRankingChoices,B=-1!==p.indexOf(a);if((" "===o||"Enter"===o)&&!B)return f=A.indexOf(a),i.selectToRank(this,f,b=0),void this.setValueAfterKeydown(b,"to-container");if((" "===o||"Enter"===o)&&B)return f=p.indexOf(a),i.unselectFromRank(this,f),b=this.unRankingChoices.indexOf(a),void this.setValueAfterKeydown(b,"from-container");if("ArrowUp"===o&&B){if((f=p.indexOf(a))<0)return;return i.reorderRankedItem(this,f,b=f-1),void this.setValueAfterKeydown(b,"to-container")}if("ArrowDown"===o&&B){if((b=(f=p.indexOf(a))+1)>=p.length)return;return i.reorderRankedItem(this,f,b),void this.setValueAfterKeydown(b,"to-container")}}},u.prototype.setValueAfterKeydown=function(l,a){var i=this;this.setValue(),setTimeout(function(){i.focusItem(l,a)},1),event.preventDefault()},u.prototype.getIconHoverCss=function(){return(new M.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconHoverMod).toString()},u.prototype.getIconFocusCss=function(){return(new M.CssClassBuilder).append(this.cssClasses.itemIcon).append(this.cssClasses.itemIconFocusMod).toString()},Object.defineProperty(u.prototype,"longTap",{get:function(){return this.getPropertyValue("longTap")},set:function(l){this.setPropertyValue("longTap",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectToRankEnabled",{get:function(){return this.getPropertyValue("selectToRankEnabled",!1)},set:function(l){this.setPropertyValue("selectToRankEnabled",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectToRankAreasLayout",{get:function(){return h.IsMobile?"vertical":this.getPropertyValue("selectToRankAreasLayout","horizontal")},set:function(l){this.setPropertyValue("selectToRankAreasLayout",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"useFullItemSizeForShortcut",{get:function(){return this.getPropertyValue("useFullItemSizeForShortcut")},set:function(l){this.setPropertyValue("useFullItemSizeForShortcut",l)},enumerable:!1,configurable:!0}),v([Object(F.property)({defaultValue:null})],u.prototype,"currentDropTarget",void 0),v([Object(F.property)({defaultValue:null})],u.prototype,"dropTargetNodeMove",void 0),v([Object(F.property)({localizable:{defaultStr:"selectToRankEmptyRankedAreaText"}})],u.prototype,"selectToRankEmptyRankedAreaText",void 0),v([Object(F.property)({localizable:{defaultStr:"selectToRankEmptyUnrankedAreaText"}})],u.prototype,"selectToRankEmptyUnrankedAreaText",void 0),u}(w.QuestionCheckboxModel);F.Serializer.addClass("ranking",[{name:"showOtherItem",visible:!1,isSerializable:!1},{name:"otherText",visible:!1,isSerializable:!1},{name:"otherErrorText",visible:!1,isSerializable:!1},{name:"storeOthersAsComment",visible:!1,isSerializable:!1},{name:"showNoneItem",visible:!1,isSerializable:!1},{name:"noneText",visible:!1,isSerializable:!1},{name:"showSelectAllItem",visible:!1,isSerializable:!1},{name:"selectAllText",visible:!1,isSerializable:!1},{name:"colCount:number",visible:!1,isSerializable:!1},{name:"maxSelectedChoices",visible:!1,isSerializable:!1},{name:"minSelectedChoices",visible:!1,isSerializable:!1},{name:"separateSpecialChoices",visible:!1,isSerializable:!1},{name:"longTap",default:!0,visible:!1,isSerializable:!1},{name:"selectToRankEnabled",default:!1,visible:!1,isSerializable:!0},{name:"selectToRankAreasLayout",default:"horizontal",visible:!1,isSerializable:!0},{name:"itemComponent",visible:!1,default:""}],function(){return new E("")},"checkbox"),S.QuestionFactory.Instance.registerQuestion("ranking",function(g){var u=new E(g);return u.choices=S.QuestionFactory.DefaultChoices,u})},"./src/question_rating.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"RenderedRatingItem",function(){return v}),m.d(V,"QuestionRatingModel",function(){return E});var g,L=m("./src/itemvalue.ts"),K=m("./src/question.ts"),j=m("./src/jsonobject.ts"),F=m("./src/questionfactory.ts"),S=m("./src/settings.ts"),w=m("./src/surveyStrings.ts"),M=m("./src/utils/cssClassBuilder.ts"),h=m("./src/base.ts"),D=m("./src/utils/utils.ts"),P=(g=function(u,l){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(a[o]=i[o])})(u,l)},function(u,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function a(){this.constructor=u}g(u,l),u.prototype=null===l?Object.create(l):(a.prototype=l.prototype,new a)}),y=function(g,u,l,a){var p,i=arguments.length,o=i<3?u:null===a?a=Object.getOwnPropertyDescriptor(u,l):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(g,u,l,a);else for(var A=g.length-1;A>=0;A--)(p=g[A])&&(o=(i<3?p(o):i>3?p(u,l,o):p(u,l))||o);return i>3&&o&&Object.defineProperty(u,l,o),o},v=function(g){function u(l,a){void 0===a&&(a=null);var i=g.call(this)||this;return i.itemValue=l,i.locString=a,i.locText.onStringChanged.add(i.onStringChangedCallback.bind(i)),i.onStringChangedCallback(),i}return P(u,g),u.prototype.onStringChangedCallback=function(){this.text=this.itemValue.text},Object.defineProperty(u.prototype,"value",{get:function(){return this.itemValue.getPropertyValue("value")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locText",{get:function(){return this.locString||this.itemValue.locText},enumerable:!1,configurable:!0}),y([Object(j.property)({defaultValue:""})],u.prototype,"highlight",void 0),y([Object(j.property)({defaultValue:""})],u.prototype,"text",void 0),y([Object(j.property)()],u.prototype,"style",void 0),u}(h.Base),E=function(g){function u(l){var a=g.call(this,l)||this;return a._syncPropertiesChanging=!1,a.initColors(),a.createItemValues("rateValues"),a.createRenderedRateItems(),a.createLocalizableString("ratingOptionsCaption",a,!1,!0),a.registerFunctionOnPropertiesValueChanged(["rateMin","rateMax","minRateDescription","maxRateDescription","rateStep","displayRateDescriptionsAsExtremeItems"],function(){return a.createRenderedRateItems()}),a.registerFunctionOnPropertiesValueChanged(["rateType"],function(){a.setIconsToRateValues(),a.createRenderedRateItems(),a.updateRateCount()}),a.registerFunctionOnPropertiesValueChanged(["rateValues"],function(){a.autoGenerate=!1,a.setIconsToRateValues(),a.createRenderedRateItems()}),a.registerFunctionOnPropertiesValueChanged(["rateColorMode","scaleColorMode"],function(){a.initColors()}),a.registerFunctionOnPropertiesValueChanged(["autoGenerate"],function(){!a.autoGenerate&&0===a.rateValues.length&&a.setPropertyValue("rateValues",a.visibleRateValues),a.autoGenerate&&(a.rateValues.length=0,a.updateRateMax()),a.createRenderedRateItems()}),a.createLocalizableString("minRateDescription",a,!0),a.createLocalizableString("maxRateDescription",a,!0),a.initPropertyDependencies(),a}return P(u,g),u.prototype.setIconsToRateValues=function(){var l=this;"smileys"==this.rateType&&this.rateValues.map(function(a){return a.icon=l.getItemSmiley(a)})},u.prototype.endLoadingFromJson=function(){g.prototype.endLoadingFromJson.call(this),this.initColors(),this.hasMinRateDescription=!!this.minRateDescription,this.hasMaxRateDescription=!!this.maxRateDescription,void 0!==this.jsonObj.rateMin&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMax&&this.updateRateMax(),void 0!==this.jsonObj.rateMax&&void 0!==this.jsonObj.rateCount&&void 0===this.jsonObj.rateMin&&this.updateRateMin(),void 0===this.jsonObj.autoGenerate&&void 0!==this.jsonObj.rateValues&&(this.autoGenerate=!this.jsonObj.rateValues.length),this.updateRateCount(),this.setIconsToRateValues(),this.createRenderedRateItems()},u.prototype.registerSychProperties=function(l,a){var i=this;this.registerFunctionOnPropertiesValueChanged(l,function(){i._syncPropertiesChanging||(i._syncPropertiesChanging=!0,a(),i._syncPropertiesChanging=!1)})},u.prototype.useRateValues=function(){return!!this.rateValues.length&&!this.autoGenerate},u.prototype.updateRateMax=function(){this.rateMax=this.rateMin+this.rateStep*(this.rateCount-1)},u.prototype.updateRateMin=function(){this.rateMin=this.rateMax-this.rateStep*(this.rateCount-1)},u.prototype.updateRateCount=function(){var l=0;(l=this.useRateValues()?this.rateValues.length:Math.trunc((this.rateMax-this.rateMin)/(this.rateStep||1))+1)>10&&"smileys"==this.rateDisplayMode&&(l=10),this.rateCount=l,this.rateValues.length>l&&(this.rateValues.length=l)},u.prototype.initPropertyDependencies=function(){var l=this;this.registerSychProperties(["rateCount"],function(){if(l.useRateValues())if(l.rateCount<l.rateValues.length){if(l.rateCount>=10&&"smileys"==l.rateDisplayMode)return;l.rateValues.splice(l.rateCount,l.rateValues.length-l.rateCount)}else for(var a=l.rateValues.length;a<l.rateCount;a++)l.rateValues.push(new L.ItemValue(w.surveyLocalization.getString("choices_Item")+(a+1)));else l.rateMax=l.rateMin+l.rateStep*(l.rateCount-1)}),this.registerSychProperties(["rateMin","rateMax","rateStep","rateValues"],function(){l.updateRateCount()})},Object.defineProperty(u.prototype,"showSelectedItemLocText",{get:function(){return!this.readOnly&&!this.inputHasValue&&!!this.selectedItemLocText},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"selectedItemLocText",{get:function(){var a,l=this;return!this.readOnly&&(null===(a=this.visibleRateValues.filter(function(i){return i.value==l.value})[0])||void 0===a?void 0:a.locText)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rateValues",{get:function(){return this.getPropertyValue("rateValues")},set:function(l){this.setPropertyValue("rateValues",l),this.createRenderedRateItems()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rateMin",{get:function(){return this.getPropertyValue("rateMin")},set:function(l){this.setPropertyValue("rateMin",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rateMax",{get:function(){return this.getPropertyValue("rateMax")},set:function(l){this.setPropertyValue("rateMax",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rateStep",{get:function(){return this.getPropertyValue("rateStep")},set:function(l){this.setPropertyValue("rateStep",l)},enumerable:!1,configurable:!0}),u.prototype.initColors=function(){function l(a){var i=getComputedStyle(document.documentElement),o=i.getPropertyValue&&i.getPropertyValue(a);if(!o)return null;var p=document.createElement("canvas").getContext("2d");p.fillStyle=o;var A=p.fillStyle;if(A.startsWith("rgba"))return A.substring(5,A.length-1).split(",").map(function(O){return+O.trim()});var B=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(A);return B?[parseInt(B[1],16),parseInt(B[2],16),parseInt(B[3],16),1]:null}"monochrome"===this.colorMode||"undefined"==typeof document||!document||u.badColor&&u.normalColor&&u.goodColor||(u.badColor=l("--sd-rating-bad-color"),u.normalColor=l("--sd-rating-normal-color"),u.goodColor=l("--sd-rating-good-color"),u.badColorLight=l("--sd-rating-bad-color-light"),u.normalColorLight=l("--sd-rating-normal-color-light"),u.goodColorLight=l("--sd-rating-good-color-light"))},u.prototype.getDisplayValueCore=function(l,a){return L.ItemValue.getTextOrHtmlByValue(this.visibleRateValues,a)||a},Object.defineProperty(u.prototype,"visibleRateValues",{get:function(){return this.renderedRateItems.map(function(l){return l.itemValue})},enumerable:!1,configurable:!0}),u.prototype.itemValuePropertyChanged=function(l,a,i,o){!this.useRateValues()&&void 0!==o&&(this.autoGenerate=!1),g.prototype.itemValuePropertyChanged.call(this,l,a,i,o)},u.prototype.createRenderedRateItems=function(){var l=this,a=[];if(this.useRateValues())a=this.rateValues;else{for(var i=[],o=this.rateMin,p=this.rateStep;o<=this.rateMax&&i.length<S.settings.ratingMaximumRateValueCount;){var A=new L.ItemValue(o);A.locOwner=this,A.ownerPropertyName="rateValues",i.push(A),o=this.correctValue(o+p,p)}a=i}"smileys"==this.rateType&&a.length>10&&(a=a.slice(0,10)),this.renderedRateItems=a.map(function(B,O){var f=null;return l.displayRateDescriptionsAsExtremeItems&&(0==O&&(f=new v(B,l.minRateDescription&&l.locMinRateDescription||B.locText)),O==a.length-1&&(f=new v(B,l.maxRateDescription&&l.locMaxRateDescription||B.locText))),f||(f=new v(B)),f})},u.prototype.correctValue=function(l,a){if(!l||Math.round(l)==l)return l;for(var i=0;Math.round(a)!=a;)a*=10,i++;return parseFloat(l.toFixed(i))},u.prototype.getType=function(){return"rating"},u.prototype.getFirstInputElementId=function(){return this.inputId+"_0"},u.prototype.getInputId=function(l){return this.inputId+"_"+l},u.prototype.supportGoNextPageAutomatic=function(){return!0===this.isMouseDown},u.prototype.supportOther=function(){return!1},Object.defineProperty(u.prototype,"minRateDescription",{get:function(){return this.getLocalizableStringText("minRateDescription")},set:function(l){this.setLocalizableStringText("minRateDescription",l),this.hasMinRateDescription=!!this.minRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locMinRateDescription",{get:function(){return this.getLocalizableString("minRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"maxRateDescription",{get:function(){return this.getLocalizableStringText("maxRateDescription")},set:function(l){this.setLocalizableStringText("maxRateDescription",l),this.hasMaxRateDescription=!!this.maxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locMaxRateDescription",{get:function(){return this.getLocalizableString("maxRateDescription")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasMinLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMinRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"hasMaxLabel",{get:function(){return!this.displayRateDescriptionsAsExtremeItems&&!!this.hasMaxRateDescription},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rateDisplayMode",{get:function(){return this.rateType},set:function(l){this.rateType=l},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isStar",{get:function(){return"stars"==this.rateType},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isSmiley",{get:function(){return"smileys"==this.rateType},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"itemComponentName",{get:function(){return this.isStar?"sv-rating-item-star":this.isSmiley?"sv-rating-item-smiley":"sv-rating-item"},enumerable:!1,configurable:!0}),u.prototype.valueToData=function(l){if(this.useRateValues()){var a=L.ItemValue.getItemByValue(this.rateValues,l);return a?a.value:l}return isNaN(l)?l:parseFloat(l)},u.prototype.setValueFromClick=function(l){this.value===parseFloat(l)?this.clearValue():this.value=l;for(var a=0;a<this.renderedRateItems.length;a++)this.renderedRateItems[a].highlight="none"},u.prototype.onItemMouseIn=function(l){if(!this.isReadOnly&&l.itemValue.isEnabled&&!this.isDesignMode){var a=!0,i=null!=this.value;if("stars"!==this.rateType)return void(l.highlight="highlighted");for(var o=0;o<this.renderedRateItems.length;o++)this.renderedRateItems[o].highlight=(a&&!i?"highlighted":!a&&i&&"unhighlighted")||"none",this.renderedRateItems[o]==l&&(a=!1),this.renderedRateItems[o].itemValue.value==this.value&&(i=!1)}},u.prototype.onItemMouseOut=function(l){this.renderedRateItems.forEach(function(a){return a.highlight="none"})},Object.defineProperty(u.prototype,"itemSmallMode",{get:function(){return this.inMatrixMode&&"small"==S.settings.matrix.rateSize},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ratingRootCss",{get:function(){var l=("buttons"==this.displayMode||this.survey&&this.survey.isDesignMode)&&this.cssClasses.rootWrappable?this.cssClasses.rootWrappable:this.cssClasses.root;return(new M.CssClassBuilder).append(l).append(this.cssClasses.itemSmall,this.itemSmallMode&&"labels"!=this.rateType).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"itemStarIcon",{get:function(){return this.itemSmallMode?"icon-rating-star-small":"icon-rating-star"},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"itemStarIconAlt",{get:function(){return this.itemStarIcon+"-2"},enumerable:!1,configurable:!0}),u.prototype.getItemSmiley=function(l){var o=this.useRateValues()?this.rateValues.length:this.rateMax-this.rateMin+1,p=["very-good","not-good","normal","good","average","excellent","poor","perfect","very-poor","terrible"].slice(0,o),A=["terrible","very-poor","poor","not-good","average","normal","good","very-good","excellent","perfect"].filter(function(B){return-1!=p.indexOf(B)});return this.useRateValues()?A[this.rateValues.indexOf(l)]:A[l.value-this.rateMin]},u.prototype.getItemSmileyIconName=function(l){return"icon-"+this.getItemSmiley(l)},u.prototype.getItemClassByText=function(l,a){return this.getItemClass(l)},u.prototype.getRenderedItemColor=function(l,a){var i=a?u.badColorLight:u.badColor,o=a?u.goodColorLight:u.goodColor,p=(this.rateCount-1)/2,A=a?u.normalColorLight:u.normalColor;if(l<p?o=A:(i=A,l-=p),!i||!o)return null;for(var B=[0,0,0,0],O=0;O<4;O++)B[O]=i[O]+(o[O]-i[O])*l/p,O<3&&(B[O]=Math.trunc(B[O]));return"rgba("+B[0]+", "+B[1]+", "+B[2]+", "+B[3]+")"},u.prototype.getItemStyle=function(l,a){if(void 0===a&&(a="none"),"monochrome"===this.scaleColorMode&&"default"==this.rateColorMode)return{borderColor:null,fill:null,backgroundColor:null};var i=this.visibleRateValues.indexOf(l),o=this.getRenderedItemColor(i,!1);if(this.value!=this.renderedRateItems[i].value){var p=this.getRenderedItemColor(i,!0);return"highlighted"==a&&"colored"===this.scaleColorMode?{borderColor:o,fill:o,backgroundColor:p}:"colored"===this.scaleColorMode&&0==this.errors.length?{borderColor:o,fill:o,backgroundColor:null}:{borderColor:null,fill:null,backgroundColor:null}}return{borderColor:o,fill:null,backgroundColor:o}},u.prototype.getItemClass=function(l,a){var i=this;void 0===a&&(a="none");var o=this.value==l.value;this.isStar&&(o=this.useRateValues()?this.rateValues.indexOf(this.rateValues.filter(function(Ie){return Ie.value==i.value})[0])>=this.rateValues.indexOf(l):this.value>=l.value);var A=!(this.isReadOnly||!l.isEnabled||this.value==l.value||this.survey&&this.survey.isDesignMode),B=this.renderedRateItems.filter(function(Ie){return Ie.itemValue==l})[0],O=this.isStar&&"highlighted"==(null==B?void 0:B.highlight),f=this.isStar&&"unhighlighted"==(null==B?void 0:B.highlight),b=this.cssClasses.item,C=this.cssClasses.selected,c=this.cssClasses.itemDisabled,T=this.cssClasses.itemHover,I=this.cssClasses.itemOnError,H=null,J=null,se=null,he=null,ie=null;this.isStar&&(b=this.cssClasses.itemStar,C=this.cssClasses.itemStarSelected,c=this.cssClasses.itemStarDisabled,T=this.cssClasses.itemStarHover,I=this.cssClasses.itemStarOnError,H=this.cssClasses.itemStarHighlighted,J=this.cssClasses.itemStarUnhighlighted,ie=this.cssClasses.itemStarSmall),this.isSmiley&&(b=this.cssClasses.itemSmiley,C=this.cssClasses.itemSmileySelected,c=this.cssClasses.itemSmileyDisabled,T=this.cssClasses.itemSmileyHover,I=this.cssClasses.itemSmileyOnError,H=this.cssClasses.itemSmileyHighlighted,se=this.cssClasses.itemSmileyScaleColored,he=this.cssClasses.itemSmileyRateColored,ie=this.cssClasses.itemSmileySmall);var ye=!this.isStar&&!this.isSmiley&&(!this.displayRateDescriptionsAsExtremeItems||this.useRateValues()&&l!=this.rateValues[0]&&l!=this.rateValues[this.rateValues.length-1]||!this.useRateValues()&&l.value!=this.rateMin&&l.value!=this.rateMax)&&l.locText.calculatedText.length<=2&&Number.isInteger(Number(l.locText.calculatedText));return(new M.CssClassBuilder).append(b).append(C,o).append(c,this.isReadOnly).append(T,A).append(H,O).append(se,"colored"==this.scaleColorMode).append(he,"scale"==this.rateColorMode&&o).append(J,f).append(I,this.errors.length>0).append(ie,this.itemSmallMode).append(this.cssClasses.itemFixedSize,ye).toString()},u.prototype.getControlClass=function(){return this.isEmpty(),(new M.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(u.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("ratingOptionsCaption")},set:function(l){this.setLocalizableStringText("ratingOptionsCaption",l)},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("ratingOptionsCaption")},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"allowClear",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"searchEnabled",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"renderedValue",{get:function(){return this.value},set:function(l){this.value=l},enumerable:!1,configurable:!0}),u.prototype.isItemSelected=function(l){return l.value==this.value},Object.defineProperty(u.prototype,"visibleChoices",{get:function(){return this.visibleRateValues},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"readOnlyText",{get:function(){return this.readOnly?this.displayValue||this.placeholder:this.isEmpty()?this.placeholder:""},enumerable:!1,configurable:!0}),u.prototype.needResponsiveWidth=function(){this.getPropertyValue("rateValues");var a=this.getPropertyValue("rateStep"),i=this.getPropertyValue("rateMax"),o=this.getPropertyValue("rateMin");return"dropdown"!=this.displayMode&&!!(this.hasMinRateDescription||this.hasMaxRateDescription||a&&(i-o)/a>9)},u.prototype.supportResponsiveness=function(){return!0},u.prototype.getCompactRenderAs=function(){return"buttons"==this.displayMode?"default":"dropdown"},u.prototype.getDesktopRenderAs=function(){return"dropdown"==this.displayMode?"dropdown":"default"},Object.defineProperty(u.prototype,"ariaExpanded",{get:function(){var l,a=null===(l=this.dropdownListModel)||void 0===l?void 0:l.popupModel;return a?a.isVisible?"true":"false":null},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"dropdownListModel",{get:function(){return this.dropdownListModelValue},set:function(l){this.dropdownListModelValue=l,this.updateElementCss()},enumerable:!1,configurable:!0}),u.prototype.updateCssClasses=function(l,a){if(g.prototype.updateCssClasses.call(this,l,a),this.dropdownListModel){var i={};Object(D.mergeValues)(a.list,i),Object(D.mergeValues)(l.list,i),l.list=i}},u.prototype.calcCssClasses=function(l){var a=g.prototype.calcCssClasses.call(this,l);return this.dropdownListModel&&this.dropdownListModel.updateCssClasses(a.popup,a.list),a},u.prototype.dispose=function(){g.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},y([Object(j.property)({defaultValue:!1})],u.prototype,"inputHasValue",void 0),y([Object(j.property)({defaultValue:!0})],u.prototype,"autoGenerate",void 0),y([Object(j.property)({defaultValue:5})],u.prototype,"rateCount",void 0),y([Object(j.propertyArray)()],u.prototype,"renderedRateItems",void 0),y([Object(j.property)({defaultValue:!1})],u.prototype,"hasMinRateDescription",void 0),y([Object(j.property)({defaultValue:!1})],u.prototype,"hasMaxRateDescription",void 0),y([Object(j.property)({defaultValue:!1})],u.prototype,"displayRateDescriptionsAsExtremeItems",void 0),y([Object(j.property)({defaultValue:"auto",onSet:function(l,a){a.isDesignMode||(a.renderAs="dropdown"===l?"dropdown":"default")}})],u.prototype,"displayMode",void 0),y([Object(j.property)({defaultValue:"labels"})],u.prototype,"rateType",void 0),y([Object(j.property)({defaultValue:"monochrome"})],u.prototype,"scaleColorMode",void 0),y([Object(j.property)({defaultValue:"scale"})],u.prototype,"rateColorMode",void 0),u}(K.Question);j.Serializer.addClass("rating",[{name:"showCommentArea:switch",layout:"row",visible:!0,category:"general"},{name:"rateType",alternativeName:"rateDisplayMode",default:"labels",category:"rateValues",choices:["labels","stars","smileys"],visibleIndex:0},{name:"scaleColorMode",category:"rateValues",default:"monochrome",choices:["monochrome","colored"],visibleIf:function(g){return"smileys"==g.rateDisplayMode},visibleIndex:1},{name:"rateColorMode",category:"rateValues",default:"scale",choices:["default","scale"],visibleIf:function(g){return"smileys"==g.rateDisplayMode&&"monochrome"==g.scaleColorMode},visibleIndex:2},{name:"autoGenerate",category:"rateValues",default:!0,choices:[!0,!1],visibleIndex:4},{name:"rateCount:number",default:5,category:"rateValues",visibleIndex:3,onSettingValue:function(g,u){return u<2?2:u>S.settings.ratingMaximumRateValueCount&&u>g.rateValues.length?S.settings.ratingMaximumRateValueCount:u>10&&"smileys"==g.rateDisplayMode?10:u}},{name:"rateValues:itemvalue[]",baseValue:function(){return w.surveyLocalization.getString("choices_Item")},category:"rateValues",visibleIf:function(g){return!g.autoGenerate},visibleIndex:5},{name:"rateMin:number",default:1,onSettingValue:function(g,u){return u>g.rateMax-g.rateStep?g.rateMax-g.rateStep:u},visibleIf:function(g){return!!g.autoGenerate},visibleIndex:6},{name:"rateMax:number",default:5,onSettingValue:function(g,u){return u<g.rateMin+g.rateStep?g.rateMin+g.rateStep:u},visibleIf:function(g){return!!g.autoGenerate},visibleIndex:7},{name:"rateStep:number",default:1,minValue:.1,onSettingValue:function(g,u){return u<=0&&(u=1),u>g.rateMax-g.rateMin&&(u=g.rateMax-g.rateMin),u},visibleIf:function(g){return!!g.autoGenerate},visibleIndex:8},{name:"minRateDescription",alternativeName:"mininumRateDescription",serializationProperty:"locMinRateDescription",visibleIndex:17},{name:"maxRateDescription",alternativeName:"maximumRateDescription",serializationProperty:"locMaxRateDescription",visibleIndex:18},{name:"displayRateDescriptionsAsExtremeItems:boolean",default:!1,visibleIndex:19,visibleIf:function(g){return"labels"==g.rateType}},{name:"displayMode",default:"auto",choices:["auto","buttons","dropdown"],visibleIndex:20}],function(){return new E("")},"question"),F.QuestionFactory.Instance.registerQuestion("rating",function(g){return new E(g)})},"./src/question_signaturepad.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionSignaturePadModel",function(){return y});var E,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/question.ts"),F=m("./node_modules/signature_pad/dist/signature_pad.js"),S=m("./src/utils/cssClassBuilder.ts"),w=(E=function(g,u){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(l[i]=a[i])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=g}E(g,u),g.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l)});var y=function(E){function g(u){return E.call(this,u)||this}return w(g,E),g.prototype.getPenColorFromTheme=function(){var u=this.survey;return!!u&&!!u.themeVariables&&u.themeVariables["--sjs-primary-backcolor"]},g.prototype.updateColors=function(u){var l=this.getPenColorFromTheme(),a=this.getPropertyByName("penColor");u.penColor=this.penColor||l||a.defaultValue||"#1ab394";var i=this.getPropertyByName("backgroundColor");u.backgroundColor=this.backgroundColor||(l?"transparent":void 0)||i.defaultValue||"#ffffff"},g.prototype.getCssRoot=function(u){return(new S.CssClassBuilder).append(E.prototype.getCssRoot.call(this,u)).append(u.small,"300"===this.signatureWidth.toString()).toString()},g.prototype.updateValue=function(){if(this.signaturePad){var l=this.signaturePad.toDataURL("jpeg"===this.dataFormat?"image/jpeg":"svg"===this.dataFormat?"image/svg+xml":"");this.value=l}},g.prototype.getType=function(){return"signaturepad"},g.prototype.afterRenderQuestionElement=function(u){u&&this.initSignaturePad(u),E.prototype.afterRenderQuestionElement.call(this,u)},g.prototype.beforeDestroyQuestionElement=function(u){u&&this.destroySignaturePad(u)},g.prototype.setSurveyImpl=function(u,l){var a=this;E.prototype.setSurveyImpl.call(this,u,l),this.survey&&this.survey.onThemeApplied.add(function(i,o){a.signaturePad&&a.updateColors(a.signaturePad)})},g.prototype.initSignaturePad=function(u){var l=this,a=u.getElementsByTagName("canvas")[0],i=new F.default(a,{backgroundColor:"#ffffff"});this.isInputReadOnly&&i.off(),this.readOnlyChangedCallback=function(){l.isInputReadOnly?i.off():i.on()},this.updateColors(i),i.addEventListener("beginStroke",function(){l.isDrawingValue=!0,a.focus()},{once:!1}),i.addEventListener("endStroke",function(){l.isDrawingValue=!1,l.updateValue()},{once:!1});var o=function(){var A=l.value;a.width=l.signatureWidth||300,a.height=l.signatureHeight||200,function P(E){var g=E.getContext("2d"),a=(window.devicePixelRatio||1)/(g.webkitBackingStorePixelRatio||g.mozBackingStorePixelRatio||g.msBackingStorePixelRatio||g.oBackingStorePixelRatio||g.backingStorePixelRatio||1),i=E.width,o=E.height;E.width=i*a,E.height=o*a,E.style.width=i+"px",E.style.height=o+"px",g.scale(a,a)}(a),A?i.fromDataURL(A):i.clear()};o(),this.readOnlyChangedCallback(),this.signaturePad=i;var p=function(A,B){("signatureWidth"===B.name||"signatureHeight"===B.name||"value"===B.name)&&o()};this.onPropertyChanged.add(p),this.signaturePad.propertyChangedHandler=p},g.prototype.destroySignaturePad=function(u){this.signaturePad&&(this.onPropertyChanged.remove(this.signaturePad.propertyChangedHandler),this.signaturePad.off()),this.readOnlyChangedCallback=null,this.signaturePad=null},Object.defineProperty(g.prototype,"dataFormat",{get:function(){return this.getPropertyValue("dataFormat")},set:function(u){this.setPropertyValue("dataFormat",v(u))},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"signatureWidth",{get:function(){return this.getPropertyValue("signatureWidth")},set:function(u){this.setPropertyValue("signatureWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"signatureHeight",{get:function(){return this.getPropertyValue("signatureHeight")},set:function(u){this.setPropertyValue("signatureHeight",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"height",{get:function(){return this.getPropertyValue("height")},set:function(u){this.setPropertyValue("height",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"allowClear",{get:function(){return this.getPropertyValue("allowClear")},set:function(u){this.setPropertyValue("allowClear",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"canShowClearButton",{get:function(){return!this.isInputReadOnly&&this.allowClear},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"penColor",{get:function(){return this.getPropertyValue("penColor")},set:function(u){this.setPropertyValue("penColor",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"backgroundColor",{get:function(){return this.getPropertyValue("backgroundColor")},set:function(u){this.setPropertyValue("backgroundColor",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clearButtonCaption",{get:function(){return this.getLocalizationString("clearCaption")},enumerable:!1,configurable:!0}),g.prototype.needShowPlaceholder=function(){return!this.isDrawingValue&&this.isEmpty()},Object.defineProperty(g.prototype,"placeHolderText",{get:function(){return this.getLocalizationString("signaturePlaceHolder")},enumerable:!1,configurable:!0}),g.prototype.endLoadingFromJson=function(){E.prototype.endLoadingFromJson.call(this),300===this.signatureWidth&&!!this.width&&"number"==typeof this.width&&this.width&&(console.warn("Use signatureWidth property to set width for the signature pad"),this.signatureWidth=this.width,this.width=void 0),200===this.signatureHeight&&this.height&&(console.warn("Use signatureHeight property to set width for the signature pad"),this.signatureHeight=this.height,this.height=void 0)},function(E,g,u,l){var o,a=arguments.length,i=a<3?g:null===l?l=Object.getOwnPropertyDescriptor(g,u):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(E,g,u,l);else for(var p=E.length-1;p>=0;p--)(o=E[p])&&(i=(a<3?o(i):a>3?o(g,u,i):o(g,u))||i);a>3&&i&&Object.defineProperty(g,u,i)}([Object(L.property)({defaultValue:!1})],g.prototype,"isDrawingValue",void 0),g}(j.Question);function v(E){return E||(E="png"),"jpeg"!==(E=E.replace("image/","").replace("+xml",""))&&"svg"!==E&&(E="png"),E}L.Serializer.addClass("signaturepad",[{name:"signatureWidth:number",category:"general",default:300},{name:"signatureHeight:number",category:"general",default:200},{name:"height:number",category:"general",visible:!1},{name:"allowClear:boolean",category:"general",default:!0},{name:"penColor:color",category:"general"},{name:"backgroundColor:color",category:"general"},{name:"dataFormat",category:"general",default:"png",choices:[{value:"png",text:"PNG"},{value:"image/jpeg",text:"JPEG"},{value:"image/svg+xml",text:"SVG"}],onSettingValue:function(E,g){return v(g)}},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1}],function(){return new y("")},"question"),K.QuestionFactory.Instance.registerQuestion("signaturepad",function(E){return new y(E)})},"./src/question_tagbox.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionTagboxModel",function(){return D});var P,L=m("./src/jsonobject.ts"),K=m("./src/questionfactory.ts"),j=m("./src/utils/cssClassBuilder.ts"),F=m("./src/question_checkbox.ts"),S=m("./src/dropdownMultiSelectListModel.ts"),w=m("./src/settings.ts"),M=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),h=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},D=function(P){function y(v){var E=P.call(this,v)||this;return E.itemDisplayNameMap={},E.onOpened=E.addEvent(),E.createLocalizableString("placeholder",E,!1,!0),E.createLocalizableString("clearCaption",E,!1,!0),E}return M(y,P),y.prototype.getDefaultItemComponent=function(){return""},Object.defineProperty(y.prototype,"readOnlyText",{get:function(){return this.displayValue||this.placeholder},enumerable:!1,configurable:!0}),y.prototype.onSurveyLoad=function(){P.prototype.onSurveyLoad.call(this),this.dropdownListModel||(this.dropdownListModel=new S.DropdownMultiSelectListModel(this))},Object.defineProperty(y.prototype,"placeholder",{get:function(){return this.getLocalizableStringText("placeholder")},set:function(v){this.setLocalizableStringText("placeholder",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locPlaceholder",{get:function(){return this.getLocalizableString("placeholder")},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"clearCaption",{get:function(){return this.getLocalizableStringText("clearCaption")},set:function(v){this.setLocalizableStringText("clearCaption",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locClearCaption",{get:function(){return this.getLocalizableString("clearCaption")},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"tagbox"},Object.defineProperty(y.prototype,"ariaRole",{get:function(){return"combobox"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"popupModel",{get:function(){var v;return null===(v=this.dropdownListModel)||void 0===v?void 0:v.popupModel},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaExpanded",{get:function(){var v=this.popupModel;return v&&v.isVisible?"true":"false"},enumerable:!1,configurable:!0}),y.prototype.getControlClass=function(){return(new j.CssClassBuilder).append(this.cssClasses.control).append(this.cssClasses.controlEmpty,this.isEmpty()).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},y.prototype.onOpenedCallBack=function(){this.onOpened.fire(this,{question:this,choices:this.choices})},y.prototype.hasUnknownValue=function(v,E,g,u){return!this.choicesLazyLoadEnabled&&P.prototype.hasUnknownValue.call(this,v,E,g,u)},y.prototype.needConvertRenderedOtherToDataValue=function(){var v,E=null===(v=this.otherValue)||void 0===v?void 0:v.trim();return!!E&&P.prototype.hasUnknownValue.call(this,E,!0,!1)},y.prototype.onVisibleChoicesChanged=function(){P.prototype.onVisibleChoicesChanged.call(this),this.popupModel&&this.dropdownListModel.updateItems()},y.prototype.getItemIfChoicesNotContainThisValue=function(v,E){var g;return this.choicesLazyLoadEnabled&&!(null===(g=this.dropdownListModel)||void 0===g?void 0:g.isAllDataLoaded)?this.createItemValue(v,E):P.prototype.getItemIfChoicesNotContainThisValue.call(this,v,E)},y.prototype.validateItemValues=function(v){var E=this;this.updateItemDisplayNameMap();var g=this.renderedValue;if(v.length&&v.length===g.length)return v;var u=this.selectedItemValues;if(!v.length&&u&&u.length)return this.defaultSelectedItemValues=[].concat(u),u;var l=v.map(function(a){return a.value});return g.filter(function(a){return-1===l.indexOf(a)}).forEach(function(a){var i=E.getItemIfChoicesNotContainThisValue(a,E.itemDisplayNameMap[a]);i&&v.push(i)}),v.sort(function(a,i){return g.indexOf(a.value)-g.indexOf(i.value)}),v},y.prototype.updateItemDisplayNameMap=function(){var v=this,E=function(g){v.itemDisplayNameMap[g.value]=g.text};(this.defaultSelectedItemValues||[]).forEach(E),(this.selectedItemValues||[]).forEach(E),this.visibleChoices.forEach(E)},y.prototype.getFirstInputElementId=function(){return this.inputId+(this.searchEnabled?"_0":"")},y.prototype.getInputId=function(){return this.inputId+"_0"},y.prototype.dispose=function(){P.prototype.dispose.call(this),this.dropdownListModelValue&&this.dropdownListModelValue.dispose()},y.prototype.clearValue=function(){P.prototype.clearValue.call(this),this.dropdownListModel.clear()},h([Object(L.property)()],y.prototype,"allowClear",void 0),h([Object(L.property)({defaultValue:!0,onSet:function(v,E){E.dropdownListModel&&E.dropdownListModel.setSearchEnabled(v)}})],y.prototype,"searchEnabled",void 0),h([Object(L.property)({onSet:function(v,E){E.dropdownListModel&&E.dropdownListModel.setHideSelectedItems(v)}})],y.prototype,"hideSelectedItems",void 0),h([Object(L.property)()],y.prototype,"choicesLazyLoadEnabled",void 0),h([Object(L.property)({defaultValue:25})],y.prototype,"choicesLazyLoadPageSize",void 0),h([Object(L.property)({getDefaultValue:function(){return w.settings.tagboxCloseOnSelect}})],y.prototype,"closeOnSelect",void 0),y}(F.QuestionCheckboxModel);L.Serializer.addClass("tagbox",[{name:"placeholder",serializationProperty:"locPlaceholder"},{name:"allowClear:boolean",default:!0},{name:"searchEnabled:boolean",default:!0},{name:"choicesLazyLoadEnabled:boolean",default:!1,visible:!1},{name:"choicesLazyLoadPageSize:number",default:25,visible:!1},{name:"hideSelectedItems:boolean",default:!1},{name:"closeOnSelect:boolean"},{name:"itemComponent",visible:!1,default:""}],function(){return new D("")},"checkbox"),K.QuestionFactory.Instance.registerQuestion("tagbox",function(P){var y=new D(P);return y.choices=K.QuestionFactory.DefaultChoices,y})},"./src/question_text.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionTextModel",function(){return P});var a,L=m("./src/questionfactory.ts"),K=m("./src/jsonobject.ts"),j=m("./src/localizablestring.ts"),F=m("./src/helpers.ts"),S=m("./src/validator.ts"),w=m("./src/error.ts"),M=m("./src/settings.ts"),h=m("./src/question_textbase.ts"),D=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),P=function(a){function i(o){var p=a.call(this,o)||this;return p._isWaitingForEnter=!1,p.onCompositionUpdate=function(A){p.isInputTextUpdate&&setTimeout(function(){p.updateValueOnEvent(A)},1),p.updateRemainingCharacterCounter(A.target.value)},p.onKeyUp=function(A){p.isInputTextUpdate?(!p._isWaitingForEnter||13===A.keyCode)&&(p.updateValueOnEvent(A),p._isWaitingForEnter=!1):13===A.keyCode&&p.updateValueOnEvent(A),p.updateRemainingCharacterCounter(A.target.value)},p.onKeyDown=function(A){p.checkForUndo(A),p.isInputTextUpdate&&(p._isWaitingForEnter=229===A.keyCode),13===A.keyCode&&p.survey.questionEditFinishCallback(p,A)},p.onChange=function(A){A.target===M.settings.environment.root.activeElement?p.isInputTextUpdate&&p.updateValueOnEvent(A):p.updateValueOnEvent(A),p.updateRemainingCharacterCounter(A.target.value)},p.onBlur=function(A){p.updateValueOnEvent(A),p.updateRemainingCharacterCounter(A.target.value)},p.onFocus=function(A){p.updateRemainingCharacterCounter(A.target.value)},p.createLocalizableString("minErrorText",p,!0,"minError"),p.createLocalizableString("maxErrorText",p,!0,"maxError"),p.locDataListValue=new j.LocalizableStrings(p),p.locDataListValue.onValueChanged=function(A,B){p.propertyValueChanged("dataList",A,B)},p.registerPropertyChangedHandlers(["min","max","inputType","minValueExpression","maxValueExpression"],function(){p.setRenderedMinMax()}),p.registerPropertyChangedHandlers(["inputType","size"],function(){p.updateInputSize(),p.calcRenderedPlaceholder()}),p}return D(i,a),i.prototype.isTextValue=function(){return["text","number","password"].indexOf(this.inputType)>-1},i.prototype.getType=function(){return"text"},i.prototype.onSurveyLoad=function(){a.prototype.onSurveyLoad.call(this),this.setRenderedMinMax(),this.updateInputSize()},Object.defineProperty(i.prototype,"inputType",{get:function(){return this.getPropertyValue("inputType")},set:function(o){("datetime_local"===(o=o.toLowerCase())||"datetime"===o)&&(o="datetime-local"),this.setPropertyValue("inputType",o.toLowerCase()),this.isLoadingFromJson||(this.min=void 0,this.max=void 0,this.step=void 0)},enumerable:!1,configurable:!0}),i.prototype.runCondition=function(o,p){a.prototype.runCondition.call(this,o,p),(this.minValueExpression||this.maxValueExpression)&&this.setRenderedMinMax(o,p)},i.prototype.isLayoutTypeSupported=function(o){return!0},Object.defineProperty(i.prototype,"size",{get:function(){return this.getPropertyValue("size")},set:function(o){this.setPropertyValue("size",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isTextInput",{get:function(){return["text","search","tel","url","email","password"].indexOf(this.inputType)>-1},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputSize",{get:function(){return this.getPropertyValue("inputSize",0)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedInputSize",{get:function(){return this.getPropertyValue("inputSize")||null},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"inputWidth",{get:function(){return this.getPropertyValue("inputWidth")},enumerable:!1,configurable:!0}),i.prototype.updateInputSize=function(){var o=this.isTextInput&&this.size>0?this.size:0;this.isTextInput&&o<1&&this.parent&&!!this.parent.itemSize&&(o=this.parent.itemSize),this.setPropertyValue("inputSize",o),this.setPropertyValue("inputWidth",o>0?"auto":"")},Object.defineProperty(i.prototype,"autocomplete",{get:function(){return this.getPropertyValue("autocomplete",null)},set:function(o){this.setPropertyValue("autocomplete",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this.getPropertyValue("min")},set:function(o){this.isValueExpression(o)?this.minValueExpression=o.substring(1):this.setPropertyValue("min",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this.getPropertyValue("max")},set:function(o){this.isValueExpression(o)?this.maxValueExpression=o.substring(1):this.setPropertyValue("max",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minValueExpression",{get:function(){return this.getPropertyValue("minValueExpression","")},set:function(o){this.setPropertyValue("minValueExpression",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxValueExpression",{get:function(){return this.getPropertyValue("maxValueExpression","")},set:function(o){this.setPropertyValue("maxValueExpression",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedMin",{get:function(){return this.getPropertyValue("renderedMin")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedMax",{get:function(){return this.getPropertyValue("renderedMax")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"minErrorText",{get:function(){return this.getLocalizableStringText("minErrorText")},set:function(o){this.setLocalizableStringText("minErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locMinErrorText",{get:function(){return this.getLocalizableString("minErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxErrorText",{get:function(){return this.getLocalizableStringText("maxErrorText")},set:function(o){this.setLocalizableStringText("maxErrorText",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locMaxErrorText",{get:function(){return this.getLocalizableString("maxErrorText")},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isMinMaxType",{get:function(){return v(this)},enumerable:!1,configurable:!0}),i.prototype.onCheckForErrors=function(o,p){var A=this;if(a.prototype.onCheckForErrors.call(this,o,p),!p){if(this.isValueLessMin){var B=new w.CustomError(this.getMinMaxErrorText(this.minErrorText,this.getCalculatedMinMax(this.renderedMin)),this);B.onUpdateErrorTextCallback=function(c){c.text=A.getMinMaxErrorText(A.minErrorText,A.getCalculatedMinMax(A.renderedMin))},o.push(B)}if(this.isValueGreaterMax){var O=new w.CustomError(this.getMinMaxErrorText(this.maxErrorText,this.getCalculatedMinMax(this.renderedMax)),this);O.onUpdateErrorTextCallback=function(c){c.text=A.getMinMaxErrorText(A.maxErrorText,A.getCalculatedMinMax(A.renderedMax))},o.push(O)}var f=this.getValidatorTitle(),b=new S.EmailValidator;if("email"===this.inputType&&!this.validators.some(function(c){return"emailvalidator"===c.getType()})){var C=b.validate(this.value,f);C&&C.error&&o.push(C.error)}}},i.prototype.canSetValueToSurvey=function(){if(!this.isMinMaxType)return!0;var o=!this.isValueLessMin&&!this.isValueGreaterMax;return"number"===this.inputType&&!!this.survey&&(this.survey.isValidateOnValueChanging||this.survey.isValidateOnValueChanged)&&this.hasErrors(),o},i.prototype.convertFuncValuetoQuestionValue=function(o){return F.Helpers.convertValToQuestionVal(o,this.inputType)},i.prototype.getMinMaxErrorText=function(o,p){if(F.Helpers.isValueEmpty(p))return o;var A=p.toString();return"date"===this.inputType&&!!p.toDateString&&(A=p.toDateString()),o.replace("{0}",A)},Object.defineProperty(i.prototype,"isValueLessMin",{get:function(){return!this.isValueEmpty(this.renderedMin)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)<this.getCalculatedMinMax(this.renderedMin)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isValueGreaterMax",{get:function(){return!this.isValueEmpty(this.renderedMax)&&!this.isEmpty()&&this.getCalculatedMinMax(this.value)>this.getCalculatedMinMax(this.renderedMax)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isDateInputType",{get:function(){return"date"===this.inputType||"datetime-local"===this.inputType},enumerable:!1,configurable:!0}),i.prototype.getCalculatedMinMax=function(o){return this.isValueEmpty(o)?o:this.isDateInputType?new Date(o):o},i.prototype.setRenderedMinMax=function(o,p){var A=this;void 0===o&&(o=null),void 0===p&&(p=null),this.minValueRunner=this.getDefaultRunner(this.minValueRunner,this.minValueExpression),this.setValueAndRunExpression(this.minValueRunner,this.min,function(B){!B&&A.isDateInputType&&!!M.settings.minDate&&(B=M.settings.minDate),A.setPropertyValue("renderedMin",B)},o,p),this.maxValueRunner=this.getDefaultRunner(this.maxValueRunner,this.maxValueExpression),this.setValueAndRunExpression(this.maxValueRunner,this.max,function(B){!B&&A.isDateInputType&&(B=M.settings.maxDate?M.settings.maxDate:"2999-12-31"),A.setPropertyValue("renderedMax",B)},o,p)},Object.defineProperty(i.prototype,"step",{get:function(){return this.getPropertyValue("step")},set:function(o){this.setPropertyValue("step",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"renderedStep",{get:function(){return this.isValueEmpty(this.step)?"number"!==this.inputType?void 0:"any":this.step},enumerable:!1,configurable:!0}),i.prototype.supportGoNextPageAutomatic=function(){return!this.isSurveyInputTextUpdate&&["date","datetime-local"].indexOf(this.inputType)<0},i.prototype.supportGoNextPageError=function(){return["date","datetime-local"].indexOf(this.inputType)<0},Object.defineProperty(i.prototype,"dataList",{get:function(){return this.locDataList.value},set:function(o){this.locDataList.value=o},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"locDataList",{get:function(){return this.locDataListValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataListId",{get:function(){return this.locDataList.hasValue()?this.id+"_datalist":void 0},enumerable:!1,configurable:!0}),i.prototype.canRunValidators=function(o){return this.errors.length>0||!o||this.supportGoNextPageError()},i.prototype.setNewValue=function(o){o=this.correctValueType(o),a.prototype.setNewValue.call(this,o)},i.prototype.correctValueType=function(o){return o&&("number"==this.inputType||"range"==this.inputType?F.Helpers.isNumber(o)?F.Helpers.getNumber(o):"":o)},i.prototype.hasPlaceHolder=function(){return!this.isReadOnly&&"range"!==this.inputType},i.prototype.isReadOnlyRenderDiv=function(){return this.isReadOnly&&"div"===M.settings.readOnly.textRenderMode},Object.defineProperty(i.prototype,"inputStyle",{get:function(){var o={};return o.width=this.inputWidth,o},enumerable:!1,configurable:!0}),i.prototype.updateValueOnEvent=function(o){var p=o.target.value;this.isTwoValueEquals(this.value,p)||(this.value=p)},i}(h.QuestionTextBase),y=["number","range","date","datetime-local","month","time","week"];function v(a){var i=a?a.inputType:"";return!!i&&y.indexOf(i)>-1}function E(a,i){var o=a.split(i);return 2===o.length&&F.Helpers.isNumber(o[0])&&F.Helpers.isNumber(o[1])?60*parseFloat(o[0])+parseFloat(o[1]):-1}function u(a,i,o,p){var A=p?o:i;if(!v(a)||F.Helpers.isValueEmpty(i)||F.Helpers.isValueEmpty(o))return A;if(0===a.inputType.indexOf("date")||"month"===a.inputType){var B="month"===a.inputType,O=new Date(B?i+"-1":i),f=new Date(B?o+"-1":o);if(!O||!f)return A;if(O>f)return p?i:o}if("week"===a.inputType||"time"===a.inputType)return function g(a,i,o){var p=E(a,o),A=E(i,o);return!(p<0||A<0)&&p>A}(i,o,"week"===a.inputType?"-W":":")?p?i:o:A;if("number"===a.inputType){if(!F.Helpers.isNumber(i)||!F.Helpers.isNumber(o))return A;if(F.Helpers.getNumber(i)>F.Helpers.getNumber(o))return p?i:o}return"string"==typeof i||"string"==typeof o?A:i>o?p?i:o:A}function l(a,i){a&&a.inputType&&(i.inputType="range"!==a.inputType?a.inputType:"number",i.textUpdateMode="onBlur")}K.Serializer.addClass("text",[{name:"inputType",default:"text",choices:M.settings.questions.inputTypes},{name:"size:number",minValue:0,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"textUpdateMode",default:"default",choices:["default","onBlur","onTyping"],dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"autocomplete",alternativeName:"autoComplete",choices:M.settings.questions.dataList},{name:"min",dependsOn:"inputType",visibleIf:function(a){return v(a)},onPropertyEditorUpdate:function(a,i){l(a,i)},onSettingValue:function(a,i){return u(a,i,a.max,!1)}},{name:"max",dependsOn:"inputType",nextToProperty:"*min",visibleIf:function(a){return v(a)},onSettingValue:function(a,i){return u(a,a.min,i,!0)},onPropertyEditorUpdate:function(a,i){l(a,i)}},{name:"minValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return v(a)}},{name:"maxValueExpression:expression",category:"logic",dependsOn:"inputType",visibleIf:function(a){return v(a)}},{name:"minErrorText",serializationProperty:"locMinErrorText",dependsOn:"inputType",visibleIf:function(a){return v(a)}},{name:"maxErrorText",serializationProperty:"locMaxErrorText",dependsOn:"inputType",visibleIf:function(a){return v(a)}},{name:"step:number",dependsOn:"inputType",visibleIf:function(a){return!!a&&("number"===a.inputType||"range"===a.inputType)}},{name:"maxLength:number",default:-1,dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"placeholder",alternativeName:"placeHolder",serializationProperty:"locPlaceholder",dependsOn:"inputType",visibleIf:function(a){return!!a&&a.isTextInput}},{name:"dataList:string[]",serializationProperty:"locDataList",dependsOn:"inputType",visibleIf:function(a){return!!a&&"text"===a.inputType}}],function(){return new P("")},"textbase"),L.QuestionFactory.Instance.registerQuestion("text",function(a){return new P(a)})},"./src/question_textbase.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"CharacterCounter",function(){return h}),m.d(V,"QuestionTextBase",function(){return D});var P,L=m("./src/question.ts"),K=m("./src/jsonobject.ts"),j=m("./src/helpers.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=m("./src/base.ts"),w=(P=function(y,v){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,g){E.__proto__=g}||function(E,g){for(var u in g)Object.prototype.hasOwnProperty.call(g,u)&&(E[u]=g[u])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function E(){this.constructor=y}P(y,v),y.prototype=null===v?Object.create(v):(E.prototype=v.prototype,new E)}),M=function(P,y,v,E){var l,g=arguments.length,u=g<3?y:null===E?E=Object.getOwnPropertyDescriptor(y,v):E;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(P,y,v,E);else for(var a=P.length-1;a>=0;a--)(l=P[a])&&(u=(g<3?l(u):g>3?l(y,v,u):l(y,v))||u);return g>3&&u&&Object.defineProperty(y,v,u),u},h=function(P){function y(){return null!==P&&P.apply(this,arguments)||this}return w(y,P),y.prototype.updateRemainingCharacterCounter=function(v,E){this.remainingCharacterCounter=j.Helpers.getRemainingCharacterCounterText(v,E)},M([Object(K.property)()],y.prototype,"remainingCharacterCounter",void 0),y}(S.Base),D=function(P){function y(v){var E=P.call(this,v)||this;return E.characterCounter=new h,E.disableNativeUndoRedo=!1,E}return w(y,P),y.prototype.isTextValue=function(){return!0},Object.defineProperty(y.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(v){this.setPropertyValue("maxLength",v),this.updateRemainingCharacterCounter(this.value)},enumerable:!1,configurable:!0}),y.prototype.getMaxLength=function(){return j.Helpers.getMaxLength(this.maxLength,this.survey?this.survey.maxTextLength:-1)},y.prototype.updateRemainingCharacterCounter=function(v){this.characterCounter.updateRemainingCharacterCounter(v,this.getMaxLength())},Object.defineProperty(y.prototype,"placeHolder",{get:function(){return this.placeholder},set:function(v){this.placeholder=v},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"locPlaceHolder",{get:function(){return this.locPlaceholder},enumerable:!1,configurable:!0}),y.prototype.getType=function(){return"textbase"},y.prototype.isEmpty=function(){return P.prototype.isEmpty.call(this)||""===this.value},Object.defineProperty(y.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(v){this.setPropertyValue("textUpdateMode",v)},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isSurveyInputTextUpdate",{get:function(){return"default"==this.textUpdateMode?!!this.survey&&this.survey.isUpdateValueTextOnTyping:"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"renderedPlaceholder",{get:function(){return this.getPropertyValue("renderedPlaceholder")},enumerable:!1,configurable:!0}),y.prototype.setRenderedPlaceholder=function(v){this.setPropertyValue("renderedPlaceholder",v)},y.prototype.onReadOnlyChanged=function(){P.prototype.onReadOnlyChanged.call(this),this.calcRenderedPlaceholder()},y.prototype.onSurveyLoad=function(){this.calcRenderedPlaceholder(),P.prototype.onSurveyLoad.call(this)},y.prototype.localeChanged=function(){P.prototype.localeChanged.call(this),this.calcRenderedPlaceholder()},y.prototype.setSurveyImpl=function(v,E){P.prototype.setSurveyImpl.call(this,v,E),this.calcRenderedPlaceholder()},y.prototype.calcRenderedPlaceholder=function(){var v=this.placeHolder;!!v&&!this.hasPlaceHolder()&&(v=void 0),this.setRenderedPlaceholder(v)},y.prototype.hasPlaceHolder=function(){return!this.isReadOnly},y.prototype.setNewValue=function(v){P.prototype.setNewValue.call(this,v),this.updateRemainingCharacterCounter(v)},y.prototype.setQuestionValue=function(v,E){void 0===E&&(E=!0),P.prototype.setQuestionValue.call(this,v,E),this.updateRemainingCharacterCounter(v)},y.prototype.checkForUndo=function(v){this.disableNativeUndoRedo&&this.isInputTextUpdate&&(v.ctrlKey||v.metaKey)&&-1!==[89,90].indexOf(v.keyCode)&&v.preventDefault()},y.prototype.getControlClass=function(){return(new F.CssClassBuilder).append(this.cssClasses.root).append(this.cssClasses.onError,this.errors.length>0).append(this.cssClasses.controlDisabled,this.isReadOnly).toString()},Object.defineProperty(y.prototype,"ariaRole",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaRequired",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaInvalid",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaLabel",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaLabelledBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"ariaDescribedBy",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaRole",{get:function(){return"textbox"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaRequired",{get:function(){return this.isRequired?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaInvalid",{get:function(){return this.errors.length>0?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaLabel",{get:function(){return this.hasTitle&&!this.parentQuestion?null:this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaLabelledBy",{get:function(){return this.hasTitle&&!this.parentQuestion?this.ariaTitleId:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"a11y_input_ariaDescribedBy",{get:function(){return this.errors.length>0?this.id+"_errors":null},enumerable:!1,configurable:!0}),M([Object(K.property)({localizable:!0,onSet:function(v,E){return E.calcRenderedPlaceholder()}})],y.prototype,"placeholder",void 0),y}(L.Question);K.Serializer.addClass("textbase",[],function(){return new D("")},"question")},"./src/questionfactory.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionFactory",function(){return j}),m.d(V,"ElementFactory",function(){return F});var L=m("./src/surveyStrings.ts"),K=m("./src/jsonobject.ts"),j=function(){function S(){}return Object.defineProperty(S,"DefaultChoices",{get:function(){return[L.surveyLocalization.getString("choices_Item")+"1",L.surveyLocalization.getString("choices_Item")+"2",L.surveyLocalization.getString("choices_Item")+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultColums",{get:function(){var w=L.surveyLocalization.getString("matrix_column")+" ";return[w+"1",w+"2",w+"3"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultRows",{get:function(){var w=L.surveyLocalization.getString("matrix_row")+" ";return[w+"1",w+"2"]},enumerable:!1,configurable:!0}),Object.defineProperty(S,"DefaultMutlipleTextItems",{get:function(){var w=L.surveyLocalization.getString("multipletext_itemname");return[w+"1",w+"2"]},enumerable:!1,configurable:!0}),S.prototype.registerQuestion=function(w,M){F.Instance.registerElement(w,M)},S.prototype.registerCustomQuestion=function(w){F.Instance.registerCustomQuestion(w)},S.prototype.unregisterElement=function(w,M){void 0===M&&(M=!1),F.Instance.unregisterElement(w,M)},S.prototype.clear=function(){F.Instance.clear()},S.prototype.getAllTypes=function(){return F.Instance.getAllTypes()},S.prototype.createQuestion=function(w,M){return F.Instance.createElement(w,M)},S.Instance=new S,S}(),F=function(){function S(){var w=this;this.creatorHash={},this.registerCustomQuestion=function(M){w.registerElement(M,function(D){var P=K.Serializer.createClass(M);return P&&(P.name=D),P})}}return S.prototype.registerElement=function(w,M){this.creatorHash[w]=M},S.prototype.clear=function(){this.creatorHash={}},S.prototype.unregisterElement=function(w,M){void 0===M&&(M=!1),delete this.creatorHash[w],M&&K.Serializer.removeClass(w)},S.prototype.getAllTypes=function(){var w=new Array;for(var M in this.creatorHash)w.push(M);return w.sort()},S.prototype.createElement=function(w,M){var h=this.creatorHash[w];return h?h(M):null},S.Instance=new S,S}()},"./src/questionnonvalue.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"QuestionNonValue",function(){return F});var S,L=m("./src/question.ts"),K=m("./src/jsonobject.ts"),j=(S=function(w,M){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(h[P]=D[P])})(w,M)},function(w,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function h(){this.constructor=w}S(w,M),w.prototype=null===M?Object.create(M):(h.prototype=M.prototype,new h)}),F=function(S){function w(M){return S.call(this,M)||this}return j(w,S),w.prototype.getType=function(){return"nonvalue"},Object.defineProperty(w.prototype,"hasInput",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(w.prototype,"hasTitle",{get:function(){return!1},enumerable:!1,configurable:!0}),w.prototype.getTitleLocation=function(){return""},Object.defineProperty(w.prototype,"hasComment",{get:function(){return!1},enumerable:!1,configurable:!0}),w.prototype.hasErrors=function(M,h){return void 0===M&&(M=!0),void 0===h&&(h=null),!1},w.prototype.getAllErrors=function(){return[]},w.prototype.supportGoNextPageAutomatic=function(){return!1},w.prototype.addConditionObjectsByContext=function(M,h){},w.prototype.getConditionJson=function(M,h){return void 0===M&&(M=null),void 0===h&&(h=null),null},w}(L.Question);K.Serializer.addClass("nonvalue",[{name:"title",visible:!1},{name:"description",visible:!1},{name:"valueName",visible:!1},{name:"enableIf",visible:!1},{name:"defaultValue",visible:!1},{name:"correctAnswer",visible:!1},{name:"clearIfInvisible",visible:!1},{name:"isRequired",visible:!1,isSerializable:!1},{name:"requiredErrorText",visible:!1},{name:"readOnly",visible:!1},{name:"requiredIf",visible:!1},{name:"validators",visible:!1},{name:"titleLocation",visible:!1},{name:"showCommentArea",visible:!1},{name:"useDisplayValuesInDynamicTexts",alternativeName:"useDisplayValuesInTitle",visible:!1}],function(){return new F("")},"question")},"./src/rendererFactory.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"RendererFactory",function(){return L});var L=function(){function K(){this.renderersHash={}}return K.prototype.unregisterRenderer=function(j,F){delete this.renderersHash[j][F]},K.prototype.registerRenderer=function(j,F,S){this.renderersHash[j]||(this.renderersHash[j]={}),this.renderersHash[j][F]=S},K.prototype.getRenderer=function(j,F){return this.renderersHash[j]&&this.renderersHash[j][F]||"default"},K.prototype.getRendererByQuestion=function(j){return this.getRenderer(j.getType(),j.renderAs)},K.prototype.clear=function(){this.renderersHash={}},K.Instance=new K,K}()},"./src/settings.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"settings",function(){return F});var L=globalThis.document,F={designMode:{showEmptyDescriptions:!0,showEmptyTitles:!0},get allowShowEmptyDescriptionInDesignMode(){return this.designMode.showEmptyDescriptions},set allowShowEmptyDescriptionInDesignMode(S){this.designMode.showEmptyDescriptions=S},get allowShowEmptyTitleInDesignMode(){return this.designMode.showEmptyTitles},set allowShowEmptyTitleInDesignMode(S){this.designMode.showEmptyTitles=S},localization:{useLocalTimeZone:!0,storeDuplicatedTranslations:!1,defaultLocaleName:"default"},get useLocalTimeZone(){return this.localization.useLocalTimeZone},set useLocalTimeZone(S){this.localization.useLocalTimeZone=S},get storeDuplicatedTranslations(){return this.localization.storeDuplicatedTranslations},set storeDuplicatedTranslations(S){this.localization.storeDuplicatedTranslations=S},get defaultLocaleName(){return this.localization.defaultLocaleName},set defaultLocaleName(S){this.localization.defaultLocaleName=S},web:{encodeUrlParams:!0,cacheLoadedChoices:!0,disableQuestionWhileLoadingChoices:!1,surveyServiceUrl:"https://api.surveyjs.io/public/v1/Survey"},get webserviceEncodeParameters(){return this.web.encodeUrlParams},set webserviceEncodeParameters(S){this.web.encodeUrlParams=S},get useCachingForChoicesRestful(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestful(S){this.web.cacheLoadedChoices=S},get useCachingForChoicesRestfull(){return this.web.cacheLoadedChoices},set useCachingForChoicesRestfull(S){this.web.cacheLoadedChoices=S},get disableOnGettingChoicesFromWeb(){return this.web.disableQuestionWhileLoadingChoices},set disableOnGettingChoicesFromWeb(S){this.web.disableQuestionWhileLoadingChoices=S},get surveyServiceUrl(){return this.web.surveyServiceUrl},set surveyServiceUrl(S){this.web.surveyServiceUrl=S},triggers:{changeNavigationButtonsOnComplete:!0,executeCompleteOnValueChanged:!1,executeSkipOnValueChanged:!0},get executeCompleteTriggerOnValueChanged(){return this.triggers.executeCompleteOnValueChanged},set executeCompleteTriggerOnValueChanged(S){this.triggers.executeCompleteOnValueChanged=S},get changeNavigationButtonsOnCompleteTrigger(){return this.triggers.changeNavigationButtonsOnComplete},set changeNavigationButtonsOnCompleteTrigger(S){this.triggers.changeNavigationButtonsOnComplete=S},get executeSkipTriggerOnValueChanged(){return this.triggers.executeSkipOnValueChanged},set executeSkipTriggerOnValueChanged(S){this.triggers.executeSkipOnValueChanged=S},serialization:{itemValueSerializeAsObject:!1,itemValueSerializeDisplayText:!1,localizableStringSerializeAsObject:!1},get itemValueAlwaysSerializeAsObject(){return this.serialization.itemValueSerializeAsObject},set itemValueAlwaysSerializeAsObject(S){this.serialization.itemValueSerializeAsObject=S},get itemValueAlwaysSerializeText(){return this.serialization.itemValueSerializeDisplayText},set itemValueAlwaysSerializeText(S){this.serialization.itemValueSerializeDisplayText=S},get serializeLocalizableStringAsObject(){return this.serialization.localizableStringSerializeAsObject},set serializeLocalizableStringAsObject(S){this.serialization.localizableStringSerializeAsObject=S},lazyRender:{enabled:!1,firstBatchSize:3},get lazyRowsRendering(){return this.lazyRender.enabled},set lazyRowsRendering(S){this.lazyRender.enabled=S},get lazyRowsRenderingStartRow(){return this.lazyRender.firstBatchSize},set lazyRowsRenderingStartRow(S){this.lazyRender.firstBatchSize=S},matrix:{defaultCellType:"dropdown",defaultRowName:"default",totalsSuffix:"-total",maxRowCount:1e3,maxRowCountInCondition:1,renderRemoveAsIcon:!0,columnWidthsByType:{file:{minWidth:"240px"},comment:{minWidth:"200px"}},rateSize:"small"},get matrixDefaultRowName(){return this.matrix.defaultRowName},set matrixDefaultRowName(S){this.matrix.defaultRowName=S},get matrixDefaultCellType(){return this.matrix.defaultCellType},set matrixDefaultCellType(S){this.matrix.defaultCellType=S},get matrixTotalValuePostFix(){return this.matrix.totalsSuffix},set matrixTotalValuePostFix(S){this.matrix.totalsSuffix=S},get matrixMaximumRowCount(){return this.matrix.maxRowCount},set matrixMaximumRowCount(S){this.matrix.maxRowCount=S},get matrixMaxRowCountInCondition(){return this.matrix.maxRowCountInCondition},set matrixMaxRowCountInCondition(S){this.matrix.maxRowCountInCondition=S},get matrixRenderRemoveAsIcon(){return this.matrix.renderRemoveAsIcon},set matrixRenderRemoveAsIcon(S){this.matrix.renderRemoveAsIcon=S},panel:{maxPanelCount:100,maxPanelCountInCondition:1},get panelDynamicMaxPanelCountInCondition(){return this.panel.maxPanelCountInCondition},set panelDynamicMaxPanelCountInCondition(S){this.panel.maxPanelCountInCondition=S},get panelMaximumPanelCount(){return this.panel.maxPanelCount},set panelMaximumPanelCount(S){this.panel.maxPanelCount=S},readOnly:{commentRenderMode:"textarea",textRenderMode:"input"},get readOnlyCommentRenderMode(){return this.readOnly.commentRenderMode},set readOnlyCommentRenderMode(S){this.readOnly.commentRenderMode=S},get readOnlyTextRenderMode(){return this.readOnly.textRenderMode},set readOnlyTextRenderMode(S){this.readOnly.textRenderMode=S},numbering:{includeQuestionsWithHiddenNumber:!1,includeQuestionsWithHiddenTitle:!1},get setQuestionVisibleIndexForHiddenTitle(){return this.numbering.includeQuestionsWithHiddenTitle},set setQuestionVisibleIndexForHiddenTitle(S){this.numbering.includeQuestionsWithHiddenTitle=S},get setQuestionVisibleIndexForHiddenNumber(){return this.numbering.includeQuestionsWithHiddenNumber},set setQuestionVisibleIndexForHiddenNumber(S){this.numbering.includeQuestionsWithHiddenNumber=S},enterKeyAction:"default",comparator:{trimStrings:!0,caseSensitive:!1,normalizeTextCallback:function(S,w){return S}},expressionDisableConversionChar:"#",get commentPrefix(){return F.commentSuffix},set commentPrefix(S){F.commentSuffix=S},commentSuffix:"-Comment",itemValueSeparator:"|",ratingMaximumRateValueCount:20,tagboxCloseOnSelect:!1,confirmActionFunc:function(S){return confirm(S)},minWidth:"300px",maxWidth:"100%",maxConditionRunCountOnValueChanged:10,notifications:{lifetime:2e3},showItemsInOrder:"default",noneItemValue:"none",supportedValidators:{question:["expression"],comment:["text","regex"],text:["numeric","text","regex","email"],checkbox:["answercount"],imagepicker:["answercount"]},minDate:"",maxDate:"",showModal:void 0,showDialog:void 0,supportCreatorV2:!1,showDefaultItemsInCreatorV2:!0,customIcons:{},rankingDragHandleArea:"entireItem",environment:L?{root:L,_rootElement:L.body,get rootElement(){var S;return null!==(S=this._rootElement)&&void 0!==S?S:L.body},set rootElement(S){this._rootElement=S},_popupMountContainer:L.body,get popupMountContainer(){var S;return null!==(S=this._popupMountContainer)&&void 0!==S?S:L.body},set popupMountContainer(S){this._popupMountContainer=S},svgMountContainer:L.head,stylesSheetsMountContainer:L.head}:void 0,showMaxLengthIndicator:!0,titleTags:{survey:"h3",page:"h4",panel:"h4",question:"h5"},questions:{inputTypes:["color","date","datetime-local","email","month","number","password","range","tel","text","time","url","week"],dataList:["","name","honorific-prefix","given-name","additional-name","family-name","honorific-suffix","nickname","organization-title","username","new-password","current-password","organization","street-address","address-line1","address-line2","address-line3","address-level4","address-level3","address-level2","address-level1","country","country-name","postal-code","cc-name","cc-given-name","cc-additional-name","cc-family-name","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc","cc-type","transaction-currency","transaction-amount","language","bday","bday-day","bday-month","bday-year","sex","url","photo","tel","tel-country-code","tel-national","tel-area-code","tel-local","tel-local-prefix","tel-local-suffix","tel-extension","email","impp"]}}},"./src/stylesmanager.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"modernThemeColors",function(){return F}),m.d(V,"defaultThemeColors",function(){return S}),m.d(V,"orangeThemeColors",function(){return w}),m.d(V,"darkblueThemeColors",function(){return M}),m.d(V,"darkroseThemeColors",function(){return h}),m.d(V,"stoneThemeColors",function(){return D}),m.d(V,"winterThemeColors",function(){return P}),m.d(V,"winterstoneThemeColors",function(){return y}),m.d(V,"StylesManager",function(){return E});var L=m("./src/defaultCss/defaultV2Css.ts"),K=m("./src/settings.ts"),j=m("./src/utils/utils.ts"),F={"$main-color":"#1ab394","$add-button-color":"#1948b3","$remove-button-color":"#ff1800","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-slider-color":"#cfcfcf","$error-color":"#d52901","$text-color":"#404040","$light-text-color":"#fff","$checkmark-color":"#fff","$progress-buttons-color":"#8dd9ca","$inputs-background-color":"transparent","$main-hover-color":"#9f9f9f","$body-container-background-color":"#f4f4f4","$text-border-color":"#d4d4d4","$disabled-text-color":"rgba(64, 64, 64, 0.5)","$border-color":"rgb(64, 64, 64, 0.5)","$header-background-color":"#e7e7e7","$answer-background-color":"rgba(26, 179, 148, 0.2)","$error-background-color":"rgba(213, 41, 1, 0.2)","$radio-checked-color":"#404040","$clean-button-color":"#1948b3","$body-background-color":"#ffffff","$foreground-light":"#909090","$font-family":"Raleway"},S={"$header-background-color":"#e7e7e7","$body-container-background-color":"#f4f4f4","$main-color":"#1ab394","$main-hover-color":"#0aa384","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#6d7072","$text-input-color":"#6d7072","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#8dd9ca","$progress-buttons-line-color":"#d4d4d4"},w={"$header-background-color":"#4a4a4a","$body-container-background-color":"#f8f8f8","$main-color":"#f78119","$main-hover-color":"#e77109","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#f78119","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#f7b781","$progress-buttons-line-color":"#d4d4d4"},M={"$header-background-color":"#d9d8dd","$body-container-background-color":"#f6f7f2","$main-color":"#3c4f6d","$main-hover-color":"#2c3f5d","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#839ec9","$progress-buttons-line-color":"#d4d4d4"},h={"$header-background-color":"#ddd2ce","$body-container-background-color":"#f7efed","$main-color":"#68656e","$main-hover-color":"#58555e","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#4a4a4a","$text-input-color":"#4a4a4a","$header-color":"#6d7072","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#c6bed4","$progress-buttons-line-color":"#d4d4d4"},D={"$header-background-color":"#cdccd2","$body-container-background-color":"#efedf4","$main-color":"#0f0f33","$main-hover-color":"#191955","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#0f0f33","$text-input-color":"#0f0f33","$header-color":"#0f0f33","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$progress-text-color":"#9d9d9d","$disable-color":"#dbdbdb","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#747491","$progress-buttons-line-color":"#d4d4d4"},P={"$header-background-color":"#82b8da","$body-container-background-color":"#dae1e7","$main-color":"#3c3b40","$main-hover-color":"#1e1d20","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#d1c9f5","$progress-buttons-line-color":"#d4d4d4"},y={"$header-background-color":"#323232","$body-container-background-color":"#f8f8f8","$main-color":"#5ac8fa","$main-hover-color":"#06a1e7","$body-background-color":"white","$inputs-background-color":"white","$text-color":"#000","$text-input-color":"#000","$header-color":"#000","$border-color":"#e7e7e7","$error-color":"#ed5565","$error-background-color":"#fcdfe2","$disable-color":"#dbdbdb","$progress-text-color":"#9d9d9d","$disabled-label-color":"rgba(64, 64, 64, 0.5)","$slider-color":"white","$disabled-switch-color":"#9f9f9f","$disabled-slider-color":"#cfcfcf","$foreground-light":"#909090","$foreground-disabled":"#161616","$background-dim":"#f3f3f3","$progress-buttons-color":"#acdcf2","$progress-buttons-line-color":"#d4d4d4"};var E=function(){function g(){g.autoApplyTheme()}return g.autoApplyTheme=function(){if("bootstrap"!==L.surveyCss.currentType&&"bootstrapmaterial"!==L.surveyCss.currentType){var u=g.getIncludedThemeCss();1===u.length&&g.applyTheme(u[0].name)}},g.getAvailableThemes=function(){return L.surveyCss.getAvailableThemes().filter(function(l){return-1!==["defaultV2","default","modern"].indexOf(l)}).map(function(l){return{name:l,theme:L.surveyCss[l]}})},g.getIncludedThemeCss=function(){if(void 0===K.settings.environment)return[];var u=K.settings.environment.rootElement,l=g.getAvailableThemes(),a=Object(j.isShadowDOM)(u)?u.host:u;if(a){var i=getComputedStyle(a);if(i.length)return l.filter(function(o){return o.theme.variables&&i.getPropertyValue(o.theme.variables.themeMark)})}return[]},g.findSheet=function(u){if(void 0===K.settings.environment)return null;for(var l=K.settings.environment.root.styleSheets,a=0;a<l.length;a++)if(l[a].ownerNode&&l[a].ownerNode.id===u)return l[a];return null},g.createSheet=function(u){var l=K.settings.environment.stylesSheetsMountContainer,a=document.createElement("style");return a.id=u,a.appendChild(document.createTextNode("")),Object(j.getElement)(l).appendChild(a),g.Logger&&g.Logger.log("style sheet "+u+" created"),a.sheet},g.applyTheme=function(u,l){if(void 0===u&&(u="default"),void 0!==K.settings.environment){var a=K.settings.environment.rootElement,i=Object(j.isShadowDOM)(a)?a.host:a;if(L.surveyCss.currentType=u,g.Enabled){if("bootstrap"!==u&&"bootstrapmaterial"!==u)return function v(g,u){Object.keys(g||{}).forEach(function(l){var a=l.substring(1);u.style.setProperty("--"+a,g[l])})}(g.ThemeColors[u],i),void(g.Logger&&g.Logger.log("apply theme "+u+" completed"));var o=g.ThemeCss[u];if(!o)return void(L.surveyCss.currentType="defaultV2");g.insertStylesRulesIntoDocument();var p=l||g.ThemeSelector[u]||g.ThemeSelector.default,A=(u+p).trim(),B=g.findSheet(A);if(!B){B=g.createSheet(A);var O=g.ThemeColors[u]||g.ThemeColors.default;Object.keys(o).forEach(function(f){var b=o[f];Object.keys(O||{}).forEach(function(C){return b=b.replace(new RegExp("\\"+C,"g"),O[C])});try{0===f.indexOf("body")?B.insertRule(f+" { "+b+" }",0):B.insertRule(p+f+" { "+b+" }",0)}catch(C){}})}}g.Logger&&g.Logger.log("apply theme "+u+" completed")}},g.insertStylesRulesIntoDocument=function(){if(g.Enabled){var u=g.findSheet(g.SurveyJSStylesSheetId);u||(u=g.createSheet(g.SurveyJSStylesSheetId)),Object.keys(g.Styles).length&&Object.keys(g.Styles).forEach(function(l){try{u.insertRule(l+" { "+g.Styles[l]+" }",0)}catch(a){}}),Object.keys(g.Media).length&&Object.keys(g.Media).forEach(function(l){try{u.insertRule(g.Media[l].media+" { "+l+" { "+g.Media[l].style+" } }",0)}catch(a){}})}},g.SurveyJSStylesSheetId="surveyjs-styles",g.Styles={},g.Media={},g.ThemeColors={modern:F,default:S,orange:w,darkblue:M,darkrose:h,stone:D,winter:P,winterstone:y},g.ThemeCss={},g.ThemeSelector={default:".sv_main ",modern:".sv-root-modern "},g.Enabled=!0,g}()},"./src/survey-element.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyElementCore",function(){return P}),m.d(V,"DragTypeOverMeEnum",function(){return y}),m.d(V,"SurveyElement",function(){return v});var E,L=m("./src/jsonobject.ts"),K=m("./src/base.ts"),j=m("./src/actions/adaptive-container.ts"),F=m("./src/helpers.ts"),S=m("./src/settings.ts"),w=m("./src/actions/container.ts"),M=m("./src/utils/cssClassBuilder.ts"),h=(E=function(g,u){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(l[i]=a[i])})(g,u)},function(g,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function l(){this.constructor=g}E(g,u),g.prototype=null===u?Object.create(u):(l.prototype=u.prototype,new l)}),D=function(E,g,u,l){var o,a=arguments.length,i=a<3?g:null===l?l=Object.getOwnPropertyDescriptor(g,u):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(E,g,u,l);else for(var p=E.length-1;p>=0;p--)(o=E[p])&&(i=(a<3?o(i):a>3?o(g,u,i):o(g,u))||i);return a>3&&i&&Object.defineProperty(g,u,i),i},P=function(E){function g(){var u=E.call(this)||this;return u.createLocTitleProperty(),u}return h(g,E),g.prototype.createLocTitleProperty=function(){return this.createLocalizableString("title",this,!0)},Object.defineProperty(g.prototype,"title",{get:function(){return this.getLocalizableStringText("title",this.getDefaultTitleValue())},set:function(u){this.setLocalizableStringText("title",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"locTitle",{get:function(){return this.getLocalizableString("title")},enumerable:!1,configurable:!0}),g.prototype.getDefaultTitleValue=function(){},g.prototype.updateDescriptionVisibility=function(u){var l=!1;if(this.isDesignMode){var a=L.Serializer.findProperty(this.getType(),"description");l=!!(null==a?void 0:a.placeholder)}this.hasDescription=!!u||l},Object.defineProperty(g.prototype,"locDescription",{get:function(){return this.getLocalizableString("description")},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleTagName",{get:function(){var u=this.getDefaultTitleTagName(),l=this.getSurvey();return l?l.getElementTitleTagName(this,u):u},enumerable:!1,configurable:!0}),g.prototype.getDefaultTitleTagName=function(){return S.settings.titleTags[this.getType()]},Object.defineProperty(g.prototype,"hasTitle",{get:function(){return this.title.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasTitleActions",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasTitleEvents",{get:function(){return this.hasTitleActions},enumerable:!1,configurable:!0}),g.prototype.getTitleToolbar=function(){return null},g.prototype.getTitleOwner=function(){},Object.defineProperty(g.prototype,"isTitleOwner",{get:function(){return!!this.getTitleOwner()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isTitleRenderedAsString",{get:function(){return this.getIsTitleRenderedAsString()},enumerable:!1,configurable:!0}),g.prototype.toggleState=function(){},Object.defineProperty(g.prototype,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssTitle",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaTitleId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleTabIndex",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleAriaExpanded",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleAriaRole",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ariaLabel",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleAriaLabel",{get:function(){return this.ariaLabel},enumerable:!1,configurable:!0}),g.prototype.getIsTitleRenderedAsString=function(){return!this.isTitleOwner},D([Object(L.property)()],g.prototype,"hasDescription",void 0),D([Object(L.property)({localizable:!0,onSet:function(u,l){l.updateDescriptionVisibility(u)}})],g.prototype,"description",void 0),g}(K.Base),y=(()=>(function(E){E[E.InsideEmptyPanel=1]="InsideEmptyPanel",E[E.MultilineRight=2]="MultilineRight",E[E.MultilineLeft=3]="MultilineLeft",E[E.Top=4]="Top",E[E.Right=5]="Right",E[E.Bottom=6]="Bottom",E[E.Left=7]="Left"}(y||(y={})),y))(),v=function(E){function g(u){var l=E.call(this)||this;return l.selectedElementInDesignValue=l,l.disableDesignActions=g.CreateDisabledDesignElements,l.parentQuestionValue=null,l.isContentElement=!1,l.isEditableTemplateElement=!1,l.isInteractiveDesignElement=!0,l.isSingleInRow=!0,l.name=u,l.createNewArray("errors"),l.createNewArray("titleActions"),l.registerPropertyChangedHandlers(["isReadOnly"],function(){l.onReadOnlyChanged()}),l.registerPropertyChangedHandlers(["errors"],function(){l.updateVisibleErrors()}),l.registerPropertyChangedHandlers(["isSingleInRow"],function(){l.updateElementCss(!1)}),l}return h(g,E),g.getProgressInfoByElements=function(u,l){for(var a=K.Base.createProgressInfo(),i=0;i<u.length;i++)if(u[i].isVisible){var o=u[i].getProgressInfo();a.questionCount+=o.questionCount,a.answeredQuestionCount+=o.answeredQuestionCount,a.requiredQuestionCount+=o.requiredQuestionCount,a.requiredAnsweredQuestionCount+=o.requiredAnsweredQuestionCount}return l&&a.questionCount>0&&(0==a.requiredQuestionCount&&(a.requiredQuestionCount=1),a.answeredQuestionCount>0&&(a.requiredAnsweredQuestionCount=1)),a},g.ScrollElementToTop=function(u){var l=S.settings.environment.root;if(!u||void 0===l)return!1;var a=l.getElementById(u);if(!a||!a.scrollIntoView)return!1;var i=a.getBoundingClientRect().top;return i<0&&a.scrollIntoView(),i<0},g.GetFirstNonTextElement=function(u,l){if(void 0===l&&(l=!1),!u||!u.length||0==u.length)return null;if(l){var a=u[0];"#text"===a.nodeName&&(a.data=""),"#text"===(a=u[u.length-1]).nodeName&&(a.data="")}for(var i=0;i<u.length;i++)if("#text"!=u[i].nodeName&&"#comment"!=u[i].nodeName)return u[i];return null},g.FocusElement=function(u){if(!u||"undefined"==typeof document)return!1;var l=g.focusElementCore(u);return l||setTimeout(function(){g.focusElementCore(u)},10),l},g.focusElementCore=function(u){var l=S.settings.environment.root;if(!l)return!1;var a=l.getElementById(u);return!(!a||a.disabled||"none"===a.style.display||(a.focus(),0))},g.prototype.onPropertyValueChanged=function(u,l,a){E.prototype.onPropertyValueChanged.call(this,u,l,a),"state"===u&&(this.updateElementCss(!1),this.stateChangedCallback&&this.stateChangedCallback())},g.prototype.getSkeletonComponentNameCore=function(){return this.survey?this.survey.getSkeletonComponentName(this):""},Object.defineProperty(g.prototype,"parentQuestion",{get:function(){return this.parentQuestionValue},enumerable:!1,configurable:!0}),g.prototype.setParentQuestion=function(u){this.parentQuestionValue=u,this.onParentQuestionChanged()},g.prototype.onParentQuestionChanged=function(){},Object.defineProperty(g.prototype,"skeletonComponentName",{get:function(){return this.getSkeletonComponentNameCore()},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"state",{get:function(){return this.getPropertyValue("state")},set:function(u){this.setPropertyValue("state",u),this.notifyStateChanged()},enumerable:!1,configurable:!0}),g.prototype.notifyStateChanged=function(){this.survey&&this.survey.elementContentVisibilityChanged(this)},Object.defineProperty(g.prototype,"isCollapsed",{get:function(){if(!this.isDesignMode)return"collapsed"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isExpanded",{get:function(){return"expanded"===this.state},enumerable:!1,configurable:!0}),g.prototype.collapse=function(){this.isDesignMode||(this.state="collapsed")},g.prototype.expand=function(){this.state="expanded"},g.prototype.toggleState=function(){return this.isCollapsed?(this.expand(),!0):!this.isExpanded||(this.collapse(),!1)},Object.defineProperty(g.prototype,"hasStateButton",{get:function(){return this.isExpanded||this.isCollapsed},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"shortcutText",{get:function(){return this.title||this.name},enumerable:!1,configurable:!0}),g.prototype.getTitleToolbar=function(){return this.titleToolbarValue||(this.titleToolbarValue=this.createActionContainer(!0),this.titleToolbarValue.containerCss=(this.isPanel?this.cssClasses.panel.titleBar:this.cssClasses.titleBar)||"sv-action-title-bar",this.titleToolbarValue.setItems(this.getTitleActions())),this.titleToolbarValue},g.prototype.createActionContainer=function(u){var l=u?new j.AdaptiveActionContainer:new w.ActionContainer;return this.survey&&!!this.survey.getCss().actionBar&&(l.cssClasses=this.survey.getCss().actionBar),l},Object.defineProperty(g.prototype,"titleActions",{get:function(){return this.getPropertyValue("titleActions")},enumerable:!1,configurable:!0}),g.prototype.getTitleActions=function(){return this.isTitleActionRequested||(this.updateTitleActions(),this.isTitleActionRequested=!0),this.titleActions},g.prototype.getDefaultTitleActions=function(){return[]},g.prototype.updateTitleActions=function(){var u=this.getDefaultTitleActions();this.survey&&(u=this.survey.getUpdatedElementTitleActions(this,u)),this.setPropertyValue("titleActions",u)},Object.defineProperty(g.prototype,"hasTitleActions",{get:function(){return this.getTitleActions().length>0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"hasTitleEvents",{get:function(){return void 0!==this.state&&"default"!==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleTabIndex",{get:function(){return this.isPage||"default"===this.state?void 0:0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleAriaExpanded",{get:function(){if(!this.isPage&&"default"!==this.state)return"expanded"===this.state?"true":"false"},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"titleAriaRole",{get:function(){if(!this.isPage&&"default"!==this.state)return"button"},enumerable:!1,configurable:!0}),g.prototype.setSurveyImpl=function(u,l){this.surveyImplValue=u,this.surveyImplValue?(this.surveyDataValue=this.surveyImplValue.getSurveyData(),this.setSurveyCore(this.surveyImplValue.getSurvey()),this.textProcessorValue=this.surveyImplValue.getTextProcessor(),this.onSetData()):(this.setSurveyCore(null),this.surveyDataValue=null),this.survey&&this.clearCssClasses()},g.prototype.canRunConditions=function(){return E.prototype.canRunConditions.call(this)&&!!this.data},g.prototype.getDataFilteredValues=function(){return this.data?this.data.getFilteredValues():{}},g.prototype.getDataFilteredProperties=function(){var u=this.data?this.data.getFilteredProperties():{};return u.question=this,u},Object.defineProperty(g.prototype,"surveyImpl",{get:function(){return this.surveyImplValue},enumerable:!1,configurable:!0}),g.prototype.__setData=function(u){S.settings.supportCreatorV2&&(this.surveyDataValue=u)},Object.defineProperty(g.prototype,"data",{get:function(){return this.surveyDataValue},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"survey",{get:function(){return this.getSurvey()},enumerable:!1,configurable:!0}),g.prototype.getSurvey=function(u){return void 0===u&&(u=!1),this.surveyValue||this.surveyImplValue&&this.setSurveyCore(this.surveyImplValue.getSurvey()),this.surveyValue},g.prototype.setSurveyCore=function(u){this.surveyValue=u,this.surveyChangedCallback&&this.surveyChangedCallback()},Object.defineProperty(g.prototype,"isInternal",{get:function(){return this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"areInvisibleElementsShowing",{get:function(){return!!this.survey&&this.survey.areInvisibleElementsShowing&&!this.isContentElement},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isReadOnly",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"readOnly",{get:function(){return this.getPropertyValue("readOnly",!1)},set:function(u){this.readOnly!=u&&(this.setPropertyValue("readOnly",u),this.isLoadingFromJson||this.setPropertyValue("isReadOnly",this.isReadOnly))},enumerable:!1,configurable:!0}),g.prototype.onReadOnlyChanged=function(){this.readOnlyChangedCallback&&this.readOnlyChangedCallback()},Object.defineProperty(g.prototype,"css",{get:function(){return this.survey?this.survey.getCss():{}},enumerable:!1,configurable:!0}),g.prototype.ensureCssClassesValue=function(){this.cssClassesValue||(this.cssClassesValue=this.calcCssClasses(this.css),this.updateElementCssCore(this.cssClassesValue))},Object.defineProperty(g.prototype,"cssClasses",{get:function(){return this.survey?(this.ensureCssClassesValue(),this.cssClassesValue):this.calcCssClasses(this.css)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"cssTitleNumber",{get:function(){var u=this.cssClasses;return u.number?u.number:u.panel?u.panel.number:void 0},enumerable:!1,configurable:!0}),g.prototype.calcCssClasses=function(u){},g.prototype.updateElementCssCore=function(u){},Object.defineProperty(g.prototype,"cssError",{get:function(){return""},enumerable:!1,configurable:!0}),g.prototype.updateElementCss=function(u){this.clearCssClasses()},g.prototype.clearCssClasses=function(){this.cssClassesValue=void 0},g.prototype.getIsLoadingFromJson=function(){return!!E.prototype.getIsLoadingFromJson.call(this)||!!this.survey&&this.survey.isLoadingFromJson},Object.defineProperty(g.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(u){var l=this.name;this.setPropertyValue("name",this.getValidName(u)),!this.isLoadingFromJson&&l&&this.onNameChanged(l)},enumerable:!1,configurable:!0}),g.prototype.getValidName=function(u){return u},g.prototype.onNameChanged=function(u){},g.prototype.updateBindingValue=function(u,l){this.data&&!this.isTwoValueEquals(l,this.data.getValue(u))&&this.data.setValue(u,l,!1)},Object.defineProperty(g.prototype,"errors",{get:function(){return this.getPropertyValue("errors")},set:function(u){this.setPropertyValue("errors",u)},enumerable:!1,configurable:!0}),g.prototype.updateVisibleErrors=function(){for(var u=0,l=0;l<this.errors.length;l++)this.errors[l].visible&&u++;this.hasVisibleErrors=u>0},Object.defineProperty(g.prototype,"containsErrors",{get:function(){return this.getPropertyValue("containsErrors",!1)},enumerable:!1,configurable:!0}),g.prototype.updateContainsErrors=function(){this.setPropertyValue("containsErrors",this.getContainsErrors())},g.prototype.getContainsErrors=function(){return this.errors.length>0},Object.defineProperty(g.prototype,"selectedElementInDesign",{get:function(){return this.selectedElementInDesignValue},set:function(u){this.selectedElementInDesignValue=u},enumerable:!1,configurable:!0}),g.prototype.updateCustomWidgets=function(){},g.prototype.onSurveyLoad=function(){},g.prototype.onFirstRendering=function(){this.ensureCssClassesValue()},g.prototype.endLoadingFromJson=function(){E.prototype.endLoadingFromJson.call(this),this.survey||this.onSurveyLoad(),this.updateDescriptionVisibility(this.description)},g.prototype.setVisibleIndex=function(u){return 0},Object.defineProperty(g.prototype,"isPage",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isPanel",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isQuestion",{get:function(){return!1},enumerable:!1,configurable:!0}),g.prototype.delete=function(){},g.prototype.getLocale=function(){return this.survey?this.survey.getLocale():this.locOwner?this.locOwner.getLocale():""},g.prototype.getMarkdownHtml=function(u,l){return this.survey?this.survey.getSurveyMarkdownHtml(this,u,l):this.locOwner?this.locOwner.getMarkdownHtml(u,l):void 0},g.prototype.getRenderer=function(u){return this.survey&&"function"==typeof this.survey.getRendererForString?this.survey.getRendererForString(this,u):this.locOwner&&"function"==typeof this.locOwner.getRenderer?this.locOwner.getRenderer(u):null},g.prototype.getRendererContext=function(u){return this.survey&&"function"==typeof this.survey.getRendererContextForString?this.survey.getRendererContextForString(this,u):this.locOwner&&"function"==typeof this.locOwner.getRendererContext?this.locOwner.getRendererContext(u):u},g.prototype.getProcessedText=function(u){return this.isLoadingFromJson?u:this.textProcessor?this.textProcessor.processText(u,this.getUseDisplayValuesInDynamicTexts()):this.locOwner?this.locOwner.getProcessedText(u):u},g.prototype.getUseDisplayValuesInDynamicTexts=function(){return!0},g.prototype.removeSelfFromList=function(u){if(u&&Array.isArray(u)){var l=u.indexOf(this);l>-1&&u.splice(l,1)}},Object.defineProperty(g.prototype,"textProcessor",{get:function(){return this.textProcessorValue},enumerable:!1,configurable:!0}),g.prototype.getProcessedHtml=function(u){return u&&this.textProcessor?this.textProcessor.processText(u,!0):u},g.prototype.onSetData=function(){},Object.defineProperty(g.prototype,"parent",{get:function(){return this.getPropertyValue("parent",null)},set:function(u){this.setPropertyValue("parent",u)},enumerable:!1,configurable:!0}),g.prototype.getPage=function(u){for(;u&&u.parent;)u=u.parent;return u&&"page"==u.getType()?u:null},g.prototype.moveToBase=function(u,l,a){if(void 0===a&&(a=null),!l)return!1;u.removeElement(this);var i=-1;return F.Helpers.isNumber(a)&&(i=parseInt(a)),-1==i&&!!a&&!!a.getType&&(i=l.indexOf(a)),l.addElement(this,i),!0},g.prototype.setPage=function(u,l){var a=this.getPage(u);"string"==typeof l&&this.getSurvey().pages.forEach(function(o){l===o.name&&(l=o)}),a!==l&&(u&&u.removeElement(this),l&&l.addElement(this,-1))},g.prototype.getSearchableLocKeys=function(u){u.push("title"),u.push("description")},Object.defineProperty(g.prototype,"isDefaultV2Theme",{get:function(){return this.survey&&"sd-root-modern"==this.survey.getCss().root},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isErrorsModeTooltip",{get:function(){return this.getIsErrorsModeTooltip()},enumerable:!1,configurable:!0}),g.prototype.getIsErrorsModeTooltip=function(){return this.isDefaultV2Theme&&this.hasParent&&this.getIsTooltipErrorSupportedByParent()},g.prototype.getIsTooltipErrorSupportedByParent=function(){var u;return null===(u=this.parent)||void 0===u?void 0:u.getIsTooltipErrorInsideSupported()},g.prototype.getIsTooltipErrorInsideSupported=function(){return!1},Object.defineProperty(g.prototype,"hasParent",{get:function(){return this.parent&&!this.parent.isPage&&(!this.parent.originalPage||this.survey.isShowingPreview)||void 0===this.parent},enumerable:!1,configurable:!0}),g.prototype.shouldAddRunnerStyles=function(){return!this.isDesignMode&&this.isDefaultV2Theme},Object.defineProperty(g.prototype,"isCompact",{get:function(){return this.survey&&this.survey.isCompact},enumerable:!1,configurable:!0}),g.prototype.getHasFrameV2=function(){return this.shouldAddRunnerStyles()&&!this.hasParent&&this.isSingleInRow},g.prototype.getIsNested=function(){return this.shouldAddRunnerStyles()&&(this.hasParent||!this.isSingleInRow)},g.prototype.getCssRoot=function(u){return(new M.CssClassBuilder).append(u.withFrame,this.getHasFrameV2()&&!this.isCompact).append(u.compact,this.isCompact&&this.getHasFrameV2()).append(u.collapsed,!!this.isCollapsed).append(u.expanded,!!this.isExpanded).append(u.nested,this.getIsNested()).toString()},Object.defineProperty(g.prototype,"width",{get:function(){return this.getPropertyValue("width","")},set:function(u){this.setPropertyValue("width",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"minWidth",{get:function(){return this.getPropertyValue("minWidth")},set:function(u){this.setPropertyValue("minWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"maxWidth",{get:function(){return this.getPropertyValue("maxWidth")},set:function(u){this.setPropertyValue("maxWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"renderWidth",{get:function(){return this.getPropertyValue("renderWidth","")},set:function(u){this.setPropertyValue("renderWidth",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"indent",{get:function(){return this.getPropertyValue("indent")},set:function(u){this.setPropertyValue("indent",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rightIndent",{get:function(){return this.getPropertyValue("rightIndent",0)},set:function(u){this.setPropertyValue("rightIndent",u)},enumerable:!1,configurable:!0}),g.prototype.getRootStyle=function(){var u={};return this.paddingLeft&&(u["--sv-element-add-padding-left"]=this.paddingLeft),this.paddingRight&&(u["--sv-element-add-padding-right"]=this.paddingRight),u},Object.defineProperty(g.prototype,"paddingLeft",{get:function(){return this.getPropertyValue("paddingLeft","")},set:function(u){this.setPropertyValue("paddingLeft",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"paddingRight",{get:function(){return this.getPropertyValue("paddingRight","")},set:function(u){this.setPropertyValue("paddingRight",u)},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"rootStyle",{get:function(){var u={};return this.allowRootStyle&&this.renderWidth&&(u.flexGrow=1,u.flexShrink=1,u.flexBasis=this.renderWidth,u.minWidth=this.minWidth,u.maxWidth=this.maxWidth),u},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"clickTitleFunction",{get:function(){var u=this;if(this.needClickTitleFunction())return function(){return u.processTitleClick()}},enumerable:!1,configurable:!0}),g.prototype.needClickTitleFunction=function(){return"default"!==this.state},g.prototype.processTitleClick=function(){"default"!==this.state&&this.toggleState()},Object.defineProperty(g.prototype,"additionalTitleToolbar",{get:function(){return this.getAdditionalTitleToolbar()},enumerable:!1,configurable:!0}),g.prototype.getAdditionalTitleToolbar=function(){return null},g.prototype.getCssTitle=function(u){var l="default"!==this.state;return(new M.CssClassBuilder).append(u.title).append(u.titleNumInline,(this.no||"").length>4||l).append(u.titleExpandable,l).append(u.titleExpanded,this.isExpanded).append(u.titleCollapsed,this.isCollapsed).append(u.titleDisabled,this.isReadOnly).append(u.titleOnError,this.containsErrors).toString()},g.prototype.localeChanged=function(){E.prototype.localeChanged.call(this),this.updateDescriptionVisibility(this.description),this.errors.length>0&&this.errors.forEach(function(u){u.updateText()})},g.CreateDisabledDesignElements=!1,D([Object(L.property)({defaultValue:null})],g.prototype,"dragTypeOverMe",void 0),D([Object(L.property)({defaultValue:!1})],g.prototype,"isDragMe",void 0),D([Object(L.property)()],g.prototype,"cssClassesValue",void 0),D([Object(L.property)({defaultValue:!1})],g.prototype,"hasVisibleErrors",void 0),D([Object(L.property)({defaultValue:!0})],g.prototype,"isSingleInRow",void 0),D([Object(L.property)({defaultValue:!0})],g.prototype,"allowRootStyle",void 0),g}(P)},"./src/survey-error.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyError",function(){return j});var L=m("./src/localizablestring.ts"),K=m("./src/surveyStrings.ts"),j=function(){function F(S,w){void 0===S&&(S=null),void 0===w&&(w=null),this.text=S,this.errorOwner=w,this.visible=!0,this.onUpdateErrorTextCallback=void 0}return F.prototype.equalsTo=function(S){return!(!S||!S.getErrorType||this.getErrorType()!==S.getErrorType())&&this.text===S.text&&this.visible===S.visible},Object.defineProperty(F.prototype,"locText",{get:function(){return this.locTextValue||(this.locTextValue=new L.LocalizableString(this.errorOwner,!0),this.locTextValue.storeDefaultText=!0,this.locTextValue.text=this.getText()),this.locTextValue},enumerable:!1,configurable:!0}),F.prototype.getText=function(){var S=this.text;return S||(S=this.getDefaultText()),this.errorOwner&&(S=this.errorOwner.getErrorCustomText(S,this)),S},F.prototype.getErrorType=function(){return"base"},F.prototype.getDefaultText=function(){return""},F.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},F.prototype.getLocalizationString=function(S){return K.surveyLocalization.getString(S,this.getLocale())},F.prototype.updateText=function(){this.onUpdateErrorTextCallback&&this.onUpdateErrorTextCallback(this),this.locText.text=this.getText()},F}()},"./src/survey-events-api.ts":function(oe,V,m){"use strict";m.r(V)},"./src/survey.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyModel",function(){return O});var b,L=m("./src/helpers.ts"),K=m("./src/jsonobject.ts"),j=m("./src/base.ts"),F=m("./src/survey-element.ts"),S=m("./src/defaultCss/defaultV2Css.ts"),w=m("./src/textPreProcessor.ts"),M=m("./src/conditionProcessValue.ts"),h=m("./src/dxSurveyService.ts"),D=m("./src/surveyStrings.ts"),P=m("./src/error.ts"),y=m("./src/localizablestring.ts"),v=m("./src/stylesmanager.ts"),E=m("./src/surveyTimerModel.ts"),g=m("./src/conditions.ts"),u=m("./src/settings.ts"),l=m("./src/utils/utils.ts"),a=m("./src/actions/action.ts"),i=m("./src/actions/container.ts"),o=m("./src/utils/cssClassBuilder.ts"),p=m("./src/notifier.ts"),A=(b=function(C,c){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,I){T.__proto__=I}||function(T,I){for(var H in I)Object.prototype.hasOwnProperty.call(I,H)&&(T[H]=I[H])})(C,c)},function(C,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function T(){this.constructor=C}b(C,c),C.prototype=null===c?Object.create(c):(T.prototype=c.prototype,new T)}),B=function(b,C,c,T){var J,I=arguments.length,H=I<3?C:null===T?T=Object.getOwnPropertyDescriptor(C,c):T;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)H=Reflect.decorate(b,C,c,T);else for(var se=b.length-1;se>=0;se--)(J=b[se])&&(H=(I<3?J(H):I>3?J(C,c,H):J(C,c))||H);return I>3&&H&&Object.defineProperty(C,c,H),H},O=function(b){function C(c,T){void 0===c&&(c=null),void 0===T&&(T=null);var I=b.call(this)||this;I.valuesHash={},I.variablesHash={},I.onThemeApplied=new j.EventBase,I.onTriggerExecuted=I.addEvent(),I.onCompleting=I.addEvent(),I.onComplete=I.addEvent(),I.onShowingPreview=I.addEvent(),I.onNavigateToUrl=I.addEvent(),I.onStarted=I.addEvent(),I.onPartialSend=I.addEvent(),I.onCurrentPageChanging=I.addEvent(),I.onCurrentPageChanged=I.addEvent(),I.onValueChanging=I.addEvent(),I.onValueChanged=I.addEvent(),I.onVariableChanged=I.addEvent(),I.onQuestionVisibleChanged=I.addEvent(),I.onVisibleChanged=I.onQuestionVisibleChanged,I.onPageVisibleChanged=I.addEvent(),I.onPanelVisibleChanged=I.addEvent(),I.onQuestionCreated=I.addEvent(),I.onQuestionAdded=I.addEvent(),I.onQuestionRemoved=I.addEvent(),I.onPanelAdded=I.addEvent(),I.onPanelRemoved=I.addEvent(),I.onPageAdded=I.addEvent(),I.onValidateQuestion=I.addEvent(),I.onSettingQuestionErrors=I.addEvent(),I.onServerValidateQuestions=I.addEvent(),I.onValidatePanel=I.addEvent(),I.onErrorCustomText=I.addEvent(),I.onValidatedErrorsOnCurrentPage=I.addEvent(),I.onProcessHtml=I.addEvent(),I.onGetQuestionDisplayValue=I.addEvent(),I.onGetQuestionTitle=I.addEvent(),I.onGetTitleTagName=I.addEvent(),I.onGetQuestionNo=I.addEvent(),I.onProgressText=I.addEvent(),I.onTextMarkdown=I.addEvent(),I.onTextRenderAs=I.addEvent(),I.onSendResult=I.addEvent(),I.onGetResult=I.addEvent(),I.onUploadFiles=I.addEvent(),I.onDownloadFile=I.addEvent(),I.onClearFiles=I.addEvent(),I.onLoadChoicesFromServer=I.addEvent(),I.onLoadedSurveyFromService=I.addEvent(),I.onProcessTextValue=I.addEvent(),I.onUpdateQuestionCssClasses=I.addEvent(),I.onUpdatePanelCssClasses=I.addEvent(),I.onUpdatePageCssClasses=I.addEvent(),I.onUpdateChoiceItemCss=I.addEvent(),I.onAfterRenderSurvey=I.addEvent(),I.onAfterRenderHeader=I.addEvent(),I.onAfterRenderPage=I.addEvent(),I.onAfterRenderQuestion=I.addEvent(),I.onAfterRenderQuestionInput=I.addEvent(),I.onAfterRenderPanel=I.addEvent(),I.onFocusInQuestion=I.addEvent(),I.onFocusInPanel=I.addEvent(),I.onShowingChoiceItem=I.addEvent(),I.onChoicesLazyLoad=I.addEvent(),I.onGetChoiceDisplayValue=I.addEvent(),I.onMatrixRowAdded=I.addEvent(),I.onMatrixRowAdding=I.addEvent(),I.onMatrixBeforeRowAdded=I.onMatrixRowAdding,I.onMatrixRowRemoving=I.addEvent(),I.onMatrixRowRemoved=I.addEvent(),I.onMatrixRenderRemoveButton=I.addEvent(),I.onMatrixAllowRemoveRow=I.onMatrixRenderRemoveButton,I.onMatrixCellCreating=I.addEvent(),I.onMatrixCellCreated=I.addEvent(),I.onAfterRenderMatrixCell=I.addEvent(),I.onMatrixAfterCellRender=I.onAfterRenderMatrixCell,I.onMatrixCellValueChanged=I.addEvent(),I.onMatrixCellValueChanging=I.addEvent(),I.onMatrixCellValidate=I.addEvent(),I.onMatrixColumnAdded=I.addEvent(),I.onMultipleTextItemAdded=I.addEvent(),I.onDynamicPanelAdded=I.addEvent(),I.onDynamicPanelRemoved=I.addEvent(),I.onDynamicPanelRemoving=I.addEvent(),I.onTimer=I.addEvent(),I.onTimerPanelInfoText=I.addEvent(),I.onDynamicPanelItemValueChanged=I.addEvent(),I.onIsAnswerCorrect=I.addEvent(),I.onDragDropAllow=I.addEvent(),I.onScrollingElementToTop=I.addEvent(),I.onLocaleChangedEvent=I.addEvent(),I.onGetQuestionTitleActions=I.addEvent(),I.onGetPanelTitleActions=I.addEvent(),I.onGetPageTitleActions=I.addEvent(),I.onGetPanelFooterActions=I.addEvent(),I.onGetMatrixRowActions=I.addEvent(),I.onElementContentVisibilityChanged=I.addEvent(),I.onGetExpressionDisplayValue=I.addEvent(),I.onPopupVisibleChanged=I.addEvent(),I.jsonErrors=null,I.cssValue=null,I.hideRequiredErrors=!1,I.cssVariables={},I._isMobile=!1,I._isCompact=!1,I._isDesignMode=!1,I.ignoreValidation=!1,I.isNavigationButtonPressed=!1,I.mouseDownPage=null,I.isCalculatingProgressText=!1,I.isFirstPageRendering=!0,I.isCurrentPageRendering=!0,I.isTriggerIsRunning=!1,I.triggerValues=null,I.triggerKeys=null,I.conditionValues=null,I.isValueChangedOnRunningCondition=!1,I.conditionRunnerCounter=0,I.conditionUpdateVisibleIndexes=!1,I.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,I.isEndLoadingFromJson=null,I.questionHashes={names:{},namesInsensitive:{},valueNames:{},valueNamesInsensitive:{}},I.needRenderIcons=!0,I.skippedPages=[],I.skeletonComponentName="sv-skeleton","undefined"!=typeof document&&(C.stylesManager=new v.StylesManager);var H=function(J){return"<h3>"+J+"</h3>"};return I.createHtmlLocString("completedHtml","completingSurvey",H),I.createHtmlLocString("completedBeforeHtml","completingSurveyBefore",H,"completed-before"),I.createHtmlLocString("loadingHtml","loadingSurvey",H,"loading"),I.createLocalizableString("logo",I,!1),I.createLocalizableString("backgroundImage",I,!1),I.createLocalizableString("startSurveyText",I,!1,!0),I.createLocalizableString("pagePrevText",I,!1,!0),I.createLocalizableString("pageNextText",I,!1,!0),I.createLocalizableString("completeText",I,!1,!0),I.createLocalizableString("previewText",I,!1,!0),I.createLocalizableString("editText",I,!1,!0),I.createLocalizableString("questionTitleTemplate",I,!0),I.textPreProcessor=new w.TextPreProcessor,I.textPreProcessor.onProcess=function(J){I.getProcessedTextValue(J)},I.timerModelValue=new E.SurveyTimerModel(I),I.timerModelValue.onTimer=function(J){I.doTimer(J)},I.createNewArray("pages",function(J){I.doOnPageAdded(J)},function(J){I.doOnPageRemoved(J)}),I.createNewArray("triggers",function(J){J.setOwner(I)}),I.createNewArray("calculatedValues",function(J){J.setOwner(I)}),I.createNewArray("completedHtmlOnCondition",function(J){J.locOwner=I}),I.createNewArray("navigateToUrlOnCondition",function(J){J.locOwner=I}),I.registerPropertyChangedHandlers(["locale"],function(){I.onSurveyLocaleChanged()}),I.registerPropertyChangedHandlers(["firstPageIsStarted"],function(){I.onFirstPageIsStartedChanged()}),I.registerPropertyChangedHandlers(["mode"],function(){I.onModeChanged()}),I.registerPropertyChangedHandlers(["progressBarType"],function(){I.updateProgressText()}),I.registerPropertyChangedHandlers(["questionStartIndex","requiredText","questionTitlePattern"],function(){I.resetVisibleIndexes()}),I.registerPropertyChangedHandlers(["isLoading","isCompleted","isCompletedBefore","mode","isStartedState","currentPage"],function(){I.updateState()}),I.registerPropertyChangedHandlers(["state","currentPage","showPreviewBeforeComplete"],function(){I.onStateAndCurrentPageChanged()}),I.registerPropertyChangedHandlers(["logo","logoPosition"],function(){I.updateHasLogo()}),I.registerPropertyChangedHandlers(["backgroundImage"],function(){I.updateRenderBackgroundImage()}),I.onGetQuestionNo.onCallbacksChanged=function(){I.resetVisibleIndexes()},I.onProgressText.onCallbacksChanged=function(){I.updateProgressText()},I.onTextMarkdown.onCallbacksChanged=function(){I.locStrsChanged()},I.onProcessHtml.onCallbacksChanged=function(){I.locStrsChanged()},I.onGetQuestionTitle.onCallbacksChanged=function(){I.locStrsChanged()},I.onUpdatePageCssClasses.onCallbacksChanged=function(){I.currentPage&&I.currentPage.updateElementCss()},I.onUpdatePanelCssClasses.onCallbacksChanged=function(){I.currentPage&&I.currentPage.updateElementCss()},I.onUpdateQuestionCssClasses.onCallbacksChanged=function(){I.currentPage&&I.currentPage.updateElementCss()},I.onShowingChoiceItem.onCallbacksChanged=function(){I.rebuildQuestionChoices()},I.navigationBarValue=I.createNavigationBar(),I.navigationBar.locOwner=I,I.onBeforeCreating(),c&&(("string"==typeof c||c instanceof String)&&(c=JSON.parse(c)),c&&c.clientId&&(I.clientId=c.clientId),I.fromJSON(c),I.surveyId&&I.loadSurveyFromService(I.surveyId,I.clientId)),I.onCreating(),T&&I.render(T),I.updateCss(),I.setCalculatedWidthModeUpdater(),I.notifier=new p.Notifier(I.css.saveData),I.notifier.addAction(I.createTryAgainAction(),"error"),I.layoutElements.push({id:"timerpanel",template:"survey-timerpanel",component:"sv-timerpanel",data:I.timerModel}),I.layoutElements.push({id:"progress-buttons",component:"sv-progress-buttons",data:I}),I.layoutElements.push({id:"progress-questions",component:"sv-progress-questions",data:I}),I.layoutElements.push({id:"progress-pages",component:"sv-progress-pages",data:I}),I.layoutElements.push({id:"progress-correctquestions",component:"sv-progress-correctquestions",data:I}),I.layoutElements.push({id:"progress-requiredquestions",component:"sv-progress-requiredquestions",data:I}),I.addLayoutElement({id:"toc-navigation",component:"sv-progress-toc",data:I}),I.layoutElements.push({id:"navigationbuttons",component:"sv-action-bar",data:I.navigationBar}),I}return A(C,b),Object.defineProperty(C,"cssType",{get:function(){return S.surveyCss.currentType},set:function(c){v.StylesManager.applyTheme(c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"platformName",{get:function(){return C.platform},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"commentSuffix",{get:function(){return u.settings.commentSuffix},set:function(c){u.settings.commentSuffix=c},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"commentPrefix",{get:function(){return this.commentSuffix},set:function(c){this.commentSuffix=c},enumerable:!1,configurable:!0}),C.prototype.processClosedPopup=function(c,T){throw new Error("Method not implemented.")},C.prototype.createTryAgainAction=function(){var c=this;return{id:"save-again",title:this.getLocalizationString("saveAgainButton"),action:function(){c.isCompleted?c.saveDataOnComplete():c.doComplete()}}},C.prototype.createHtmlLocString=function(c,T,I,H){var J=this,se=this.createLocalizableString(c,this,!1,T);se.onGetLocalizationTextCallback=I,H&&(se.onGetTextCallback=function(he){return J.processHtml(he,H)})},C.prototype.getType=function(){return"survey"},C.prototype.onPropertyValueChanged=function(c,T,I){"questionsOnPageMode"===c&&this.onQuestionsOnPageModeChanged(T)},Object.defineProperty(C.prototype,"pages",{get:function(){return this.getPropertyValue("pages")},enumerable:!1,configurable:!0}),C.prototype.render=function(c){void 0===c&&(c=null),this.renderCallback&&this.renderCallback()},C.prototype.updateSurvey=function(c,T){var I=function(){if("model"==J||"children"==J)return"continue";if(0==J.indexOf("on")&&H[J]&&H[J].add){var se=c[J];H[J].add(function(ie,ye){se(ie,ye)})}else H[J]=c[J]},H=this;for(var J in c)I();c&&c.data&&this.onValueChanged.add(function(se,he){c.data[he.name]=he.value})},C.prototype.getCss=function(){return this.css},C.prototype.updateCompletedPageCss=function(){this.containerCss=this.css.container,this.completedCss=(new o.CssClassBuilder).append(this.css.body).append(this.css.completedPage).toString()},C.prototype.updateCss=function(){this.rootCss=this.getRootCss(),this.updateNavigationCss(),this.updateCompletedPageCss()},Object.defineProperty(C.prototype,"css",{get:function(){return this.cssValue||(this.cssValue={},this.copyCssClasses(this.cssValue,S.surveyCss.getCss())),this.cssValue},set:function(c){this.setCss(c)},enumerable:!1,configurable:!0}),C.prototype.setCss=function(c,T){void 0===T&&(T=!0),T?this.mergeValues(c,this.css):this.cssValue=c,this.updateCss(),this.updateElementCss(!1)},Object.defineProperty(C.prototype,"cssTitle",{get:function(){return this.css.title},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationComplete",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.complete)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationPreview",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.preview)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationEdit",{get:function(){return this.getNavigationCss(this.css.navigationButton,this.css.navigation.edit)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationPrev",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.prev)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationStart",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.start)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssNavigationNext",{get:function(){return this.getNavigationCss(this.cssSurveyNavigationButton,this.css.navigation.next)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cssSurveyNavigationButton",{get:function(){return(new o.CssClassBuilder).append(this.css.navigationButton).append(this.css.bodyNavigationButton).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bodyCss",{get:function(){return(new o.CssClassBuilder).append(this.css.body).append(this.css.bodyWithTimer,"none"!=this.showTimerPanel&&"running"===this.state).append(this.css.body+"--"+this.calculatedWidthMode).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"bodyContainerCss",{get:function(){return this.css.bodyContainer},enumerable:!1,configurable:!0}),C.prototype.getNavigationCss=function(c,T){return(new o.CssClassBuilder).append(c).append(T).toString()},Object.defineProperty(C.prototype,"lazyRendering",{get:function(){return!0===this.lazyRenderingValue},set:function(c){if(this.lazyRendering!==c){this.lazyRenderingValue=c;var T=this.currentPage;T&&T.updateRows()}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isLazyRendering",{get:function(){return this.lazyRendering||u.settings.lazyRender.enabled},enumerable:!1,configurable:!0}),C.prototype.updateLazyRenderingRowsOnRemovingElements=function(){if(this.isLazyRendering){var c=this.currentPage;c&&Object(l.scrollElementByChildId)(c.id)}},Object.defineProperty(C.prototype,"triggers",{get:function(){return this.getPropertyValue("triggers")},set:function(c){this.setPropertyValue("triggers",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"calculatedValues",{get:function(){return this.getPropertyValue("calculatedValues")},set:function(c){this.setPropertyValue("calculatedValues",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"surveyId",{get:function(){return this.getPropertyValue("surveyId","")},set:function(c){this.setPropertyValue("surveyId",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"surveyPostId",{get:function(){return this.getPropertyValue("surveyPostId","")},set:function(c){this.setPropertyValue("surveyPostId",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"clientId",{get:function(){return this.getPropertyValue("clientId","")},set:function(c){this.setPropertyValue("clientId",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"cookieName",{get:function(){return this.getPropertyValue("cookieName","")},set:function(c){this.setPropertyValue("cookieName",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"sendResultOnPageNext",{get:function(){return this.getPropertyValue("sendResultOnPageNext")},set:function(c){this.setPropertyValue("sendResultOnPageNext",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"surveyShowDataSaving",{get:function(){return this.getPropertyValue("surveyShowDataSaving")},set:function(c){this.setPropertyValue("surveyShowDataSaving",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"focusFirstQuestionAutomatic",{get:function(){return this.getPropertyValue("focusFirstQuestionAutomatic")},set:function(c){this.setPropertyValue("focusFirstQuestionAutomatic",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"focusOnFirstError",{get:function(){return this.getPropertyValue("focusOnFirstError")},set:function(c){this.setPropertyValue("focusOnFirstError",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showNavigationButtons",{get:function(){return this.getPropertyValue("showNavigationButtons")},set:function(c){(!0===c||void 0===c)&&(c="bottom"),!1===c&&(c="none"),this.setPropertyValue("showNavigationButtons",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showPrevButton",{get:function(){return this.getPropertyValue("showPrevButton")},set:function(c){this.setPropertyValue("showPrevButton",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showTOC",{get:function(){return this.getPropertyValue("showTOC")},set:function(c){this.setPropertyValue("showTOC",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"tocLocation",{get:function(){return this.getPropertyValue("tocLocation")},set:function(c){this.setPropertyValue("tocLocation",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showTitle",{get:function(){return this.getPropertyValue("showTitle")},set:function(c){this.setPropertyValue("showTitle",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showPageTitles",{get:function(){return this.getPropertyValue("showPageTitles")},set:function(c){this.setPropertyValue("showPageTitles",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showCompletedPage",{get:function(){return this.getPropertyValue("showCompletedPage")},set:function(c){this.setPropertyValue("showCompletedPage",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"navigateToUrl",{get:function(){return this.getPropertyValue("navigateToUrl")},set:function(c){this.setPropertyValue("navigateToUrl",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"navigateToUrlOnCondition",{get:function(){return this.getPropertyValue("navigateToUrlOnCondition")},set:function(c){this.setPropertyValue("navigateToUrlOnCondition",c)},enumerable:!1,configurable:!0}),C.prototype.getNavigateToUrl=function(){var c=this.getExpressionItemOnRunCondition(this.navigateToUrlOnCondition),T=c?c.url:this.navigateToUrl;return T&&(T=this.processText(T,!1)),T},C.prototype.navigateTo=function(){var T={url:this.getNavigateToUrl(),allow:!0};this.onNavigateToUrl.fire(this,T),T.url&&T.allow&&Object(l.navigateToUrl)(T.url)},Object.defineProperty(C.prototype,"requiredText",{get:function(){return this.getPropertyValue("requiredText","*")},set:function(c){this.setPropertyValue("requiredText",c)},enumerable:!1,configurable:!0}),C.prototype.beforeSettingQuestionErrors=function(c,T){this.maakeRequiredErrorsInvisibgle(T),this.onSettingQuestionErrors.fire(this,{question:c,errors:T})},C.prototype.beforeSettingPanelErrors=function(c,T){this.maakeRequiredErrorsInvisibgle(T)},C.prototype.maakeRequiredErrorsInvisibgle=function(c){if(this.hideRequiredErrors)for(var T=0;T<c.length;T++){var I=c[T].getErrorType();("required"==I||"requireoneanswer"==I)&&(c[T].visible=!1)}},Object.defineProperty(C.prototype,"questionStartIndex",{get:function(){return this.getPropertyValue("questionStartIndex","")},set:function(c){this.setPropertyValue("questionStartIndex",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"storeOthersAsComment",{get:function(){return this.getPropertyValue("storeOthersAsComment")},set:function(c){this.setPropertyValue("storeOthersAsComment",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"maxTextLength",{get:function(){return this.getPropertyValue("maxTextLength")},set:function(c){this.setPropertyValue("maxTextLength",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"maxOthersLength",{get:function(){return this.getPropertyValue("maxOthersLength")},set:function(c){this.setPropertyValue("maxOthersLength",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"goNextPageAutomatic",{get:function(){return this.getPropertyValue("goNextPageAutomatic")},set:function(c){this.setPropertyValue("goNextPageAutomatic",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"allowCompleteSurveyAutomatic",{get:function(){return this.getPropertyValue("allowCompleteSurveyAutomatic",!0)},set:function(c){this.setPropertyValue("allowCompleteSurveyAutomatic",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"checkErrorsMode",{get:function(){return this.getPropertyValue("checkErrorsMode")},set:function(c){this.setPropertyValue("checkErrorsMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"autoGrowComment",{get:function(){return this.getPropertyValue("autoGrowComment")},set:function(c){this.setPropertyValue("autoGrowComment",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"allowResizeComment",{get:function(){return this.getPropertyValue("allowResizeComment")},set:function(c){this.setPropertyValue("allowResizeComment",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"textUpdateMode",{get:function(){return this.getPropertyValue("textUpdateMode")},set:function(c){this.setPropertyValue("textUpdateMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"clearInvisibleValues",{get:function(){return this.getPropertyValue("clearInvisibleValues")},set:function(c){!0===c&&(c="onComplete"),!1===c&&(c="none"),this.setPropertyValue("clearInvisibleValues",c)},enumerable:!1,configurable:!0}),C.prototype.clearIncorrectValues=function(c){void 0===c&&(c=!1);for(var T=0;T<this.pages.length;T++)this.pages[T].clearIncorrectValues();if(c){var I=this.data,H=!1;for(var J in I)if(!this.getQuestionByValueName(J)&&!this.iscorrectValueWithPostPrefix(J,u.settings.commentSuffix)&&!this.iscorrectValueWithPostPrefix(J,u.settings.matrix.totalsSuffix)){var se=this.getCalculatedValueByName(J);se&&se.includeIntoResult||(H=!0,delete I[J])}H&&(this.data=I)}},C.prototype.iscorrectValueWithPostPrefix=function(c,T){return c.indexOf(T)===c.length-T.length&&!!this.getQuestionByValueName(c.substring(0,c.indexOf(T)))},Object.defineProperty(C.prototype,"keepIncorrectValues",{get:function(){return this.getPropertyValue("keepIncorrectValues")},set:function(c){this.setPropertyValue("keepIncorrectValues",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locale",{get:function(){return this.getPropertyValue("locale",D.surveyLocalization.currentLocale)},set:function(c){c===D.surveyLocalization.defaultLocale&&!D.surveyLocalization.currentLocale&&(c=""),this.setPropertyValue("locale",c)},enumerable:!1,configurable:!0}),C.prototype.onSurveyLocaleChanged=function(){this.notifyElementsOnAnyValueOrVariableChanged("locale"),this.localeChanged(),this.onLocaleChangedEvent.fire(this,this.locale)},C.prototype.getUsedLocales=function(){var c=new Array;this.addUsedLocales(c);var T=c.indexOf("default");if(T>-1){var I=D.surveyLocalization.defaultLocale,H=c.indexOf(I);H>-1&&c.splice(H,1),T=c.indexOf("default"),c[T]=I}return c},C.prototype.localeChanged=function(){for(var c=0;c<this.pages.length;c++)this.pages[c].localeChanged()},C.prototype.getLocale=function(){return this.locale},C.prototype.locStrsChanged=function(){if(b.prototype.locStrsChanged.call(this),this.currentPage){if(this.isDesignMode)this.pages.forEach(function(H){return H.locStrsChanged()});else{var c=this.activePage;c&&c.locStrsChanged();for(var T=this.visiblePages,I=0;I<T.length;I++)T[I].navigationLocStrChanged()}this.isShowStartingPage||this.updateProgressText(),this.navigationBar.locStrsChanged()}},C.prototype.getMarkdownHtml=function(c,T){return this.getSurveyMarkdownHtml(this,c,T)},C.prototype.getRenderer=function(c){return this.getRendererForString(this,c)},C.prototype.getRendererContext=function(c){return this.getRendererContextForString(this,c)},C.prototype.getRendererForString=function(c,T){var H={element:c,name:T,renderAs:this.getBuiltInRendererForString(c,T)};return this.onTextRenderAs.fire(this,H),H.renderAs},C.prototype.getRendererContextForString=function(c,T){return T},C.prototype.getExpressionDisplayValue=function(c,T,I){var H={question:c,value:T,displayValue:I};return this.onGetExpressionDisplayValue.fire(this,H),H.displayValue},C.prototype.getBuiltInRendererForString=function(c,T){if(this.isDesignMode)return y.LocalizableString.editableRenderer},C.prototype.getProcessedText=function(c){return this.processText(c,!0)},C.prototype.getLocString=function(c){return this.getLocalizationString(c)},C.prototype.getErrorCustomText=function(c,T){return this.getSurveyErrorCustomText(this,c,T)},C.prototype.getSurveyErrorCustomText=function(c,T,I){var H={text:T,name:I.getErrorType(),obj:c,error:I};return this.onErrorCustomText.fire(this,H),H.text},C.prototype.getQuestionDisplayValue=function(c,T){var I={question:c,displayValue:T};return this.onGetQuestionDisplayValue.fire(this,I),I.displayValue},Object.defineProperty(C.prototype,"emptySurveyText",{get:function(){return this.getLocalizationString("emptySurvey")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logo",{get:function(){return this.getLocalizableStringText("logo")},set:function(c){this.setLocalizableStringText("logo",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locLogo",{get:function(){return this.getLocalizableString("logo")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logoWidth",{get:function(){return this.getPropertyValue("logoWidth")},set:function(c){this.setPropertyValue("logoWidth",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedLogoWidth",{get:function(){return this.logoWidth?Object(l.getRenderedSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedStyleLogoWidth",{get:function(){return this.logoWidth?Object(l.getRenderedStyleSize)(this.logoWidth):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logoHeight",{get:function(){return this.getPropertyValue("logoHeight")},set:function(c){this.setPropertyValue("logoHeight",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedLogoHeight",{get:function(){return this.logoHeight?Object(l.getRenderedSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedStyleLogoHeight",{get:function(){return this.logoHeight?Object(l.getRenderedStyleSize)(this.logoHeight):void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logoPosition",{get:function(){return this.getPropertyValue("logoPosition")},set:function(c){this.setPropertyValue("logoPosition",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasLogo",{get:function(){return this.getPropertyValue("hasLogo",!1)},enumerable:!1,configurable:!0}),C.prototype.updateHasLogo=function(){this.setPropertyValue("hasLogo",!!this.logo&&"none"!==this.logoPosition)},Object.defineProperty(C.prototype,"isLogoBefore",{get:function(){return!this.isDesignMode&&this.renderedHasLogo&&("left"===this.logoPosition||"top"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isLogoAfter",{get:function(){return this.isDesignMode?this.renderedHasLogo:this.renderedHasLogo&&("right"===this.logoPosition||"bottom"===this.logoPosition)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logoClassNames",{get:function(){return(new o.CssClassBuilder).append(this.css.logo).append({left:"sv-logo--left",right:"sv-logo--right",top:"sv-logo--top",bottom:"sv-logo--bottom"}[this.logoPosition]).toString()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedHasTitle",{get:function(){return this.isDesignMode?this.isPropertyVisible("title"):!this.locTitle.isEmpty&&this.showTitle},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedHasDescription",{get:function(){return this.isDesignMode?this.isPropertyVisible("description"):!!this.hasDescription},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasTitle",{get:function(){return this.renderedHasTitle},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedHasLogo",{get:function(){return this.isDesignMode?this.isPropertyVisible("logo"):this.hasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedHasHeader",{get:function(){return this.renderedHasTitle||this.renderedHasLogo},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"logoFit",{get:function(){return this.getPropertyValue("logoFit")},set:function(c){this.setPropertyValue("logoFit",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"themeVariables",{get:function(){return Object.assign({},this.cssVariables)},enumerable:!1,configurable:!0}),C.prototype.setIsMobile=function(c){void 0===c&&(c=!0),this.isMobile!==c&&(this._isMobile=c,this.updateCss(),this.getAllQuestions().map(function(T){return T.isMobile=c}))},Object.defineProperty(C.prototype,"isMobile",{get:function(){return this._isMobile},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isCompact",{get:function(){return this._isCompact},set:function(c){c!==this._isCompact&&(this._isCompact=c,this.updateElementCss())},enumerable:!1,configurable:!0}),C.prototype.isLogoImageChoosen=function(){return this.locLogo.renderedHtml},Object.defineProperty(C.prototype,"titleMaxWidth",{get:function(){return Object(l.isMobile)()||this.isMobile||this.isValueEmpty(this.isLogoImageChoosen())||u.settings.supportCreatorV2||"left"!==this.logoPosition&&"right"!==this.logoPosition?"":"calc(100% - 5px - 2em - "+this.logoWidth+")"},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"backgroundImage",{get:function(){return this.getLocalizableStringText("backgroundImage")},set:function(c){this.setLocalizableStringText("backgroundImage",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locBackgroundImage",{get:function(){return this.getLocalizableString("backgroundImage")},enumerable:!1,configurable:!0}),C.prototype.updateRenderBackgroundImage=function(){var c=this.getLocalizableString("backgroundImage").renderedHtml;this.renderBackgroundImage=c?["url(",c,")"].join(""):""},Object.defineProperty(C.prototype,"backgroundOpacity",{get:function(){return this.getPropertyValue("backgroundOpacity")},set:function(c){this.setPropertyValue("backgroundOpacity",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"backgroundImageStyle",{get:function(){return{opacity:this.backgroundOpacity,backgroundImage:this.renderBackgroundImage,backgroundSize:this.backgroundImageFit,backgroundAttachment:this.backgroundImageAttachment}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completedHtml",{get:function(){return this.getLocalizableStringText("completedHtml")},set:function(c){this.setLocalizableStringText("completedHtml",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locCompletedHtml",{get:function(){return this.getLocalizableString("completedHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completedHtmlOnCondition",{get:function(){return this.getPropertyValue("completedHtmlOnCondition")},set:function(c){this.setPropertyValue("completedHtmlOnCondition",c)},enumerable:!1,configurable:!0}),C.prototype.runExpression=function(c){if(!c)return null;var T=this.getFilteredValues(),I=this.getFilteredProperties();return new g.ExpressionRunner(c).run(T,I)},C.prototype.runCondition=function(c){if(!c)return!1;var T=this.getFilteredValues(),I=this.getFilteredProperties();return new g.ConditionRunner(c).run(T,I)},C.prototype.runTriggers=function(){this.checkTriggers(this.getFilteredValues(),!1)},Object.defineProperty(C.prototype,"renderedCompletedHtml",{get:function(){var c=this.getExpressionItemOnRunCondition(this.completedHtmlOnCondition);return c?c.html:this.completedHtml},enumerable:!1,configurable:!0}),C.prototype.getExpressionItemOnRunCondition=function(c){if(0==c.length)return null;for(var T=this.getFilteredValues(),I=this.getFilteredProperties(),H=0;H<c.length;H++)if(c[H].runCondition(T,I))return c[H];return null},Object.defineProperty(C.prototype,"completedBeforeHtml",{get:function(){return this.getLocalizableStringText("completedBeforeHtml")},set:function(c){this.setLocalizableStringText("completedBeforeHtml",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locCompletedBeforeHtml",{get:function(){return this.getLocalizableString("completedBeforeHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"loadingHtml",{get:function(){return this.getLocalizableStringText("loadingHtml")},set:function(c){this.setLocalizableStringText("loadingHtml",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locLoadingHtml",{get:function(){return this.getLocalizableString("loadingHtml")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"defaultLoadingHtml",{get:function(){return"<h3>"+this.getLocalizationString("loadingSurvey")+"</h3>"},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"navigationBar",{get:function(){return this.navigationBarValue},enumerable:!1,configurable:!0}),C.prototype.addNavigationItem=function(c){return c.component||(c.component="sv-nav-btn"),c.innerCss||(c.innerCss=this.cssSurveyNavigationButton),this.navigationBar.addAction(c)},Object.defineProperty(C.prototype,"startSurveyText",{get:function(){return this.getLocalizableStringText("startSurveyText")},set:function(c){this.setLocalizableStringText("startSurveyText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locStartSurveyText",{get:function(){return this.getLocalizableString("startSurveyText")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pagePrevText",{get:function(){return this.getLocalizableStringText("pagePrevText")},set:function(c){this.setLocalizableStringText("pagePrevText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locPagePrevText",{get:function(){return this.getLocalizableString("pagePrevText")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pageNextText",{get:function(){return this.getLocalizableStringText("pageNextText")},set:function(c){this.setLocalizableStringText("pageNextText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locPageNextText",{get:function(){return this.getLocalizableString("pageNextText")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completeText",{get:function(){return this.getLocalizableStringText("completeText")},set:function(c){this.setLocalizableStringText("completeText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locCompleteText",{get:function(){return this.getLocalizableString("completeText")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"previewText",{get:function(){return this.getLocalizableStringText("previewText")},set:function(c){this.setLocalizableStringText("previewText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locPreviewText",{get:function(){return this.getLocalizableString("previewText")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"editText",{get:function(){return this.getLocalizableStringText("editText")},set:function(c){this.setLocalizableStringText("editText",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"locEditText",{get:function(){return this.getLocalizableString("editText")},enumerable:!1,configurable:!0}),C.prototype.getElementTitleTagName=function(c,T){if(this.onGetTitleTagName.isEmpty)return T;var I={element:c,tagName:T};return this.onGetTitleTagName.fire(this,I),I.tagName},Object.defineProperty(C.prototype,"questionTitlePattern",{get:function(){return this.getPropertyValue("questionTitlePattern","numTitleRequire")},set:function(c){"numRequireTitle"!==c&&"requireNumTitle"!==c&&"numTitle"!=c&&(c="numTitleRequire"),this.setPropertyValue("questionTitlePattern",c)},enumerable:!1,configurable:!0}),C.prototype.getQuestionTitlePatternOptions=function(){var c=new Array,T=this.getLocalizationString("questionTitlePatternText"),I=this.questionStartIndex?this.questionStartIndex:"1.";return c.push({value:"numTitleRequire",text:I+" "+T+" "+this.requiredText}),c.push({value:"numRequireTitle",text:I+" "+this.requiredText+" "+T}),c.push({value:"requireNumTitle",text:this.requiredText+" "+I+" "+T}),c.push({value:"numTitle",text:I+" "+T}),c},Object.defineProperty(C.prototype,"questionTitleTemplate",{get:function(){return this.getLocalizableStringText("questionTitleTemplate")},set:function(c){this.setLocalizableStringText("questionTitleTemplate",c),this.questionTitlePattern=this.getNewTitlePattern(c),this.questionStartIndex=this.getNewQuestionTitleElement(c,"no",this.questionStartIndex,"1"),this.requiredText=this.getNewQuestionTitleElement(c,"require",this.requiredText,"*")},enumerable:!1,configurable:!0}),C.prototype.getNewTitlePattern=function(c){if(c){for(var T=[];c.indexOf("{")>-1;){var I=(c=c.substring(c.indexOf("{")+1)).indexOf("}");if(I<0)break;T.push(c.substring(0,I)),c=c.substring(I+1)}if(T.length>1){if("require"==T[0])return"requireNumTitle";if("require"==T[1]&&3==T.length)return"numRequireTitle";if(T.indexOf("require")<0)return"numTitle"}if(1==T.length&&"title"==T[0])return"numTitle"}return"numTitleRequire"},C.prototype.getNewQuestionTitleElement=function(c,T,I,H){if(T="{"+T+"}",!c||c.indexOf(T)<0)return I;for(var J=c.indexOf(T),se="",he="",ie=J-1;ie>=0&&"}"!=c[ie];ie--);for(ie<J-1&&(se=c.substring(ie+1,J)),ie=J+=T.length;ie<c.length&&"{"!=c[ie];ie++);for(ie>J&&(he=c.substring(J,ie)),ie=0;ie<se.length&&se.charCodeAt(ie)<33;)ie++;for(se=se.substring(ie),ie=he.length-1;ie>=0&&he.charCodeAt(ie)<33;)ie--;return he=he.substring(0,ie+1),se||he?se+(I||H)+he:I},Object.defineProperty(C.prototype,"locQuestionTitleTemplate",{get:function(){return this.getLocalizableString("questionTitleTemplate")},enumerable:!1,configurable:!0}),C.prototype.getUpdatedQuestionTitle=function(c,T){if(this.onGetQuestionTitle.isEmpty)return T;var I={question:c,title:T};return this.onGetQuestionTitle.fire(this,I),I.title},C.prototype.getUpdatedQuestionNo=function(c,T){if(this.onGetQuestionNo.isEmpty)return T;var I={question:c,no:T};return this.onGetQuestionNo.fire(this,I),I.no},Object.defineProperty(C.prototype,"showPageNumbers",{get:function(){return this.getPropertyValue("showPageNumbers")},set:function(c){c!==this.showPageNumbers&&(this.setPropertyValue("showPageNumbers",c),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showQuestionNumbers",{get:function(){return this.getPropertyValue("showQuestionNumbers")},set:function(c){!0===c&&(c="on"),!1===c&&(c="off"),(c="onpage"===(c=c.toLowerCase())?"onPage":c)!==this.showQuestionNumbers&&(this.setPropertyValue("showQuestionNumbers",c),this.updateVisibleIndexes())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showProgressBar",{get:function(){return this.getPropertyValue("showProgressBar")},set:function(c){this.setPropertyValue("showProgressBar",c.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"progressBarType",{get:function(){return this.getPropertyValue("progressBarType")},set:function(c){"correctquestion"===c&&(c="correctQuestion"),"requiredquestion"===c&&(c="requiredQuestion"),this.setPropertyValue("progressBarType",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowProgressBarOnTop",{get:function(){return!!this.canShowProresBar()&&("top"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowProgressBarOnBottom",{get:function(){return!!this.canShowProresBar()&&("bottom"===this.showProgressBar||"both"===this.showProgressBar)},enumerable:!1,configurable:!0}),C.prototype.getProgressTypeComponent=function(){return"sv-progress-"+this.progressBarType.toLowerCase()},C.prototype.getProgressCssClasses=function(){return(new o.CssClassBuilder).append(this.css.progress).append(this.css.progressTop,this.isShowProgressBarOnTop).append(this.css.progressBottom,this.isShowProgressBarOnBottom).toString()},C.prototype.canShowProresBar=function(){return!this.isShowingPreview||"showAllQuestions"!=this.showPreviewBeforeComplete},Object.defineProperty(C.prototype,"processedTitle",{get:function(){return this.locTitle.renderedHtml},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"questionTitleLocation",{get:function(){return this.getPropertyValue("questionTitleLocation")},set:function(c){this.setPropertyValue("questionTitleLocation",c.toLowerCase()),this.isLoadingFromJson||this.updateElementCss(!0)},enumerable:!1,configurable:!0}),C.prototype.updateElementCss=function(c){this.startedPage&&this.startedPage.updateElementCss(c);for(var T=this.visiblePages,I=0;I<T.length;I++)T[I].updateElementCss(c)},Object.defineProperty(C.prototype,"questionErrorLocation",{get:function(){return this.getPropertyValue("questionErrorLocation")},set:function(c){this.setPropertyValue("questionErrorLocation",c.toLowerCase())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"questionDescriptionLocation",{get:function(){return this.getPropertyValue("questionDescriptionLocation")},set:function(c){this.setPropertyValue("questionDescriptionLocation",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"mode",{get:function(){return this.getPropertyValue("mode")},set:function(c){(c=c.toLowerCase())!=this.mode&&("edit"!=c&&"display"!=c||this.setPropertyValue("mode",c))},enumerable:!1,configurable:!0}),C.prototype.onModeChanged=function(){for(var c=0;c<this.pages.length;c++){var T=this.pages[c];T.setPropertyValue("isReadOnly",T.isReadOnly)}this.updateButtonsVisibility(),this.updateCss()},Object.defineProperty(C.prototype,"data",{get:function(){for(var c={},T=this.getValuesKeys(),I=0;I<T.length;I++){var H=T[I],J=this.getDataValueCore(this.valuesHash,H);void 0!==J&&(c[H]=J)}return this.setCalculatedValuesIntoResult(c),c},set:function(c){this.valuesHash={},this.setDataCore(c)},enumerable:!1,configurable:!0}),C.prototype.mergeData=function(c){if(c){var T=this.data;this.mergeValues(c,T),this.setDataCore(T)}},C.prototype.setDataCore=function(c){if(c)for(var T in c)this.setDataValueCore(this.valuesHash,T,c[T]);this.updateAllQuestionsValue(),this.notifyAllQuestionsOnValueChanged(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.runConditions(),this.updateAllQuestionsValue()},C.prototype.getStructuredData=function(c,T){if(void 0===c&&(c=!0),void 0===T&&(T=-1),0===T)return this.data;var I={};return this.pages.forEach(function(H){if(c){var J={};H.collectValues(J,T-1)&&(I[H.name]=J)}else H.collectValues(I,T)}),I},C.prototype.setStructuredData=function(c,T){if(void 0===T&&(T=!1),c){var I={};for(var H in c)if(this.getQuestionByValueName(H))I[H]=c[H];else{var se=this.getPageByName(H);se||(se=this.getPanelByName(H)),se&&this.collectDataFromPanel(se,I,c[H])}T?this.mergeData(I):this.data=I}},C.prototype.collectDataFromPanel=function(c,T,I){for(var H in I){var J=c.getElementByName(H);!J||(J.isPanel?this.collectDataFromPanel(J,T,I[H]):T[H]=I[H])}},Object.defineProperty(C.prototype,"editingObj",{get:function(){return this.editingObjValue},set:function(c){var T=this;if(this.editingObj!=c&&(this.editingObj&&this.editingObj.onPropertyChanged.remove(this.onEditingObjPropertyChanged),this.editingObjValue=c,!this.isDisposed)){if(!c)for(var I=this.getAllQuestions(),H=0;H<I.length;H++)I[H].unbindValue();this.editingObj&&(this.setDataCore({}),this.onEditingObjPropertyChanged=function(J,se){!K.Serializer.hasOriginalProperty(T.editingObj,se.name)||T.updateOnSetValue(se.name,T.editingObj[se.name],se.oldValue)},this.editingObj.onPropertyChanged.add(this.onEditingObjPropertyChanged))}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isEditingSurveyElement",{get:function(){return!!this.editingObj},enumerable:!1,configurable:!0}),C.prototype.setCalculatedValuesIntoResult=function(c){for(var T=0;T<this.calculatedValues.length;T++){var I=this.calculatedValues[T];I.includeIntoResult&&I.name&&void 0!==this.getVariable(I.name)&&(c[I.name]=this.getVariable(I.name))}},C.prototype.getAllValues=function(){return this.data},C.prototype.getPlainData=function(c){c||(c={includeEmpty:!0,includeQuestionTypes:!1,includeValues:!1});var T=[],I=[];if(this.getAllQuestions().forEach(function(ie){var ye=ie.getPlainData(c);ye&&(T.push(ye),I.push(ie.valueName||ie.name))}),c.includeValues)for(var H=this.getValuesKeys(),J=0;J<H.length;J++){var se=H[J];if(-1==I.indexOf(se)){var he=this.getDataValueCore(this.valuesHash,se);he&&T.push({name:se,title:se,value:he,displayValue:he,isNode:!1,getString:function(ie){return"object"==typeof ie?JSON.stringify(ie):ie}})}}return T},C.prototype.getFilteredValues=function(){var c={};for(var T in this.variablesHash)c[T]=this.variablesHash[T];this.addCalculatedValuesIntoFilteredValues(c);for(var I=this.getValuesKeys(),H=0;H<I.length;H++)c[T=I[H]]=this.getDataValueCore(this.valuesHash,T);return c},C.prototype.addCalculatedValuesIntoFilteredValues=function(c){for(var T=this.calculatedValues,I=0;I<T.length;I++)c[T[I].name]=T[I].value},C.prototype.getFilteredProperties=function(){return{survey:this}},C.prototype.getValuesKeys=function(){if(!this.editingObj)return Object.keys(this.valuesHash);for(var c=K.Serializer.getPropertiesByObj(this.editingObj),T=[],I=0;I<c.length;I++)T.push(c[I].name);return T},C.prototype.getDataValueCore=function(c,T){return this.editingObj?K.Serializer.getObjPropertyValue(this.editingObj,T):this.getDataFromValueHash(c,T)},C.prototype.setDataValueCore=function(c,T,I){this.editingObj?K.Serializer.setObjPropertyValue(this.editingObj,T,I):this.setDataToValueHash(c,T,I)},C.prototype.deleteDataValueCore=function(c,T){this.editingObj?this.editingObj[T]=null:this.deleteDataFromValueHash(c,T)},C.prototype.getDataFromValueHash=function(c,T){return this.valueHashGetDataCallback?this.valueHashGetDataCallback(c,T):c[T]},C.prototype.setDataToValueHash=function(c,T,I){this.valueHashSetDataCallback?this.valueHashSetDataCallback(c,T,I):c[T]=I},C.prototype.deleteDataFromValueHash=function(c,T){this.valueHashDeleteDataCallback?this.valueHashDeleteDataCallback(c,T):delete c[T]},Object.defineProperty(C.prototype,"comments",{get:function(){for(var c={},T=this.getValuesKeys(),I=0;I<T.length;I++){var H=T[I];H.indexOf(this.commentSuffix)>0&&(c[H]=this.getDataValueCore(this.valuesHash,H))}return c},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"visiblePages",{get:function(){if(this.isDesignMode)return this.pages;for(var c=new Array,T=0;T<this.pages.length;T++)this.isPageInVisibleList(this.pages[T])&&c.push(this.pages[T]);return c},enumerable:!1,configurable:!0}),C.prototype.isPageInVisibleList=function(c){return this.isDesignMode||c.isVisible&&!c.isStartPage},Object.defineProperty(C.prototype,"isEmpty",{get:function(){return 0==this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"PageCount",{get:function(){return this.pageCount},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"pageCount",{get:function(){return this.pages.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"visiblePageCount",{get:function(){return this.visiblePages.length},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"startedPage",{get:function(){var c=this.firstPageIsStarted&&this.pages.length>1?this.pages[0]:null;return c&&(c.onFirstRendering(),c.setWasShown(!0)),c},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"currentPage",{get:function(){return this.getPropertyValue("currentPage",null)},set:function(c){if(!this.isLoadingFromJson){var T=this.getPageByObject(c);if((!c||T)&&(T||!this.isCurrentPageAvailable)&&!(null!=T&&this.visiblePages.indexOf(T)<0)&&T!=this.currentPage){var H=this.currentPage;!this.isShowingPreview&&!this.currentPageChanging(T,H)||(this.setPropertyValue("currentPage",T),T&&(T.onFirstRendering(),T.updateCustomWidgets(),T.setWasShown(!0)),this.locStrsChanged(),this.isShowingPreview||this.currentPageChanged(T,H))}}},enumerable:!1,configurable:!0}),C.prototype.updateCurrentPage=function(){this.isCurrentPageAvailable||(this.currentPage=this.firstVisiblePage)},Object.defineProperty(C.prototype,"isCurrentPageAvailable",{get:function(){var c=this.currentPage;return!!c&&this.isPageInVisibleList(c)&&this.isPageExistsInSurvey(c)},enumerable:!1,configurable:!0}),C.prototype.isPageExistsInSurvey=function(c){return this.pages.indexOf(c)>-1||!!this.onContainsPageCallback&&this.onContainsPageCallback(c)},Object.defineProperty(C.prototype,"activePage",{get:function(){return this.getPropertyValue("activePage")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowStartingPage",{get:function(){return"starting"===this.state},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"matrixDragHandleArea",{get:function(){return this.getPropertyValue("matrixDragHandleArea","entireItem")},set:function(c){this.setPropertyValue("matrixDragHandleArea",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowingPage",{get:function(){return"running"==this.state||"preview"==this.state||this.isShowStartingPage},enumerable:!1,configurable:!0}),C.prototype.updateActivePage=function(){this.setPropertyValue("activePage",this.isShowStartingPage?this.startedPage:this.currentPage)},C.prototype.onStateAndCurrentPageChanged=function(){this.updateActivePage(),this.updateButtonsVisibility()},C.prototype.getPageByObject=function(c){if(!c)return null;if(c.getType&&"page"==c.getType())return c;if("string"==typeof c||c instanceof String)return this.getPageByName(String(c));if(!isNaN(c)){var T=Number(c),I=this.visiblePages;return c<0||c>=I.length?null:I[T]}return c},Object.defineProperty(C.prototype,"currentPageNo",{get:function(){return this.visiblePages.indexOf(this.currentPage)},set:function(c){var T=this.visiblePages;c<0||c>=T.length||(this.currentPage=T[c])},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"questionsOrder",{get:function(){return this.getPropertyValue("questionsOrder")},set:function(c){this.setPropertyValue("questionsOrder",c)},enumerable:!1,configurable:!0}),C.prototype.focusFirstQuestion=function(){if(!this.focusingQuestionInfo){var c=this.activePage;c&&(c.scrollToTop(),c.focusFirstQuestion())}},C.prototype.scrollToTopOnPageChange=function(c){void 0===c&&(c=!0);var T=this.activePage;!T||(c&&T.scrollToTop(),this.isCurrentPageRendering&&this.focusFirstQuestionAutomatic&&!this.focusingQuestionInfo&&(T.focusFirstQuestion(),this.isCurrentPageRendering=!1))},Object.defineProperty(C.prototype,"state",{get:function(){return this.getPropertyValue("state","empty")},enumerable:!1,configurable:!0}),C.prototype.updateState=function(){this.setPropertyValue("state",this.calcState())},C.prototype.calcState=function(){return this.isLoading?"loading":this.isCompleted?"completed":this.isCompletedBefore?"completedbefore":!this.isDesignMode&&this.isEditMode&&this.isStartedState&&this.startedPage?"starting":this.isShowingPreview?this.currentPage?"preview":"empty":this.currentPage?"running":"empty"},Object.defineProperty(C.prototype,"isCompleted",{get:function(){return this.getPropertyValue("isCompleted",!1)},set:function(c){this.setPropertyValue("isCompleted",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowingPreview",{get:function(){return this.getPropertyValue("isShowingPreview",!1)},set:function(c){this.isShowingPreview!=c&&(this.setPropertyValue("isShowingPreview",c),this.onShowingPreviewChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isStartedState",{get:function(){return this.getPropertyValue("isStartedState",!1)},set:function(c){this.setPropertyValue("isStartedState",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isCompletedBefore",{get:function(){return this.getPropertyValue("isCompletedBefore",!1)},set:function(c){this.setPropertyValue("isCompletedBefore",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isLoading",{get:function(){return this.getPropertyValue("isLoading",!1)},set:function(c){this.setPropertyValue("isLoading",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completedState",{get:function(){return this.getPropertyValue("completedState","")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completedStateText",{get:function(){return this.getPropertyValue("completedStateText","")},enumerable:!1,configurable:!0}),C.prototype.setCompletedState=function(c,T){this.setPropertyValue("completedState",c),T||("saving"==c&&(T=this.getLocalizationString("savingData")),"error"==c&&(T=this.getLocalizationString("savingDataError")),"success"==c&&(T=this.getLocalizationString("savingDataSuccess"))),this.setPropertyValue("completedStateText",T),"completed"===this.state&&this.showCompletedPage&&this.completedState&&this.notify(this.completedStateText,this.completedState)},C.prototype.notify=function(c,T){this.notifier.notify(c,T,"error"===T)},C.prototype.clear=function(c,T){void 0===c&&(c=!0),void 0===T&&(T=!0),this.isCompleted=!1,this.isCompletedBefore=!1,this.isLoading=!1,this.completedByTriggers=void 0,c&&(this.data=null,this.variablesHash={}),this.timerModel.spent=0;for(var I=0;I<this.pages.length;I++)this.pages[I].timeSpent=0,this.pages[I].setWasShown(!1),this.pages[I].passed=!1;this.onFirstPageIsStartedChanged(),T&&(this.currentPage=this.firstVisiblePage),c&&this.updateValuesWithDefaults()},C.prototype.mergeValues=function(c,T){Object(l.mergeValues)(c,T)},C.prototype.updateValuesWithDefaults=function(){if(!this.isDesignMode&&!this.isLoading)for(var c=0;c<this.pages.length;c++)for(var T=this.pages[c].questions,I=0;I<T.length;I++)T[I].updateValueWithDefaults()},C.prototype.updateCustomWidgets=function(c){!c||c.updateCustomWidgets()},C.prototype.currentPageChanging=function(c,T){var I=this.createPageChangeEventOptions(c,T);I.allow=!0,I.allowChanging=!0,this.onCurrentPageChanging.fire(this,I);var H=I.allowChanging&&I.allow;return H&&(this.isCurrentPageRendering=!0),H},C.prototype.currentPageChanged=function(c,T){var I=this.createPageChangeEventOptions(c,T);I.isNextPage&&(T.passed=!0),this.onCurrentPageChanged.fire(this,I)},C.prototype.createPageChangeEventOptions=function(c,T){var I=c&&T?c.visibleIndex-T.visibleIndex:0;return{oldCurrentPage:T,newCurrentPage:c,isNextPage:1===I,isPrevPage:-1===I,isGoingForward:I>0,isGoingBackward:I<0,isAfterPreview:!0===this.changeCurrentPageFromPreview}},C.prototype.getProgress=function(){if(null==this.currentPage)return 0;if("pages"!==this.progressBarType){var c=this.getProgressInfo();return"requiredQuestions"===this.progressBarType?c.requiredQuestionCount>=1?Math.ceil(100*c.requiredAnsweredQuestionCount/c.requiredQuestionCount):100:c.questionCount>=1?Math.ceil(100*c.answeredQuestionCount/c.questionCount):100}var T=this.visiblePages,I=T.indexOf(this.currentPage);return Math.ceil(100*I/T.length)},Object.defineProperty(C.prototype,"progressValue",{get:function(){return this.getPropertyValue("progressValue",0)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isNavigationButtonsShowing",{get:function(){if(this.isDesignMode)return"none";var c=this.currentPage;return c?"show"===c.navigationButtonsVisibility?"none"===this.showNavigationButtons?"bottom":this.showNavigationButtons:"hide"===c.navigationButtonsVisibility?"none":this.showNavigationButtons:"none"},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isNavigationButtonsShowingOnTop",{get:function(){return this.getIsNavigationButtonsShowingOn("top")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isNavigationButtonsShowingOnBottom",{get:function(){return this.getIsNavigationButtonsShowingOn("bottom")},enumerable:!1,configurable:!0}),C.prototype.getIsNavigationButtonsShowingOn=function(c){var T=this.isNavigationButtonsShowing;return"both"==T||T==c},Object.defineProperty(C.prototype,"isEditMode",{get:function(){return"edit"==this.mode},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDisplayMode",{get:function(){return"display"==this.mode||"preview"==this.state},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isUpdateValueTextOnTyping",{get:function(){return"onTyping"==this.textUpdateMode},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isDesignMode",{get:function(){return this._isDesignMode},enumerable:!1,configurable:!0}),C.prototype.setDesignMode=function(c){!!this._isDesignMode!=!!c&&(this._isDesignMode=!!c,this.onQuestionsOnPageModeChanged("standard"))},Object.defineProperty(C.prototype,"showInvisibleElements",{get:function(){return this.getPropertyValue("showInvisibleElements",!1)},set:function(c){var T=this.visiblePages;this.setPropertyValue("showInvisibleElements",c),!this.isLoadingFromJson&&(this.runConditions(),this.updateAllElementsVisibility(T))},enumerable:!1,configurable:!0}),C.prototype.updateAllElementsVisibility=function(c){for(var T=0;T<this.pages.length;T++){var I=this.pages[T];I.updateElementVisibility(),c.indexOf(I)>-1!=I.isVisible&&this.onPageVisibleChanged.fire(this,{page:I,visible:I.isVisible})}},Object.defineProperty(C.prototype,"areInvisibleElementsShowing",{get:function(){return this.isDesignMode||this.showInvisibleElements},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"areEmptyElementsHidden",{get:function(){return this.isShowingPreview&&"showAnsweredQuestions"==this.showPreviewBeforeComplete&&this.isAnyQuestionAnswered},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isAnyQuestionAnswered",{get:function(){for(var c=this.getAllQuestions(!0),T=0;T<c.length;T++)if(!c[T].isEmpty())return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"hasCookie",{get:function(){if(!this.cookieName||"undefined"==typeof document)return!1;var c=document.cookie;return c&&c.indexOf(this.cookieName+"=true")>-1},enumerable:!1,configurable:!0}),C.prototype.setCookie=function(){!this.cookieName||"undefined"==typeof document||(document.cookie=this.cookieName+"=true; expires=Fri, 31 Dec 9999 0:0:0 GMT")},C.prototype.deleteCookie=function(){!this.cookieName||(document.cookie=this.cookieName+"=;")},C.prototype.nextPage=function(){return!this.isLastPage&&this.doCurrentPageComplete(!1)},C.prototype.hasErrorsOnNavigate=function(c){var T=this;if(this.ignoreValidation||!this.isEditMode)return!1;var I=function(H){H||T.doCurrentPageCompleteCore(c)};return"onComplete"===this.checkErrorsMode?!!this.isLastPage&&!0!==this.validate(!0,!0,I):!0!==this.validateCurrentPage(I)},C.prototype.checkForAsyncQuestionValidation=function(c,T){var I=this;this.clearAsyncValidationQuesitons();for(var H=function(){if(c[se].isRunningValidators){var he=c[se];he.onCompletedAsyncValidators=function(ie){I.onCompletedAsyncQuestionValidators(he,T,ie)},J.asyncValidationQuesitons.push(c[se])}},J=this,se=0;se<c.length;se++)H();return this.asyncValidationQuesitons.length>0},C.prototype.clearAsyncValidationQuesitons=function(){if(this.asyncValidationQuesitons)for(var c=this.asyncValidationQuesitons,T=0;T<c.length;T++)c[T].onCompletedAsyncValidators=null;this.asyncValidationQuesitons=[]},C.prototype.onCompletedAsyncQuestionValidators=function(c,T,I){if(I){if(this.clearAsyncValidationQuesitons(),T(!0),this.focusOnFirstError&&c&&c.page&&c.page===this.currentPage){for(var H=this.currentPage.questions,J=0;J<H.length;J++)if(H[J]!==c&&H[J].errors.length>0)return;c.focus(!0)}}else{for(var se=this.asyncValidationQuesitons,he=0;he<se.length;he++)if(se[he].isRunningValidators)return;T(!1)}},Object.defineProperty(C.prototype,"isCurrentPageHasErrors",{get:function(){return this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isCurrentPageValid",{get:function(){return!this.checkIsCurrentPageHasErrors()},enumerable:!1,configurable:!0}),C.prototype.hasCurrentPageErrors=function(c){return this.hasPageErrors(void 0,c)},C.prototype.validateCurrentPage=function(c){return this.validatePage(void 0,c)},C.prototype.hasPageErrors=function(c,T){var I=this.validatePage(c,T);return void 0===I?I:!I},C.prototype.validatePage=function(c,T){return c||(c=this.activePage),!c||!this.checkIsPageHasErrors(c)&&(!T||!this.checkForAsyncQuestionValidation(c.questions,function(I){return T(I)})||void 0)},C.prototype.hasErrors=function(c,T,I){void 0===c&&(c=!0),void 0===T&&(T=!1);var H=this.validate(c,T,I);return void 0===H?H:!H},C.prototype.validate=function(c,T,I){void 0===c&&(c=!0),void 0===T&&(T=!1),I&&(c=!0);for(var H=this.visiblePages,J=null,se=!0,he=0;he<H.length;he++)H[he].validate(c,!1)||(J||(J=H[he]),se=!1);if(T&&J)for(var ie=J.getQuestions(!0),ye=0;ye<ie.length;ye++)if(ie[ye].errors.length>0){ie[ye].focus(!0);break}return se&&I?!this.checkForAsyncQuestionValidation(this.getAllQuestions(),function(Ie){return I(Ie)})||void 0:se},C.prototype.ensureUniqueNames=function(c){if(void 0===c&&(c=null),null==c)for(var T=0;T<this.pages.length;T++)this.ensureUniqueName(this.pages[T]);else this.ensureUniqueName(c)},C.prototype.ensureUniqueName=function(c){if(c.isPage&&this.ensureUniquePageName(c),c.isPanel&&this.ensureUniquePanelName(c),c.isPage||c.isPanel)for(var T=c.elements,I=0;I<T.length;I++)this.ensureUniqueNames(T[I]);else this.ensureUniqueQuestionName(c)},C.prototype.ensureUniquePageName=function(c){var T=this;return this.ensureUniqueElementName(c,function(I){return T.getPageByName(I)})},C.prototype.ensureUniquePanelName=function(c){var T=this;return this.ensureUniqueElementName(c,function(I){return T.getPanelByName(I)})},C.prototype.ensureUniqueQuestionName=function(c){var T=this;return this.ensureUniqueElementName(c,function(I){return T.getQuestionByName(I)})},C.prototype.ensureUniqueElementName=function(c,T){var I=T(c.name);if(I&&I!=c){for(var H=this.getNewName(c.name);T(H);)H=this.getNewName(c.name);c.name=H}},C.prototype.getNewName=function(c){for(var T=c.length;T>0&&c[T-1]>="0"&&c[T-1]<="9";)T--;var I=c.substring(0,T),H=0;return T<c.length&&(H=parseInt(c.substring(T))),I+ ++H},C.prototype.checkIsCurrentPageHasErrors=function(c){return void 0===c&&(c=void 0),this.checkIsPageHasErrors(this.activePage,c)},C.prototype.checkIsPageHasErrors=function(c,T){if(void 0===T&&(T=void 0),void 0===T&&(T=this.focusOnFirstError),!c)return!0;var I=!c.validate(!0,T);return this.fireValidatedErrorsOnPage(c),I},C.prototype.fireValidatedErrorsOnPage=function(c){if(!this.onValidatedErrorsOnCurrentPage.isEmpty&&c){for(var T=c.questions,I=new Array,H=new Array,J=0;J<T.length;J++){var se=T[J];if(se.errors.length>0){I.push(se);for(var he=0;he<se.errors.length;he++)H.push(se.errors[he])}}this.onValidatedErrorsOnCurrentPage.fire(this,{questions:I,errors:H,page:c})}},C.prototype.prevPage=function(){var c=this;if(this.isFirstPage||"starting"===this.state)return!1;this.resetNavigationButton();var T=this.skippedPages.find(function(J){return J.to==c.currentPage});if(T)this.currentPage=T.from,this.skippedPages.splice(this.skippedPages.indexOf(T),1);else{var I=this.visiblePages,H=I.indexOf(this.currentPage);this.currentPage=I[H-1]}return!0},C.prototype.completeLastPage=function(){var c=this.doCurrentPageComplete(!0);return c&&this.cancelPreview(),c},C.prototype.navigationMouseDown=function(){return this.isNavigationButtonPressed=!0,!0},C.prototype.resetNavigationButton=function(){this.isNavigationButtonPressed=!1},C.prototype.nextPageUIClick=function(){if(!this.mouseDownPage||this.mouseDownPage===this.activePage)return this.mouseDownPage=null,this.nextPage()},C.prototype.nextPageMouseDown=function(){return this.mouseDownPage=this.activePage,this.navigationMouseDown()},C.prototype.showPreview=function(){return this.resetNavigationButton(),!this.hasErrorsOnNavigate(!0)&&!this.doServerValidation(!0,!0)&&(this.showPreviewCore(),!0)},C.prototype.showPreviewCore=function(){var c={allowShowPreview:!0,allow:!0};this.onShowingPreview.fire(this,c),this.isShowingPreview=c.allowShowPreview&&c.allow},C.prototype.cancelPreview=function(c){void 0===c&&(c=null),this.isShowingPreview&&(this.gotoPageFromPreview=c,this.isShowingPreview=!1)},C.prototype.cancelPreviewByPage=function(c){this.cancelPreview(c.originalPage)},C.prototype.doCurrentPageComplete=function(c){return!this.isValidatingOnServer&&(this.resetNavigationButton(),!this.hasErrorsOnNavigate(c))&&this.doCurrentPageCompleteCore(c)},C.prototype.doCurrentPageCompleteCore=function(c){return!this.doServerValidation(c)&&(c?(this.currentPage.passed=!0,this.doComplete(this.canBeCompletedByTrigger,this.completedTrigger)):(this.doNextPage(),!0))},Object.defineProperty(C.prototype,"isSinglePage",{get:function(){return"singlePage"==this.questionsOnPageMode},set:function(c){this.questionsOnPageMode=c?"singlePage":"standard"},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"questionsOnPageMode",{get:function(){return this.getPropertyValue("questionsOnPageMode")},set:function(c){this.setPropertyValue("questionsOnPageMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"firstPageIsStarted",{get:function(){return this.getPropertyValue("firstPageIsStarted")},set:function(c){this.setPropertyValue("firstPageIsStarted",c)},enumerable:!1,configurable:!0}),C.prototype.isPageStarted=function(c){return this.firstPageIsStarted&&this.pages.length>1&&this.pages[0]===c},Object.defineProperty(C.prototype,"showPreviewBeforeComplete",{get:function(){return this.getPropertyValue("showPreviewBeforeComplete")},set:function(c){this.setPropertyValue("showPreviewBeforeComplete",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowPreviewBeforeComplete",{get:function(){var c=this.showPreviewBeforeComplete;return"showAllQuestions"==c||"showAnsweredQuestions"==c},enumerable:!1,configurable:!0}),C.prototype.onFirstPageIsStartedChanged=function(){this.isStartedState=this.firstPageIsStarted&&this.pages.length>1,this.pageVisibilityChanged(this.pages[0],!this.isStartedState)},C.prototype.onShowingPreviewChanged=function(){if(!this.isDesignMode)if(this.isShowingPreview?(this.runningPages=this.pages.slice(0,this.pages.length),this.setupPagesForPageModes(!0)):(this.runningPages&&this.restoreOrigionalPages(this.runningPages),this.runningPages=void 0),this.runConditions(),this.updateAllElementsVisibility(this.pages),this.updateVisibleIndexes(),this.isShowingPreview)this.currentPageNo=0;else{var c=this.gotoPageFromPreview;this.gotoPageFromPreview=null,L.Helpers.isValueEmpty(c)&&this.visiblePageCount>0&&(c=this.visiblePages[this.visiblePageCount-1]),c&&(this.changeCurrentPageFromPreview=!0,this.currentPage=c,this.changeCurrentPageFromPreview=!1)}},C.prototype.onQuestionsOnPageModeChanged=function(c){this.isShowingPreview||("standard"==this.questionsOnPageMode||this.isDesignMode?(this.origionalPages&&this.restoreOrigionalPages(this.origionalPages),this.origionalPages=void 0):((!c||"standard"==c)&&(this.origionalPages=this.pages.slice(0,this.pages.length)),this.setupPagesForPageModes(this.isSinglePage)),this.runConditions(),this.updateVisibleIndexes())},C.prototype.restoreOrigionalPages=function(c){this.questionHashesClear(),this.pages.splice(0,this.pages.length);for(var T=0;T<c.length;T++)this.pages.push(c[T])},C.prototype.getPageStartIndex=function(){return this.firstPageIsStarted&&this.pages.length>0?1:0},C.prototype.setupPagesForPageModes=function(c){this.questionHashesClear();var T=this.getPageStartIndex();b.prototype.startLoadingFromJson.call(this);var I=this.createPagesForQuestionOnPageMode(c,T);this.pages.splice(T,this.pages.length-T);for(var J=0;J<I.length;J++)this.pages.push(I[J]);for(b.prototype.endLoadingFromJson.call(this),J=0;J<I.length;J++)I[J].setSurveyImpl(this,!0);this.doElementsOnLoad(),this.updateCurrentPage()},C.prototype.createPagesForQuestionOnPageMode=function(c,T){return c?[this.createSinglePage(T)]:this.createPagesForEveryQuestion(T)},C.prototype.createSinglePage=function(c){var T=this.createNewPage("all");T.setSurveyImpl(this);for(var I=c;I<this.pages.length;I++){var H=this.pages[I],J=K.Serializer.createClass("panel");J.originalPage=H,T.addPanel(J);var se=(new K.JsonObject).toJsonObject(H);(new K.JsonObject).toObject(se,J),this.showPageTitles||(J.title="")}return T},C.prototype.createPagesForEveryQuestion=function(c){for(var T=[],I=c;I<this.pages.length;I++){var H=this.pages[I];H.setWasShown(!0);for(var J=0;J<H.elements.length;J++){var se=H.elements[J],he=K.Serializer.createClass(se.getType());if(he){var ie=new K.JsonObject;ie.lightSerializing=!0;var ye=ie.toJsonObject(H),Ie=K.Serializer.createClass(H.getType());Ie.fromJSON(ye),Ie.name=se.name,Ie.setSurveyImpl(this),T.push(Ie);var ue=(new K.JsonObject).toJsonObject(se);Ie.addElement(he),(new K.JsonObject).toObject(ue,he);for(var fe=0;fe<Ie.questions.length;fe++)this.questionHashesAdded(Ie.questions[fe])}}}return T},Object.defineProperty(C.prototype,"isFirstPage",{get:function(){return this.getPropertyValue("isFirstPage")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isLastPage",{get:function(){return this.getPropertyValue("isLastPage")},enumerable:!1,configurable:!0}),C.prototype.updateButtonsVisibility=function(){this.updateIsFirstLastPageState(),this.setPropertyValue("isShowPrevButton",this.calcIsShowPrevButton()),this.setPropertyValue("isShowNextButton",this.calcIsShowNextButton()),this.setPropertyValue("isCompleteButtonVisible",this.calcIsCompleteButtonVisible()),this.setPropertyValue("isPreviewButtonVisible",this.calcIsPreviewButtonVisible()),this.setPropertyValue("isCancelPreviewButtonVisible",this.calcIsCancelPreviewButtonVisible())},Object.defineProperty(C.prototype,"isShowPrevButton",{get:function(){return this.getPropertyValue("isShowPrevButton")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isShowNextButton",{get:function(){return this.getPropertyValue("isShowNextButton")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isCompleteButtonVisible",{get:function(){return this.getPropertyValue("isCompleteButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isPreviewButtonVisible",{get:function(){return this.getPropertyValue("isPreviewButtonVisible")},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isCancelPreviewButtonVisible",{get:function(){return this.getPropertyValue("isCancelPreviewButtonVisible")},enumerable:!1,configurable:!0}),C.prototype.updateIsFirstLastPageState=function(){var c=this.currentPage;this.setPropertyValue("isFirstPage",!!c&&c===this.firstVisiblePage),this.setPropertyValue("isLastPage",!!c&&c===this.lastVisiblePage)},C.prototype.calcIsShowPrevButton=function(){return!(this.isFirstPage||!this.showPrevButton||"running"!==this.state)&&this.getPageMaxTimeToFinish(this.visiblePages[this.currentPageNo-1])<=0},C.prototype.calcIsShowNextButton=function(){return"running"===this.state&&!this.isLastPage&&!this.canBeCompletedByTrigger},C.prototype.calcIsCompleteButtonVisible=function(){return this.isEditMode&&("running"===this.state&&(this.isLastPage&&!this.isShowPreviewBeforeComplete||this.canBeCompletedByTrigger)||"preview"===this.state)},C.prototype.calcIsPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"running"==this.state&&this.isLastPage},C.prototype.calcIsCancelPreviewButtonVisible=function(){return this.isEditMode&&this.isShowPreviewBeforeComplete&&"preview"==this.state},Object.defineProperty(C.prototype,"firstVisiblePage",{get:function(){for(var c=this.pages,T=0;T<c.length;T++)if(this.isPageInVisibleList(c[T]))return c[T];return null},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"lastVisiblePage",{get:function(){for(var c=this.pages,T=c.length-1;T>=0;T--)if(this.isPageInVisibleList(c[T]))return c[T];return null},enumerable:!1,configurable:!0}),C.prototype.doComplete=function(c,T){if(void 0===c&&(c=!1),!this.isCompleted)return this.checkOnCompletingEvent(c,T)?(this.checkOnPageTriggers(!0),this.stopTimer(),this.isCompleted=!0,this.clearUnusedValues(),this.saveDataOnComplete(c,T),this.setCookie(),!0):(this.isCompleted=!1,!1)},C.prototype.saveDataOnComplete=function(c,T){var I=this;void 0===c&&(c=!1);var H=this.hasCookie,J=function(ue){ye=!0,I.setCompletedState("saving",ue)},se=function(ue){I.setCompletedState("error",ue)},he=function(ue){I.setCompletedState("success",ue),I.navigateTo()},ie=function(ue){I.setCompletedState("","")},ye=!1;this.onComplete.fire(this,{isCompleteOnTrigger:c,completeTrigger:T,showSaveInProgress:J,showSaveError:se,showSaveSuccess:he,clearSaveMessages:ie,showDataSaving:J,showDataSavingError:se,showDataSavingSuccess:he,showDataSavingClear:ie}),!H&&this.surveyPostId&&this.sendResult(),ye||this.navigateTo()},C.prototype.checkOnCompletingEvent=function(c,T){var I={allowComplete:!0,allow:!0,isCompleteOnTrigger:c,completeTrigger:T};return this.onCompleting.fire(this,I),I.allowComplete&&I.allow},C.prototype.start=function(){return!(!this.firstPageIsStarted||(this.isCurrentPageRendering=!0,this.checkIsPageHasErrors(this.startedPage,!0))||(this.isStartedState=!1,this.startTimerFromUI(),this.onStarted.fire(this,{}),this.updateVisibleIndexes(),this.currentPage&&this.currentPage.locStrsChanged(),0))},Object.defineProperty(C.prototype,"isValidatingOnServer",{get:function(){return this.getPropertyValue("isValidatingOnServer",!1)},enumerable:!1,configurable:!0}),C.prototype.setIsValidatingOnServer=function(c){c!=this.isValidatingOnServer&&(this.setPropertyValue("isValidatingOnServer",c),this.onIsValidatingOnServerChanged())},C.prototype.createServerValidationOptions=function(c,T){var I=this,H={data:{},errors:{},survey:this,complete:function(){I.completeServerValidation(H,T)}};if(c&&"onComplete"===this.checkErrorsMode)H.data=this.data;else for(var J=this.activePage.questions,se=0;se<J.length;se++){var he=J[se];if(he.visible){var ie=this.getValue(he.getValueName());this.isValueEmpty(ie)||(H.data[he.getValueName()]=ie)}}return H},C.prototype.onIsValidatingOnServerChanged=function(){},C.prototype.doServerValidation=function(c,T){var I=this;if(void 0===T&&(T=!1),!this.onServerValidateQuestions||this.onServerValidateQuestions.isEmpty||!c&&"onComplete"===this.checkErrorsMode)return!1;this.setIsValidatingOnServer(!0);var H="function"==typeof this.onServerValidateQuestions;return this.serverValidationEventCount=H?1:this.onServerValidateQuestions.length,H?this.onServerValidateQuestions(this,this.createServerValidationOptions(c,T)):this.onServerValidateQuestions.fireByCreatingOptions(this,function(){return I.createServerValidationOptions(c,T)}),!0},C.prototype.completeServerValidation=function(c,T){if(!(this.serverValidationEventCount>1&&(this.serverValidationEventCount--,c&&c.errors&&0===Object.keys(c.errors).length))&&(this.serverValidationEventCount=0,this.setIsValidatingOnServer(!1),c||c.survey)){var I=c.survey,H=!1;if(c.errors){var J=this.focusOnFirstError;for(var se in c.errors){var he=I.getQuestionByName(se);he&&he.errors&&(H=!0,he.addError(new P.CustomError(c.errors[se],this)),J&&(J=!1,he.page&&(this.currentPage=he.page),he.focus(!0)))}this.fireValidatedErrorsOnPage(this.currentPage)}H||(T?this.showPreviewCore():I.isLastPage?I.doComplete():I.doNextPage())}},C.prototype.doNextPage=function(){var c=this.currentPage;if(this.checkOnPageTriggers(!1),this.isCompleted)this.doComplete(!0);else if(this.sendResultOnPageNext&&this.sendResult(this.surveyPostId,this.clientId,!0),c===this.currentPage){var T=this.visiblePages,I=T.indexOf(this.currentPage);this.currentPage=T[I+1]}},C.prototype.setCompleted=function(c){this.doComplete(!0,c)},C.prototype.canBeCompleted=function(c,T){if(u.settings.triggers.changeNavigationButtonsOnComplete){var I=this.canBeCompletedByTrigger;this.completedByTriggers||(this.completedByTriggers={}),T?this.completedByTriggers[c.id]=c:delete this.completedByTriggers[c.id],I!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility()}},Object.defineProperty(C.prototype,"canBeCompletedByTrigger",{get:function(){return!!this.completedByTriggers&&Object.keys(this.completedByTriggers).length>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"completedTrigger",{get:function(){if(this.canBeCompletedByTrigger){var c=Object.keys(this.completedByTriggers)[0];return this.completedByTriggers[c]}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"processedCompletedHtml",{get:function(){var c=this.renderedCompletedHtml;return c?this.processHtml(c,"completed"):""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"processedCompletedBeforeHtml",{get:function(){return this.locCompletedBeforeHtml.textOrHtml},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"processedLoadingHtml",{get:function(){return this.locLoadingHtml.textOrHtml},enumerable:!1,configurable:!0}),C.prototype.getProgressInfo=function(){return F.SurveyElement.getProgressInfoByElements(this.isDesignMode?this.pages:this.visiblePages,!1)},Object.defineProperty(C.prototype,"progressText",{get:function(){var c=this.getPropertyValue("progressText","");return c||(this.updateProgressText(),c=this.getPropertyValue("progressText","")),c},enumerable:!1,configurable:!0}),C.prototype.updateProgressText=function(c){void 0===c&&(c=!1),!this.isCalculatingProgressText&&(c&&"pages"==this.progressBarType&&this.onProgressText.isEmpty||(this.isCalculatingProgressText=!0,this.setPropertyValue("progressText",this.getProgressText()),this.setPropertyValue("progressValue",this.getProgress()),this.isCalculatingProgressText=!1))},C.prototype.getProgressText=function(){if(!this.isDesignMode&&null==this.currentPage)return"";var c={questionCount:0,answeredQuestionCount:0,requiredQuestionCount:0,requiredAnsweredQuestionCount:0,text:""},T=this.progressBarType.toLowerCase();if("questions"===T||"requiredquestions"===T||"correctquestions"===T||!this.onProgressText.isEmpty){var I=this.getProgressInfo();c.questionCount=I.questionCount,c.answeredQuestionCount=I.answeredQuestionCount,c.requiredQuestionCount=I.requiredQuestionCount,c.requiredAnsweredQuestionCount=I.requiredAnsweredQuestionCount}return c.text=this.getProgressTextCore(c),this.onProgressText.fire(this,c),c.text},C.prototype.getProgressTextCore=function(c){var T=this.progressBarType.toLowerCase();if("questions"===T)return this.getLocalizationFormatString("questionsProgressText",c.answeredQuestionCount,c.questionCount);if("requiredquestions"===T)return this.getLocalizationFormatString("questionsProgressText",c.requiredAnsweredQuestionCount,c.requiredQuestionCount);if("correctquestions"===T){var I=this.getCorrectedAnswerCount();return this.getLocalizationFormatString("questionsProgressText",I,c.questionCount)}var H=this.isDesignMode?this.pages:this.visiblePages,J=H.indexOf(this.currentPage)+1;return this.getLocalizationFormatString("progressText",J,H.length)},C.prototype.getRootCss=function(){return(new o.CssClassBuilder).append(this.css.root).append(this.css.rootMobile,this.isMobile).append(this.css.rootReadOnly,"display"===this.mode).toString()},C.prototype.afterRenderSurvey=function(c){var T=this;this.destroyResizeObserver(),Array.isArray(c)&&(c=F.SurveyElement.GetFirstNonTextElement(c));var I=c,H=this.css.variables;if(H){var J=Number.parseFloat(window.getComputedStyle(I).getPropertyValue(H.mobileWidth));if(J){var se=!1;this.resizeObserver=new ResizeObserver(function(){se=!(se||!Object(l.isContainerVisible)(I))&&T.processResponsiveness(I.offsetWidth,J)}),this.resizeObserver.observe(I)}}this.onAfterRenderSurvey.fire(this,{survey:this,htmlElement:c}),this.rootElement=c},C.prototype.processResponsiveness=function(c,T){var I=c<T;return this.isMobile!==I&&(this.setIsMobile(I),!0)},C.prototype.triggerResponsiveness=function(c){this.getAllQuestions().forEach(function(T){T.triggerResponsiveness(c)})},C.prototype.destroyResizeObserver=function(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=void 0)},C.prototype.updateQuestionCssClasses=function(c,T){this.onUpdateQuestionCssClasses.fire(this,{question:c,cssClasses:T})},C.prototype.updatePanelCssClasses=function(c,T){this.onUpdatePanelCssClasses.fire(this,{panel:c,cssClasses:T})},C.prototype.updatePageCssClasses=function(c,T){this.onUpdatePageCssClasses.fire(this,{page:c,cssClasses:T})},C.prototype.updateChoiceItemCss=function(c,T){T.question=c,this.onUpdateChoiceItemCss.fire(this,T)},C.prototype.afterRenderPage=function(c){var T=this;!this.isDesignMode&&!this.focusingQuestionInfo&&setTimeout(function(){return T.scrollToTopOnPageChange(!T.isFirstPageRendering)},1),this.focusQuestionInfo(),this.isFirstPageRendering=!1,!this.onAfterRenderPage.isEmpty&&this.onAfterRenderPage.fire(this,{page:this.activePage,htmlElement:c})},C.prototype.afterRenderHeader=function(c){this.onAfterRenderHeader.isEmpty||this.onAfterRenderHeader.fire(this,{htmlElement:c})},C.prototype.afterRenderQuestion=function(c,T){this.onAfterRenderQuestion.fire(this,{question:c,htmlElement:T})},C.prototype.afterRenderQuestionInput=function(c,T){if(!this.onAfterRenderQuestionInput.isEmpty){var I=c.inputId,H=u.settings.environment.root;if(I&&T.id!==I&&void 0!==H){var J=H.getElementById(I);J&&(T=J)}this.onAfterRenderQuestionInput.fire(this,{question:c,htmlElement:T})}},C.prototype.afterRenderPanel=function(c,T){this.onAfterRenderPanel.fire(this,{panel:c,htmlElement:T})},C.prototype.whenQuestionFocusIn=function(c){this.onFocusInQuestion.fire(this,{question:c})},C.prototype.whenPanelFocusIn=function(c){this.onFocusInPanel.fire(this,{panel:c})},C.prototype.rebuildQuestionChoices=function(){this.getAllQuestions().forEach(function(c){return c.surveyChoiceItemVisibilityChange()})},C.prototype.canChangeChoiceItemsVisibility=function(){return!this.onShowingChoiceItem.isEmpty},C.prototype.getChoiceItemVisibility=function(c,T,I){var H={question:c,item:T,visible:I};return this.onShowingChoiceItem.fire(this,H),H.visible},C.prototype.loadQuestionChoices=function(c){this.onChoicesLazyLoad.fire(this,c)},C.prototype.getChoiceDisplayValue=function(c){this.onGetChoiceDisplayValue.isEmpty?c.setItems(null):this.onGetChoiceDisplayValue.fire(this,c)},C.prototype.matrixBeforeRowAdded=function(c){this.onMatrixRowAdding.fire(this,c)},C.prototype.matrixRowAdded=function(c,T){this.onMatrixRowAdded.fire(this,{question:c,row:T})},C.prototype.matrixColumnAdded=function(c,T){this.onMatrixColumnAdded.fire(this,{question:c,column:T})},C.prototype.multipleTextItemAdded=function(c,T){this.onMultipleTextItemAdded.fire(this,{question:c,item:T})},C.prototype.getQuestionByValueNameFromArray=function(c,T,I){var H=this.getQuestionsByValueName(c);if(H){for(var J=0;J<H.length;J++){var se=H[J].getQuestionFromArray(T,I);if(se)return se}return null}},C.prototype.matrixRowRemoved=function(c,T,I){this.onMatrixRowRemoved.fire(this,{question:c,rowIndex:T,row:I})},C.prototype.matrixRowRemoving=function(c,T,I){var H={question:c,rowIndex:T,row:I,allow:!0};return this.onMatrixRowRemoving.fire(this,H),H.allow},C.prototype.matrixAllowRemoveRow=function(c,T,I){var H={question:c,rowIndex:T,row:I,allow:!0};return this.onMatrixRenderRemoveButton.fire(this,H),H.allow},C.prototype.matrixCellCreating=function(c,T){T.question=c,this.onMatrixCellCreating.fire(this,T)},C.prototype.matrixCellCreated=function(c,T){T.question=c,this.onMatrixCellCreated.fire(this,T)},C.prototype.matrixAfterCellRender=function(c,T){T.question=c,this.onAfterRenderMatrixCell.fire(this,T)},C.prototype.matrixCellValueChanged=function(c,T){T.question=c,this.onMatrixCellValueChanged.fire(this,T)},C.prototype.matrixCellValueChanging=function(c,T){T.question=c,this.onMatrixCellValueChanging.fire(this,T)},Object.defineProperty(C.prototype,"isValidateOnValueChanging",{get:function(){return"onValueChanging"===this.checkErrorsMode},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isValidateOnValueChanged",{get:function(){return"onValueChanged"===this.checkErrorsMode},enumerable:!1,configurable:!0}),C.prototype.matrixCellValidate=function(c,T){return T.question=c,this.onMatrixCellValidate.fire(this,T),T.error?new P.CustomError(T.error,this):null},C.prototype.dynamicPanelAdded=function(c,T,I){if(this.isLoadingFromJson||this.updateVisibleIndexes(),!this.onDynamicPanelAdded.isEmpty){var H=c.panels;void 0===T&&(I=H[T=H.length-1]),this.onDynamicPanelAdded.fire(this,{question:c,panel:I,panelIndex:T})}},C.prototype.dynamicPanelRemoved=function(c,T,I){for(var H=I?I.questions:[],J=0;J<H.length;J++)H[J].clearOnDeletingContainer();this.updateVisibleIndexes(),this.onDynamicPanelRemoved.fire(this,{question:c,panelIndex:T,panel:I})},C.prototype.dynamicPanelRemoving=function(c,T,I){var H={question:c,panelIndex:T,panel:I,allow:!0};return this.onDynamicPanelRemoving.fire(this,H),H.allow},C.prototype.dynamicPanelItemValueChanged=function(c,T){T.question=c,T.panelIndex=T.itemIndex,T.panelData=T.itemValue,this.onDynamicPanelItemValueChanged.fire(this,T)},C.prototype.dragAndDropAllow=function(c){return this.onDragDropAllow.fire(this,c),c.allow},C.prototype.elementContentVisibilityChanged=function(c){this.currentPage&&this.currentPage.ensureRowsVisibility(),this.onElementContentVisibilityChanged.fire(this,{element:c})},C.prototype.getUpdatedPanelFooterActions=function(c,T,I){var H={question:I,panel:c,actions:T};return this.onGetPanelFooterActions.fire(this,H),H.actions},C.prototype.getUpdatedElementTitleActions=function(c,T){return c.isPage?this.getUpdatedPageTitleActions(c,T):c.isPanel?this.getUpdatedPanelTitleActions(c,T):this.getUpdatedQuestionTitleActions(c,T)},C.prototype.getUpdatedQuestionTitleActions=function(c,T){var I={question:c,titleActions:T};return this.onGetQuestionTitleActions.fire(this,I),I.titleActions},C.prototype.getUpdatedPanelTitleActions=function(c,T){var I={panel:c,titleActions:T};return this.onGetPanelTitleActions.fire(this,I),I.titleActions},C.prototype.getUpdatedPageTitleActions=function(c,T){var I={page:c,titleActions:T};return this.onGetPageTitleActions.fire(this,I),I.titleActions},C.prototype.getUpdatedMatrixRowActions=function(c,T,I){var H={question:c,actions:I,row:T};return this.onGetMatrixRowActions.fire(this,H),H.actions},C.prototype.scrollElementToTop=function(c,T,I,H){var J={element:c,question:T,page:I,elementId:H,cancel:!1};this.onScrollingElementToTop.fire(this,J),J.cancel||F.SurveyElement.ScrollElementToTop(J.elementId)},C.prototype.uploadFiles=function(c,T,I,H){this.onUploadFiles.isEmpty?H("error",I):this.onUploadFiles.fire(this,{question:c,name:T,files:I||[],callback:H}),this.surveyPostId&&this.uploadFilesCore(T,I,H)},C.prototype.downloadFile=function(c,T,I,H){this.onDownloadFile.isEmpty&&!!H&&H("success",I.content||I),this.onDownloadFile.fire(this,{question:c,name:T,content:I.content||I,fileValue:I,callback:H})},C.prototype.clearFiles=function(c,T,I,H,J){this.onClearFiles.isEmpty&&!!J&&J("success",I),this.onClearFiles.fire(this,{question:c,name:T,value:I,fileName:H,callback:J})},C.prototype.updateChoicesFromServer=function(c,T,I){var H={question:c,choices:T,serverResult:I};return this.onLoadChoicesFromServer.fire(this,H),H.choices},C.prototype.loadedChoicesFromServer=function(c){this.locStrsChanged()},C.prototype.createSurveyService=function(){return new h.dxSurveyService},C.prototype.uploadFilesCore=function(c,T,I){var H=this,J=[];T.forEach(function(se){I&&I("uploading",se),H.createSurveyService().sendFile(H.surveyPostId,se,function(he,ie){he?(J.push({content:ie,file:se}),J.length===T.length&&I&&I("success",J)):I&&I("error",{response:ie,file:se})})})},C.prototype.getPage=function(c){return this.pages[c]},C.prototype.addPage=function(c,T){void 0===T&&(T=-1),null!=c&&(T<0||T>=this.pages.length?this.pages.push(c):this.pages.splice(T,0,c))},C.prototype.addNewPage=function(c,T){void 0===c&&(c=null),void 0===T&&(T=-1);var I=this.createNewPage(c);return this.addPage(I,T),I},C.prototype.removePage=function(c){var T=this.pages.indexOf(c);T<0||(this.pages.splice(T,1),this.currentPage==c&&(this.currentPage=this.pages.length>0?this.pages[0]:null))},C.prototype.getQuestionByName=function(c,T){if(void 0===T&&(T=!1),!c)return null;T&&(c=c.toLowerCase());var H=(T?this.questionHashes.namesInsensitive:this.questionHashes.names)[c];return H?H[0]:null},C.prototype.findQuestionByName=function(c){return this.getQuestionByName(c)},C.prototype.getQuestionByValueName=function(c,T){void 0===T&&(T=!1);var I=this.getQuestionsByValueName(c,T);return I?I[0]:null},C.prototype.getQuestionsByValueName=function(c,T){return void 0===T&&(T=!1),(T?this.questionHashes.valueNamesInsensitive:this.questionHashes.valueNames)[c]||null},C.prototype.getCalculatedValueByName=function(c){for(var T=0;T<this.calculatedValues.length;T++)if(c==this.calculatedValues[T].name)return this.calculatedValues[T];return null},C.prototype.getQuestionsByNames=function(c,T){void 0===T&&(T=!1);var I=[];if(!c)return I;for(var H=0;H<c.length;H++)if(c[H]){var J=this.getQuestionByName(c[H],T);J&&I.push(J)}return I},C.prototype.getPageByElement=function(c){for(var T=0;T<this.pages.length;T++){var I=this.pages[T];if(I.containsElement(c))return I}return null},C.prototype.getPageByQuestion=function(c){return this.getPageByElement(c)},C.prototype.getPageByName=function(c){for(var T=0;T<this.pages.length;T++)if(this.pages[T].name==c)return this.pages[T];return null},C.prototype.getPagesByNames=function(c){var T=[];if(!c)return T;for(var I=0;I<c.length;I++)if(c[I]){var H=this.getPageByName(c[I]);H&&T.push(H)}return T},C.prototype.getAllQuestions=function(c,T,I){void 0===c&&(c=!1),void 0===T&&(T=!1),void 0===I&&(I=!1);for(var H=[],J=0;J<this.pages.length;J++)this.pages[J].addQuestionsToList(H,c,T);if(!I)return H;var se=[];return H.forEach(function(he){se.push(he),he.getNestedQuestions(c).forEach(function(ie){return se.push(ie)})}),se},C.prototype.getQuizQuestions=function(){for(var c=new Array,I=this.getPageStartIndex();I<this.pages.length;I++)if(this.pages[I].isVisible)for(var H=this.pages[I].questions,J=0;J<H.length;J++){var se=H[J];se.quizQuestionCount>0&&c.push(se)}return c},C.prototype.getPanelByName=function(c,T){void 0===T&&(T=!1);var I=this.getAllPanels();T&&(c=c.toLowerCase());for(var H=0;H<I.length;H++){var J=I[H].name;if(T&&(J=J.toLowerCase()),J==c)return I[H]}return null},C.prototype.getAllPanels=function(c,T){void 0===c&&(c=!1),void 0===T&&(T=!1);for(var I=new Array,H=0;H<this.pages.length;H++)this.pages[H].addPanelsIntoList(I,c,T);return I},C.prototype.createNewPage=function(c){var T=K.Serializer.createClass("page");return T.name=c,T},C.prototype.questionOnValueChanging=function(c,T){if(this.editingObj){var I=K.Serializer.findProperty(this.editingObj.getType(),c);I&&(T=I.settingValue(this.editingObj,T))}if(this.onValueChanging.isEmpty)return T;var H={name:c,question:this.getQuestionByValueName(c),value:this.getUnbindValue(T),oldValue:this.getValue(c)};return this.onValueChanging.fire(this,H),H.value},C.prototype.updateQuestionValue=function(c,T){if(!this.isLoadingFromJson){var I=this.getQuestionsByValueName(c);if(I)for(var H=0;H<I.length;H++){var J=I[H].value;(J===T&&Array.isArray(J)&&this.editingObj||!this.isTwoValueEquals(J,T))&&I[H].updateValueFromSurvey(T)}}},C.prototype.checkQuestionErrorOnValueChanged=function(c){!this.isNavigationButtonPressed&&("onValueChanged"===this.checkErrorsMode||c.getAllErrors().length>0)&&this.checkQuestionErrorOnValueChangedCore(c)},C.prototype.checkQuestionErrorOnValueChangedCore=function(c){var T=c.getAllErrors().length,I=!c.validate(!0,{isOnValueChanged:!this.isValidateOnValueChanging}),H=this.checkErrorsMode.indexOf("Value")>-1;return!!c.page&&H&&(T>0||c.getAllErrors().length>0)&&this.fireValidatedErrorsOnPage(c.page),I},C.prototype.checkErrorsOnValueChanging=function(c,T){if(this.isLoadingFromJson)return!1;var I=this.getQuestionsByValueName(c);if(!I)return!1;for(var H=!1,J=0;J<I.length;J++){var se=I[J];this.isTwoValueEquals(se.valueForSurvey,T)||(se.value=T),this.checkQuestionErrorOnValueChangedCore(se)&&(H=!0),H=H||se.errors.length>0}return H},C.prototype.notifyQuestionOnValueChanged=function(c,T){if(!this.isLoadingFromJson){var I=this.getQuestionsByValueName(c);if(I)for(var H=0;H<I.length;H++){var J=I[H];this.checkQuestionErrorOnValueChanged(J),J.onSurveyValueChanged(T),this.onValueChanged.fire(this,{name:c,question:J,value:T})}else this.onValueChanged.fire(this,{name:c,question:null,value:T});this.isDisposed||(this.checkElementsBindings(c,T),this.notifyElementsOnAnyValueOrVariableChanged(c))}},C.prototype.checkElementsBindings=function(c,T){this.isRunningElementsBindings=!0;for(var I=0;I<this.pages.length;I++)this.pages[I].checkBindings(c,T);this.isRunningElementsBindings=!1,this.updateVisibleIndexAfterBindings&&(this.updateVisibleIndexes(),this.updateVisibleIndexAfterBindings=!1)},C.prototype.notifyElementsOnAnyValueOrVariableChanged=function(c){if("processing"!==this.isEndLoadingFromJson){if(this.isRunningConditions)return void(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!0);for(var T=0;T<this.pages.length;T++)this.pages[T].onAnyValueChanged(c);this.isEndLoadingFromJson||this.locStrsChanged()}},C.prototype.updateAllQuestionsValue=function(){for(var c=this.getAllQuestions(),T=0;T<c.length;T++){var I=c[T],H=I.getValueName();I.updateValueFromSurvey(this.getValue(H)),I.requireUpdateCommentValue&&I.updateCommentFromSurvey(this.getComment(H))}},C.prototype.notifyAllQuestionsOnValueChanged=function(){for(var c=this.getAllQuestions(),T=0;T<c.length;T++)c[T].onSurveyValueChanged(this.getValue(c[T].getValueName()))},C.prototype.checkOnPageTriggers=function(c){for(var T=this.getCurrentPageQuestions(!0),I={},H=0;H<T.length;H++){var se=T[H].getValueName();I[se]=this.getValue(se)}this.addCalculatedValuesIntoFilteredValues(I),this.checkTriggers(I,!0,c)},C.prototype.getCurrentPageQuestions=function(c){void 0===c&&(c=!1);var T=[],I=this.currentPage;if(!I)return T;for(var H=0;H<I.questions.length;H++){var J=I.questions[H];!c&&!J.visible||!J.name||T.push(J)}return T},C.prototype.checkTriggers=function(c,T,I){if(void 0===I&&(I=!1),!this.isCompleted&&0!=this.triggers.length&&!this.isDisplayMode){if(this.isTriggerIsRunning){for(var H in this.triggerValues=this.getFilteredValues(),c)this.triggerKeys[H]=c[H];return}this.isTriggerIsRunning=!0,this.triggerKeys=c,this.triggerValues=this.getFilteredValues();for(var J=this.getFilteredProperties(),se=this.canBeCompletedByTrigger,he=0;he<this.triggers.length;he++)this.triggers[he].checkExpression(T,I,this.triggerKeys,this.triggerValues,J);se!==this.canBeCompletedByTrigger&&this.updateButtonsVisibility(),this.isTriggerIsRunning=!1}},C.prototype.doElementsOnLoad=function(){for(var c=0;c<this.pages.length;c++)this.pages[c].onSurveyLoad()},Object.defineProperty(C.prototype,"isRunningConditions",{get:function(){return!!this.conditionValues},enumerable:!1,configurable:!0}),C.prototype.runConditions=function(){if(!this.isCompleted&&"processing"!==this.isEndLoadingFromJson&&!this.isRunningConditions){this.conditionValues=this.getFilteredValues();var c=this.getFilteredProperties(),T=this.pages.indexOf(this.currentPage);this.runConditionsCore(c),this.checkIfNewPagesBecomeVisible(T),this.conditionValues=null,this.isValueChangedOnRunningCondition&&this.conditionRunnerCounter<u.settings.maxConditionRunCountOnValueChanged?(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter++,this.runConditions()):(this.isValueChangedOnRunningCondition=!1,this.conditionRunnerCounter=0,this.conditionUpdateVisibleIndexes&&(this.conditionUpdateVisibleIndexes=!1,this.updateVisibleIndexes()),this.conditionNotifyElementsOnAnyValueOrVariableChanged&&(this.conditionNotifyElementsOnAnyValueOrVariableChanged=!1,this.notifyElementsOnAnyValueOrVariableChanged("")))}},C.prototype.runConditionOnValueChanged=function(c,T){this.isRunningConditions?(this.conditionValues[c]=T,this.isValueChangedOnRunningCondition=!0):this.runConditions()},C.prototype.runConditionsCore=function(c){for(var T=this.pages,I=0;I<this.calculatedValues.length;I++)this.calculatedValues[I].resetCalculation();for(I=0;I<this.calculatedValues.length;I++)this.calculatedValues[I].doCalculation(this.calculatedValues,this.conditionValues,c);for(b.prototype.runConditionCore.call(this,this.conditionValues,c),I=0;I<T.length;I++)T[I].runCondition(this.conditionValues,c)},C.prototype.checkIfNewPagesBecomeVisible=function(c){var T=this.pages.indexOf(this.currentPage);if(!(T<=c+1))for(var I=c+1;I<T;I++)if(this.pages[I].isVisible){this.currentPage=this.pages[I];break}},C.prototype.sendResult=function(c,T,I){if(void 0===c&&(c=null),void 0===T&&(T=null),void 0===I&&(I=!1),this.isEditMode&&(I&&this.onPartialSend&&this.onPartialSend.fire(this,null),!c&&this.surveyPostId&&(c=this.surveyPostId),c&&(T&&(this.clientId=T),!I||this.clientId))){var H=this;this.surveyShowDataSaving&&this.setCompletedState("saving",""),this.createSurveyService().sendResult(c,this.data,function(J,se,he){H.surveyShowDataSaving&&(J?H.setCompletedState("success",""):H.setCompletedState("error",se)),H.onSendResult.fire(H,{success:J,response:se,request:he})},this.clientId,I)}},C.prototype.getResult=function(c,T){var I=this;this.createSurveyService().getResult(c,T,function(H,J,se,he){I.onGetResult.fire(I,{success:H,data:J,dataList:se,response:he})})},C.prototype.loadSurveyFromService=function(c,T){void 0===c&&(c=null),void 0===T&&(T=null),c&&(this.surveyId=c),T&&(this.clientId=T);var I=this;this.isLoading=!0,this.onLoadingSurveyFromService(),T?this.createSurveyService().getSurveyJsonAndIsCompleted(this.surveyId,this.clientId,function(H,J,se,he){I.isLoading=!1,H&&(I.isCompletedBefore="completed"==se,I.loadSurveyFromServiceJson(J))}):this.createSurveyService().loadSurvey(this.surveyId,function(H,J,se){I.isLoading=!1,H&&I.loadSurveyFromServiceJson(J)})},C.prototype.loadSurveyFromServiceJson=function(c){!c||(this.fromJSON(c),this.notifyAllQuestionsOnValueChanged(),this.onLoadSurveyFromService(),this.onLoadedSurveyFromService.fire(this,{}))},C.prototype.onLoadingSurveyFromService=function(){},C.prototype.onLoadSurveyFromService=function(){},C.prototype.resetVisibleIndexes=function(){for(var c=this.getAllQuestions(!0),T=0;T<c.length;T++)c[T].setVisibleIndex(-1);this.updateVisibleIndexes()},C.prototype.updateVisibleIndexes=function(){if(!this.isLoadingFromJson&&!this.isEndLoadingFromJson){if(this.isRunningConditions&&this.onQuestionVisibleChanged.isEmpty&&this.onPageVisibleChanged.isEmpty)return void(this.conditionUpdateVisibleIndexes=!0);if(this.isRunningElementsBindings)return void(this.updateVisibleIndexAfterBindings=!0);if(this.updatePageVisibleIndexes(this.showPageNumbers),"onPage"==this.showQuestionNumbers)for(var c=this.visiblePages,T=0;T<c.length;T++)c[T].setVisibleIndex(0);else{var I="on"==this.showQuestionNumbers?0:-1;for(T=0;T<this.pages.length;T++)I+=this.pages[T].setVisibleIndex(I)}this.updateProgressText(!0)}},C.prototype.updatePageVisibleIndexes=function(c){this.updateButtonsVisibility();for(var T=0,I=0;I<this.pages.length;I++){var H=this.pages[I],J=H.isVisible&&(I>0||!H.isStartPage);H.visibleIndex=J?T++:-1,H.num=J?H.visibleIndex+1:-1}},C.prototype.fromJSON=function(c){if(c){this.questionHashesClear(),this.jsonErrors=null;var T=new K.JsonObject;T.toObject(c,this),T.errors.length>0&&(this.jsonErrors=T.errors),this.onStateAndCurrentPageChanged(),this.updateState()}},C.prototype.setJsonObject=function(c){this.fromJSON(c)},C.prototype.endLoadingFromJson=function(){this.isEndLoadingFromJson="processing",this.onFirstPageIsStartedChanged(),this.onQuestionsOnPageModeChanged("standard"),b.prototype.endLoadingFromJson.call(this),this.hasCookie&&(this.isCompletedBefore=!0),this.doElementsOnLoad(),this.isEndLoadingFromJson="conditions",this.runConditions(),this.notifyElementsOnAnyValueOrVariableChanged(""),this.isEndLoadingFromJson=null,this.updateVisibleIndexes(),this.updateHasLogo(),this.updateRenderBackgroundImage(),this.updateCurrentPage(),this.hasDescription=!!this.description,this.setCalculatedWidthModeUpdater()},C.prototype.updateNavigationCss=function(){this.navigationBar&&(this.updateNavigationBarCss(),this.updateNavigationItemCssCallback&&this.updateNavigationItemCssCallback())},C.prototype.updateNavigationBarCss=function(){var c=this.navigationBar;c.cssClasses=this.css.actionBar,c.containerCss=this.css.footer},C.prototype.createNavigationBar=function(){var c=new i.ActionContainer;return c.setItems(this.createNavigationActions()),c},C.prototype.createNavigationActions=function(){var c=this,T="sv-nav-btn",I=new a.Action({id:"sv-nav-start",visible:new j.ComputedUpdater(function(){return c.isShowStartingPage}),visibleIndex:10,locTitle:this.locStartSurveyText,action:function(){return c.start()},component:T}),H=new a.Action({id:"sv-nav-prev",visible:new j.ComputedUpdater(function(){return c.isShowPrevButton}),visibleIndex:20,data:{mouseDown:function(){return c.navigationMouseDown()}},locTitle:this.locPagePrevText,action:function(){return c.prevPage()},component:T}),J=new a.Action({id:"sv-nav-next",visible:new j.ComputedUpdater(function(){return c.isShowNextButton}),visibleIndex:30,data:{mouseDown:function(){return c.nextPageMouseDown()}},locTitle:this.locPageNextText,action:function(){return c.nextPageUIClick()},component:T}),se=new a.Action({id:"sv-nav-preview",visible:new j.ComputedUpdater(function(){return c.isPreviewButtonVisible}),visibleIndex:40,data:{mouseDown:function(){return c.navigationMouseDown()}},locTitle:this.locPreviewText,action:function(){return c.showPreview()},component:T}),he=new a.Action({id:"sv-nav-complete",visible:new j.ComputedUpdater(function(){return c.isCompleteButtonVisible}),visibleIndex:50,data:{mouseDown:function(){return c.navigationMouseDown()}},locTitle:this.locCompleteText,action:function(){return c.completeLastPage()},component:T});return this.updateNavigationItemCssCallback=function(){I.innerCss=c.cssNavigationStart,H.innerCss=c.cssNavigationPrev,J.innerCss=c.cssNavigationNext,se.innerCss=c.cssNavigationPreview,he.innerCss=c.cssNavigationComplete},[I,H,J,se,he]},C.prototype.onBeforeCreating=function(){},C.prototype.onCreating=function(){},C.prototype.getProcessedTextValue=function(c){if(this.getProcessedTextValueCore(c),!this.onProcessTextValue.isEmpty){var T=this.isValueEmpty(c.value);this.onProcessTextValue.fire(this,c),c.isExists=c.isExists||T&&!this.isValueEmpty(c.value)}},C.prototype.getBuiltInVariableValue=function(c){if("pageno"===c){var T=this.currentPage;return null!=T?this.visiblePages.indexOf(T)+1:0}return"pagecount"===c?this.visiblePageCount:"correctedanswers"===c||"correctanswers"===c||"correctedanswercount"===c?this.getCorrectedAnswerCount():"incorrectedanswers"===c||"incorrectanswers"===c||"incorrectedanswercount"===c?this.getInCorrectedAnswerCount():"questioncount"===c?this.getQuizQuestionCount():void 0},C.prototype.getProcessedTextValueCore=function(c){var T=c.name.toLocaleLowerCase();if(-1===["no","require","title"].indexOf(T)){var I=this.getBuiltInVariableValue(T);if(void 0!==I)return c.isExists=!0,void(c.value=I);if("locale"===T)return c.isExists=!0,void(c.value=this.locale?this.locale:D.surveyLocalization.defaultLocale);var H=this.getVariable(T);if(void 0!==H)return c.isExists=!0,void(c.value=H);var J=this.getFirstName(T);if(J){var se=J.useDisplayValuesInDynamicTexts;c.isExists=!0;var he=J.getValueName().toLowerCase();T=(T=he+T.substring(he.length)).toLocaleLowerCase();var ie={};return ie[he]=c.returnDisplayValue&&se?J.getDisplayValue(!1,void 0):J.value,void(c.value=(new M.ProcessValue).getValue(T,ie))}this.getProcessedValuesWithoutQuestion(c)}},C.prototype.getProcessedValuesWithoutQuestion=function(c){var T=this.getValue(c.name);if(void 0!==T)return c.isExists=!0,void(c.value=T);var I=new M.ProcessValue,H=I.getFirstName(c.name);if(H!==c.name){var J={},se=this.getValue(H);L.Helpers.isValueEmpty(se)&&(se=this.getVariable(H)),!L.Helpers.isValueEmpty(se)&&(J[H]=se,c.value=I.getValue(c.name,J),c.isExists=I.hasValue(c.name,J))}},C.prototype.getFirstName=function(c){var T;c=c.toLowerCase();do{T=this.getQuestionByValueName(c,!0),c=this.reduceFirstName(c)}while(!T&&c);return T},C.prototype.reduceFirstName=function(c){var T=c.lastIndexOf("."),I=c.lastIndexOf("[");if(T<0&&I<0)return"";var H=Math.max(T,I);return c.substring(0,H)},C.prototype.clearUnusedValues=function(){for(var c=this.getAllQuestions(),T=0;T<c.length;T++)c[T].clearUnusedValues();this.clearInvisibleQuestionValues()},C.prototype.hasVisibleQuestionByValueName=function(c){var T=this.getQuestionsByValueName(c);if(!T)return!1;for(var I=0;I<T.length;I++){var H=T[I];if(H.isVisible&&H.isParentVisible&&!H.parentQuestion)return!0}return!1},C.prototype.questionCountByValueName=function(c){var T=this.getQuestionsByValueName(c);return T?T.length:0},C.prototype.clearInvisibleQuestionValues=function(){for(var c="none"===this.clearInvisibleValues?"none":"onComplete",T=this.getAllQuestions(),I=0;I<T.length;I++)T[I].clearValueIfInvisible(c)},C.prototype.getVariable=function(c){if(!c)return null;c=c.toLowerCase();var T=this.variablesHash[c];return this.isValueEmpty(T)&&(c.indexOf(".")>-1||c.indexOf("[")>-1)&&(new M.ProcessValue).hasValue(c,this.variablesHash)?(new M.ProcessValue).getValue(c,this.variablesHash):T},C.prototype.setVariable=function(c,T){!c||(this.valuesHash&&delete this.valuesHash[c],c=c.toLowerCase(),this.variablesHash[c]=T,this.notifyElementsOnAnyValueOrVariableChanged(c),this.runConditionOnValueChanged(c,T),this.onVariableChanged.fire(this,{name:c,value:T}))},C.prototype.getVariableNames=function(){var c=[];for(var T in this.variablesHash)c.push(T);return c},C.prototype.getUnbindValue=function(c){return this.editingObj?c:L.Helpers.getUnbindValue(c)},C.prototype.getValue=function(c){if(!c||0==c.length)return null;var T=this.getDataValueCore(this.valuesHash,c);return this.getUnbindValue(T)},C.prototype.setValue=function(c,T,I,H){void 0===I&&(I=!1),void 0===H&&(H=!0);var J=T;if(H&&(J=this.questionOnValueChanging(c,T)),(!this.isValidateOnValueChanging||!this.checkErrorsOnValueChanging(c,J))&&(this.editingObj||!this.isValueEqual(c,J)||!this.isTwoValueEquals(J,T))){var se=this.getValue(c);this.isValueEmpty(J)?this.deleteDataValueCore(this.valuesHash,c):(J=this.getUnbindValue(J),this.setDataValueCore(this.valuesHash,c,J)),this.updateOnSetValue(c,J,se,I,H)}},C.prototype.updateOnSetValue=function(c,T,I,H,J){if(void 0===H&&(H=!1),void 0===J&&(J=!0),this.updateQuestionValue(c,T),!0!==H&&!this.isDisposed&&!this.isRunningElementsBindings){var se={};se[c]={newValue:T,oldValue:I},this.runConditionOnValueChanged(c,T),this.checkTriggers(se,!1),J&&this.notifyQuestionOnValueChanged(c,T),"text"!==H&&this.tryGoNextPageAutomatic(c)}},C.prototype.isValueEqual=function(c,T){(""===T||void 0===T)&&(T=null);var I=this.getValue(c);return(""===I||void 0===I)&&(I=null),null===T||null===I?T===I:this.isTwoValueEquals(T,I)},C.prototype.doOnPageAdded=function(c){c.setSurveyImpl(this),c.name||(c.name=this.generateNewName(this.pages,"page")),this.questionHashesPanelAdded(c),this.updateVisibleIndexes(),this.runningPages||(this.isLoadingFromJson||(this.updateProgressText(),this.updateCurrentPage()),this.onPageAdded.fire(this,{page:c}))},C.prototype.doOnPageRemoved=function(c){c.setSurveyImpl(null),!this.runningPages&&(c===this.currentPage&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.updateProgressText(),this.updateLazyRenderingRowsOnRemovingElements())},C.prototype.generateNewName=function(c,T){for(var I={},H=0;H<c.length;H++)I[c[H].name]=!0;for(var J=1;I[T+J];)J++;return T+J},C.prototype.tryGoNextPageAutomatic=function(c){if(!this.isEndLoadingFromJson&&this.goNextPageAutomatic&&this.currentPage){var T=this.getQuestionByValueName(c);if(T&&(!T||T.visible&&T.supportGoNextPageAutomatic())&&(T.validate(!1)||T.supportGoNextPageError())){var I=this.getCurrentPageQuestions();if(!(I.indexOf(T)<0)){for(var H=0;H<I.length;H++)if(I[H].hasInput&&I[H].isEmpty())return;this.checkIsCurrentPageHasErrors(!1)||(this.isLastPage?!0===this.goNextPageAutomatic&&this.allowCompleteSurveyAutomatic&&(this.isShowPreviewBeforeComplete?this.showPreview():this.completeLastPage()):this.nextPage())}}}},C.prototype.getComment=function(c){return this.getValue(c+this.commentSuffix)||""},C.prototype.setComment=function(c,T,I){if(void 0===I&&(I=!1),T||(T=""),!this.isTwoValueEquals(T,this.getComment(c))){var H=c+this.commentSuffix;this.isValueEmpty(T)?this.deleteDataValueCore(this.valuesHash,H):this.setDataValueCore(this.valuesHash,H,T);var J=this.getQuestionsByValueName(c);if(J)for(var se=0;se<J.length;se++)J[se].updateCommentFromSurvey(T),this.checkQuestionErrorOnValueChanged(J[se]);I||this.runConditionOnValueChanged(c,this.getValue(c)),"text"!==I&&this.tryGoNextPageAutomatic(c);var he=this.getQuestionByName(c);he&&this.onValueChanged.fire(this,{name:H,question:he,value:T})}},C.prototype.clearValue=function(c){this.setValue(c,null),this.setComment(c,null)},Object.defineProperty(C.prototype,"clearValueOnDisableItems",{get:function(){return this.getPropertyValue("clearValueOnDisableItems",!1)},set:function(c){this.setPropertyValue("clearValueOnDisableItems",c)},enumerable:!1,configurable:!0}),C.prototype.getQuestionClearIfInvisible=function(c){return this.isShowingPreview||this.runningPages?"none":"default"!==c?c:this.clearInvisibleValues},C.prototype.questionVisibilityChanged=function(c,T){this.updateVisibleIndexes(),this.onQuestionVisibleChanged.fire(this,{question:c,name:c.name,visible:T})},C.prototype.pageVisibilityChanged=function(c,T){this.isLoadingFromJson||((T&&!this.currentPage||c===this.currentPage)&&this.updateCurrentPage(),this.updateVisibleIndexes(),this.onPageVisibleChanged.fire(this,{page:c,visible:T}))},C.prototype.panelVisibilityChanged=function(c,T){this.updateVisibleIndexes(),this.onPanelVisibleChanged.fire(this,{panel:c,visible:T})},C.prototype.questionCreated=function(c){this.onQuestionCreated.fire(this,{question:c})},C.prototype.questionAdded=function(c,T,I,H){c.name||(c.name=this.generateNewName(this.getAllQuestions(!1,!0),"question")),c.page&&this.questionHashesAdded(c),this.currentPage||this.updateCurrentPage(),this.updateVisibleIndexes(),this.setCalculatedWidthModeUpdater(),(!this.isMovingQuestion||this.isDesignMode&&!u.settings.supportCreatorV2)&&this.onQuestionAdded.fire(this,{question:c,name:c.name,index:T,parent:I,page:H,parentPanel:I,rootPanel:H})},C.prototype.questionRemoved=function(c){this.questionHashesRemoved(c,c.name,c.getValueName()),this.updateVisibleIndexes(),this.onQuestionRemoved.fire(this,{question:c,name:c.name}),this.updateLazyRenderingRowsOnRemovingElements()},C.prototype.questionRenamed=function(c,T,I){this.questionHashesRemoved(c,T,I),this.questionHashesAdded(c)},C.prototype.questionHashesClear=function(){this.questionHashes.names={},this.questionHashes.namesInsensitive={},this.questionHashes.valueNames={},this.questionHashes.valueNamesInsensitive={}},C.prototype.questionHashesPanelAdded=function(c){if(!this.isLoadingFromJson)for(var T=c.questions,I=0;I<T.length;I++)this.questionHashesAdded(T[I])},C.prototype.questionHashesAdded=function(c){this.questionHashAddedCore(this.questionHashes.names,c,c.name),this.questionHashAddedCore(this.questionHashes.namesInsensitive,c,c.name.toLowerCase()),this.questionHashAddedCore(this.questionHashes.valueNames,c,c.getValueName()),this.questionHashAddedCore(this.questionHashes.valueNamesInsensitive,c,c.getValueName().toLowerCase())},C.prototype.questionHashesRemoved=function(c,T,I){T&&(this.questionHashRemovedCore(this.questionHashes.names,c,T),this.questionHashRemovedCore(this.questionHashes.namesInsensitive,c,T.toLowerCase())),I&&(this.questionHashRemovedCore(this.questionHashes.valueNames,c,I),this.questionHashRemovedCore(this.questionHashes.valueNamesInsensitive,c,I.toLowerCase()))},C.prototype.questionHashAddedCore=function(c,T,I){var H;(H=c[I])?(H=c[I]).indexOf(T)<0&&H.push(T):c[I]=[T]},C.prototype.questionHashRemovedCore=function(c,T,I){var H=c[I];if(H){var J=H.indexOf(T);J>-1&&H.splice(J,1),0==H.length&&delete c[I]}},C.prototype.panelAdded=function(c,T,I,H){c.name||(c.name=this.generateNewName(this.getAllPanels(!1,!0),"panel")),this.questionHashesPanelAdded(c),this.updateVisibleIndexes(),this.onPanelAdded.fire(this,{panel:c,name:c.name,index:T,parent:I,page:H,parentPanel:I,rootPanel:H})},C.prototype.panelRemoved=function(c){this.updateVisibleIndexes(),this.onPanelRemoved.fire(this,{panel:c,name:c.name}),this.updateLazyRenderingRowsOnRemovingElements()},C.prototype.validateQuestion=function(c){if(this.onValidateQuestion.isEmpty)return null;var T={name:c.name,question:c,value:c.value,error:null};return this.onValidateQuestion.fire(this,T),T.error?new P.CustomError(T.error,this):null},C.prototype.validatePanel=function(c){if(this.onValidatePanel.isEmpty)return null;var T={name:c.name,panel:c,error:null};return this.onValidatePanel.fire(this,T),T.error?new P.CustomError(T.error,this):null},C.prototype.processHtml=function(c,T){T||(T="");var I={html:c,reason:T};return this.onProcessHtml.fire(this,I),this.processText(I.html,!0)},C.prototype.processText=function(c,T){return this.processTextEx(c,T,!1).text},C.prototype.processTextEx=function(c,T,I){var H={text:this.processTextCore(c,T,I),hasAllValuesOnLastRun:!0};return H.hasAllValuesOnLastRun=this.textPreProcessor.hasAllValuesOnLastRun,H},C.prototype.processTextCore=function(c,T,I){return void 0===I&&(I=!1),this.isDesignMode?c:this.textPreProcessor.process(c,T,I)},C.prototype.getSurveyMarkdownHtml=function(c,T,I){var H={element:c,text:T,name:I,html:null};return this.onTextMarkdown.fire(this,H),H.html},C.prototype.getCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},C.prototype.getCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!0)},C.prototype.getQuizQuestionCount=function(){for(var c=this.getQuizQuestions(),T=0,I=0;I<c.length;I++)T+=c[I].quizQuestionCount;return T},C.prototype.getInCorrectedAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},C.prototype.getInCorrectAnswerCount=function(){return this.getCorrectedAnswerCountCore(!1)},C.prototype.onCorrectQuestionAnswer=function(c,T){this.onIsAnswerCorrect.isEmpty||(T.question=c,this.onIsAnswerCorrect.fire(this,T))},C.prototype.getCorrectedAnswerCountCore=function(c){for(var T=this.getQuizQuestions(),I=0,H={question:null,result:!1,correctAnswers:0,incorrectAnswers:0},J=0;J<T.length;J++){var se=T[J],he=se.quizQuestionCount;if(H.question=se,H.correctAnswers=se.correctAnswerCount,H.incorrectAnswers=he-H.correctAnswers,H.result=H.question.isAnswerCorrect(),this.onIsAnswerCorrect.fire(this,H),c){if(H.result||H.correctAnswers<he){var ie=H.correctAnswers;0==ie&&H.result&&(ie=1),I+=ie}}else(!H.result||H.incorrectAnswers<he)&&(I+=H.incorrectAnswers)}return I},C.prototype.getCorrectedAnswers=function(){return this.getCorrectedAnswerCount()},C.prototype.getInCorrectedAnswers=function(){return this.getInCorrectedAnswerCount()},Object.defineProperty(C.prototype,"showTimerPanel",{get:function(){return this.getPropertyValue("showTimerPanel")},set:function(c){this.setPropertyValue("showTimerPanel",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isTimerPanelShowingOnTop",{get:function(){return"top"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"isTimerPanelShowingOnBottom",{get:function(){return"bottom"==this.showTimerPanel},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"showTimerPanelMode",{get:function(){return this.getPropertyValue("showTimerPanelMode")},set:function(c){this.setPropertyValue("showTimerPanelMode",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"widthMode",{get:function(){return this.getPropertyValue("widthMode")},set:function(c){this.setPropertyValue("widthMode",c)},enumerable:!1,configurable:!0}),C.prototype.setCalculatedWidthModeUpdater=function(){var c=this;this.calculatedWidthModeUpdater&&this.calculatedWidthModeUpdater.dispose(),this.calculatedWidthModeUpdater=new j.ComputedUpdater(function(){return c.calculateWidthMode()}),this.calculatedWidthMode=this.calculatedWidthModeUpdater},C.prototype.calculateWidthMode=function(){if("auto"==this.widthMode){var c=!1;return this.pages.forEach(function(T){T.needResponsiveWidth()&&(c=!0)}),c?"responsive":"static"}return this.widthMode},Object.defineProperty(C.prototype,"width",{get:function(){return this.getPropertyValue("width")},set:function(c){this.setPropertyValue("width",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"renderedWidth",{get:function(){var c=this.getPropertyValue("width");return c&&!isNaN(c)&&(c+="px"),"static"==this.getPropertyValue("calculatedWidthMode")&&c||void 0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"timerInfo",{get:function(){return this.getTimerInfo()},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"timerClock",{get:function(){var c,T;if(this.currentPage){var I=this.getTimerInfo(),H=I.spent,J=I.limit,se=I.minorSpent,he=I.minorLimit;c=this.getDisplayClockTime(J>0?J-H:H),void 0!==se&&(T=this.getDisplayClockTime(he>0?he-se:se))}return{majorText:c,minorText:T}},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"timerInfoText",{get:function(){var c={text:this.getTimerInfoText()};this.onTimerPanelInfoText.fire(this,c);var T=new y.LocalizableString(this,!0);return T.text=c.text,T.textOrHtml},enumerable:!1,configurable:!0}),C.prototype.getTimerInfo=function(){var c=this.currentPage;if(!c)return{spent:0,limit:0};var T=c.timeSpent,I=this.timeSpent,H=this.getPageMaxTimeToFinish(c),J=this.maxTimeToFinish;return"page"==this.showTimerPanelMode?{spent:T,limit:H}:"survey"==this.showTimerPanelMode?{spent:I,limit:J}:H>0&&J>0?{spent:T,limit:H,minorSpent:I,minorLimit:J}:H>0?{spent:T,limit:H,minorSpent:I}:J>0?{spent:I,limit:J,minorSpent:T}:{spent:T,minorSpent:I}},C.prototype.getTimerInfoText=function(){var c=this.currentPage;if(!c)return"";var T=this.getDisplayTime(c.timeSpent),I=this.getDisplayTime(this.timeSpent),H=this.getPageMaxTimeToFinish(c),J=this.getDisplayTime(H),se=this.getDisplayTime(this.maxTimeToFinish);return"page"==this.showTimerPanelMode?this.getTimerInfoPageText(c,T,J):"survey"==this.showTimerPanelMode?this.getTimerInfoSurveyText(I,se):"all"==this.showTimerPanelMode?H<=0&&this.maxTimeToFinish<=0?this.getLocalizationFormatString("timerSpentAll",T,I):H>0&&this.maxTimeToFinish>0?this.getLocalizationFormatString("timerLimitAll",T,J,I,se):this.getTimerInfoPageText(c,T,J)+" "+this.getTimerInfoSurveyText(I,se):""},C.prototype.getTimerInfoPageText=function(c,T,I){return this.getPageMaxTimeToFinish(c)>0?this.getLocalizationFormatString("timerLimitPage",T,I):this.getLocalizationFormatString("timerSpentPage",T,I)},C.prototype.getTimerInfoSurveyText=function(c,T){return this.getLocalizationFormatString(this.maxTimeToFinish>0?"timerLimitSurvey":"timerSpentSurvey",c,T)},C.prototype.getDisplayClockTime=function(c){var T=Math.floor(c/60),I=c%60,H=I.toString();return I<10&&(H="0"+H),T+":"+H},C.prototype.getDisplayTime=function(c){var T=Math.floor(c/60),I=c%60,H="";return T>0&&(H+=T+" "+this.getLocalizationString("timerMin")),H&&0==I?H:(H&&(H+=" "),H+I+" "+this.getLocalizationString("timerSec"))},Object.defineProperty(C.prototype,"timerModel",{get:function(){return this.timerModelValue},enumerable:!1,configurable:!0}),C.prototype.startTimer=function(){this.timerModel.start()},C.prototype.startTimerFromUI=function(){"none"!=this.showTimerPanel&&"running"===this.state&&this.startTimer()},C.prototype.stopTimer=function(){this.timerModel.stop()},Object.defineProperty(C.prototype,"timeSpent",{get:function(){return this.timerModel.spent},set:function(c){this.timerModel.spent=c},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"maxTimeToFinish",{get:function(){return this.getPropertyValue("maxTimeToFinish",0)},set:function(c){this.setPropertyValue("maxTimeToFinish",c)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"maxTimeToFinishPage",{get:function(){return this.getPropertyValue("maxTimeToFinishPage",0)},set:function(c){this.setPropertyValue("maxTimeToFinishPage",c)},enumerable:!1,configurable:!0}),C.prototype.getPageMaxTimeToFinish=function(c){return!c||c.maxTimeToFinish<0?0:c.maxTimeToFinish>0?c.maxTimeToFinish:this.maxTimeToFinishPage},C.prototype.doTimer=function(c){if(this.onTimer.fire(this,{}),this.maxTimeToFinish>0&&this.maxTimeToFinish==this.timeSpent&&this.completeLastPage(),c){var T=this.getPageMaxTimeToFinish(c);T>0&&T==c.timeSpent&&(this.isLastPage?this.completeLastPage():this.nextPage())}},Object.defineProperty(C.prototype,"inSurvey",{get:function(){return!0},enumerable:!1,configurable:!0}),C.prototype.getSurveyData=function(){return this},C.prototype.getSurvey=function(){return this},C.prototype.getTextProcessor=function(){return this},C.prototype.getObjects=function(c,T){var I=[];return Array.prototype.push.apply(I,this.getPagesByNames(c)),Array.prototype.push.apply(I,this.getQuestionsByNames(T)),I},C.prototype.setTriggerValue=function(c,T,I){if(c)if(I)this.setVariable(c,T);else{var H=this.getQuestionByName(c);if(H)H.value=T;else{var J=new M.ProcessValue,se=J.getFirstName(c);if(se==c)this.setValue(c,T);else{if(!this.getQuestionByName(se))return;var he=this.getUnbindValue(this.getFilteredValues());J.setValue(he,c,T),this.setValue(se,he[se])}}}},C.prototype.copyTriggerValue=function(c,T,I){var H;c&&T&&(H=I?this.processText("{"+T+"}",!0):(new M.ProcessValue).getValue(T,this.getFilteredValues()),this.setTriggerValue(c,H,!1))},C.prototype.triggerExecuted=function(c){this.onTriggerExecuted.fire(this,{trigger:c})},C.prototype.startMovingQuestion=function(){this.isMovingQuestion=!0},C.prototype.stopMovingQuestion=function(){this.isMovingQuestion=!1},C.prototype.focusQuestion=function(c){return this.focusQuestionByInstance(this.getQuestionByName(c,!0))},C.prototype.focusQuestionByInstance=function(c,T){var I;if(void 0===T&&(T=!1),!c||!c.isVisible||!c.page)return!1;if((null===(I=this.focusingQuestionInfo)||void 0===I?void 0:I.question)===c)return!1;this.focusingQuestionInfo={question:c,onError:T},this.skippedPages.push({from:this.currentPage,to:c.page});var J=this.activePage!==c.page&&!c.page.isStartPage;return J&&(this.currentPage=c.page),J||this.focusQuestionInfo(),!0},C.prototype.focusQuestionInfo=function(){var c,T=null===(c=this.focusingQuestionInfo)||void 0===c?void 0:c.question;!!T&&!T.isDisposed&&T.focus(this.focusingQuestionInfo.onError),this.focusingQuestionInfo=void 0},C.prototype.questionEditFinishCallback=function(c,T){var I=this.enterKeyAction||u.settings.enterKeyAction;if("loseFocus"==I&&T.target.blur(),"moveToNextEditor"==I){var H=this.currentPage.questions,J=H.indexOf(c);J>-1&&J<H.length-1?H[J+1].focus():T.target.blur()}},C.prototype.getElementWrapperComponentName=function(c,T){return"logo-image"===T?"sv-logo-image":C.TemplateRendererComponentName},C.prototype.getQuestionContentWrapperComponentName=function(c){return C.TemplateRendererComponentName},C.prototype.getRowWrapperComponentName=function(c){return C.TemplateRendererComponentName},C.prototype.getElementWrapperComponentData=function(c,T){return c},C.prototype.getRowWrapperComponentData=function(c){return c},C.prototype.getItemValueWrapperComponentName=function(c,T){return C.TemplateRendererComponentName},C.prototype.getItemValueWrapperComponentData=function(c,T){return c},C.prototype.getMatrixCellTemplateData=function(c){return c.question},C.prototype.searchText=function(c){c&&(c=c.toLowerCase());for(var T=[],I=0;I<this.pages.length;I++)this.pages[I].searchText(c,T);return T},C.prototype.getSkeletonComponentName=function(c){return this.skeletonComponentName},C.prototype.addLayoutElement=function(c){var T=this.removeLayoutElement(c.id);return this.layoutElements.push(c),T},C.prototype.removeLayoutElement=function(c){var T=this.layoutElements.filter(function(H){return H.id===c})[0];if(T){var I=this.layoutElements.indexOf(T);this.layoutElements.splice(I,1)}return T},C.prototype.getContainerContent=function(c){for(var T=[],I=0,H=this.layoutElements;I<H.length;I++){var J=H[I];f(J.id,"timerpanel")?("header"===c&&this.isTimerPanelShowingOnTop&&!this.isShowStartingPage&&T.push(J),"footer"===c&&this.isTimerPanelShowingOnBottom&&!this.isShowStartingPage&&T.push(J)):"running"===this.state&&f(J.id,"progress-"+this.progressBarType)?("header"===c&&this.isShowProgressBarOnTop&&!this.isShowStartingPage&&T.push(J),"contentBottom"===c&&this.isShowProgressBarOnBottom&&!this.isShowStartingPage&&T.push(J)):f(J.id,"navigationbuttons")?("contentTop"===c&&-1!==["top","both"].indexOf(this.isNavigationButtonsShowing)&&T.push(J),"contentBottom"===c&&-1!==["bottom","both"].indexOf(this.isNavigationButtonsShowing)&&T.push(J)):"running"===this.state&&f(J.id,"toc-navigation")&&this.showTOC?("left"===c&&-1!==["left","both"].indexOf(this.tocLocation)&&T.push(J),"right"===c&&-1!==["right","both"].indexOf(this.tocLocation)&&T.push(J)):(Array.isArray(J.container)&&-1!==J.container.indexOf(c)||J.container===c)&&T.push(J)}return T},C.prototype.processPopupVisiblityChanged=function(c,T,I){this.onPopupVisibleChanged.fire(this,{question:c,popup:T,visible:I})},C.prototype.applyTheme=function(c){var T=this;!c||(Object.keys(c).forEach(function(I){"isPanelless"===I?T.isCompact=c[I]:T[I]=c[I]}),this.onThemeApplied.fire(this,{}))},C.prototype.dispose=function(){if(this.currentPage=null,this.destroyResizeObserver(),b.prototype.dispose.call(this),this.editingObj=null,this.pages){for(var c=0;c<this.pages.length;c++)this.pages[c].setSurveyImpl(void 0),this.pages[c].dispose();this.pages.splice(0,this.pages.length),this.disposeCallback&&this.disposeCallback()}},C.TemplateRendererComponentName="sv-template-renderer",C.stylesManager=null,C.platform="unknown",B([Object(K.property)()],C.prototype,"completedCss",void 0),B([Object(K.property)()],C.prototype,"containerCss",void 0),B([Object(K.property)()],C.prototype,"showBrandInfo",void 0),B([Object(K.property)()],C.prototype,"enterKeyAction",void 0),B([Object(K.property)({defaultValue:{}})],C.prototype,"cssVariables",void 0),B([Object(K.property)()],C.prototype,"_isMobile",void 0),B([Object(K.property)()],C.prototype,"_isCompact",void 0),B([Object(K.property)()],C.prototype,"renderBackgroundImage",void 0),B([Object(K.property)()],C.prototype,"backgroundImageFit",void 0),B([Object(K.property)()],C.prototype,"backgroundImageAttachment",void 0),B([Object(K.property)()],C.prototype,"rootCss",void 0),B([Object(K.property)()],C.prototype,"calculatedWidthMode",void 0),B([Object(K.propertyArray)()],C.prototype,"layoutElements",void 0),C}(F.SurveyElementCore);function f(b,C){return!(!b||!C)&&b.toUpperCase()===C.toUpperCase()}K.Serializer.addClass("survey",[{name:"locale",choices:function(){return D.surveyLocalization.getLocales(!0)},onGetValue:function(b){return b.locale==D.surveyLocalization.defaultLocale?null:b.locale}},{name:"title",serializationProperty:"locTitle",dependsOn:"locale"},{name:"description:text",serializationProperty:"locDescription",dependsOn:"locale"},{name:"logo",serializationProperty:"locLogo"},{name:"logoWidth",default:"300px",minValue:0},{name:"logoHeight",default:"200px",minValue:0},{name:"logoFit",default:"contain",choices:["none","contain","cover","fill"]},{name:"logoPosition",default:"left",choices:["none","left","right","top","bottom"]},{name:"focusFirstQuestionAutomatic:boolean",default:!0},{name:"focusOnFirstError:boolean",default:!0},{name:"completedHtml:html",serializationProperty:"locCompletedHtml"},{name:"completedBeforeHtml:html",serializationProperty:"locCompletedBeforeHtml"},{name:"completedHtmlOnCondition:htmlconditions",className:"htmlconditionitem"},{name:"loadingHtml:html",serializationProperty:"locLoadingHtml"},{name:"pages:surveypages",className:"page"},{name:"questions",alternativeName:"elements",baseClassName:"question",visible:!1,isLightSerializable:!1,onGetValue:function(b){return null},onSetValue:function(b,C,c){b.pages.splice(0,b.pages.length);var T=b.addNewPage("");c.toObject({questions:C},T)}},{name:"triggers:triggers",baseClassName:"surveytrigger",classNamePart:"trigger"},{name:"calculatedValues:calculatedvalues",className:"calculatedvalue"},{name:"surveyId",visible:!1},{name:"surveyPostId",visible:!1},{name:"surveyShowDataSaving:boolean",visible:!1},"cookieName","sendResultOnPageNext:boolean",{name:"showNavigationButtons",default:"bottom",choices:["none","top","bottom","both"]},{name:"showPrevButton:boolean",default:!0},{name:"showTitle:boolean",default:!0},{name:"showPageTitles:boolean",default:!0},{name:"showCompletedPage:boolean",default:!0},"navigateToUrl",{name:"navigateToUrlOnCondition:urlconditions",className:"urlconditionitem"},{name:"questionsOrder",default:"initial",choices:["initial","random"]},{name:"matrixDragHandleArea",visible:!1,default:"entireItem",choices:["entireItem","icon"]},"showPageNumbers:boolean",{name:"showQuestionNumbers",default:"on",choices:["on","onPage","off"]},{name:"questionTitleLocation",default:"top",choices:["top","bottom","left"]},{name:"questionDescriptionLocation",default:"underTitle",choices:["underInput","underTitle"]},{name:"questionErrorLocation",default:"top",choices:["top","bottom"]},{name:"showProgressBar",default:"off",choices:["off","top","bottom","both"]},{name:"progressBarType",default:"pages",choices:["pages","questions","requiredQuestions","correctQuestions","buttons"]},{name:"showTOC:switch",default:!1},{name:"tocLocation",default:"left",choices:["left","right"]},{name:"mode",default:"edit",choices:["edit","display"]},{name:"storeOthersAsComment:boolean",default:!0},{name:"maxTextLength:number",default:0,minValue:0},{name:"maxOthersLength:number",default:0,minValue:0},{name:"goNextPageAutomatic:boolean",onSetValue:function(b,C){"autogonext"!==C&&(C=L.Helpers.isTwoValueEquals(C,!0)),b.setPropertyValue("goNextPageAutomatic",C)}},{name:"clearInvisibleValues",default:"onComplete",choices:["none","onComplete","onHidden","onHiddenContainer"]},{name:"checkErrorsMode",default:"onNextPage",choices:["onNextPage","onValueChanged","onValueChanging","onComplete"]},{name:"textUpdateMode",default:"onBlur",choices:["onBlur","onTyping"]},{name:"autoGrowComment:boolean",default:!1},{name:"allowResizeComment:boolean",default:!0},{name:"startSurveyText",serializationProperty:"locStartSurveyText"},{name:"pagePrevText",serializationProperty:"locPagePrevText"},{name:"pageNextText",serializationProperty:"locPageNextText"},{name:"completeText",serializationProperty:"locCompleteText"},{name:"previewText",serializationProperty:"locPreviewText"},{name:"editText",serializationProperty:"locEditText"},{name:"requiredText",default:"*"},{name:"questionStartIndex",dependsOn:["showQuestionNumbers"],visibleIf:function(b){return!b||"off"!==b.showQuestionNumbers}},{name:"questionTitlePattern",default:"numTitleRequire",dependsOn:["questionStartIndex","requiredText"],choices:function(b){return b?b.getQuestionTitlePatternOptions():[]}},{name:"questionTitleTemplate",visible:!1,isSerializable:!1,serializationProperty:"locQuestionTitleTemplate"},{name:"firstPageIsStarted:boolean",default:!1},{name:"isSinglePage:boolean",default:!1,visible:!1,isSerializable:!1},{name:"questionsOnPageMode",default:"standard",choices:["singlePage","standard","questionPerPage"]},{name:"showPreviewBeforeComplete",default:"noPreview",choices:["noPreview","showAllQuestions","showAnsweredQuestions"]},{name:"maxTimeToFinish:number",default:0,minValue:0},{name:"maxTimeToFinishPage:number",default:0,minValue:0},{name:"showTimerPanel",default:"none",choices:["none","top","bottom"]},{name:"showTimerPanelMode",default:"all",choices:["all","page","survey"]},{name:"widthMode",default:"auto",choices:["auto","static","responsive"]},{name:"width",visibleIf:function(b){return"static"===b.widthMode}},{name:"backgroundImage",serializationProperty:"locBackgroundImage",visible:!1},{name:"backgroundImageFit",default:"cover",choices:["auto","contain","cover"],visible:!1},{name:"backgroundImageAttachment",default:"scroll",choices:["scroll","fixed"],visible:!1},{name:"backgroundOpacity:number",minValue:0,maxValue:1,default:1,visible:!1},{name:"showBrandInfo:boolean",default:!1,visible:!1}])},"./src/surveyProgress.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyProgressModel",function(){return K});var L=m("./src/utils/cssClassBuilder.ts"),K=function(){function j(){}return j.getProgressTextInBarCss=function(F){return(new L.CssClassBuilder).append(F.progressText).append(F.progressTextInBar).toString()},j.getProgressTextUnderBarCss=function(F){return(new L.CssClassBuilder).append(F.progressText).append(F.progressTextUnderBar).toString()},j}()},"./src/surveyProgressButtons.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyProgressButtonsModel",function(){return K});var L=m("./src/utils/cssClassBuilder.ts"),K=function(){function j(F){this.survey=F}return j.prototype.isListElementClickable=function(F){return!(this.survey.onServerValidateQuestions&&!this.survey.onServerValidateQuestions.isEmpty&&"onComplete"!==this.survey.checkErrorsMode)||F<=this.survey.currentPageNo+1},j.prototype.getListElementCss=function(F){if(!(F>=this.survey.visiblePages.length))return(new L.CssClassBuilder).append(this.survey.css.progressButtonsListElementPassed,this.survey.visiblePages[F].passed).append(this.survey.css.progressButtonsListElementCurrent,this.survey.currentPageNo===F).append(this.survey.css.progressButtonsListElementNonClickable,!this.isListElementClickable(F)).toString()},j.prototype.getScrollButtonCss=function(F,S){return(new L.CssClassBuilder).append(this.survey.css.progressButtonsImageButtonLeft,S).append(this.survey.css.progressButtonsImageButtonRight,!S).append(this.survey.css.progressButtonsImageButtonHidden,!F).toString()},j.prototype.clickListElement=function(F){if(!this.survey.isDesignMode)if(F<this.survey.currentPageNo)this.survey.currentPageNo=F;else if(F>this.survey.currentPageNo)for(var S=this.survey.currentPageNo;S<F&&this.survey.nextPage();S++);},j}()},"./src/surveyStrings.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"surveyLocalization",function(){return K}),m.d(V,"surveyStrings",function(){return j});var L=m("./src/localization/english.ts"),K={currentLocaleValue:"",defaultLocaleValue:"en",locales:{},localeNames:{},supportedLocales:[],get currentLocale(){return this.currentLocaleValue===this.defaultLocaleValue?"":this.currentLocaleValue},set currentLocale(F){"cz"===F&&(F="cs"),this.currentLocaleValue=F},get defaultLocale(){return this.defaultLocaleValue},set defaultLocale(F){"cz"===F&&(F="cs"),this.defaultLocaleValue=F},getLocaleStrings:function(F){return this.locales[F]},getString:function(F,S){var w=this;void 0===S&&(S=null);var M=new Array,h=function(v){var E=w.locales[v];E&&M.push(E)},D=function(v){if(v){h(v);var E=v.indexOf("-");E<1||(v=v.substring(0,E),h(v))}};D(S),D(this.currentLocale),D(this.defaultLocale),"en"!==this.defaultLocale&&h("en");for(var P=0;P<M.length;P++){var y=M[P][F];if(void 0!==y)return y}return this.onGetExternalString(F,S)},getLocales:function(F){void 0===F&&(F=!1);var S=[];S.push("");var w=this.locales;if(this.supportedLocales&&this.supportedLocales.length>0){w={};for(var M=0;M<this.supportedLocales.length;M++)w[this.supportedLocales[M]]=!0}for(var h in w)F&&h==this.defaultLocale||S.push(h);var D=function(P){if(!P)return"";var y=K.localeNames[P];return y||(y=P),y.toLowerCase()};return S.sort(function(P,y){var v=D(P),E=D(y);return v===E?0:v<E?-1:1}),S},onGetExternalString:function(F,S){}},j=L.englishStrings;K.locales.en=L.englishStrings,K.localeNames.en="english"},"./src/surveyTimerModel.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SurveyTimerModel",function(){return M});var h,L=m("./src/base.ts"),K=m("./src/surveytimer.ts"),j=m("./src/jsonobject.ts"),F=m("./src/utils/cssClassBuilder.ts"),S=(h=function(D,P){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])})(D,P)},function(D,P){if("function"!=typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function y(){this.constructor=D}h(D,P),D.prototype=null===P?Object.create(P):(y.prototype=P.prototype,new y)}),w=function(h,D,P,y){var g,v=arguments.length,E=v<3?D:null===y?y=Object.getOwnPropertyDescriptor(D,P):y;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)E=Reflect.decorate(h,D,P,y);else for(var u=h.length-1;u>=0;u--)(g=h[u])&&(E=(v<3?g(E):v>3?g(D,P,E):g(D,P))||E);return v>3&&E&&Object.defineProperty(D,P,E),E},M=function(h){function D(P){var y=h.call(this)||this;return y.timerFunc=null,y.surveyValue=P,y.onCreating(),y}return S(D,h),Object.defineProperty(D.prototype,"survey",{get:function(){return this.surveyValue},enumerable:!1,configurable:!0}),D.prototype.onCreating=function(){},D.prototype.start=function(){var P=this;!this.survey||this.isRunning||this.isDesignMode||(this.survey.onCurrentPageChanged.add(function(){P.update()}),this.timerFunc=function(){P.doTimer()},this.setIsRunning(!0),this.update(),K.SurveyTimer.instance.start(this.timerFunc))},D.prototype.stop=function(){!this.isRunning||(this.setIsRunning(!1),K.SurveyTimer.instance.stop(this.timerFunc))},Object.defineProperty(D.prototype,"isRunning",{get:function(){return this.getPropertyValue("isRunning",!1)},enumerable:!1,configurable:!0}),D.prototype.setIsRunning=function(P){this.setPropertyValue("isRunning",P)},D.prototype.update=function(){this.updateText(),this.updateProgress()},D.prototype.doTimer=function(){var P=this.survey.currentPage;P&&(P.timeSpent=P.timeSpent+1),this.spent=this.spent+1,this.update(),this.onTimer&&this.onTimer(P)},D.prototype.updateProgress=function(){var P=this,y=this.survey.timerInfo,v=y.spent,E=y.limit;E?0==v?(this.progress=0,setTimeout(function(){P.progress=Math.floor((v+1)/E*100)/100},0)):v!==E&&(this.progress=Math.floor((v+1)/E*100)/100):this.progress=void 0},D.prototype.updateText=function(){var P=this.survey.timerClock;this.clockMajorText=P.majorText,this.clockMinorText=P.minorText,this.text=this.survey.timerInfoText},Object.defineProperty(D.prototype,"showProgress",{get:function(){return void 0!==this.progress},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"showTimerAsClock",{get:function(){return!!this.survey.getCss().clockTimerRoot},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"rootCss",{get:function(){return(new F.CssClassBuilder).append(this.survey.getCss().clockTimerRoot).append(this.survey.getCss().clockTimerRootTop,this.survey.isTimerPanelShowingOnTop).append(this.survey.getCss().clockTimerRootBottom,this.survey.isTimerPanelShowingOnBottom).toString()},enumerable:!1,configurable:!0}),D.prototype.getProgressCss=function(){return(new F.CssClassBuilder).append(this.survey.getCss().clockTimerProgress).append(this.survey.getCss().clockTimerProgressAnimation,this.progress>0).toString()},Object.defineProperty(D.prototype,"textContainerCss",{get:function(){return this.survey.getCss().clockTimerTextContainer},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"minorTextCss",{get:function(){return this.survey.getCss().clockTimerMinorText},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"majorTextCss",{get:function(){return this.survey.getCss().clockTimerMajorText},enumerable:!1,configurable:!0}),w([Object(j.property)()],D.prototype,"text",void 0),w([Object(j.property)()],D.prototype,"progress",void 0),w([Object(j.property)()],D.prototype,"clockMajorText",void 0),w([Object(j.property)()],D.prototype,"clockMinorText",void 0),w([Object(j.property)({defaultValue:0})],D.prototype,"spent",void 0),D}(L.Base)},"./src/surveyToc.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"tryNavigateToPage",function(){return M}),m.d(V,"tryFocusPage",function(){return h}),m.d(V,"createTOCListModel",function(){return D}),m.d(V,"getTocRootCss",function(){return P}),m.d(V,"TOCModel",function(){return y});var L=m("./src/actions/action.ts"),K=m("./src/base.ts"),j=m("./src/list.ts"),F=m("./src/page.ts"),S=m("./src/popup.ts"),w=m("./src/utils/devices.ts");function M(v,E){if(!v.isDesignMode){var g=v.visiblePages.indexOf(E);if(g<v.currentPageNo)v.currentPageNo=g;else if(g>v.currentPageNo)for(var u=v.currentPageNo;u<g;u++)if(!v.nextPageUIClick())return!1;return!0}}function h(v,E){return v.isDesignMode||E.focusFirstQuestion(),!0}function D(v,E){var g,u="singlePage"===v.questionsOnPageMode?null===(g=v.pages[0])||void 0===g?void 0:g.elements:v.pages,l=(u||[]).map(function(i){return new L.Action({id:i.name,title:i.navigationTitle||i.title||i.name,action:function(){return void 0!==typeof document&&!!document.activeElement&&!!document.activeElement.blur&&document.activeElement.blur(),!!E&&E(),i instanceof F.PageModel?M(v,i):h(v,i)},visible:new K.ComputedUpdater(function(){return i.isVisible&&!i.isStartPage})})}),a=new j.ListModel(l,function(i){i.action()&&(a.selectedItem=i)},!0,l.filter(function(i){return i.id===v.currentPage.name})[0]||l.filter(function(i){return i.id===u[0].name})[0]);return a.allowSelection=!1,a.locOwner=v,v.onCurrentPageChanged.add(function(i,o){a.selectedItem=l.filter(function(p){return p.id===v.currentPage.name})[0]}),a}function P(v,E){return void 0===E&&(E=!1),E?"sv_progress-toc sv_progress-toc--mobile":"sv_progress-toc sv_progress-toc--"+(v.tocLocation||"").toLowerCase()}var y=function(){function v(E){var g=this;this.survey=E,this.isMobile=w.IsTouch,this.icon="icon-navmenu_24x24",this.togglePopup=function(){g.popupModel.toggleVisibility()},this.listModel=D(E,function(){g.popupModel.isVisible=!1}),this.popupModel=new S.PopupModel("sv-list",{model:this.listModel}),this.popupModel.displayMode=this.isMobile?"overlay":"popup"}return Object.defineProperty(v.prototype,"containerCss",{get:function(){return P(this.survey,this.isMobile)},enumerable:!1,configurable:!0}),v}()},"./src/surveytimer.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"surveyTimerFunctions",function(){return K}),m.d(V,"SurveyTimer",function(){return j});var L=m("./src/base.ts"),K={setTimeout:function(F){return"undefined"==typeof window?0:window.setTimeout(F,1e3)},clearTimeout:function(F){"undefined"!=typeof window&&window.clearTimeout(F)}},j=function(){function F(){this.listenerCounter=0,this.timerId=-1,this.onTimer=new L.Event}return Object.defineProperty(F,"instance",{get:function(){return F.instanceValue||(F.instanceValue=new F),F.instanceValue},enumerable:!1,configurable:!0}),F.prototype.start=function(S){var w=this;void 0===S&&(S=null),S&&this.onTimer.add(S),this.timerId<0&&(this.timerId=K.setTimeout(function(){w.doTimer()})),this.listenerCounter++},F.prototype.stop=function(S){void 0===S&&(S=null),S&&this.onTimer.remove(S),this.listenerCounter--,0==this.listenerCounter&&this.timerId>-1&&(K.clearTimeout(this.timerId),this.timerId=-1)},F.prototype.doTimer=function(){var S=this;if((this.onTimer.isEmpty||0==this.listenerCounter)&&(this.timerId=-1),!(this.timerId<0)){var w=this.timerId;this.onTimer.fire(this,{}),w===this.timerId&&(this.timerId=K.setTimeout(function(){S.doTimer()}))}},F.instanceValue=null,F}()},"./src/svgbundle.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"SvgIconRegistry",function(){return F}),m.d(V,"SvgRegistry",function(){return S}),m.d(V,"SvgBundleViewModel",function(){});var L=m("./src/settings.ts"),K=m("./src/utils/utils.ts"),F=function(){function D(){this.icons={},this.iconPrefix="icon-"}return D.prototype.registerIconFromSymbol=function(P,y){this.icons[P]=y},D.prototype.registerIconFromSvgViaElement=function(P,y,v){void 0===v&&(v=this.iconPrefix);var E=document.createElement("div");E.innerHTML=y;var g=document.createElement("symbol"),u=E.querySelector("svg");g.innerHTML=u.innerHTML;for(var l=0;l<u.attributes.length;l++)g.setAttributeNS("http://www.w3.org/2000/svg",u.attributes[l].name,u.attributes[l].value);g.id=v+P,this.registerIconFromSymbol(P,g.outerHTML)},D.prototype.registerIconFromSvg=function(P,y,v){void 0===v&&(v=this.iconPrefix);var E="<svg ",g="</svg>",u=(y=y.trim()).toLowerCase();return u.substring(0,E.length)===E&&u.substring(u.length-g.length,u.length)===g&&(this.registerIconFromSymbol(P,'<symbol id="'+v+P+'" '+y.substring(E.length,u.length-g.length)+"</symbol>"),!0)},D.prototype.registerIconsFromFolder=function(P){var y=this;P.keys().forEach(function(v){y.registerIconFromSvg(v.substring(2,v.length-4).toLowerCase(),P(v))})},D.prototype.iconsRenderedHtml=function(){var P=this;return Object.keys(this.icons).map(function(y){return P.icons[y]}).join("")},D.prototype.renderIcons=function(){var P="sv-icon-holder-global-container";if(L.settings.environment&&!L.settings.environment.root.getElementById(P)){var y=document.createElement("div");y.id=P,y.innerHTML="<svg>"+this.iconsRenderedHtml()+"</svg>",y.style.display="none",Object(K.getElement)(L.settings.environment.svgMountContainer).appendChild(y)}},D}(),S=new F,M=m("./src/images sync \\.svg$"),h=m("./src/images/smiley sync \\.svg$");S.registerIconsFromFolder(M),S.registerIconsFromFolder(h)},"./src/template-renderer.ts":function(oe,V,m){"use strict";m.r(V)},"./src/textPreProcessor.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"TextPreProcessorItem",function(){return j}),m.d(V,"TextPreProcessorValue",function(){return F}),m.d(V,"TextPreProcessor",function(){return S}),m.d(V,"QuestionTextProcessor",function(){return w});var L=m("./src/helpers.ts"),K=m("./src/conditionProcessValue.ts"),j=function M(){},F=function M(h,D){this.name=h,this.returnDisplayValue=D,this.isExists=!1,this.canProcess=!0},S=function(){function M(){this._unObservableValues=[void 0]}return Object.defineProperty(M.prototype,"hasAllValuesOnLastRunValue",{get:function(){return this._unObservableValues[0]},set:function(h){this._unObservableValues[0]=h},enumerable:!1,configurable:!0}),M.prototype.process=function(h,D,P){if(void 0===D&&(D=!1),void 0===P&&(P=!1),this.hasAllValuesOnLastRunValue=!0,!h||!this.onProcess)return h;for(var y=this.getItems(h),v=y.length-1;v>=0;v--){var E=y[v],g=this.getName(h.substring(E.start+1,E.end));if(g){var u=new F(g,D);if(this.onProcess(u),!u.isExists){u.canProcess&&(this.hasAllValuesOnLastRunValue=!1);continue}L.Helpers.isValueEmpty(u.value)&&(this.hasAllValuesOnLastRunValue=!1);var l=L.Helpers.isValueEmpty(u.value)?"":u.value;P&&(l=encodeURIComponent(l)),h=h.substring(0,E.start)+l+h.substring(E.end+1)}}return h},M.prototype.processValue=function(h,D){var P=new F(h,D);return this.onProcess&&this.onProcess(P),P},Object.defineProperty(M.prototype,"hasAllValuesOnLastRun",{get:function(){return!!this.hasAllValuesOnLastRunValue},enumerable:!1,configurable:!0}),M.prototype.getItems=function(h){for(var D=[],P=h.length,y=-1,v="",E=0;E<P;E++)if("{"==(v=h[E])&&(y=E),"}"==v){if(y>-1){var g=new j;g.start=y,g.end=E,D.push(g)}y=-1}return D},M.prototype.getName=function(h){if(h)return h.trim()},M}(),w=function(){function M(h){var D=this;this.variableName=h,this.textPreProcessor=new S,this.textPreProcessor.onProcess=function(P){D.getProcessedTextValue(P)}}return M.prototype.processValue=function(h,D){return this.textPreProcessor.processValue(h,D)},Object.defineProperty(M.prototype,"survey",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"panel",{get:function(){return null},enumerable:!1,configurable:!0}),M.prototype.getValues=function(){return this.panel?this.panel.getValue():null},M.prototype.getQuestionByName=function(h){return this.panel?this.panel.getQuestionByValueName(h):null},M.prototype.getParentTextProcessor=function(){return null},M.prototype.onCustomProcessText=function(h){return!1},M.prototype.getQuestionDisplayText=function(h){return h.displayValue},M.prototype.getProcessedTextValue=function(h){if(h&&!this.onCustomProcessText(h)){var D=(new K.ProcessValue).getFirstName(h.name);if(h.isExists=D==this.variableName,h.canProcess=h.isExists,h.canProcess){h.name=h.name.replace(this.variableName+".",""),D=(new K.ProcessValue).getFirstName(h.name);var P=this.getQuestionByName(D),y={};if(P)y[D]=h.returnDisplayValue?this.getQuestionDisplayText(P):P.value;else{var v=this.panel?this.getValues():null;v&&(y[D]=v[D])}h.value=(new K.ProcessValue).getValue(h.name,y)}}},M.prototype.processText=function(h,D){return this.survey&&this.survey.isDesignMode?h:(h=this.textPreProcessor.process(h,D),h=this.processTextCore(this.getParentTextProcessor(),h,D),this.processTextCore(this.survey,h,D))},M.prototype.processTextEx=function(h,D){h=this.processText(h,D);var P=this.textPreProcessor.hasAllValuesOnLastRun,y={hasAllValuesOnLastRun:!0,text:h};return this.survey&&(y=this.survey.processTextEx(h,D,!1)),y.hasAllValuesOnLastRun=y.hasAllValuesOnLastRun&&P,y},M.prototype.processTextCore=function(h,D,P){return h?h.processText(D,P):D},M}()},"./src/themes.ts":function(oe,V,m){"use strict";m.r(V)},"./src/trigger.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"Trigger",function(){return D}),m.d(V,"SurveyTrigger",function(){return P}),m.d(V,"SurveyTriggerVisible",function(){return y}),m.d(V,"SurveyTriggerComplete",function(){return v}),m.d(V,"SurveyTriggerSetValue",function(){return E}),m.d(V,"SurveyTriggerSkip",function(){return g}),m.d(V,"SurveyTriggerRunExpression",function(){return u}),m.d(V,"SurveyTriggerCopyValue",function(){return l});var a,L=m("./src/helpers.ts"),K=m("./src/base.ts"),j=m("./src/jsonobject.ts"),F=m("./src/conditions.ts"),S=m("./src/expressions/expressions.ts"),w=m("./src/conditionProcessValue.ts"),M=m("./src/settings.ts"),h=(a=function(i,o){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,A){p.__proto__=A}||function(p,A){for(var B in A)Object.prototype.hasOwnProperty.call(A,B)&&(p[B]=A[B])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function p(){this.constructor=i}a(i,o),i.prototype=null===o?Object.create(o):(p.prototype=o.prototype,new p)}),D=function(a){function i(){var o=a.call(this)||this;return o.idValue=i.idCounter++,o.usedNames=[],o.registerPropertyChangedHandlers(["operator","value","name"],function(){o.oldPropertiesChanged()}),o.registerPropertyChangedHandlers(["expression"],function(){o.onExpressionChanged()}),o}return h(i,a),Object.defineProperty(i,"operators",{get:function(){return null!=i.operatorsValue||(i.operatorsValue={empty:function(o,p){return!o},notempty:function(o,p){return!!o},equal:function(o,p){return o==p},notequal:function(o,p){return o!=p},contains:function(o,p){return o&&o.indexOf&&o.indexOf(p)>-1},notcontains:function(o,p){return!o||!o.indexOf||-1==o.indexOf(p)},greater:function(o,p){return o>p},less:function(o,p){return o<p},greaterorequal:function(o,p){return o>=p},lessorequal:function(o,p){return o<=p}}),i.operatorsValue},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this.idValue},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return"triggerbase"},i.prototype.toString=function(){var o=this.getType().replace("trigger",""),p=this.expression?this.expression:this.buildExpression();return p&&(o+=", "+p),o},Object.defineProperty(i.prototype,"operator",{get:function(){return this.getPropertyValue("operator","equal")},set:function(o){!o||(o=o.toLowerCase(),i.operators[o]&&this.setPropertyValue("operator",o))},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this.getPropertyValue("value",null)},set:function(o){this.setPropertyValue("value",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return this.getPropertyValue("name","")},set:function(o){this.setPropertyValue("name",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"expression",{get:function(){return this.getPropertyValue("expression","")},set:function(o){this.setPropertyValue("expression",o)},enumerable:!1,configurable:!0}),i.prototype.canBeExecuted=function(o){return!0},i.prototype.canBeExecutedOnComplete=function(){return!1},i.prototype.checkExpression=function(o,p,A,B,O){void 0===O&&(O=null),this.isExecutingOnNextPage=o,this.canBeExecuted(o)&&(p&&!this.canBeExecutedOnComplete()||!this.isCheckRequired(A)||this.conditionRunner&&this.perform(B,O))},i.prototype.check=function(o){i.operators[this.operator](o,this.value)?this.onSuccess({},null):this.onFailure()},i.prototype.perform=function(o,p){var A=this;this.conditionRunner.onRunComplete=function(B){A.triggerResult(B,o,p)},this.conditionRunner.run(o,p)},i.prototype.triggerResult=function(o,p,A){o?(this.onSuccess(p,A),this.onSuccessExecuted()):this.onFailure()},i.prototype.onSuccess=function(o,p){},i.prototype.onFailure=function(){},i.prototype.onSuccessExecuted=function(){},i.prototype.endLoadingFromJson=function(){a.prototype.endLoadingFromJson.call(this),this.oldPropertiesChanged()},i.prototype.oldPropertiesChanged=function(){this.onExpressionChanged()},i.prototype.onExpressionChanged=function(){this.usedNames=[],this.hasFunction=!1,this.conditionRunner=null},i.prototype.buildExpression=function(){return!this.name||this.isValueEmpty(this.value)&&this.isRequireValue?"":"{"+this.name+"} "+this.operator+" "+S.OperandMaker.toOperandString(this.value)},i.prototype.isCheckRequired=function(o){if(!o)return!1;if(this.buildUsedNames(),!0===this.hasFunction)return!0;for(var p=new w.ProcessValue,A=0;A<this.usedNames.length;A++){var B=this.usedNames[A];if(o.hasOwnProperty(B))return!0;var O=p.getFirstName(B);if(o.hasOwnProperty(O)){if(B===O)return!0;var f=o[O];if(null!=f){if(!f.hasOwnProperty("oldValue")||!f.hasOwnProperty("newValue"))return!0;var b={};b[O]=f.oldValue;var C=p.getValue(B,b);b[O]=f.newValue;var c=p.getValue(B,b);if(!this.isTwoValueEquals(C,c))return!0}}}return!1},i.prototype.buildUsedNames=function(){if(!this.conditionRunner){var o=this.expression;o||(o=this.buildExpression()),o&&(this.conditionRunner=new F.ConditionRunner(o),this.hasFunction=this.conditionRunner.hasFunction(),this.usedNames=this.conditionRunner.getVariables())}},Object.defineProperty(i.prototype,"isRequireValue",{get:function(){return"empty"!==this.operator&&"notempty"!=this.operator},enumerable:!1,configurable:!0}),i.idCounter=1,i.operatorsValue=null,i}(K.Base),P=function(a){function i(){var o=a.call(this)||this;return o.ownerValue=null,o}return h(i,a),Object.defineProperty(i.prototype,"owner",{get:function(){return this.ownerValue},enumerable:!1,configurable:!0}),i.prototype.setOwner=function(o){this.ownerValue=o},i.prototype.getSurvey=function(o){return void 0===o&&(o=!1),this.owner&&this.owner.getSurvey?this.owner.getSurvey():null},i.prototype.isRealExecution=function(){return!0},i.prototype.onSuccessExecuted=function(){this.owner&&this.isRealExecution()&&this.owner.triggerExecuted(this)},i}(D),y=function(a){function i(){var o=a.call(this)||this;return o.pages=[],o.questions=[],o}return h(i,a),i.prototype.getType=function(){return"visibletrigger"},i.prototype.onSuccess=function(o,p){this.onTrigger(this.onItemSuccess)},i.prototype.onFailure=function(){this.onTrigger(this.onItemFailure)},i.prototype.onTrigger=function(o){if(this.owner)for(var p=this.owner.getObjects(this.pages,this.questions),A=0;A<p.length;A++)o(p[A])},i.prototype.onItemSuccess=function(o){o.visible=!0},i.prototype.onItemFailure=function(o){o.visible=!1},i}(P),v=function(a){function i(){return a.call(this)||this}return h(i,a),i.prototype.getType=function(){return"completetrigger"},i.prototype.isRealExecution=function(){return!M.settings.triggers.executeCompleteOnValueChanged===this.isExecutingOnNextPage},i.prototype.onSuccess=function(o,p){!this.owner||(this.isRealExecution()?this.owner.setCompleted(this):this.owner.canBeCompleted(this,!0))},i.prototype.onFailure=function(){this.owner.canBeCompleted(this,!1)},i}(P),E=function(a){function i(){return a.call(this)||this}return h(i,a),i.prototype.getType=function(){return"setvaluetrigger"},i.prototype.canBeExecuted=function(o){return!o&&!!this.setToName},i.prototype.onPropertyValueChanged=function(o,p,A){if(a.prototype.onPropertyValueChanged.call(this,o,p,A),"setToName"===o){var B=this.getSurvey();B&&!B.isLoadingFromJson&&B.isDesignMode&&(this.setValue=void 0)}},Object.defineProperty(i.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"setValue",{get:function(){return this.getPropertyValue("setValue")},set:function(o){this.setPropertyValue("setValue",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isVariable",{get:function(){return this.getPropertyValue("isVariable")},set:function(o){this.setPropertyValue("isVariable",o)},enumerable:!1,configurable:!0}),i.prototype.onSuccess=function(o,p){!this.setToName||!this.owner||this.owner.setTriggerValue(this.setToName,this.setValue,this.isVariable)},i}(P),g=function(a){function i(){return a.call(this)||this}return h(i,a),i.prototype.getType=function(){return"skiptrigger"},Object.defineProperty(i.prototype,"gotoName",{get:function(){return this.getPropertyValue("gotoName","")},set:function(o){this.setPropertyValue("gotoName",o)},enumerable:!1,configurable:!0}),i.prototype.canBeExecuted=function(o){return o===!M.settings.triggers.executeSkipOnValueChanged},i.prototype.onSuccess=function(o,p){!this.gotoName||!this.owner||this.owner.focusQuestion(this.gotoName)},i}(P),u=function(a){function i(){return a.call(this)||this}return h(i,a),i.prototype.getType=function(){return"runexpressiontrigger"},Object.defineProperty(i.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"runExpression",{get:function(){return this.getPropertyValue("runExpression","")},set:function(o){this.setPropertyValue("runExpression",o)},enumerable:!1,configurable:!0}),i.prototype.onSuccess=function(o,p){var A=this;if(this.owner&&this.runExpression){var B=new F.ExpressionRunner(this.runExpression);B.canRun&&(B.onRunComplete=function(O){A.onCompleteRunExpression(O)},B.run(o,p))}},i.prototype.onCompleteRunExpression=function(o){this.setToName&&void 0!==o&&this.owner.setTriggerValue(this.setToName,L.Helpers.convertValToQuestionVal(o),!1)},i}(P),l=function(a){function i(){return a.call(this)||this}return h(i,a),i.prototype.canBeExecuted=function(o){return!o&&!!this.setToName&&!!this.fromName},Object.defineProperty(i.prototype,"setToName",{get:function(){return this.getPropertyValue("setToName","")},set:function(o){this.setPropertyValue("setToName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fromName",{get:function(){return this.getPropertyValue("fromName","")},set:function(o){this.setPropertyValue("fromName",o)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"copyDisplayValue",{get:function(){return this.getPropertyValue("copyDisplayValue")},set:function(o){this.setPropertyValue("copyDisplayValue",o)},enumerable:!1,configurable:!0}),i.prototype.getType=function(){return"copyvaluetrigger"},i.prototype.onSuccess=function(o,p){!this.setToName||!this.owner||this.owner.copyTriggerValue(this.setToName,this.fromName,this.copyDisplayValue)},i}(P);j.Serializer.addClass("trigger",[{name:"operator",default:"equal",visible:!1},{name:"value",visible:!1},"expression:condition"]),j.Serializer.addClass("surveytrigger",[{name:"name",visible:!1}],null,"trigger"),j.Serializer.addClass("visibletrigger",["pages:pages","questions:questions"],function(){return new y},"surveytrigger"),j.Serializer.addClass("completetrigger",[],function(){return new v},"surveytrigger"),j.Serializer.addClass("setvaluetrigger",[{name:"!setToName:questionvalue"},{name:"setValue:triggervalue",dependsOn:"setToName",visibleIf:function(a){return!!a&&!!a.setToName}},{name:"isVariable:boolean",visible:!1}],function(){return new E},"surveytrigger"),j.Serializer.addClass("copyvaluetrigger",[{name:"!fromName:questionvalue"},{name:"!setToName:questionvalue"},{name:"copyDisplayValue:boolean",visible:!1}],function(){return new l},"surveytrigger"),j.Serializer.addClass("skiptrigger",[{name:"!gotoName:question"}],function(){return new g},"surveytrigger"),j.Serializer.addClass("runexpressiontrigger",[{name:"setToName:questionvalue"},"runExpression:expression"],function(){return new u},"surveytrigger")},"./src/utils/cssClassBuilder.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"CssClassBuilder",function(){return L});var L=function(){function K(){this.classes=[]}return K.prototype.isEmpty=function(){return""===this.toString()},K.prototype.append=function(j,F){return void 0===F&&(F=!0),!!j&&F&&("string"==typeof j&&(j=j.trim()),this.classes.push(j)),this},K.prototype.toString=function(){return this.classes.join(" ")},K}()},"./src/utils/devices.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"IsMobile",function(){return F}),m.d(V,"IsTouch",function(){return w}),m.d(V,"_setIsTouch",function(){return M});var h,L=!1,K=null;"undefined"!=typeof navigator&&"undefined"!=typeof window&&navigator&&window&&(K=navigator.userAgent||navigator.vendor||window.opera),!(h=K)||("MacIntel"===navigator.platform&&navigator.maxTouchPoints>0||"iPad"===navigator.platform||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(h)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(h.substring(0,4)))&&(L=!0);var F=L||!1,S=!1;"undefined"!=typeof window&&(S="ontouchstart"in window||navigator.maxTouchPoints>0);var w=F&&S;function M(h){w=h}},"./src/utils/dragOrClickHelper.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"DragOrClickHelper",function(){return K});var L=m("./src/entries/core.ts"),K=function(){function j(F){var S=this;this.dragHandler=F,this.onPointerUp=function(w){S.clearListeners()},this.tryToStartDrag=function(w){if(S.currentX=w.pageX,S.currentY=w.pageY,!S.isMicroMovement)return S.clearListeners(),S.dragHandler(S.pointerDownEvent,S.currentTarget,S.itemModel),!0}}return j.prototype.onPointerDown=function(F,S){L.IsTouch?this.dragHandler(F,F.currentTarget,S):(this.pointerDownEvent=F,this.currentTarget=F.currentTarget,this.startX=F.pageX,this.startY=F.pageY,document.addEventListener("pointermove",this.tryToStartDrag),this.currentTarget.addEventListener("pointerup",this.onPointerUp),this.itemModel=S)},Object.defineProperty(j.prototype,"isMicroMovement",{get:function(){var S=Math.abs(this.currentX-this.startX),w=Math.abs(this.currentY-this.startY);return S<10&&w<10},enumerable:!1,configurable:!0}),j.prototype.clearListeners=function(){!this.pointerDownEvent||(document.removeEventListener("pointermove",this.tryToStartDrag),this.currentTarget.removeEventListener("pointerup",this.onPointerUp))},j}()},"./src/utils/popup.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"PopupUtils",function(){return L});var L=function(){function K(){}return K.calculatePosition=function(j,F,S,w,M,h,D){void 0===D&&(D="flex");var P=j.left,y=j.top;return"flex"===D&&(P="center"==M?(j.left+j.right-S)/2:"left"==M?j.left-S:j.right),y="middle"==w?(j.top+j.bottom-F)/2:"top"==w?j.top-F:j.bottom,h&&"center"!=M&&"middle"!=w&&("top"==w?y+=j.height:y-=j.height),{left:Math.round(P),top:Math.round(y)}},K.updateVerticalDimensions=function(j,F,S){var w;return j<0?w={height:F+j,top:0}:F+j>S&&(w={height:Math.min(F,S-j-K.bottomIndent),top:j}),w},K.updateHorizontalDimensions=function(j,F,S,w,M,h){void 0===M&&(M="flex"),void 0===h&&(h={left:0,right:0}),F+=h.left+h.right;var D=void 0,P=j;return"center"===w&&("fixed"===M?(j+F>S&&(D=S-j),P-=h.left):j<0?(P=h.left,D=Math.min(F,S)):F+j>S&&(P=S-F,P=Math.max(P,h.left),D=Math.min(F,S))),"left"===w&&j<0&&(P=h.left,D=Math.min(F,S)),"right"===w&&F+j>S&&(D=S-j),{width:D-h.left-h.right,left:P}},K.updateVerticalPosition=function(j,F,S,w,M){var h=F-(j.top+(w?j.height:0)),D=F+j.bottom-(w?j.height:0)-M;return h>0&&D<=0&&"top"==S?S="bottom":D>0&&h<=0&&"bottom"==S?S="top":D>0&&h>0&&(S=h<D?"top":"bottom"),S},K.calculatePopupDirection=function(j,F){var S;return"center"==F&&"middle"!=j?S=j:"center"!=F&&(S=F),S},K.calculatePointerTarget=function(j,F,S,w,M,h,D){void 0===h&&(h=0),void 0===D&&(D=0);var P={};return"center"!=M?(P.top=j.top+j.height/2,P.left=j[M]):"middle"!=w&&(P.top=j[w],P.left=j.left+j.width/2),P.left=Math.round(P.left-S),P.top=Math.round(P.top-F),"left"==M&&(P.left-=h+D),"center"===M&&(P.left-=h),P},K.bottomIndent=16,K}()},"./src/utils/responsivity-manager.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ResponsivityManager",function(){return j}),m.d(V,"VerticalResponsivityManager",function(){return F});var S,L=m("./src/utils/utils.ts"),K=(S=function(w,M){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,D){h.__proto__=D}||function(h,D){for(var P in D)Object.prototype.hasOwnProperty.call(D,P)&&(h[P]=D[P])})(w,M)},function(w,M){if("function"!=typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function h(){this.constructor=w}S(w,M),w.prototype=null===M?Object.create(M):(h.prototype=M.prototype,new h)}),j=function(){function S(w,M,h,D){var P=this;void 0===D&&(D=null),this.container=w,this.model=M,this.itemsSelector=h,this.dotsItemSize=D,this.resizeObserver=void 0,this.isInitialized=!1,this.minDimensionConst=56,this.separatorSize=17,this.separatorAddConst=1,this.paddingSizeConst=8,this.dotsSizeConst=48,this.recalcMinDimensionConst=!0,this.getComputedStyle=window.getComputedStyle.bind(window),this.model.updateCallback=function(y){y&&(P.isInitialized=!1),setTimeout(function(){P.process()},1)},"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(function(y){return P.process()}),this.resizeObserver.observe(this.container.parentElement))}return S.prototype.getDimensions=function(w){return{scroll:w.scrollWidth,offset:w.offsetWidth}},S.prototype.getAvailableSpace=function(){var w=this.getComputedStyle(this.container),M=this.container.offsetWidth;return"border-box"===w.boxSizing&&(M-=parseFloat(w.paddingLeft)+parseFloat(w.paddingRight)),M},S.prototype.calcItemSize=function(w){return w.offsetWidth},S.prototype.calcMinDimension=function(w){var M=this.minDimensionConst;return w.iconSize&&this.recalcMinDimensionConst&&(M=2*w.iconSize+this.paddingSizeConst),w.canShrink?M+(w.needSeparator?this.separatorSize:0):w.maxDimension},S.prototype.calcItemsSizes=function(){var w=this,M=this.model.actions;(this.container.querySelectorAll(this.itemsSelector)||[]).forEach(function(D,P){w.calcActionDimensions(M[P],D)})},S.prototype.calcActionDimensions=function(w,M){w.maxDimension=this.calcItemSize(M),w.minDimension=this.calcMinDimension(w)},Object.defineProperty(S.prototype,"isContainerVisible",{get:function(){return Object(L.isContainerVisible)(this.container)},enumerable:!1,configurable:!0}),S.prototype.process=function(){var w;if(this.isContainerVisible&&!this.model.isResponsivenessDisabled){this.isInitialized||(this.model.setActionsMode("large"),this.calcItemsSizes(),this.isInitialized=!0);var M=this.dotsItemSize;if(!this.dotsItemSize){var h=null===(w=this.container)||void 0===w?void 0:w.querySelector(".sv-dots");M=h&&this.calcItemSize(h)||this.dotsSizeConst}this.model.fit(this.getAvailableSpace(),M)}},S.prototype.dispose=function(){this.model.updateCallback=void 0,this.resizeObserver&&this.resizeObserver.disconnect()},S}(),F=function(S){function w(M,h,D,P,y){void 0===y&&(y=40);var v=S.call(this,M,h,D,P)||this;return v.minDimensionConst=y,v.recalcMinDimensionConst=!1,v}return K(w,S),w.prototype.getDimensions=function(){return{scroll:this.container.scrollHeight,offset:this.container.offsetHeight}},w.prototype.getAvailableSpace=function(){var M=this.getComputedStyle(this.container),h=this.container.offsetHeight;return"border-box"===M.boxSizing&&(h-=parseFloat(M.paddingTop)+parseFloat(M.paddingBottom)),h},w.prototype.calcItemSize=function(M){return M.offsetHeight},w.prototype.calcActionDimensions=function(M,h){M.maxDimension=this.calcItemSize(h),M.minDimension=this.calcItemSize(h)},w}(j)},"./src/utils/tooltip.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"TooltipManager",function(){return L});var L=function(){function K(j){var F=this;this.tooltipElement=j,this.onMouseMoveCallback=function(S){F.tooltipElement.style.left=S.clientX+12+"px",F.tooltipElement.style.top=S.clientY+12+"px"},this.targetElement=j.parentElement,this.targetElement.addEventListener("mousemove",this.onMouseMoveCallback)}return K.prototype.dispose=function(){this.targetElement.removeEventListener("mousemove",this.onMouseMoveCallback)},K}()},"./src/utils/utils.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"unwrap",function(){return l}),m.d(V,"getRenderedSize",function(){return a}),m.d(V,"getRenderedStyleSize",function(){return i}),m.d(V,"doKey2ClickBlur",function(){return p}),m.d(V,"doKey2ClickUp",function(){return A}),m.d(V,"doKey2ClickDown",function(){return B}),m.d(V,"sanitizeEditableContent",function(){return J}),m.d(V,"Logger",function(){return he}),m.d(V,"mergeValues",function(){return se}),m.d(V,"getElementWidth",function(){return c}),m.d(V,"isContainerVisible",function(){return T}),m.d(V,"classesToSelector",function(){return C}),m.d(V,"compareVersions",function(){return K}),m.d(V,"confirmAction",function(){return j}),m.d(V,"detectIEOrEdge",function(){return S}),m.d(V,"detectIEBrowser",function(){return F}),m.d(V,"loadFileFromBase64",function(){return w}),m.d(V,"isMobile",function(){return M}),m.d(V,"isShadowDOM",function(){return h}),m.d(V,"getElement",function(){return D}),m.d(V,"isElementVisible",function(){return P}),m.d(V,"findScrollableParent",function(){return y}),m.d(V,"scrollElementByChildId",function(){return v}),m.d(V,"navigateToUrl",function(){return E}),m.d(V,"createSvg",function(){return u}),m.d(V,"getIconNameFromProxy",function(){return g}),m.d(V,"increaseHeightByContent",function(){return O}),m.d(V,"getOriginalEvent",function(){return f}),m.d(V,"preventDefaults",function(){return b}),m.d(V,"findParentByClassNames",function(){return H}),m.d(V,"getFirstVisibleChild",function(){return I});var L=m("./src/settings.ts");function K(ie,ye){for(var Ie=/(\.0+)+$/,ue=ie.replace(Ie,"").split("."),fe=ye.replace(Ie,"").split("."),Te=Math.min(ue.length,fe.length),Ae=0;Ae<Te;Ae++){var ft=parseInt(ue[Ae],10)-parseInt(fe[Ae],10);if(ft)return ft}return ue.length-fe.length}function j(ie){return L.settings&&L.settings.confirmActionFunc?L.settings.confirmActionFunc(ie):confirm(ie)}function F(){if("undefined"==typeof window)return!1;var ie=window.navigator.userAgent,ye=ie.indexOf("MSIE "),Ie=ie.indexOf("Trident/");return ye>-1||Ie>-1}function S(){if("undefined"==typeof window)return!1;if(void 0===S.isIEOrEdge){var ie=window.navigator.userAgent,ye=ie.indexOf("MSIE "),Ie=ie.indexOf("Trident/"),ue=ie.indexOf("Edge/");S.isIEOrEdge=ue>0||Ie>0||ye>0}return S.isIEOrEdge}function w(ie,ye){try{for(var Ie=atob(ie.split(",")[1]),ue=ie.split(",")[0].split(":")[1].split(";")[0],fe=new ArrayBuffer(Ie.length),Te=new Uint8Array(fe),Ae=0;Ae<Ie.length;Ae++)Te[Ae]=Ie.charCodeAt(Ae);var ft=new Blob([fe],{type:ue});"undefined"!=typeof window&&window.navigator&&window.navigator.msSaveBlob&&window.navigator.msSaveOrOpenBlob(ft,ye)}catch(Nt){}}function M(){return"undefined"!=typeof window&&void 0!==window.orientation}var h=function(ie){return!!ie&&!(!("host"in ie)||!ie.host)},D=function(ie){return"string"==typeof ie?L.settings.environment.root.getElementById(ie):ie};function P(ie,ye){if(void 0===ye&&(ye=0),void 0===L.settings.environment)return!1;var Ie=L.settings.environment.root,ue=h(Ie)?Ie.host.clientHeight:Ie.documentElement.clientHeight,fe=ie.getBoundingClientRect(),ft=Math.max(ue,window.innerHeight)+ye,lr=fe.bottom;return Math.max(-ye,fe.top)<=Math.min(ft,lr)}function y(ie){var ye=L.settings.environment.root;return ie?ie.scrollHeight>ie.clientHeight&&("scroll"===getComputedStyle(ie).overflowY||"auto"===getComputedStyle(ie).overflowY)||ie.scrollWidth>ie.clientWidth&&("scroll"===getComputedStyle(ie).overflowX||"auto"===getComputedStyle(ie).overflowX)?ie:y(ie.parentElement):h(ye)?ye.host:ye.documentElement}function v(ie){var ye=L.settings.environment;if(ye){var ue=ye.root.getElementById(ie);if(ue){var fe=y(ue);fe&&fe.dispatchEvent(new CustomEvent("scroll"))}}}function E(ie){!ie||"undefined"==typeof window||!window.location||(window.location.href=ie)}function g(ie){return ie&&L.settings.customIcons[ie]||ie}function u(ie,ye,Ie,ue,fe,Te){if(fe){"auto"!==ie&&(fe.style.width=(ie||ye||16)+"px",fe.style.height=(ie||Ie||16)+"px");var Ae=fe.childNodes[0],ft=g(ue);Ae.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+ft);var Nt=fe.getElementsByTagName("title")[0];if(!Te)return void(Nt&&fe.removeChild(Nt));Nt||(Nt=document.createElementNS("http://www.w3.org/2000/svg","title"),fe.appendChild(Nt)),Nt.textContent=Te}}function l(ie){return"function"!=typeof ie?ie:ie()}function a(ie){if("string"==typeof ie){if(!isNaN(Number(ie)))return Number(ie);if(ie.includes("px"))return parseFloat(ie)}if("number"==typeof ie)return ie}function i(ie){if(void 0===a(ie))return ie}var o="sv-focused--by-key";function p(ie){var ye=ie.target;!ye||!ye.classList||ye.classList.remove(o)}function A(ie,ye){if(!ie.target||"true"!==ie.target.contentEditable){var Ie=ie.target;if(Ie){var ue=ie.which||ie.keyCode;if(9===ue)return void(Ie.classList&&!Ie.classList.contains(o)&&Ie.classList.add(o));if(ye){if(!ye.__keyDownReceived)return;ye.__keyDownReceived=!1}13===ue||32===ue?Ie.click&&Ie.click():(!ye||ye.processEsc)&&27===ue&&Ie.blur&&Ie.blur()}}}function B(ie,ye){if(void 0===ye&&(ye={processEsc:!0}),ye&&(ye.__keyDownReceived=!0),!ie.target||"true"!==ie.target.contentEditable){var Ie=ie.which||ie.keyCode,ue=[13,32];ye.processEsc&&ue.push(27),-1!==ue.indexOf(Ie)&&ie.preventDefault()}}function O(ie,ye){if(ie){ye||(ye=function(ue){return window.getComputedStyle(ue)});var Ie=ye(ie);ie.style.height="auto",ie.style.height=ie.scrollHeight+parseFloat(Ie.borderTopWidth)+parseFloat(Ie.borderBottomWidth)+"px"}}function f(ie){return ie.originalEvent||ie}function b(ie){ie.preventDefault(),ie.stopPropagation()}function C(ie){return ie.replace(/\s*?([\w-]+)\s*?/g,".$1")}function c(ie){return getComputedStyle?Number.parseFloat(getComputedStyle(ie).width):ie.offsetWidth}function T(ie){return!!(ie.offsetWidth||ie.offsetHeight||ie.getClientRects().length)}function I(ie){for(var ye,Ie=0;Ie<ie.children.length;Ie++)!ye&&"none"!==getComputedStyle(ie.children[Ie]).display&&(ye=ie.children[Ie]);return ye}function H(ie,ye){if(ie)return ye.every(function(Ie){return!Ie||ie.classList.contains(Ie)})?ie:H(ie.parentElement,ye)}function J(ie){if(window.getSelection&&document.createRange&&ie.childNodes.length>0){var ye=document.getSelection(),Ie=ye.getRangeAt(0);Ie.setStart(Ie.endContainer,Ie.endOffset),Ie.setEndAfter(ie.lastChild),ye.removeAllRanges(),ye.addRange(Ie);var ue=ye.toString().replace(/\n/g,"").length;ie.innerText=ie.innerText.replace(/\n/g,""),(Ie=document.createRange()).setStart(ie.childNodes[0],ie.innerText.length-ue),Ie.collapse(!0),ye.removeAllRanges(),ye.addRange(Ie)}}function se(ie,ye){if(ye&&ie&&"object"==typeof ye)for(var Ie in ie){var ue=ie[Ie];!Array.isArray(ue)&&ue&&"object"==typeof ue?((!ye[Ie]||"object"!=typeof ye[Ie])&&(ye[Ie]={}),se(ue,ye[Ie])):ye[Ie]=ue}}var he=function(){function ie(){this._result=""}return ie.prototype.log=function(ye){this._result+="->"+ye},Object.defineProperty(ie.prototype,"result",{get:function(){return this._result},enumerable:!1,configurable:!0}),ie}()},"./src/validator.ts":function(oe,V,m){"use strict";m.r(V),m.d(V,"ValidatorResult",function(){return M}),m.d(V,"SurveyValidator",function(){return h}),m.d(V,"ValidatorRunner",function(){return D}),m.d(V,"NumericValidator",function(){return P}),m.d(V,"TextValidator",function(){return y}),m.d(V,"AnswerCountValidator",function(){return v}),m.d(V,"RegexValidator",function(){return E}),m.d(V,"EmailValidator",function(){return g}),m.d(V,"ExpressionValidator",function(){return u});var l,L=m("./src/base.ts"),K=m("./src/error.ts"),j=m("./src/jsonobject.ts"),F=m("./src/conditions.ts"),S=m("./src/helpers.ts"),w=(l=function(a,i){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,p){o.__proto__=p}||function(o,p){for(var A in p)Object.prototype.hasOwnProperty.call(p,A)&&(o[A]=p[A])})(a,i)},function(a,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=a}l(a,i),a.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),M=function l(a,i){void 0===i&&(i=null),this.value=a,this.error=i},h=function(l){function a(){var i=l.call(this)||this;return i.createLocalizableString("text",i,!0),i}return w(a,l),a.prototype.getSurvey=function(i){return void 0===i&&(i=!1),this.errorOwner&&this.errorOwner.getSurvey?this.errorOwner.getSurvey():null},Object.defineProperty(a.prototype,"text",{get:function(){return this.getLocalizableStringText("text")},set:function(i){this.setLocalizableStringText("text",i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isValidateAllValues",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"locText",{get:function(){return this.getLocalizableString("text")},enumerable:!1,configurable:!0}),a.prototype.getErrorText=function(i){return this.text?this.text:this.getDefaultErrorText(i)},a.prototype.getDefaultErrorText=function(i){return""},a.prototype.validate=function(i,o,p,A){return void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),null},Object.defineProperty(a.prototype,"isRunning",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isAsync",{get:function(){return!1},enumerable:!1,configurable:!0}),a.prototype.getLocale=function(){return this.errorOwner?this.errorOwner.getLocale():""},a.prototype.getMarkdownHtml=function(i,o){return this.errorOwner?this.errorOwner.getMarkdownHtml(i,o):void 0},a.prototype.getRenderer=function(i){return this.errorOwner?this.errorOwner.getRenderer(i):null},a.prototype.getRendererContext=function(i){return this.errorOwner?this.errorOwner.getRendererContext(i):i},a.prototype.getProcessedText=function(i){return this.errorOwner?this.errorOwner.getProcessedText(i):i},a.prototype.createCustomError=function(i){var o=this,p=new K.CustomError(this.getErrorText(i),this.errorOwner);return p.onUpdateErrorTextCallback=function(A){return A.text=o.getErrorText(i)},p},a.prototype.toString=function(){var i=this.getType().replace("validator","");return this.text&&(i+=", "+this.text),i},a}(L.Base),D=function(){function l(){}return l.prototype.run=function(a){var i=this,o=[],p=null,A=null;this.prepareAsyncValidators();for(var B=[],O=a.getValidators(),f=0;f<O.length;f++){var b=O[f];!p&&b.isValidateAllValues&&(p=a.getDataFilteredValues(),A=a.getDataFilteredProperties()),b.isAsync&&(this.asyncValidators.push(b),b.onAsyncCompleted=function(c){if(!!c&&!!c.error&&B.push(c.error),i.onAsyncCompleted){for(var T=0;T<i.asyncValidators.length;T++)if(i.asyncValidators[T].isRunning)return;i.onAsyncCompleted(B)}})}for(O=a.getValidators(),f=0;f<O.length;f++){var C=(b=O[f]).validate(a.validatedValue,a.getValidatorTitle(),p,A);C&&C.error&&o.push(C.error)}return 0==this.asyncValidators.length&&!!this.onAsyncCompleted&&this.onAsyncCompleted([]),o},l.prototype.prepareAsyncValidators=function(){if(this.asyncValidators)for(var a=0;a<this.asyncValidators.length;a++)this.asyncValidators[a].onAsyncCompleted=null;this.asyncValidators=[]},l}(),P=function(l){function a(i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=l.call(this)||this;return p.minValue=i,p.maxValue=o,p}return w(a,l),a.prototype.getType=function(){return"numericvalidator"},a.prototype.validate=function(i,o,p,A){if(void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),this.isValueEmpty(i))return null;if(!S.Helpers.isNumber(i))return new M(null,new K.RequreNumericError(this.text,this.errorOwner));var B=new M(S.Helpers.getNumber(i));return null!==this.minValue&&this.minValue>B.value||null!==this.maxValue&&this.maxValue<B.value?(B.error=this.createCustomError(o),B):"number"==typeof i?null:B},a.prototype.getDefaultErrorText=function(i){var o=i||this.getLocalizationString("value");return null!==this.minValue&&null!==this.maxValue?this.getLocalizationFormatString("numericMinMax",o,this.minValue,this.maxValue):null!==this.minValue?this.getLocalizationFormatString("numericMin",o,this.minValue):this.getLocalizationFormatString("numericMax",o,this.maxValue)},Object.defineProperty(a.prototype,"minValue",{get:function(){return this.getPropertyValue("minValue")},set:function(i){this.setPropertyValue("minValue",i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxValue",{get:function(){return this.getPropertyValue("maxValue")},set:function(i){this.setPropertyValue("maxValue",i)},enumerable:!1,configurable:!0}),a}(h),y=function(l){function a(){return l.call(this)||this}return w(a,l),a.prototype.getType=function(){return"textvalidator"},a.prototype.validate=function(i,o,p,A){return void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),this.isValueEmpty(i)?null:this.allowDigits||/^[A-Za-z\s\.]*$/.test(i)?this.minLength>0&&i.length<this.minLength||this.maxLength>0&&i.length>this.maxLength?new M(null,this.createCustomError(o)):null:new M(null,this.createCustomError(o))},a.prototype.getDefaultErrorText=function(i){return this.minLength>0&&this.maxLength>0?this.getLocalizationFormatString("textMinMaxLength",this.minLength,this.maxLength):this.minLength>0?this.getLocalizationFormatString("textMinLength",this.minLength):this.getLocalizationFormatString("textMaxLength",this.maxLength)},Object.defineProperty(a.prototype,"minLength",{get:function(){return this.getPropertyValue("minLength")},set:function(i){this.setPropertyValue("minLength",i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxLength",{get:function(){return this.getPropertyValue("maxLength")},set:function(i){this.setPropertyValue("maxLength",i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"allowDigits",{get:function(){return this.getPropertyValue("allowDigits")},set:function(i){this.setPropertyValue("allowDigits",i)},enumerable:!1,configurable:!0}),a}(h),v=function(l){function a(i,o){void 0===i&&(i=null),void 0===o&&(o=null);var p=l.call(this)||this;return p.minCount=i,p.maxCount=o,p}return w(a,l),a.prototype.getType=function(){return"answercountvalidator"},a.prototype.validate=function(i,o,p,A){if(void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),null==i||i.constructor!=Array)return null;var B=i.length;return 0==B?null:this.minCount&&B<this.minCount?new M(null,this.createCustomError(this.getLocalizationFormatString("minSelectError",this.minCount))):this.maxCount&&B>this.maxCount?new M(null,this.createCustomError(this.getLocalizationFormatString("maxSelectError",this.maxCount))):null},a.prototype.getDefaultErrorText=function(i){return i},Object.defineProperty(a.prototype,"minCount",{get:function(){return this.getPropertyValue("minCount")},set:function(i){this.setPropertyValue("minCount",i)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"maxCount",{get:function(){return this.getPropertyValue("maxCount")},set:function(i){this.setPropertyValue("maxCount",i)},enumerable:!1,configurable:!0}),a}(h),E=function(l){function a(i){void 0===i&&(i=null);var o=l.call(this)||this;return o.regex=i,o}return w(a,l),a.prototype.getType=function(){return"regexvalidator"},a.prototype.validate=function(i,o,p,A){if(void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),!this.regex||this.isValueEmpty(i))return null;var B=new RegExp(this.regex);if(Array.isArray(i))for(var O=0;O<i.length;O++){var f=this.hasError(B,i[O],o);if(f)return f}return this.hasError(B,i,o)},a.prototype.hasError=function(i,o,p){return i.test(o)?null:new M(o,this.createCustomError(p))},Object.defineProperty(a.prototype,"regex",{get:function(){return this.getPropertyValue("regex")},set:function(i){this.setPropertyValue("regex",i)},enumerable:!1,configurable:!0}),a}(h),g=function(l){function a(){var i=l.call(this)||this;return i.re=/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()=[\]\.,;:\s@\"]+\.)+[^<>()=[\]\.,;:\s@\"]{2,})$/i,i}return w(a,l),a.prototype.getType=function(){return"emailvalidator"},a.prototype.validate=function(i,o,p,A){return void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),!i||this.re.test(i)?null:new M(i,this.createCustomError(o))},a.prototype.getDefaultErrorText=function(i){return this.getLocalizationString("invalidEmail")},a}(h),u=function(l){function a(i){void 0===i&&(i=null);var o=l.call(this)||this;return o.conditionRunner=null,o.isRunningValue=!1,o.expression=i,o}return w(a,l),a.prototype.getType=function(){return"expressionvalidator"},Object.defineProperty(a.prototype,"isValidateAllValues",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isAsync",{get:function(){return!!this.ensureConditionRunner()&&this.conditionRunner.isAsync},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isRunning",{get:function(){return this.isRunningValue},enumerable:!1,configurable:!0}),a.prototype.validate=function(i,o,p,A){var B=this;if(void 0===o&&(o=null),void 0===p&&(p=null),void 0===A&&(A=null),!this.ensureConditionRunner())return null;this.conditionRunner.onRunComplete=function(f){B.isRunningValue=!1,B.onAsyncCompleted&&B.onAsyncCompleted(B.generateError(f,i,o))},this.isRunningValue=!0;var O=this.conditionRunner.run(p,A);return this.conditionRunner.isAsync?null:(this.isRunningValue=!1,this.generateError(O,i,o))},a.prototype.generateError=function(i,o,p){return i?null:new M(o,this.createCustomError(p))},a.prototype.getDefaultErrorText=function(i){return this.getLocalizationFormatString("invalidExpression",this.expression)},a.prototype.ensureConditionRunner=function(){return this.conditionRunner?(this.conditionRunner.expression=this.expression,!0):!!this.expression&&(this.conditionRunner=new F.ConditionRunner(this.expression),!0)},Object.defineProperty(a.prototype,"expression",{get:function(){return this.getPropertyValue("expression")},set:function(i){this.setPropertyValue("expression",i)},enumerable:!1,configurable:!0}),a}(h);j.Serializer.addClass("surveyvalidator",[{name:"text",serializationProperty:"locText"}]),j.Serializer.addClass("numericvalidator",["minValue:number","maxValue:number"],function(){return new P},"surveyvalidator"),j.Serializer.addClass("textvalidator",[{name:"minLength:number",default:0},{name:"maxLength:number",default:0},{name:"allowDigits:boolean",default:!0}],function(){return new y},"surveyvalidator"),j.Serializer.addClass("answercountvalidator",["minCount:number","maxCount:number"],function(){return new v},"surveyvalidator"),j.Serializer.addClass("regexvalidator",["regex"],function(){return new E},"surveyvalidator"),j.Serializer.addClass("emailvalidator",[],function(){return new g},"surveyvalidator"),j.Serializer.addClass("expressionvalidator",["expression:condition"],function(){return new u},"surveyvalidator")}})}},Cs=>{Cs(Cs.s=902)}]);